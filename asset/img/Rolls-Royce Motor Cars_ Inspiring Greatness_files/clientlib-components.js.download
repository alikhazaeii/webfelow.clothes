/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2012 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
/* global G_IS_HOOKED:false */
(function($, window) {
    "use strict";

    var http;

    window.Granite = window.Granite || {};
    window.Granite.$ = window.Granite.$ || $;

    // for deprecated "shared" support (GRANITE-1602)
    window._g = window._g || {};
    window._g.$ = window._g.$ || $;

    http = Granite.HTTP;

    // necessary global modifications for ajax calls
    $.ajaxSetup({
        externalize: true,
        encodePath: true,
        hook: true,
        beforeSend: function(jqXHR, s) {
            // s: settings provided by the ajax call or default values
            if (typeof G_IS_HOOKED === "undefined" || !G_IS_HOOKED(s.url)) {
                if (s.externalize) {
                    s.url = http.externalize(s.url);
                }
                if (s.encodePath) {
                    s.url = http.encodePathOfURI(s.url);
                }
            }
            if (s.hook) {
                // portlet XHR hook
                var hook = http.getXhrHook(s.url, s.type, s.data);
                if (hook) {
                    s.url = hook.url;
                    if (hook.params) {
                        if (s.type.toUpperCase() === "GET") {
                            s.url += "?" + $.param(hook.params);
                        } else {
                            s.data = $.param(hook.params);
                        }
                    }
                }
            }
        },
        statusCode: {
            403: function(jqXHR) {
                if (jqXHR.getResponseHeader("X-Reason") === "Authentication Failed") {
                    http.handleLoginRedirect();
                }
            }
        }
    });

    $.ajaxSettings.traditional = true;
}(jQuery, this));

/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2015 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 *
 */
(function(factory) {
    "use strict";

    // GRANITE-22281 Check for multiple initialization
    if (window.Granite.csrf) {
        return;
    }

    window.Granite.csrf = factory(window.Granite.HTTP);
}(function(http) {
    "use strict";

    // AdobePatentID="P5296"

    function Promise() {
        this._handler = [];
    }

    Promise.prototype = {
        then: function(resolveFn, rejectFn) {
            this._handler.push({ resolve: resolveFn, reject: rejectFn });
        },
        resolve: function() {
            this._execute("resolve", arguments);
        },
        reject: function() {
            this._execute("reject", arguments);
        },
        _execute: function(result, args) {
            if (this._handler === null) {
                throw new Error("Promise already completed.");
            }

            for (var i = 0, ln = this._handler.length; i < ln; i++) {
                this._handler[i][result].apply(window, args);
            }

            this.then = function(resolveFn, rejectFn) {
                (result === "resolve" ? resolveFn : rejectFn).apply(window, args);
            };

            this._handler = null;
        }
    };

    function verifySameOrigin(url) {
        // url could be relative or scheme relative or absolute
        // host + port
        var host = document.location.host;
        var protocol = document.location.protocol;
        var relativeOrigin = "//" + host;
        var origin = protocol + relativeOrigin;

        // Allow absolute or scheme relative URLs to same origin
        return (url === origin || url.slice(0, origin.length + 1) === origin + "/") ||
                (url === relativeOrigin || url.slice(0, relativeOrigin.length + 1) === relativeOrigin + "/") ||
                // or any other URL that isn't scheme relative or absolute i.e relative.
                !(/^(\/\/|http:|https:).*/.test(url));
    }

    var FIELD_NAME = ":cq_csrf_token";
    var HEADER_NAME = "CSRF-Token";
    var TOKEN_SERVLET = http.externalize("/libs/granite/csrf/token.json");

    var promise;
    var globalToken;

    function logFailRequest(error) {
        if (window.console) {
            // eslint-disable-next-line no-console
            console.warn("CSRF data not available;" +
                    "The data may be unavailable by design, such as during non-authenticated requests: " + error);
        }
    }

    function getToken() {
        var localPromise = new Promise();
        promise = localPromise;

        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
                try {
                    var data = JSON.parse(xhr.responseText);
                    globalToken = data.token;
                    localPromise.resolve(globalToken);
                } catch (ex) {
                    logFailRequest(ex);
                    localPromise.reject(xhr.responseText);
                }
            }
        };
        xhr.open("GET", TOKEN_SERVLET, true);
        xhr.send();

        return localPromise;
    }

    function getTokenSync() {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", TOKEN_SERVLET, false);
        xhr.send();

        try {
            return globalToken = JSON.parse(xhr.responseText).token;
        } catch (ex) {
            logFailRequest(ex);
        }
    }

    function clearToken() {
        globalToken = undefined;
        getToken();
    }

    function addField(form) {
        var action = form.getAttribute("action");
        if (form.method.toUpperCase() === "GET" || (action && !verifySameOrigin(action))) {
            return;
        }

        if (!globalToken) {
            getTokenSync();
        }

        if (!globalToken) {
            return;
        }

        var input = form.querySelector('input[name="' + FIELD_NAME + '"]');

        if (!input) {
            input = document.createElement("input");
            input.setAttribute("type", "hidden");
            input.setAttribute("name", FIELD_NAME);
            form.appendChild(input);
        }

        input.setAttribute("value", globalToken);
    }

    function handleForm(document) {
        var handler = function(ev) {
            var t = ev.target;

            if (t.nodeName === "FORM") {
                addField(t);
            }
        };

        if (document.addEventListener) {
            document.addEventListener("submit", handler, true);
        } else if (document.attachEvent) {
            document.attachEvent("submit", handler);
        }
    }

    handleForm(document);

    var open = XMLHttpRequest.prototype.open;

    XMLHttpRequest.prototype.open = function(method, url, async) {
        if (method.toLowerCase() !== "get" && verifySameOrigin(url)) {
            this._csrf = true;
            this._async = async;
        }

        return open.apply(this, arguments);
    };

    var send = XMLHttpRequest.prototype.send;

    XMLHttpRequest.prototype.send = function() {
        if (!this._csrf) {
            send.apply(this, arguments);
            return;
        }

        if (globalToken) {
            this.setRequestHeader(HEADER_NAME, globalToken);
            send.apply(this, arguments);
            return;
        }

        if (this._async === false) {
            getTokenSync();

            if (globalToken) {
                this.setRequestHeader(HEADER_NAME, globalToken);
            }

            send.apply(this, arguments);
            return;
        }

        var self = this;
        var args = Array.prototype.slice.call(arguments);

        promise.then(function(token) {
            self.setRequestHeader(HEADER_NAME, token);
            send.apply(self, args);
        }, function() {
            send.apply(self, args);
        });
    };

    var submit = HTMLFormElement.prototype.submit;

    HTMLFormElement.prototype.submit = function() {
        addField(this);
        return submit.apply(this, arguments);
    };

    if (window.Node) {
        var ac = Node.prototype.appendChild;

        Node.prototype.appendChild = function() {
            var result = ac.apply(this, arguments);

            if (result.nodeName === "IFRAME") {
                try {
                    if (result.contentWindow && !result._csrf) {
                        result._csrf = true;
                        handleForm(result.contentWindow.document);
                    }
                } catch (ex) {
                    if (result.src && result.src.length && verifySameOrigin(result.src)) {
                        if (window.console) {
                            // eslint-disable-next-line no-console
                            console.error("Unable to attach CSRF token to an iframe element on the same origin");
                        }
                    }

                    // Potential error: Access is Denied
                    // we can safely ignore CORS security errors here
                    // because we do not want to expose the csrf anyways to another domain
                }
            }

            return result;
        };
    }

    // refreshing csrf token periodically
    getToken();

    setInterval(function() {
        getToken();
    }, 300000);

    return {
        initialised: false,
        refreshToken: getToken,
        _clearToken: clearToken
    };
}));

var Project_Component_Library=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=481)}([function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return te})),n.d(t,"AddEquation",(function(){return k})),n.d(t,"AddOperation",(function(){return K})),n.d(t,"AdditiveAnimationBlendMode",(function(){return Ct})),n.d(t,"AdditiveBlending",(function(){return b})),n.d(t,"AlphaFormat",(function(){return Re})),n.d(t,"AlwaysDepth",(function(){return V})),n.d(t,"AlwaysStencilFunc",(function(){return tn})),n.d(t,"AmbientLight",(function(){return Gh})),n.d(t,"AmbientLightProbe",(function(){return sd})),n.d(t,"AnimationClip",(function(){return fh})),n.d(t,"AnimationLoader",(function(){return Sh})),n.d(t,"AnimationMixer",(function(){return Od})),n.d(t,"AnimationObjectGroup",(function(){return Pd})),n.d(t,"AnimationUtils",(function(){return th})),n.d(t,"ArcCurve",(function(){return yc})),n.d(t,"ArrayCamera",(function(){return Xs})),n.d(t,"ArrowHelper",(function(){return Ap})),n.d(t,"Audio",(function(){return _d})),n.d(t,"AudioAnalyser",(function(){return Ad})),n.d(t,"AudioContext",(function(){return id})),n.d(t,"AudioListener",(function(){return yd})),n.d(t,"AudioLoader",(function(){return od})),n.d(t,"AxesHelper",(function(){return Ep})),n.d(t,"BackSide",(function(){return m})),n.d(t,"BasicDepthPacking",(function(){return Rt})),n.d(t,"BasicShadowMap",(function(){return u})),n.d(t,"Bone",(function(){return Ol})),n.d(t,"BooleanKeyframeTrack",(function(){return sh})),n.d(t,"Box2",(function(){return Yd})),n.d(t,"Box3",(function(){return hr})),n.d(t,"Box3Helper",(function(){return bp})),n.d(t,"BoxBufferGeometry",(function(){return Op})),n.d(t,"BoxGeometry",(function(){return ao})),n.d(t,"BoxHelper",(function(){return _p})),n.d(t,"BufferAttribute",(function(){return Ei})),n.d(t,"BufferGeometry",(function(){return Gi})),n.d(t,"BufferGeometryLoader",(function(){return Jh})),n.d(t,"ByteType",(function(){return Se})),n.d(t,"Cache",(function(){return vh})),n.d(t,"Camera",(function(){return po})),n.d(t,"CameraHelper",(function(){return vp})),n.d(t,"CanvasTexture",(function(){return mc})),n.d(t,"CapsuleBufferGeometry",(function(){return Fp})),n.d(t,"CapsuleGeometry",(function(){return jc})),n.d(t,"CatmullRomCurve3",(function(){return kc})),n.d(t,"CineonToneMapping",(function(){return ee})),n.d(t,"CircleBufferGeometry",(function(){return Bp})),n.d(t,"CircleGeometry",(function(){return zc})),n.d(t,"ClampToEdgeWrapping",(function(){return ue})),n.d(t,"Clock",(function(){return dd})),n.d(t,"Color",(function(){return Yn})),n.d(t,"ColorKeyframeTrack",(function(){return lh})),n.d(t,"ColorManagement",(function(){return zn})),n.d(t,"CompressedArrayTexture",(function(){return fc})),n.d(t,"CompressedTexture",(function(){return pc})),n.d(t,"CompressedTextureLoader",(function(){return kh})),n.d(t,"ConeBufferGeometry",(function(){return Np})),n.d(t,"ConeGeometry",(function(){return Uc})),n.d(t,"CubeCamera",(function(){return mo})),n.d(t,"CubeReflectionMapping",(function(){return ie})),n.d(t,"CubeRefractionMapping",(function(){return oe})),n.d(t,"CubeTexture",(function(){return vo})),n.d(t,"CubeTextureLoader",(function(){return Eh})),n.d(t,"CubeUVReflectionMapping",(function(){return le})),n.d(t,"CubicBezierCurve",(function(){return Tc})),n.d(t,"CubicBezierCurve3",(function(){return Mc})),n.d(t,"CubicInterpolant",(function(){return rh})),n.d(t,"CullFaceBack",(function(){return s})),n.d(t,"CullFaceFront",(function(){return l})),n.d(t,"CullFaceFrontBack",(function(){return c})),n.d(t,"CullFaceNone",(function(){return a})),n.d(t,"Curve",(function(){return vc})),n.d(t,"CurvePath",(function(){return Fc})),n.d(t,"CustomBlending",(function(){return S})),n.d(t,"CustomToneMapping",(function(){return ne})),n.d(t,"CylinderBufferGeometry",(function(){return jp})),n.d(t,"CylinderGeometry",(function(){return Vc})),n.d(t,"Cylindrical",(function(){return qd})),n.d(t,"Data3DTexture",(function(){return ir})),n.d(t,"DataArrayTexture",(function(){return nr})),n.d(t,"DataTexture",(function(){return Fl})),n.d(t,"DataTexture2DArray",(function(){return Rp})),n.d(t,"DataTexture3D",(function(){return Ip})),n.d(t,"DataTextureLoader",(function(){return Ch})),n.d(t,"DataUtils",(function(){return Dp})),n.d(t,"DecrementStencilOp",(function(){return Gt})),n.d(t,"DecrementWrapStencilOp",(function(){return Wt})),n.d(t,"DefaultLoadingManager",(function(){return yh})),n.d(t,"DepthFormat",(function(){return Ne})),n.d(t,"DepthStencilFormat",(function(){return je})),n.d(t,"DepthTexture",(function(){return Zs})),n.d(t,"DirectionalLight",(function(){return Hh})),n.d(t,"DirectionalLightHelper",(function(){return pp})),n.d(t,"DiscreteInterpolant",(function(){return oh})),n.d(t,"DodecahedronBufferGeometry",(function(){return zp})),n.d(t,"DodecahedronGeometry",(function(){return Gc})),n.d(t,"DoubleSide",(function(){return v})),n.d(t,"DstAlphaFactor",(function(){return O})),n.d(t,"DstColorFactor",(function(){return B})),n.d(t,"DynamicCopyUsage",(function(){return un})),n.d(t,"DynamicDrawUsage",(function(){return rn})),n.d(t,"DynamicReadUsage",(function(){return sn})),n.d(t,"EdgesGeometry",(function(){return Qc})),n.d(t,"EllipseCurve",(function(){return gc})),n.d(t,"EqualDepth",(function(){return G})),n.d(t,"EqualStencilFunc",(function(){return Kt})),n.d(t,"EquirectangularReflectionMapping",(function(){return ae})),n.d(t,"EquirectangularRefractionMapping",(function(){return se})),n.d(t,"Euler",(function(){return Xr})),n.d(t,"EventDispatcher",(function(){return mn})),n.d(t,"ExtrudeBufferGeometry",(function(){return Vp})),n.d(t,"ExtrudeGeometry",(function(){return Au})),n.d(t,"FileLoader",(function(){return xh})),n.d(t,"Float16BufferAttribute",(function(){return Ii})),n.d(t,"Float32BufferAttribute",(function(){return Oi})),n.d(t,"Float64BufferAttribute",(function(){return Fi})),n.d(t,"FloatType",(function(){return Te})),n.d(t,"Fog",(function(){return ol})),n.d(t,"FogExp2",(function(){return il})),n.d(t,"FramebufferTexture",(function(){return dc})),n.d(t,"FrontSide",(function(){return f})),n.d(t,"Frustum",(function(){return ko})),n.d(t,"GLBufferAttribute",(function(){return zd})),n.d(t,"GLSL1",(function(){return dn})),n.d(t,"GLSL3",(function(){return pn})),n.d(t,"GreaterDepth",(function(){return W})),n.d(t,"GreaterEqualDepth",(function(){return q})),n.d(t,"GreaterEqualStencilFunc",(function(){return en})),n.d(t,"GreaterStencilFunc",(function(){return Zt})),n.d(t,"GridHelper",(function(){return lp})),n.d(t,"Group",(function(){return Qs})),n.d(t,"HalfFloatType",(function(){return Me})),n.d(t,"HemisphereLight",(function(){return Dh})),n.d(t,"HemisphereLightHelper",(function(){return sp})),n.d(t,"HemisphereLightProbe",(function(){return ad})),n.d(t,"IcosahedronBufferGeometry",(function(){return Up})),n.d(t,"IcosahedronGeometry",(function(){return Cu})),n.d(t,"ImageBitmapLoader",(function(){return nd})),n.d(t,"ImageLoader",(function(){return Ah})),n.d(t,"ImageUtils",(function(){return Qn})),n.d(t,"ImmediateRenderObject",(function(){return Lp})),n.d(t,"IncrementStencilOp",(function(){return Ht})),n.d(t,"IncrementWrapStencilOp",(function(){return qt})),n.d(t,"InstancedBufferAttribute",(function(){return zl})),n.d(t,"InstancedBufferGeometry",(function(){return Kh})),n.d(t,"InstancedInterleavedBuffer",(function(){return jd})),n.d(t,"InstancedMesh",(function(){return Wl})),n.d(t,"Int16BufferAttribute",(function(){return Di})),n.d(t,"Int32BufferAttribute",(function(){return Pi})),n.d(t,"Int8BufferAttribute",(function(){return Ci})),n.d(t,"IntType",(function(){return Ee})),n.d(t,"InterleavedBuffer",(function(){return sl})),n.d(t,"InterleavedBufferAttribute",(function(){return cl})),n.d(t,"Interpolant",(function(){return nh})),n.d(t,"InterpolateDiscrete",(function(){return bt})),n.d(t,"InterpolateLinear",(function(){return wt})),n.d(t,"InterpolateSmooth",(function(){return xt})),n.d(t,"InvertStencilOp",(function(){return Yt})),n.d(t,"KeepStencilOp",(function(){return Vt})),n.d(t,"KeyframeTrack",(function(){return ah})),n.d(t,"LOD",(function(){return Tl})),n.d(t,"LatheBufferGeometry",(function(){return Hp})),n.d(t,"LatheGeometry",(function(){return Nc})),n.d(t,"Layers",(function(){return Qr})),n.d(t,"LessDepth",(function(){return U})),n.d(t,"LessEqualDepth",(function(){return H})),n.d(t,"LessEqualStencilFunc",(function(){return Jt})),n.d(t,"LessStencilFunc",(function(){return Qt})),n.d(t,"Light",(function(){return Mh})),n.d(t,"LightProbe",(function(){return Yh})),n.d(t,"Line",(function(){return $l})),n.d(t,"Line3",(function(){return Kd})),n.d(t,"LineBasicMaterial",(function(){return Yl})),n.d(t,"LineCurve",(function(){return Dc})),n.d(t,"LineCurve3",(function(){return Lc})),n.d(t,"LineDashedMaterial",(function(){return Xu})),n.d(t,"LineLoop",(function(){return rc})),n.d(t,"LineSegments",(function(){return nc})),n.d(t,"LinearEncoding",(function(){return Lt})),n.d(t,"LinearFilter",(function(){return ge})),n.d(t,"LinearInterpolant",(function(){return ih})),n.d(t,"LinearMipMapLinearFilter",(function(){return we})),n.d(t,"LinearMipMapNearestFilter",(function(){return _e})),n.d(t,"LinearMipmapLinearFilter",(function(){return be})),n.d(t,"LinearMipmapNearestFilter",(function(){return ye})),n.d(t,"LinearSRGBColorSpace",(function(){return jt})),n.d(t,"LinearToneMapping",(function(){return Z})),n.d(t,"Loader",(function(){return _h})),n.d(t,"LoaderUtils",(function(){return Qh})),n.d(t,"LoadingManager",(function(){return gh})),n.d(t,"LoopOnce",(function(){return gt})),n.d(t,"LoopPingPong",(function(){return _t})),n.d(t,"LoopRepeat",(function(){return yt})),n.d(t,"LuminanceAlphaFormat",(function(){return Be})),n.d(t,"LuminanceFormat",(function(){return Fe})),n.d(t,"MOUSE",(function(){return i})),n.d(t,"Material",(function(){return xi})),n.d(t,"MaterialLoader",(function(){return Xh})),n.d(t,"MathUtils",(function(){return Mn})),n.d(t,"Matrix3",(function(){return Ln})),n.d(t,"Matrix4",(function(){return Nr})),n.d(t,"MaxEquation",(function(){return T})),n.d(t,"Mesh",(function(){return io})),n.d(t,"MeshBasicMaterial",(function(){return Si})),n.d(t,"MeshDepthMaterial",(function(){return Us})),n.d(t,"MeshDistanceMaterial",(function(){return Hs})),n.d(t,"MeshLambertMaterial",(function(){return Wu})),n.d(t,"MeshMatcapMaterial",(function(){return Yu})),n.d(t,"MeshNormalMaterial",(function(){return qu})),n.d(t,"MeshPhongMaterial",(function(){return Hu})),n.d(t,"MeshPhysicalMaterial",(function(){return Uu})),n.d(t,"MeshStandardMaterial",(function(){return Vu})),n.d(t,"MeshToonMaterial",(function(){return Gu})),n.d(t,"MinEquation",(function(){return C})),n.d(t,"MirroredRepeatWrapping",(function(){return he})),n.d(t,"MixOperation",(function(){return Q})),n.d(t,"MultiplyBlending",(function(){return x})),n.d(t,"MultiplyOperation",(function(){return X})),n.d(t,"NearestFilter",(function(){return de})),n.d(t,"NearestMipMapLinearFilter",(function(){return ve})),n.d(t,"NearestMipMapNearestFilter",(function(){return fe})),n.d(t,"NearestMipmapLinearFilter",(function(){return me})),n.d(t,"NearestMipmapNearestFilter",(function(){return pe})),n.d(t,"NeverDepth",(function(){return z})),n.d(t,"NeverStencilFunc",(function(){return Xt})),n.d(t,"NoBlending",(function(){return y})),n.d(t,"NoColorSpace",(function(){return Bt})),n.d(t,"NoToneMapping",(function(){return J})),n.d(t,"NormalAnimationBlendMode",(function(){return Et})),n.d(t,"NormalBlending",(function(){return _})),n.d(t,"NotEqualDepth",(function(){return Y})),n.d(t,"NotEqualStencilFunc",(function(){return $t})),n.d(t,"NumberKeyframeTrack",(function(){return ch})),n.d(t,"Object3D",(function(){return ci})),n.d(t,"ObjectLoader",(function(){return Zh})),n.d(t,"ObjectSpaceNormalMap",(function(){return Ft})),n.d(t,"OctahedronBufferGeometry",(function(){return Gp})),n.d(t,"OctahedronGeometry",(function(){return Tu})),n.d(t,"OneFactor",(function(){return D})),n.d(t,"OneMinusDstAlphaFactor",(function(){return F})),n.d(t,"OneMinusDstColorFactor",(function(){return N})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return I})),n.d(t,"OneMinusSrcColorFactor",(function(){return P})),n.d(t,"OrthographicCamera",(function(){return No})),n.d(t,"PCFShadowMap",(function(){return h})),n.d(t,"PCFSoftShadowMap",(function(){return d})),n.d(t,"PMREMGenerator",(function(){return Wo})),n.d(t,"Path",(function(){return Bc})),n.d(t,"PerspectiveCamera",(function(){return fo})),n.d(t,"Plane",(function(){return wo})),n.d(t,"PlaneBufferGeometry",(function(){return qp})),n.d(t,"PlaneGeometry",(function(){return Co})),n.d(t,"PlaneHelper",(function(){return wp})),n.d(t,"PointLight",(function(){return Vh})),n.d(t,"PointLightHelper",(function(){return rp})),n.d(t,"Points",(function(){return cc})),n.d(t,"PointsMaterial",(function(){return ic})),n.d(t,"PolarGridHelper",(function(){return cp})),n.d(t,"PolyhedronBufferGeometry",(function(){return Wp})),n.d(t,"PolyhedronGeometry",(function(){return Hc})),n.d(t,"PositionalAudio",(function(){return kd})),n.d(t,"PropertyBinding",(function(){return Ld})),n.d(t,"PropertyMixer",(function(){return Ed})),n.d(t,"QuadraticBezierCurve",(function(){return Pc})),n.d(t,"QuadraticBezierCurve3",(function(){return Rc})),n.d(t,"Quaternion",(function(){return sr})),n.d(t,"QuaternionKeyframeTrack",(function(){return hh})),n.d(t,"QuaternionLinearInterpolant",(function(){return uh})),n.d(t,"REVISION",(function(){return r})),n.d(t,"RGBADepthPacking",(function(){return It})),n.d(t,"RGBAFormat",(function(){return Oe})),n.d(t,"RGBAIntegerFormat",(function(){return Ge})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return pt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return ut})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return ht})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return dt})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return ft})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return mt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return nt})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return rt})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return it})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return ot})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return at})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return st})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return lt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return ct})),n.d(t,"RGBA_BPTC_Format",(function(){return vt})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return tt})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return Ze})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return Je})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return We})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return Ye})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return Xe})),n.d(t,"RGBFormat",(function(){return Ie})),n.d(t,"RGB_ETC1_Format",(function(){return $e})),n.d(t,"RGB_ETC2_Format",(function(){return et})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return Ke})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return Qe})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return qe})),n.d(t,"RGFormat",(function(){return Ue})),n.d(t,"RGIntegerFormat",(function(){return He})),n.d(t,"RawShaderMaterial",(function(){return zu})),n.d(t,"Ray",(function(){return Br})),n.d(t,"Raycaster",(function(){return Vd})),n.d(t,"RectAreaLight",(function(){return qh})),n.d(t,"RedFormat",(function(){return ze})),n.d(t,"RedIntegerFormat",(function(){return Ve})),n.d(t,"ReinhardToneMapping",(function(){return $})),n.d(t,"RepeatWrapping",(function(){return ce})),n.d(t,"ReplaceStencilOp",(function(){return Ut})),n.d(t,"ReverseSubtractEquation",(function(){return E})),n.d(t,"RingBufferGeometry",(function(){return Yp})),n.d(t,"RingGeometry",(function(){return Mu})),n.d(t,"SRGBColorSpace",(function(){return Nt})),n.d(t,"Scene",(function(){return al})),n.d(t,"ShaderChunk",(function(){return To})),n.d(t,"ShaderLib",(function(){return Do})),n.d(t,"ShaderMaterial",(function(){return ho})),n.d(t,"ShadowMaterial",(function(){return ju})),n.d(t,"Shape",(function(){return Kc})),n.d(t,"ShapeBufferGeometry",(function(){return Xp})),n.d(t,"ShapeGeometry",(function(){return Du})),n.d(t,"ShapePath",(function(){return Cp})),n.d(t,"ShapeUtils",(function(){return xu})),n.d(t,"ShortType",(function(){return ke})),n.d(t,"Skeleton",(function(){return jl})),n.d(t,"SkeletonHelper",(function(){return np})),n.d(t,"SkinnedMesh",(function(){return Il})),n.d(t,"Source",(function(){return Kn})),n.d(t,"Sphere",(function(){return Mr})),n.d(t,"SphereBufferGeometry",(function(){return Qp})),n.d(t,"SphereGeometry",(function(){return Lu})),n.d(t,"Spherical",(function(){return Gd})),n.d(t,"SphericalHarmonics3",(function(){return Wh})),n.d(t,"SplineCurve",(function(){return Ic})),n.d(t,"SpotLight",(function(){return Fh})),n.d(t,"SpotLightHelper",(function(){return Zd})),n.d(t,"Sprite",(function(){return kl})),n.d(t,"SpriteMaterial",(function(){return ul})),n.d(t,"SrcAlphaFactor",(function(){return R})),n.d(t,"SrcAlphaSaturateFactor",(function(){return j})),n.d(t,"SrcColorFactor",(function(){return L})),n.d(t,"StaticCopyUsage",(function(){return cn})),n.d(t,"StaticDrawUsage",(function(){return nn})),n.d(t,"StaticReadUsage",(function(){return an})),n.d(t,"StereoCamera",(function(){return hd})),n.d(t,"StreamCopyUsage",(function(){return hn})),n.d(t,"StreamDrawUsage",(function(){return on})),n.d(t,"StreamReadUsage",(function(){return ln})),n.d(t,"StringKeyframeTrack",(function(){return dh})),n.d(t,"SubtractEquation",(function(){return A})),n.d(t,"SubtractiveBlending",(function(){return w})),n.d(t,"TOUCH",(function(){return o})),n.d(t,"TangentSpaceNormalMap",(function(){return Ot})),n.d(t,"TetrahedronBufferGeometry",(function(){return Kp})),n.d(t,"TetrahedronGeometry",(function(){return Pu})),n.d(t,"Texture",(function(){return $n})),n.d(t,"TextureLoader",(function(){return Th})),n.d(t,"TorusBufferGeometry",(function(){return Jp})),n.d(t,"TorusGeometry",(function(){return Ru})),n.d(t,"TorusKnotBufferGeometry",(function(){return Zp})),n.d(t,"TorusKnotGeometry",(function(){return Iu})),n.d(t,"Triangle",(function(){return bi})),n.d(t,"TriangleFanDrawMode",(function(){return Dt})),n.d(t,"TriangleStripDrawMode",(function(){return Mt})),n.d(t,"TrianglesDrawMode",(function(){return Tt})),n.d(t,"TubeBufferGeometry",(function(){return $p})),n.d(t,"TubeGeometry",(function(){return Ou})),n.d(t,"TwoPassDoubleSide",(function(){return g})),n.d(t,"UVMapping",(function(){return re})),n.d(t,"Uint16BufferAttribute",(function(){return Li})),n.d(t,"Uint32BufferAttribute",(function(){return Ri})),n.d(t,"Uint8BufferAttribute",(function(){return Ti})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Mi})),n.d(t,"Uniform",(function(){return Fd})),n.d(t,"UniformsGroup",(function(){return Nd})),n.d(t,"UniformsLib",(function(){return Mo})),n.d(t,"UniformsUtils",(function(){return uo})),n.d(t,"UnsignedByteType",(function(){return xe})),n.d(t,"UnsignedInt248Type",(function(){return Pe})),n.d(t,"UnsignedIntType",(function(){return Ce})),n.d(t,"UnsignedShort4444Type",(function(){return De})),n.d(t,"UnsignedShort5551Type",(function(){return Le})),n.d(t,"UnsignedShortType",(function(){return Ae})),n.d(t,"VSMShadowMap",(function(){return p})),n.d(t,"Vector2",(function(){return Dn})),n.d(t,"Vector3",(function(){return lr})),n.d(t,"Vector4",(function(){return er})),n.d(t,"VectorKeyframeTrack",(function(){return ph})),n.d(t,"VideoTexture",(function(){return hc})),n.d(t,"WebGL1Renderer",(function(){return rl})),n.d(t,"WebGL3DRenderTarget",(function(){return or})),n.d(t,"WebGLArrayRenderTarget",(function(){return rr})),n.d(t,"WebGLCubeRenderTarget",(function(){return go})),n.d(t,"WebGLMultipleRenderTargets",(function(){return ar})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return Pp})),n.d(t,"WebGLRenderTarget",(function(){return tr})),n.d(t,"WebGLRenderer",(function(){return nl})),n.d(t,"WebGLUtils",(function(){return Ys})),n.d(t,"WireframeGeometry",(function(){return Fu})),n.d(t,"WrapAroundEnding",(function(){return At})),n.d(t,"ZeroCurvatureEnding",(function(){return St})),n.d(t,"ZeroFactor",(function(){return M})),n.d(t,"ZeroSlopeEnding",(function(){return kt})),n.d(t,"ZeroStencilOp",(function(){return zt})),n.d(t,"_SRGBAFormat",(function(){return fn})),n.d(t,"sRGBEncoding",(function(){return Pt}));
/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const r="148",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,s=1,l=2,c=3,u=0,h=1,d=2,p=3,f=0,m=1,v=2,g=3,y=0,_=1,b=2,w=3,x=4,S=5,k=100,A=101,E=102,C=103,T=104,M=200,D=201,L=202,P=203,R=204,I=205,O=206,F=207,B=208,N=209,j=210,z=0,V=1,U=2,H=3,G=4,q=5,W=6,Y=7,X=0,Q=1,K=2,J=0,Z=1,$=2,ee=3,te=4,ne=5,re=300,ie=301,oe=302,ae=303,se=304,le=306,ce=1e3,ue=1001,he=1002,de=1003,pe=1004,fe=1004,me=1005,ve=1005,ge=1006,ye=1007,_e=1007,be=1008,we=1008,xe=1009,Se=1010,ke=1011,Ae=1012,Ee=1013,Ce=1014,Te=1015,Me=1016,De=1017,Le=1018,Pe=1020,Re=1021,Ie=1022,Oe=1023,Fe=1024,Be=1025,Ne=1026,je=1027,ze=1028,Ve=1029,Ue=1030,He=1031,Ge=1033,qe=33776,We=33777,Ye=33778,Xe=33779,Qe=35840,Ke=35841,Je=35842,Ze=35843,$e=36196,et=37492,tt=37496,nt=37808,rt=37809,it=37810,ot=37811,at=37812,st=37813,lt=37814,ct=37815,ut=37816,ht=37817,dt=37818,pt=37819,ft=37820,mt=37821,vt=36492,gt=2200,yt=2201,_t=2202,bt=2300,wt=2301,xt=2302,St=2400,kt=2401,At=2402,Et=2500,Ct=2501,Tt=0,Mt=1,Dt=2,Lt=3e3,Pt=3001,Rt=3200,It=3201,Ot=0,Ft=1,Bt="",Nt="srgb",jt="srgb-linear",zt=0,Vt=7680,Ut=7681,Ht=7682,Gt=7683,qt=34055,Wt=34056,Yt=5386,Xt=512,Qt=513,Kt=514,Jt=515,Zt=516,$t=517,en=518,tn=519,nn=35044,rn=35048,on=35040,an=35045,sn=35049,ln=35041,cn=35046,un=35050,hn=35042,dn="100",pn="300 es",fn=1035;class mn{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const vn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gn=1234567;const yn=Math.PI/180,_n=180/Math.PI;function bn(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(vn[255&e]+vn[e>>8&255]+vn[e>>16&255]+vn[e>>24&255]+"-"+vn[255&t]+vn[t>>8&255]+"-"+vn[t>>16&15|64]+vn[t>>24&255]+"-"+vn[63&n|128]+vn[n>>8&255]+"-"+vn[n>>16&255]+vn[n>>24&255]+vn[255&r]+vn[r>>8&255]+vn[r>>16&255]+vn[r>>24&255]).toLowerCase()}function wn(e,t,n){return Math.max(t,Math.min(n,e))}function xn(e,t){return(e%t+t)%t}function Sn(e,t,n){return(1-n)*e+n*t}function kn(e){return 0==(e&e-1)&&0!==e}function An(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function En(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Cn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Tn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Mn=Object.freeze({__proto__:null,DEG2RAD:yn,RAD2DEG:_n,generateUUID:bn,clamp:wn,euclideanModulo:xn,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Sn,damp:function(e,t,n,r){return Sn(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(xn(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(gn=e);let t=gn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*yn},radToDeg:function(e){return e*_n},isPowerOfTwo:kn,ceilPowerOfTwo:An,floorPowerOfTwo:En,setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),h=o((t-r)/2),d=a((t-r)/2),p=o((r-t)/2),f=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*h,l*d,s*c);break;case"YZY":e.set(l*d,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*d,s*u,s*c);break;case"XZX":e.set(s*u,l*f,l*p,s*c);break;case"YXY":e.set(l*p,s*u,l*f,s*c);break;case"ZYZ":e.set(l*f,l*p,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:Tn,denormalize:Cn});class Dn{constructor(e=0,t=0){Dn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ln{constructor(){Ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],p=n[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],_=r[7],b=r[2],w=r[5],x=r[8];return i[0]=o*f+a*g+s*b,i[3]=o*m+a*y+s*w,i[6]=o*v+a*_+s*x,i[1]=l*f+c*g+u*b,i[4]=l*m+c*y+u*w,i[7]=l*v+c*_+u*x,i[2]=h*f+d*g+p*b,i[5]=h*m+d*y+p*w,i[8]=h*v+d*_+p*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,h=a*s-c*i,d=l*i-o*s,p=t*u+n*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return e[0]=u*f,e[1]=(r*l-c*n)*f,e[2]=(a*n-r*o)*f,e[3]=h*f,e[4]=(c*t-r*s)*f,e[5]=(r*i-a*t)*f,e[6]=d*f,e[7]=(n*s-l*t)*f,e[8]=(o*t-n*i)*f,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Pn.makeScale(e,t)),this}rotate(e){return this.premultiply(Pn.makeRotation(-e)),this}translate(e,t){return this.premultiply(Pn.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Pn=new Ln;function Rn(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const In={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function On(e,t){return new In[e](t)}function Fn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Bn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Nn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const jn={[Nt]:{[jt]:Bn},[jt]:{[Nt]:Nn}},zn={legacyMode:!0,get workingColorSpace(){return jt},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(jn[t]&&void 0!==jn[t][n]){const r=jn[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Un={r:0,g:0,b:0},Hn={h:0,s:0,l:0},Gn={h:0,s:0,l:0};function qn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Wn(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}class Yn{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Nt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,zn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=zn.workingColorSpace){return this.r=e,this.g=t,this.b=n,zn.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=zn.workingColorSpace){if(e=xn(e,1),t=wn(t,0,1),n=wn(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=qn(i,r,e+1/3),this.g=qn(i,r,e),this.b=qn(i,r,e-1/3)}return zn.toWorkingColorSpace(this,r),this}setStyle(e,t=Nt){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,zn.toWorkingColorSpace(this,t),n(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,zn.toWorkingColorSpace(this,t),n(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const r=parseFloat(e[1])/360,i=parseFloat(e[2])/100,o=parseFloat(e[3])/100;return n(e[4]),this.setHSL(r,i,o,t)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,zn.toWorkingColorSpace(this,t),this;if(6===n)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,zn.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Nt){const n=Vn[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bn(e.r),this.g=Bn(e.g),this.b=Bn(e.b),this}copyLinearToSRGB(e){return this.r=Nn(e.r),this.g=Nn(e.g),this.b=Nn(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Nt){return zn.fromWorkingColorSpace(Wn(this,Un),e),wn(255*Un.r,0,255)<<16^wn(255*Un.g,0,255)<<8^wn(255*Un.b,0,255)<<0}getHexString(e=Nt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=zn.workingColorSpace){zn.fromWorkingColorSpace(Wn(this,Un),t);const n=Un.r,r=Un.g,i=Un.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=zn.workingColorSpace){return zn.fromWorkingColorSpace(Wn(this,Un),t),e.r=Un.r,e.g=Un.g,e.b=Un.b,e}getStyle(e=Nt){return zn.fromWorkingColorSpace(Wn(this,Un),e),e!==Nt?`color(${e} ${Un.r} ${Un.g} ${Un.b})`:`rgb(${255*Un.r|0},${255*Un.g|0},${255*Un.b|0})`}offsetHSL(e,t,n){return this.getHSL(Hn),Hn.h+=e,Hn.s+=t,Hn.l+=n,this.setHSL(Hn.h,Hn.s,Hn.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Hn),e.getHSL(Gn);const n=Sn(Hn.h,Gn.h,t),r=Sn(Hn.s,Gn.s,t),i=Sn(Hn.l,Gn.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let Xn;Yn.NAMES=Vn;class Qn{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Xn&&(Xn=Fn("canvas")),Xn.width=e.width,Xn.height=e.height;const n=Xn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Xn}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Fn("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Bn(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Bn(t[e]/255)):t[e]=Bn(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Kn{constructor(e=null){this.isSource=!0,this.uuid=bn(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Jn(r[t].image)):e.push(Jn(r[t]))}else e=Jn(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function Jn(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Qn.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Zn=0;class $n extends mn{constructor(e=$n.DEFAULT_IMAGE,t=$n.DEFAULT_MAPPING,n=ue,r=ue,i=ge,o=be,a=Oe,s=xe,l=$n.DEFAULT_ANISOTROPY,c=Lt){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Zn++}),this.uuid=bn(),this.name="",this.source=new Kn(e),this.mipmaps=[],this.mapping=t,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new Dn(0,0),this.repeat=new Dn(1,1),this.center=new Dn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==re)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ce:e.x=e.x-Math.floor(e.x);break;case ue:e.x=e.x<0?0:1;break;case he:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ce:e.y=e.y-Math.floor(e.y);break;case ue:e.y=e.y<0?0:1;break;case he:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}$n.DEFAULT_IMAGE=null,$n.DEFAULT_MAPPING=re,$n.DEFAULT_ANISOTROPY=1;class er{constructor(e=0,t=0,n=0,r=1){er.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=e.elements,a=o[0],s=o[4],l=o[8],c=o[1],u=o[5],h=o[9],d=o[2],p=o[6],f=o[10];if(Math.abs(s-c)<.01&&Math.abs(l-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(l+d)<.1&&Math.abs(h+p)<.1&&Math.abs(a+u+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const e=(a+1)/2,o=(u+1)/2,m=(f+1)/2,v=(s+c)/4,g=(l+d)/4,y=(h+p)/4;return e>o&&e>m?e<.01?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=v/n,i=g/n):o>m?o<.01?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(o),n=v/r,i=y/r):m<.01?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(m),n=g/i,r=y/i),this.set(n,r,i,t),this}let m=Math.sqrt((p-h)*(p-h)+(l-d)*(l-d)+(c-s)*(c-s));return Math.abs(m)<.001&&(m=1),this.x=(p-h)/m,this.y=(l-d)/m,this.z=(c-s)/m,this.w=Math.acos((a+u+f-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tr extends mn{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new er(0,0,e,t),this.scissorTest=!1,this.viewport=new er(0,0,e,t);const r={width:e,height:t,depth:1};this.texture=new $n(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:ge,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Kn(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class nr extends $n{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=de,this.minFilter=de,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rr extends tr{constructor(e=1,t=1,n=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new nr(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class ir extends $n{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=de,this.minFilter=de,this.wrapR=ue,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class or extends tr{constructor(e=1,t=1,n=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new ir(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class ar extends tr{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const i=this.texture;this.texture=[];for(let e=0;e<n;e++)this.texture[e]=i.clone(),this.texture[e].isRenderTargetTexture=!0}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class sr{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[o+0],d=i[o+1],p=i[o+2],f=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=f);if(u!==f||s!==h||l!==d||c!==p){let e=1-a;const t=s*h+l*d+c*p+u*f,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+h*i,l=l*e+d*i,c=c*e+p*i,u=u*e+f*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],h=i[o+1],d=i[o+2],p=i[o+3];return e[t]=a*p+c*u+s*d-l*h,e[t+1]=s*p+c*h+l*u-a*d,e[t+2]=l*p+c*d+a*h-s*u,e[t+3]=c*p-a*u-s*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),h=s(n/2),d=s(r/2),p=s(i/2);switch(o){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+a+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wn(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class lr{constructor(e=0,t=0,n=0){lr.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ur.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ur.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,c=s*n+a*t-i*r,u=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=l*s+h*-i+c*-a-u*-o,this.y=c*s+h*-o+u*-i-l*-a,this.z=u*s+h*-a+l*-o-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return cr.copy(this).projectOnVector(e),this.sub(cr)}reflect(e){return this.sub(cr.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(wn(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const cr=new lr,ur=new sr;class hr{constructor(e=new lr(1/0,1/0,1/0),t=new lr(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=e.length;s<l;s+=3){const l=e[s],c=e[s+1],u=e[s+2];l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>o&&(o=c),u>a&&(a=u)}return this.min.set(t,n,r),this.max.set(i,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=e.count;s<l;s++){const l=e.getX(s),c=e.getY(s),u=e.getZ(s);l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>o&&(o=c),u>a&&(a=u)}return this.min.set(t,n,r),this.max.set(i,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=pr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)pr.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(pr)}else null===n.boundingBox&&n.computeBoundingBox(),fr.copy(n.boundingBox),fr.applyMatrix4(e.matrixWorld),this.union(fr);const r=e.children;for(let e=0,n=r.length;e<n;e++)this.expandByObject(r[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,pr),pr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(wr),xr.subVectors(this.max,wr),mr.subVectors(e.a,wr),vr.subVectors(e.b,wr),gr.subVectors(e.c,wr),yr.subVectors(vr,mr),_r.subVectors(gr,vr),br.subVectors(mr,gr);let t=[0,-yr.z,yr.y,0,-_r.z,_r.y,0,-br.z,br.y,yr.z,0,-yr.x,_r.z,0,-_r.x,br.z,0,-br.x,-yr.y,yr.x,0,-_r.y,_r.x,0,-br.y,br.x,0];return!!Ar(t,mr,vr,gr,xr)&&(t=[1,0,0,0,1,0,0,0,1],!!Ar(t,mr,vr,gr,xr)&&(Sr.crossVectors(yr,_r),t=[Sr.x,Sr.y,Sr.z],Ar(t,mr,vr,gr,xr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return pr.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(pr).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(dr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),dr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),dr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),dr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),dr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),dr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),dr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),dr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(dr)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dr=[new lr,new lr,new lr,new lr,new lr,new lr,new lr,new lr],pr=new lr,fr=new hr,mr=new lr,vr=new lr,gr=new lr,yr=new lr,_r=new lr,br=new lr,wr=new lr,xr=new lr,Sr=new lr,kr=new lr;function Ar(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){kr.fromArray(e,o);const a=i.x*Math.abs(kr.x)+i.y*Math.abs(kr.y)+i.z*Math.abs(kr.z),s=t.dot(kr),l=n.dot(kr),c=r.dot(kr);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const Er=new hr,Cr=new lr,Tr=new lr;class Mr{constructor(e=new lr,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Er.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Cr.subVectors(e,this.center);const t=Cr.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Cr,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Tr.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Cr.copy(e.center).add(Tr)),this.expandByPoint(Cr.copy(e.center).sub(Tr))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Dr=new lr,Lr=new lr,Pr=new lr,Rr=new lr,Ir=new lr,Or=new lr,Fr=new lr;class Br{constructor(e=new lr,t=new lr(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Dr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Dr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Dr.copy(this.direction).multiplyScalar(t).add(this.origin),Dr.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Lr.copy(e).add(t).multiplyScalar(.5),Pr.copy(t).sub(e).normalize(),Rr.copy(this.origin).sub(Lr);const i=.5*e.distanceTo(t),o=-this.direction.dot(Pr),a=Rr.dot(this.direction),s=-Rr.dot(Pr),l=Rr.lengthSq(),c=Math.abs(1-o*o);let u,h,d,p;if(c>0)if(u=o*s-a,h=o*a-s,p=i*c,u>=0)if(h>=-p)if(h<=p){const e=1/c;u*=e,h*=e,d=u*(u+o*h+2*a)+h*(o*u+h+2*s)+l}else h=i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;else h=-i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;else h<=-p?(u=Math.max(0,-(-o*i+a)),h=u>0?-i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l):h<=p?(u=0,h=Math.min(Math.max(-i,-s),i),d=h*(h+2*s)+l):(u=Math.max(0,-(o*i+a)),h=u>0?i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l);else h=o>0?-i:i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(Pr).multiplyScalar(h).add(Lr),d}intersectSphere(e,t){Dr.subVectors(e.center,this.origin);const n=Dr.dot(this.direction),r=Dr.dot(Dr)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Dr)}intersectTriangle(e,t,n,r,i){Ir.subVectors(t,e),Or.subVectors(n,e),Fr.crossVectors(Ir,Or);let o,a=this.direction.dot(Fr);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Rr.subVectors(this.origin,e);const s=o*this.direction.dot(Or.crossVectors(Rr,Or));if(s<0)return null;const l=o*this.direction.dot(Ir.cross(Rr));if(l<0)return null;if(s+l>a)return null;const c=-o*Rr.dot(Fr);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Nr{constructor(){Nr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m){const v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=l,v[6]=c,v[10]=u,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Nr).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/jr.setFromMatrixColumn(e,0).length(),i=1/jr.setFromMatrixColumn(e,1).length(),o=1/jr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Vr,e,Ur)}lookAt(e,t,n){const r=this.elements;return qr.subVectors(e,t),0===qr.lengthSq()&&(qr.z=1),qr.normalize(),Hr.crossVectors(n,qr),0===Hr.lengthSq()&&(1===Math.abs(n.z)?qr.x+=1e-4:qr.z+=1e-4,qr.normalize(),Hr.crossVectors(n,qr)),Hr.normalize(),Gr.crossVectors(qr,Hr),r[0]=Hr.x,r[4]=Gr.x,r[8]=qr.x,r[1]=Hr.y,r[5]=Gr.y,r[9]=qr.y,r[2]=Hr.z,r[6]=Gr.z,r[10]=qr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],_=n[11],b=n[15],w=r[0],x=r[4],S=r[8],k=r[12],A=r[1],E=r[5],C=r[9],T=r[13],M=r[2],D=r[6],L=r[10],P=r[14],R=r[3],I=r[7],O=r[11],F=r[15];return i[0]=o*w+a*A+s*M+l*R,i[4]=o*x+a*E+s*D+l*I,i[8]=o*S+a*C+s*L+l*O,i[12]=o*k+a*T+s*P+l*F,i[1]=c*w+u*A+h*M+d*R,i[5]=c*x+u*E+h*D+d*I,i[9]=c*S+u*C+h*L+d*O,i[13]=c*k+u*T+h*P+d*F,i[2]=p*w+f*A+m*M+v*R,i[6]=p*x+f*E+m*D+v*I,i[10]=p*S+f*C+m*L+v*O,i[14]=p*k+f*T+m*P+v*F,i[3]=g*w+y*A+_*M+b*R,i[7]=g*x+y*E+_*D+b*I,i[11]=g*S+y*C+_*L+b*O,i[15]=g*k+y*T+_*P+b*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*l*u-i*a*h+n*l*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*o*h-r*o*d+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*d-i*o*u+n*o*d+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*h+r*o*u-n*o*h+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11],p=e[12],f=e[13],m=e[14],v=e[15],g=u*m*l-f*h*l+f*s*d-a*m*d-u*s*v+a*h*v,y=p*h*l-c*m*l-p*s*d+o*m*d+c*s*v-o*h*v,_=c*f*l-p*u*l+p*a*d-o*f*d-c*a*v+o*u*v,b=p*u*s-c*f*s-p*a*h+o*f*h+c*a*m-o*u*m,w=t*g+n*y+r*_+i*b;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return e[0]=g*x,e[1]=(f*h*i-u*m*i-f*r*d+n*m*d+u*r*v-n*h*v)*x,e[2]=(a*m*i-f*s*i+f*r*l-n*m*l-a*r*v+n*s*v)*x,e[3]=(u*s*i-a*h*i-u*r*l+n*h*l+a*r*d-n*s*d)*x,e[4]=y*x,e[5]=(c*m*i-p*h*i+p*r*d-t*m*d-c*r*v+t*h*v)*x,e[6]=(p*s*i-o*m*i-p*r*l+t*m*l+o*r*v-t*s*v)*x,e[7]=(o*h*i-c*s*i+c*r*l-t*h*l-o*r*d+t*s*d)*x,e[8]=_*x,e[9]=(p*u*i-c*f*i-p*n*d+t*f*d+c*n*v-t*u*v)*x,e[10]=(o*f*i-p*a*i+p*n*l-t*f*l-o*n*v+t*a*v)*x,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*d-t*a*d)*x,e[12]=b*x,e[13]=(c*f*r-p*u*r+p*n*h-t*f*h-c*n*m+t*u*m)*x,e[14]=(p*a*r-o*f*r-p*n*s+t*f*s+o*n*m-t*a*m)*x,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*h+t*a*h)*x,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,h=i*l,d=i*c,p=i*u,f=o*c,m=o*u,v=a*u,g=s*l,y=s*c,_=s*u,b=n.x,w=n.y,x=n.z;return r[0]=(1-(f+v))*b,r[1]=(d+_)*b,r[2]=(p-y)*b,r[3]=0,r[4]=(d-_)*w,r[5]=(1-(h+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(p+y)*x,r[9]=(m-g)*x,r[10]=(1-(h+f))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=jr.set(r[0],r[1],r[2]).length();const o=jr.set(r[4],r[5],r[6]).length(),a=jr.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],zr.copy(this);const s=1/i,l=1/o,c=1/a;return zr.elements[0]*=s,zr.elements[1]*=s,zr.elements[2]*=s,zr.elements[4]*=l,zr.elements[5]*=l,zr.elements[6]*=l,zr.elements[8]*=c,zr.elements[9]*=c,zr.elements[10]*=c,t.setFromRotationMatrix(zr),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o){const a=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,i,o){const a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(o-i),u=(t+e)*s,h=(n+r)*l,d=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const jr=new lr,zr=new Nr,Vr=new lr(0,0,0),Ur=new lr(1,1,1),Hr=new lr,Gr=new lr,qr=new lr,Wr=new Nr,Yr=new sr;class Xr{constructor(e=0,t=0,n=0,r=Xr.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(wn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-wn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(wn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Wr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Wr,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Yr.setFromEuler(this),this.setFromQuaternion(Yr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Xr.DefaultOrder="XYZ",Xr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Qr{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Kr=0;const Jr=new lr,Zr=new sr,$r=new Nr,ei=new lr,ti=new lr,ni=new lr,ri=new sr,ii=new lr(1,0,0),oi=new lr(0,1,0),ai=new lr(0,0,1),si={type:"added"},li={type:"removed"};class ci extends mn{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Kr++}),this.uuid=bn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ci.DefaultUp.clone();const e=new lr,t=new Xr,n=new sr,r=new lr(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Nr},normalMatrix:{value:new Ln}}),this.matrix=new Nr,this.matrixWorld=new Nr,this.matrixAutoUpdate=ci.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=ci.DefaultMatrixWorldAutoUpdate,this.layers=new Qr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Zr.setFromAxisAngle(e,t),this.quaternion.multiply(Zr),this}rotateOnWorldAxis(e,t){return Zr.setFromAxisAngle(e,t),this.quaternion.premultiply(Zr),this}rotateX(e){return this.rotateOnAxis(ii,e)}rotateY(e){return this.rotateOnAxis(oi,e)}rotateZ(e){return this.rotateOnAxis(ai,e)}translateOnAxis(e,t){return Jr.copy(e).applyQuaternion(this.quaternion),this.position.add(Jr.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ii,e)}translateY(e){return this.translateOnAxis(oi,e)}translateZ(e){return this.translateOnAxis(ai,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4($r.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?ei.copy(e):ei.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),ti.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$r.lookAt(ti,ei,this.up):$r.lookAt(ei,ti,this.up),this.quaternion.setFromRotationMatrix($r),r&&($r.extractRotation(r.matrixWorld),Zr.setFromRotationMatrix($r),this.quaternion.premultiply(Zr.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(si)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(li)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(li)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$r.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),$r.multiply(e.parent.matrixWorld)),e.applyMatrix4($r),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ti,e,ni),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ti,ri,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}}ci.DefaultUp=new lr(0,1,0),ci.DefaultMatrixAutoUpdate=!0,ci.DefaultMatrixWorldAutoUpdate=!0;const ui=new lr,hi=new lr,di=new lr,pi=new lr,fi=new lr,mi=new lr,vi=new lr,gi=new lr,yi=new lr,_i=new lr;class bi{constructor(e=new lr,t=new lr,n=new lr){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),ui.subVectors(e,t),r.cross(ui);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){ui.subVectors(r,t),hi.subVectors(n,t),di.subVectors(e,t);const o=ui.dot(ui),a=ui.dot(hi),s=ui.dot(di),l=hi.dot(hi),c=hi.dot(di),u=o*l-a*a;if(0===u)return i.set(-2,-1,-1);const h=1/u,d=(l*s-a*c)*h,p=(o*c-a*s)*h;return i.set(1-d-p,p,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,pi),pi.x>=0&&pi.y>=0&&pi.x+pi.y<=1}static getUV(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,pi),s.set(0,0),s.addScaledVector(i,pi.x),s.addScaledVector(o,pi.y),s.addScaledVector(a,pi.z),s}static isFrontFacing(e,t,n,r){return ui.subVectors(n,t),hi.subVectors(e,t),ui.cross(hi).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ui.subVectors(this.c,this.b),hi.subVectors(this.a,this.b),.5*ui.cross(hi).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return bi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return bi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return bi.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return bi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return bi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;fi.subVectors(r,n),mi.subVectors(i,n),gi.subVectors(e,n);const s=fi.dot(gi),l=mi.dot(gi);if(s<=0&&l<=0)return t.copy(n);yi.subVectors(e,r);const c=fi.dot(yi),u=mi.dot(yi);if(c>=0&&u<=c)return t.copy(r);const h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(fi,o);_i.subVectors(e,i);const d=fi.dot(_i),p=mi.dot(_i);if(p>=0&&d<=p)return t.copy(i);const f=d*l-s*p;if(f<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(n).addScaledVector(mi,a);const m=c*p-d*u;if(m<=0&&u-c>=0&&d-p>=0)return vi.subVectors(i,r),a=(u-c)/(u-c+(d-p)),t.copy(r).addScaledVector(vi,a);const v=1/(m+f+h);return o=f*v,a=h*v,t.copy(n).addScaledVector(fi,o).addScaledVector(mi,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let wi=0;class xi extends mn{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:wi++}),this.uuid=bn(),this.name="",this.type="Material",this.blending=_,this.side=f,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=R,this.blendDst=I,this.blendEquation=k,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vt,this.stencilZFail=Vt,this.stencilZPass=Vt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==_&&(n.blending=this.blending),this.side!==f&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class Si extends xi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Yn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ki=new lr,Ai=new Dn;class Ei{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=nn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ai.fromBufferAttribute(this,t),Ai.applyMatrix3(e),this.setXY(t,Ai.x,Ai.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)ki.fromBufferAttribute(this,t),ki.applyMatrix3(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ki.fromBufferAttribute(this,t),ki.applyMatrix4(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ki.fromBufferAttribute(this,t),ki.applyNormalMatrix(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ki.fromBufferAttribute(this,t),ki.transformDirection(e),this.setXYZ(t,ki.x,ki.y,ki.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Cn(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Cn(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Cn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Cn(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),r=Tn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==nn&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Ci extends Ei{constructor(e,t,n){super(new Int8Array(e),t,n)}}class Ti extends Ei{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class Mi extends Ei{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class Di extends Ei{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Li extends Ei{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class Pi extends Ei{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Ri extends Ei{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class Ii extends Ei{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}}class Oi extends Ei{constructor(e,t,n){super(new Float32Array(e),t,n)}}class Fi extends Ei{constructor(e,t,n){super(new Float64Array(e),t,n)}}let Bi=0;const Ni=new Nr,ji=new ci,zi=new lr,Vi=new hr,Ui=new hr,Hi=new lr;class Gi extends mn{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Bi++}),this.uuid=bn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Rn(e)?Ri:Li)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Ln).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ni.makeRotationFromQuaternion(e),this.applyMatrix4(Ni),this}rotateX(e){return Ni.makeRotationX(e),this.applyMatrix4(Ni),this}rotateY(e){return Ni.makeRotationY(e),this.applyMatrix4(Ni),this}rotateZ(e){return Ni.makeRotationZ(e),this.applyMatrix4(Ni),this}translate(e,t,n){return Ni.makeTranslation(e,t,n),this.applyMatrix4(Ni),this}scale(e,t,n){return Ni.makeScale(e,t,n),this.applyMatrix4(Ni),this}lookAt(e){return ji.lookAt(e),ji.updateMatrix(),this.applyMatrix4(ji.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zi).negate(),this.translate(zi.x,zi.y,zi.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Oi(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new hr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new lr(-1/0,-1/0,-1/0),new lr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Vi.setFromBufferAttribute(n),this.morphTargetsRelative?(Hi.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(Hi),Hi.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(Hi)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Mr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new lr,1/0);if(e){const n=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];Ui.setFromBufferAttribute(n),this.morphTargetsRelative?(Hi.addVectors(Vi.min,Ui.min),Vi.expandByPoint(Hi),Hi.addVectors(Vi.max,Ui.max),Vi.expandByPoint(Hi)):(Vi.expandByPoint(Ui.min),Vi.expandByPoint(Ui.max))}Vi.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Hi.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Hi));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)Hi.fromBufferAttribute(o,t),a&&(zi.fromBufferAttribute(e,t),Hi.add(zi)),r=Math.max(r,n.distanceToSquared(Hi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Ei(new Float32Array(4*a),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let e=0;e<a;e++)l[e]=new lr,c[e]=new lr;const u=new lr,h=new lr,d=new lr,p=new Dn,f=new Dn,m=new Dn,v=new lr,g=new lr;function y(e,t,n){u.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),p.fromArray(o,2*e),f.fromArray(o,2*t),m.fromArray(o,2*n),h.sub(u),d.sub(u),f.sub(p),m.sub(p);const i=1/(f.x*m.y-m.x*f.y);isFinite(i)&&(v.copy(h).multiplyScalar(m.y).addScaledVector(d,-f.y).multiplyScalar(i),g.copy(d).multiplyScalar(f.x).addScaledVector(h,-m.x).multiplyScalar(i),l[e].add(v),l[t].add(v),l[n].add(v),c[e].add(g),c[t].add(g),c[n].add(g))}let _=this.groups;0===_.length&&(_=[{start:0,count:n.length}]);for(let e=0,t=_.length;e<t;++e){const t=_[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)y(n[e+0],n[e+1],n[e+2])}const b=new lr,w=new lr,x=new lr,S=new lr;function k(e){x.fromArray(i,3*e),S.copy(x);const t=l[e];b.copy(t),b.sub(x.multiplyScalar(x.dot(t))).normalize(),w.crossVectors(S,t);const n=w.dot(c[e])<0?-1:1;s[4*e]=b.x,s[4*e+1]=b.y,s[4*e+2]=b.z,s[4*e+3]=n}for(let e=0,t=_.length;e<t;++e){const t=_[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)k(n[e+0]),k(n[e+1]),k(n[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Ei(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new lr,i=new lr,o=new lr,a=new lr,s=new lr,l=new lr,c=new lr,u=new lr;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),p=e.getX(h+1),f=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,p),o.fromBufferAttribute(t,f),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,d),s.fromBufferAttribute(n,p),l.fromBufferAttribute(n,f),a.add(c),s.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,s.x,s.y,s.z),n.setXYZ(f,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Hi.fromBufferAttribute(e,t),Hi.normalize(),e.setXYZ(t,Hi.x,Hi.y,Hi.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let i=0,l=t.length;i<l;i++){a=e.isInterleavedBufferAttribute?t[i]*e.data.stride+e.offset:t[i]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new Ei(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Gi,n=this.index.array,r=this.attributes;for(const i in r){const o=e(r[i],n);t.setAttribute(i,o)}const i=this.morphAttributes;for(const r in i){const o=[],a=i[r];for(let t=0,r=a.length;t<r;t++){const r=e(a[t],n);o.push(r)}t.morphAttributes[r]=o}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let e=0,n=o.length;e<n;e++){const n=o[e];t.addGroup(n.start,n.count,n.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const r=n[t];e.data.attributes[t]=r.toJSON(e.data)}const r={};let i=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],o=[];for(let t=0,r=n.length;t<r;t++){const r=n[t];o.push(r.toJSON(e.data))}o.length>0&&(r[t]=o,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const e in r){const n=r[e];this.setAttribute(e,n.clone(t))}const i=e.morphAttributes;for(const e in i){const n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let e=0,t=o.length;e<t;e++){const t=o[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const qi=new Nr,Wi=new Br,Yi=new Mr,Xi=new lr,Qi=new lr,Ki=new lr,Ji=new lr,Zi=new lr,$i=new Dn,eo=new Dn,to=new Dn,no=new lr,ro=new lr;class io extends ci{constructor(e=new Gi,t=new Si){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){Zi.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(Ji.fromBufferAttribute(s,e),o?Zi.addScaledVector(Ji,r):Zi.addScaledVector(Ji.sub(t),r))}t.add(Zi)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Yi.copy(n.boundingSphere),Yi.applyMatrix4(i),!1===e.ray.intersectsSphere(Yi))return;if(qi.copy(i).invert(),Wi.copy(e.ray).applyMatrix4(qi),null!==n.boundingBox&&!1===Wi.intersectsBox(n.boundingBox))return;let o;const a=n.index,s=n.attributes.position,l=n.attributes.uv,c=n.attributes.uv2,u=n.groups,h=n.drawRange;if(null!==a)if(Array.isArray(r))for(let n=0,i=u.length;n<i;n++){const i=u[n],s=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));n<r;n+=3){const r=a.getX(n),u=a.getX(n+1),h=a.getX(n+2);o=oo(this,s,e,Wi,l,c,r,u,h),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,t.push(o))}}else{for(let n=Math.max(0,h.start),i=Math.min(a.count,h.start+h.count);n<i;n+=3){const i=a.getX(n),s=a.getX(n+1),u=a.getX(n+2);o=oo(this,r,e,Wi,l,c,i,s,u),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}else if(void 0!==s)if(Array.isArray(r))for(let n=0,i=u.length;n<i;n++){const i=u[n],a=r[i.materialIndex];for(let n=Math.max(i.start,h.start),r=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));n<r;n+=3){o=oo(this,a,e,Wi,l,c,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,t.push(o))}}else{for(let n=Math.max(0,h.start),i=Math.min(s.count,h.start+h.count);n<i;n+=3){o=oo(this,r,e,Wi,l,c,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}}}function oo(e,t,n,r,i,o,a,s,l){e.getVertexPosition(a,Xi),e.getVertexPosition(s,Qi),e.getVertexPosition(l,Ki);const c=function(e,t,n,r,i,o,a,s){let l;if(l=t.side===m?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side===f,s),null===l)return null;ro.copy(s),ro.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(ro);return c<n.near||c>n.far?null:{distance:c,point:ro.clone(),object:e}}(e,t,n,r,Xi,Qi,Ki,no);if(c){i&&($i.fromBufferAttribute(i,a),eo.fromBufferAttribute(i,s),to.fromBufferAttribute(i,l),c.uv=bi.getUV(no,Xi,Qi,Ki,$i,eo,to,new Dn)),o&&($i.fromBufferAttribute(o,a),eo.fromBufferAttribute(o,s),to.fromBufferAttribute(o,l),c.uv2=bi.getUV(no,Xi,Qi,Ki,$i,eo,to,new Dn));const e={a:a,b:s,c:l,normal:new lr,materialIndex:0};bi.getNormal(Xi,Qi,Ki,e.normal),c.face=e}return c}class ao extends Gi{constructor(e=1,t=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let h=0,d=0;function p(e,t,n,r,i,o,p,f,m,v,g){const y=o/m,_=p/v,b=o/2,w=p/2,x=f/2,S=m+1,k=v+1;let A=0,E=0;const C=new lr;for(let o=0;o<k;o++){const a=o*_-w;for(let s=0;s<S;s++){const h=s*y-b;C[e]=h*r,C[t]=a*i,C[n]=x,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=f>0?1:-1,c.push(C.x,C.y,C.z),u.push(s/m),u.push(1-o/v),A+=1}}for(let e=0;e<v;e++)for(let t=0;t<m;t++){const n=h+t+S*e,r=h+t+S*(e+1),i=h+(t+1)+S*(e+1),o=h+(t+1)+S*e;s.push(n,r,o),s.push(r,i,o),E+=6}a.addGroup(d,E,g),d+=E,h+=A}p("z","y","x",-1,-1,n,t,e,o,i,0),p("z","y","x",1,-1,n,t,-e,o,i,1),p("x","z","y",1,1,e,n,t,r,o,2),p("x","z","y",1,-1,e,n,-t,r,o,3),p("x","y","z",1,-1,e,t,n,r,i,4),p("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Oi(l,3)),this.setAttribute("normal",new Oi(c,3)),this.setAttribute("uv",new Oi(u,2))}static fromJSON(e){return new ao(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function so(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function lo(e){const t={};for(let n=0;n<e.length;n++){const r=so(e[n]);for(const e in r)t[e]=r[e]}return t}function co(e){return null===e.getRenderTarget()&&e.outputEncoding===Pt?Nt:jt}const uo={clone:so,merge:lo};class ho extends xi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=so(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class po extends ci{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nr,this.projectionMatrix=new Nr,this.projectionMatrixInverse=new Nr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class fo extends po{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*_n*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*yn*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*_n*Math.atan(Math.tan(.5*yn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*yn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class mo extends ci{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n;const r=new fo(-90,1,e,t);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const i=new fo(-90,1,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);const o=new fo(-90,1,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);const a=new fo(-90,1,e,t);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const s=new fo(-90,1,e,t);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(0,0,1),this.add(s);const l=new fo(-90,1,e,t);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,-1),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,i,o,a,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,h=e.xr.enabled;e.toneMapping=J,e.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=d,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}class vo extends $n{constructor(e,t,n,r,i,o,a,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:ie,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class go extends tr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new vo(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:ge}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new ao(5,5,5),i=new ho({name:"CubemapFromEquirect",uniforms:so(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:m,blending:y});i.uniforms.tEquirect.value=t;const o=new io(r,i),a=t.minFilter;t.minFilter===be&&(t.minFilter=ge);return new mo(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let i=0;i<6;i++)e.setRenderTarget(this,i),e.clear(t,n,r);e.setRenderTarget(i)}}const yo=new lr,_o=new lr,bo=new Ln;class wo{constructor(e=new lr(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=yo.subVectors(n,t).cross(_o.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(yo),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||bo.getNormalMatrix(e),r=this.coplanarPoint(yo).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const xo=new Mr,So=new lr;class ko{constructor(e=new wo,t=new wo,n=new wo,r=new wo,i=new wo,o=new wo){this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(a-r,u-s,f-h,y-m).normalize(),t[1].setComponents(a+r,u+s,f+h,y+m).normalize(),t[2].setComponents(a+i,u+l,f+d,y+v).normalize(),t[3].setComponents(a-i,u-l,f-d,y-v).normalize(),t[4].setComponents(a-o,u-c,f-p,y-g).normalize(),t[5].setComponents(a+o,u+c,f+p,y+g).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),xo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(xo)}intersectsSprite(e){return xo.center.set(0,0,0),xo.radius=.7071067811865476,xo.applyMatrix4(e.matrixWorld),this.intersectsSphere(xo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(So.x=r.normal.x>0?e.max.x:e.min.x,So.y=r.normal.y>0?e.max.y:e.min.y,So.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(So)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Ao(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Eo(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const o=r.get(t);void 0===o?r.set(t,function(t,r){const i=t.array,o=t.usage,a=e.createBuffer();let s;if(e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback(),i instanceof Float32Array)s=5126;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=5131}else s=5123;else if(i instanceof Int16Array)s=5122;else if(i instanceof Uint32Array)s=5125;else if(i instanceof Int32Array)s=5124;else if(i instanceof Int8Array)s=5120;else if(i instanceof Uint8Array)s=5121;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=5121}return{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}class Co extends Gi{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,h=t/s,d=[],p=[],f=[],m=[];for(let e=0;e<c;e++){const t=e*h-o;for(let n=0;n<l;n++){const r=n*u-i;p.push(r,-t,0),f.push(0,0,1),m.push(n/a),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<a;t++){const n=t+l*e,r=t+l*(e+1),i=t+1+l*(e+1),o=t+1+l*e;d.push(n,r,o),d.push(r,i,o)}this.setIndex(d),this.setAttribute("position",new Oi(p,3)),this.setAttribute("normal",new Oi(f,3)),this.setAttribute("uv",new Oi(m,2))}static fromJSON(e){return new Co(e.width,e.height,e.widthSegments,e.heightSegments)}}const To={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Mo={common:{diffuse:{value:new Yn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ln},uv2Transform:{value:new Ln},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Dn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Yn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Yn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ln}},sprite:{diffuse:{value:new Yn(16777215)},opacity:{value:1},center:{value:new Dn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ln}}},Do={basic:{uniforms:lo([Mo.common,Mo.specularmap,Mo.envmap,Mo.aomap,Mo.lightmap,Mo.fog]),vertexShader:To.meshbasic_vert,fragmentShader:To.meshbasic_frag},lambert:{uniforms:lo([Mo.common,Mo.specularmap,Mo.envmap,Mo.aomap,Mo.lightmap,Mo.emissivemap,Mo.bumpmap,Mo.normalmap,Mo.displacementmap,Mo.fog,Mo.lights,{emissive:{value:new Yn(0)}}]),vertexShader:To.meshlambert_vert,fragmentShader:To.meshlambert_frag},phong:{uniforms:lo([Mo.common,Mo.specularmap,Mo.envmap,Mo.aomap,Mo.lightmap,Mo.emissivemap,Mo.bumpmap,Mo.normalmap,Mo.displacementmap,Mo.fog,Mo.lights,{emissive:{value:new Yn(0)},specular:{value:new Yn(1118481)},shininess:{value:30}}]),vertexShader:To.meshphong_vert,fragmentShader:To.meshphong_frag},standard:{uniforms:lo([Mo.common,Mo.envmap,Mo.aomap,Mo.lightmap,Mo.emissivemap,Mo.bumpmap,Mo.normalmap,Mo.displacementmap,Mo.roughnessmap,Mo.metalnessmap,Mo.fog,Mo.lights,{emissive:{value:new Yn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:To.meshphysical_vert,fragmentShader:To.meshphysical_frag},toon:{uniforms:lo([Mo.common,Mo.aomap,Mo.lightmap,Mo.emissivemap,Mo.bumpmap,Mo.normalmap,Mo.displacementmap,Mo.gradientmap,Mo.fog,Mo.lights,{emissive:{value:new Yn(0)}}]),vertexShader:To.meshtoon_vert,fragmentShader:To.meshtoon_frag},matcap:{uniforms:lo([Mo.common,Mo.bumpmap,Mo.normalmap,Mo.displacementmap,Mo.fog,{matcap:{value:null}}]),vertexShader:To.meshmatcap_vert,fragmentShader:To.meshmatcap_frag},points:{uniforms:lo([Mo.points,Mo.fog]),vertexShader:To.points_vert,fragmentShader:To.points_frag},dashed:{uniforms:lo([Mo.common,Mo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:To.linedashed_vert,fragmentShader:To.linedashed_frag},depth:{uniforms:lo([Mo.common,Mo.displacementmap]),vertexShader:To.depth_vert,fragmentShader:To.depth_frag},normal:{uniforms:lo([Mo.common,Mo.bumpmap,Mo.normalmap,Mo.displacementmap,{opacity:{value:1}}]),vertexShader:To.meshnormal_vert,fragmentShader:To.meshnormal_frag},sprite:{uniforms:lo([Mo.sprite,Mo.fog]),vertexShader:To.sprite_vert,fragmentShader:To.sprite_frag},background:{uniforms:{uvTransform:{value:new Ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:To.background_vert,fragmentShader:To.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:To.backgroundCube_vert,fragmentShader:To.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:To.cube_vert,fragmentShader:To.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:To.equirect_vert,fragmentShader:To.equirect_frag},distanceRGBA:{uniforms:lo([Mo.common,Mo.displacementmap,{referencePosition:{value:new lr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:To.distanceRGBA_vert,fragmentShader:To.distanceRGBA_frag},shadow:{uniforms:lo([Mo.lights,Mo.fog,{color:{value:new Yn(0)},opacity:{value:1}}]),vertexShader:To.shadow_vert,fragmentShader:To.shadow_frag}};Do.physical={uniforms:lo([Do.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Dn(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Yn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Dn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Yn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Yn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:To.meshphysical_vert,fragmentShader:To.meshphysical_frag};const Lo={r:0,b:0,g:0};function Po(e,t,n,r,i,o,a){const s=new Yn(0);let l,c,u=!0===o?0:1,h=null,d=0,p=null;function v(t,n){t.getRGB(Lo,co(e)),r.buffers.color.setClear(Lo.r,Lo.g,Lo.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,v(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,v(s,u)},render:function(r,o){let a=!1,g=!0===o.isScene?o.background:null;if(g&&g.isTexture){g=(o.backgroundBlurriness>0?n:t).get(g)}const y=e.xr,_=y.getSession&&y.getSession();_&&"additive"===_.environmentBlendMode&&(g=null),null===g?v(s,u):g&&g.isColor&&(v(g,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===le)?(void 0===c&&(c=new io(new ao(1,1,1),new ho({name:"BackgroundCubeMaterial",uniforms:so(Do.backgroundCube.uniforms),vertexShader:Do.backgroundCube.vertexShader,fragmentShader:Do.backgroundCube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=g,c.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=o.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,c.material.toneMapped=g.encoding!==Pt,h===g&&d===g.version&&p===e.toneMapping||(c.material.needsUpdate=!0,h=g,d=g.version,p=e.toneMapping),c.layers.enableAll(),r.unshift(c,c.geometry,c.material,0,0,null)):g&&g.isTexture&&(void 0===l&&(l=new io(new Co(2,2),new ho({name:"BackgroundMaterial",uniforms:so(Do.background.uniforms),vertexShader:Do.background.vertexShader,fragmentShader:Do.background.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=g,l.material.uniforms.backgroundIntensity.value=o.backgroundIntensity,l.material.toneMapped=g.encoding!==Pt,!0===g.matrixAutoUpdate&&g.updateMatrix(),l.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&d===g.version&&p===e.toneMapping||(l.material.needsUpdate=!0,h=g,d=g.version,p=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null))}}}function Ro(e,t,n,r){const i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=p(null);let c=l,u=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){const t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function m(e){v(e,0)}function v(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function g(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function _(){b(),u=!0,c!==l&&(c=l,h(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,_,b){let w=!1;if(a){const t=function(t,n,i){const a=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[a];void 0===u&&(u=p(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=u);return u}(_,d,l);c!==t&&(c=t,h(c.object)),w=function(e,t,n,r){const i=c.attributes,o=t.attributes;let a=0;const s=n.getAttributes();for(const t in s){if(s[t].location>=0){const n=i[t];let r=o[t];if(void 0===r&&("instanceMatrix"===t&&e.instanceMatrix&&(r=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;a++}}return c.attributesNum!==a||c.index!==r}(i,_,d,b),w&&function(e,t,n,r){const i={},o=t.attributes;let a=0;const s=n.getAttributes();for(const t in s){if(s[t].location>=0){let n=o[t];void 0===n&&("instanceMatrix"===t&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,a++}}c.attributes=i,c.attributesNum=a,c.index=r}(i,_,d,b)}else{const e=!0===l.wireframe;c.geometry===_.id&&c.program===d.id&&c.wireframe===e||(c.geometry=_.id,c.program=d.id,c.wireframe=e,w=!0)}null!==b&&n.update(b,34963),(w||u)&&(u=!1,function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const r=c[t];if(r.location>=0){let o=l[t];if(void 0===o&&("instanceMatrix"===t&&i.instanceMatrix&&(o=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(o=i.instanceColor)),void 0!==o){const t=o.normalized,a=o.itemSize,l=n.get(o);if(void 0===l)continue;const c=l.buffer,u=l.type,h=l.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,l=n.stride,d=o.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)v(r.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,a/r.locationSize,u,t,l*h,(d+a/r.locationSize*e)*h)}else{if(o.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)v(r.location+e,o.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let e=0;e<r.locationSize;e++)m(r.location+e);e.bindBuffer(34962,c);for(let e=0;e<r.locationSize;e++)y(r.location+e,a/r.locationSize,u,t,a*h,a/r.locationSize*e*h)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r.location,n);break;case 3:e.vertexAttrib3fv(r.location,n);break;case 4:e.vertexAttrib4fv(r.location,n);break;default:e.vertexAttrib1fv(r.location,n)}}}}g()}(i,l,d,_),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:_,resetDefaultState:b,dispose:function(){_();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const n=t[e];for(const e in n)d(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)d(r[e].object),delete r[e];delete n[e.id]}},initAttributes:f,enableAttribute:m,disableUnusedAttributes:g}}function Io(e,t,n,r){const i=r.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,r){e.drawArrays(o,t,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}}function Oo(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=o||t.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,u=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),f=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=h>0,_=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:y&&_,maxSamples:o?e.getParameter(36183):0}}function Fo(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new wo,s=new Ln,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=r;t!==o;++t,n+=4)a.copy(e[t]).applyMatrix4(i,s),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){const a=0!==e.length||t||0!==r||i;return i=t,n=u(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(t,a,s){const h=t.clippingPlanes,d=t.clipIntersection,p=t.clipShadows,f=e.get(t);if(!i||null===h||0===h.length||o&&!p)o?u(null):c();else{const e=o?0:r,t=4*e;let i=f.clippingState||null;l.value=i,i=u(h,a,t,s);for(let e=0;e!==t;++e)i[e]=n[e];f.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function Bo(e){let t=new WeakMap;function n(e,t){return t===ae?e.mapping=ie:t===se&&(e.mapping=oe),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){const o=i.mapping;if(o===ae||o===se){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=new go(o.height/2);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class No extends po{constructor(e=-1,t=1,n=1,r=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const jo=[.125,.215,.35,.446,.526,.582],zo=new No,Vo=new Yn;let Uo=null;const Ho=(1+Math.sqrt(5))/2,Go=1/Ho,qo=[new lr(1,1,1),new lr(-1,1,1),new lr(1,1,-1),new lr(-1,1,-1),new lr(0,Ho,Go),new lr(0,Ho,-Go),new lr(Go,0,Ho),new lr(-Go,0,Ho),new lr(Ho,Go,0),new lr(-Ho,Go,0)];class Wo{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Uo=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ko(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Qo(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Uo),e.scissorTest=!1,Xo(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ie||e.mapping===oe?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Uo=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:ge,minFilter:ge,generateMipmaps:!1,type:Me,format:Oe,encoding:Lt,depthBuffer:!1},r=Yo(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Yo(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-4+1+jo.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>e-4?s=jo[a-e+4-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],d=6,p=6,f=3,m=2,v=1,g=new Float32Array(f*p*d),y=new Float32Array(m*p*d),_=new Float32Array(v*p*d);for(let e=0;e<d;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(r,f*p*e),y.set(h,m*p*e);const i=[e,e,e,e,e,e];_.set(i,v*p*e)}const b=new Gi;b.setAttribute("position",new Ei(g,f)),b.setAttribute("uv",new Ei(y,m)),b.setAttribute("faceIndex",new Ei(_,v)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(20),i=new lr(0,1,0);return new ho({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:e+".0"},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Jo(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:y,depthTest:!1,depthWrite:!1})}(r,e,t)}return r}_compileMaterial(e){const t=new io(this._lodPlanes[0],e);this._renderer.compile(t,zo)}_sceneToCubeUV(e,t,n,r){const i=new fo(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(Vo),s.toneMapping=J,s.autoClear=!1;const u=new Si({name:"PMREM.Background",side:m,depthWrite:!1,depthTest:!1}),h=new io(new ao,u);let d=!1;const p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,d=!0):(u.color.copy(Vo),d=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(i.up.set(0,o[t],0),i.lookAt(a[t],0,0)):1===n?(i.up.set(0,0,o[t]),i.lookAt(0,a[t],0)):(i.up.set(0,o[t],0),i.lookAt(0,0,a[t]));const l=this._cubeSize;Xo(r,n*l,t>2?l:0,l,l),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===ie||e.mapping===oe;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ko()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Qo());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new io(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;Xo(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,zo)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),r=qo[(t-1)%qo.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new io(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,p=i/d,f=isFinite(i)?1+Math.floor(3*p):20;f>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const m=[];let v=0;for(let e=0;e<20;++e){const t=e/p,n=Math.exp(-t*t/2);m.push(n),0===e?v+=n:e<f&&(v+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/v;u.envMap.value=e.texture,u.samples.value=f,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a);const{_lodMax:g}=this;u.dTheta.value=d,u.mipInt.value=g-n;const y=this._sizeLods[r];Xo(t,3*y*(r>g-4?r-g+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,zo)}}function Yo(e,t,n){const r=new tr(e,t,n);return r.texture.mapping=le,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Xo(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Qo(){return new ho({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Jo(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:y,depthTest:!1,depthWrite:!1})}function Ko(){return new ho({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Jo(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:y,depthTest:!1,depthWrite:!1})}function Jo(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Zo(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,a=o===ae||o===se,s=o===ie||o===oe;if(a||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;let r=t.get(i);return null===n&&(n=new Wo(e)),r=a?n.fromEquirectangular(i,r):n.fromCubemap(i,r),t.set(i,r),r.texture}if(t.has(i))return t.get(i).texture;{const o=i.image;if(a&&o&&o.height>0||s&&o&&function(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(o)){null===n&&(n=new Wo(e));const o=a?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,o),i.addEventListener("dispose",r),o.texture}return null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function $o(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function ea(e,t,n,r){const i={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(Rn(n)?Ri:Li)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(e){const n=e.attributes;for(const e in n)t.update(n[e],34962);const r=e.morphAttributes;for(const e in r){const n=r[e];for(let e=0,r=n.length;e<r;e++)t.update(n[e],34962)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function ta(e,t,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(e){o=e},this.setIndex=function(e){a=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(o,r,a,t*s),n.update(r,o,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,h;if(i)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,a,r*s,c),n.update(l,o,c)}}function na(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ra(e,t){return e[0]-t[0]}function ia(e,t){return Math.abs(t[1])-Math.abs(e[1])}function oa(e,t,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new er,s=[];for(let e=0;e<8;e++)s[e]=[e,0];return{update:function(l,c,u,h){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const r=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,i=void 0!==r?r.length:0;let s=o.get(c);if(void 0===s||s.count!==i){void 0!==s&&s.texture.dispose();const e=void 0!==c.morphAttributes.position,n=void 0!==c.morphAttributes.normal,r=void 0!==c.morphAttributes.color,l=c.morphAttributes.position||[],u=c.morphAttributes.normal||[],h=c.morphAttributes.color||[];let d=0;!0===e&&(d=1),!0===n&&(d=2),!0===r&&(d=3);let p=c.attributes.position.count*d,f=1;p>t.maxTextureSize&&(f=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const m=new Float32Array(p*f*4*i),v=new nr(m,p,f,i);v.type=Te,v.needsUpdate=!0;const g=4*d;for(let t=0;t<i;t++){const i=l[t],o=u[t],s=h[t],c=p*f*4*t;for(let t=0;t<i.count;t++){const l=t*g;!0===e&&(a.fromBufferAttribute(i,t),m[c+l+0]=a.x,m[c+l+1]=a.y,m[c+l+2]=a.z,m[c+l+3]=0),!0===n&&(a.fromBufferAttribute(o,t),m[c+l+4]=a.x,m[c+l+5]=a.y,m[c+l+6]=a.z,m[c+l+7]=0),!0===r&&(a.fromBufferAttribute(s,t),m[c+l+8]=a.x,m[c+l+9]=a.y,m[c+l+10]=a.z,m[c+l+11]=4===s.itemSize?a.w:1)}}s={count:i,texture:v,size:new Dn(p,f)},o.set(c,s),c.addEventListener("dispose",(function e(){v.dispose(),o.delete(c),c.removeEventListener("dispose",e)}))}let l=0;for(let e=0;e<d.length;e++)l+=d[e];const u=c.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",u),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",s.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",s.size)}else{const t=void 0===d?0:d.length;let n=r[c.id];if(void 0===n||n.length!==t){n=[];for(let e=0;e<t;e++)n[e]=[e,0];r[c.id]=n}for(let e=0;e<t;e++){const t=n[e];t[0]=e,t[1]=d[e]}n.sort(ia);for(let e=0;e<8;e++)e<t&&n[e][1]?(s[e][0]=n[e][0],s[e][1]=n[e][1]):(s[e][0]=Number.MAX_SAFE_INTEGER,s[e][1]=0);s.sort(ra);const o=c.morphAttributes.position,a=c.morphAttributes.normal;let l=0;for(let e=0;e<8;e++){const t=s[e],n=t[0],r=t[1];n!==Number.MAX_SAFE_INTEGER&&r?(o&&c.getAttribute("morphTarget"+e)!==o[n]&&c.setAttribute("morphTarget"+e,o[n]),a&&c.getAttribute("morphNormal"+e)!==a[n]&&c.setAttribute("morphNormal"+e,a[n]),i[e]=r,l+=r):(o&&!0===c.hasAttribute("morphTarget"+e)&&c.deleteAttribute("morphTarget"+e),a&&!0===c.hasAttribute("morphNormal"+e)&&c.deleteAttribute("morphNormal"+e),i[e]=0)}const u=c.morphTargetsRelative?1:1-l;h.getUniforms().setValue(e,"morphTargetBaseInfluence",u),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function aa(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){const a=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==a&&(t.update(l),i.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}const sa=new $n,la=new nr,ca=new ir,ua=new vo,ha=[],da=[],pa=new Float32Array(16),fa=new Float32Array(9),ma=new Float32Array(4);function va(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=ha[i];if(void 0===o&&(o=new Float32Array(i),ha[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function ga(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ya(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function _a(e,t){let n=da[t];void 0===n&&(n=new Int32Array(t),da[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ba(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function wa(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ga(n,t))return;e.uniform2fv(this.addr,t),ya(n,t)}}function xa(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ga(n,t))return;e.uniform3fv(this.addr,t),ya(n,t)}}function Sa(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ga(n,t))return;e.uniform4fv(this.addr,t),ya(n,t)}}function ka(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ga(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ya(n,t)}else{if(ga(n,r))return;ma.set(r),e.uniformMatrix2fv(this.addr,!1,ma),ya(n,r)}}function Aa(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ga(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ya(n,t)}else{if(ga(n,r))return;fa.set(r),e.uniformMatrix3fv(this.addr,!1,fa),ya(n,r)}}function Ea(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ga(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ya(n,t)}else{if(ga(n,r))return;pa.set(r),e.uniformMatrix4fv(this.addr,!1,pa),ya(n,r)}}function Ca(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Ta(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ga(n,t))return;e.uniform2iv(this.addr,t),ya(n,t)}}function Ma(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ga(n,t))return;e.uniform3iv(this.addr,t),ya(n,t)}}function Da(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ga(n,t))return;e.uniform4iv(this.addr,t),ya(n,t)}}function La(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Pa(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ga(n,t))return;e.uniform2uiv(this.addr,t),ya(n,t)}}function Ra(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ga(n,t))return;e.uniform3uiv(this.addr,t),ya(n,t)}}function Ia(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ga(n,t))return;e.uniform4uiv(this.addr,t),ya(n,t)}}function Oa(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||sa,i)}function Fa(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ca,i)}function Ba(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||ua,i)}function Na(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||la,i)}function ja(e,t){e.uniform1fv(this.addr,t)}function za(e,t){const n=va(t,this.size,2);e.uniform2fv(this.addr,n)}function Va(e,t){const n=va(t,this.size,3);e.uniform3fv(this.addr,n)}function Ua(e,t){const n=va(t,this.size,4);e.uniform4fv(this.addr,n)}function Ha(e,t){const n=va(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Ga(e,t){const n=va(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function qa(e,t){const n=va(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Wa(e,t){e.uniform1iv(this.addr,t)}function Ya(e,t){e.uniform2iv(this.addr,t)}function Xa(e,t){e.uniform3iv(this.addr,t)}function Qa(e,t){e.uniform4iv(this.addr,t)}function Ka(e,t){e.uniform1uiv(this.addr,t)}function Ja(e,t){e.uniform2uiv(this.addr,t)}function Za(e,t){e.uniform3uiv(this.addr,t)}function $a(e,t){e.uniform4uiv(this.addr,t)}function es(e,t,n){const r=this.cache,i=t.length,o=_a(n,i);ga(r,o)||(e.uniform1iv(this.addr,o),ya(r,o));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||sa,o[e])}function ts(e,t,n){const r=this.cache,i=t.length,o=_a(n,i);ga(r,o)||(e.uniform1iv(this.addr,o),ya(r,o));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||ca,o[e])}function ns(e,t,n){const r=this.cache,i=t.length,o=_a(n,i);ga(r,o)||(e.uniform1iv(this.addr,o),ya(r,o));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||ua,o[e])}function rs(e,t,n){const r=this.cache,i=t.length,o=_a(n,i);ga(r,o)||(e.uniform1iv(this.addr,o),ya(r,o));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||la,o[e])}class is{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ba;case 35664:return wa;case 35665:return xa;case 35666:return Sa;case 35674:return ka;case 35675:return Aa;case 35676:return Ea;case 5124:case 35670:return Ca;case 35667:case 35671:return Ta;case 35668:case 35672:return Ma;case 35669:case 35673:return Da;case 5125:return La;case 36294:return Pa;case 36295:return Ra;case 36296:return Ia;case 35678:case 36198:case 36298:case 36306:case 35682:return Oa;case 35679:case 36299:case 36307:return Fa;case 35680:case 36300:case 36308:case 36293:return Ba;case 36289:case 36303:case 36311:case 36292:return Na}}(t.type)}}class os{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return ja;case 35664:return za;case 35665:return Va;case 35666:return Ua;case 35674:return Ha;case 35675:return Ga;case 35676:return qa;case 5124:case 35670:return Wa;case 35667:case 35671:return Ya;case 35668:case 35672:return Xa;case 35669:case 35673:return Qa;case 5125:return Ka;case 36294:return Ja;case 36295:return Za;case 36296:return $a;case 35678:case 36198:case 36298:case 36306:case 35682:return es;case 35679:case 36299:case 36307:return ts;case 35680:case 36300:case 36308:case 36293:return ns;case 36289:case 36303:case 36311:case 36292:return rs}}(t.type)}}class as{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const ss=/(\w+)(\])?(\[|\.)?/g;function ls(e,t){e.seq.push(t),e.map[t.id]=t}function cs(e,t,n){const r=e.name,i=r.length;for(ss.lastIndex=0;;){const o=ss.exec(r),a=ss.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){ls(n,void 0===c?new is(s,e,t):new os(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new as(s),ls(n,e)),n=e}}}class us{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);cs(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function hs(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let ds=0;function ps(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let e=i;e<o;e++){const i=e+1;r.push(`${i===t?">":" "} ${i}: ${n[e]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function fs(e,t){const n=function(e){switch(e){case Lt:return["Linear","( value )"];case Pt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ms(e,t){let n;switch(t){case Z:n="Linear";break;case $:n="Reinhard";break;case ee:n="OptimizedCineon";break;case te:n="ACESFilmic";break;case ne:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function vs(e){return""!==e}function gs(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ys(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const _s=/^[ \t]*#include +<([\w\d./]+)>/gm;function bs(e){return e.replace(_s,ws)}function ws(e,t){const n=To[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return bs(n)}const xs=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ss(e){return e.replace(xs,ks)}function ks(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function As(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Es(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===h?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===d?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===p&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ie:case oe:t="ENVMAP_TYPE_CUBE";break;case le:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case oe:t="ENVMAP_MODE_REFRACTION"}return t}(n),f=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case X:t="ENVMAP_BLENDING_MULTIPLY";break;case Q:t="ENVMAP_BLENDING_MIX";break;case K:t="ENVMAP_BLENDING_ADD"}return t}(n),m=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(vs).join("\n")}(n),g=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),y=i.createProgram();let _,b,w=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(_=[g].filter(vs).join("\n"),_.length>0&&(_+="\n"),b=[v,g].filter(vs).join("\n"),b.length>0&&(b+="\n")):(_=[As(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(vs).join("\n"),b=[v,As(n),"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==J?"#define TONE_MAPPING":"",n.toneMapping!==J?To.tonemapping_pars_fragment:"",n.toneMapping!==J?ms("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",To.encodings_pars_fragment,fs("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(vs).join("\n")),a=bs(a),a=gs(a,n),a=ys(a,n),s=bs(s),s=gs(s,n),s=ys(s,n),a=Ss(a),s=Ss(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(w="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,b=["#define varying in",n.glslVersion===pn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const x=w+b+s,S=hs(i,35633,w+_+a),k=hs(i,35632,x);if(i.attachShader(y,S),i.attachShader(y,k),void 0!==n.index0AttributeName?i.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(y).trim(),t=i.getShaderInfoLog(S).trim(),n=i.getShaderInfoLog(k).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(y,35714)){r=!1;const t=ps(i,S,"vertex"),n=ps(i,k,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+n)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:_},fragmentShader:{log:n,prefix:b}})}let A,E;return i.deleteShader(S),i.deleteShader(k),this.getUniforms=function(){return void 0===A&&(A=new us(i,y)),A},this.getAttributes=function(){return void 0===E&&(E=function(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let a=1;35674===r.type&&(a=2),35675===r.type&&(a=3),35676===r.type&&(a=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}(i,y)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=ds++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=S,this.fragmentShader=k,this}let Cs=0;class Ts{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new Ms(e),t.set(e,n)),n}}class Ms{constructor(e){this.id=Cs++,this.code=e,this.usedTimes=0}}function Ds(e,t,n,r,i,o,a){const s=new Qr,l=new Ts,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(o,s,c,g,y){const b=g.fog,w=y.geometry,x=o.isMeshStandardMaterial?g.environment:null,S=(o.isMeshStandardMaterial?n:t).get(o.envMap||x),k=S&&S.mapping===le?S.image.height:null,A=f[o.type];null!==o.precision&&(p=i.getMaxPrecision(o.precision),p!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",p,"instead."));const E=w.morphAttributes.position||w.morphAttributes.normal||w.morphAttributes.color,C=void 0!==E?E.length:0;let T,M,D,L,P=0;if(void 0!==w.morphAttributes.position&&(P=1),void 0!==w.morphAttributes.normal&&(P=2),void 0!==w.morphAttributes.color&&(P=3),A){const e=Do[A];T=e.vertexShader,M=e.fragmentShader}else T=o.vertexShader,M=o.fragmentShader,l.update(o),D=l.getVertexShaderID(o),L=l.getFragmentShaderID(o);const R=e.getRenderTarget(),I=o.alphaTest>0,O=o.clearcoat>0,F=o.iridescence>0;return{isWebGL2:u,shaderID:A,shaderName:o.type,vertexShader:T,fragmentShader:M,defines:o.defines,customVertexShaderID:D,customFragmentShaderID:L,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:p,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:d,outputEncoding:null===R?e.outputEncoding:!0===R.isXRRenderTarget?R.texture.encoding:Lt,map:!!o.map,matcap:!!o.matcap,envMap:!!S,envMapMode:S&&S.mapping,envMapCubeUVHeight:k,lightMap:!!o.lightMap,aoMap:!!o.aoMap,emissiveMap:!!o.emissiveMap,bumpMap:!!o.bumpMap,normalMap:!!o.normalMap,objectSpaceNormalMap:o.normalMapType===Ft,tangentSpaceNormalMap:o.normalMapType===Ot,decodeVideoTexture:!!o.map&&!0===o.map.isVideoTexture&&o.map.encoding===Pt,clearcoat:O,clearcoatMap:O&&!!o.clearcoatMap,clearcoatRoughnessMap:O&&!!o.clearcoatRoughnessMap,clearcoatNormalMap:O&&!!o.clearcoatNormalMap,iridescence:F,iridescenceMap:F&&!!o.iridescenceMap,iridescenceThicknessMap:F&&!!o.iridescenceThicknessMap,displacementMap:!!o.displacementMap,roughnessMap:!!o.roughnessMap,metalnessMap:!!o.metalnessMap,specularMap:!!o.specularMap,specularIntensityMap:!!o.specularIntensityMap,specularColorMap:!!o.specularColorMap,opaque:!1===o.transparent&&o.blending===_,alphaMap:!!o.alphaMap,alphaTest:I,gradientMap:!!o.gradientMap,sheen:o.sheen>0,sheenColorMap:!!o.sheenColorMap,sheenRoughnessMap:!!o.sheenRoughnessMap,transmission:o.transmission>0,transmissionMap:!!o.transmissionMap,thicknessMap:!!o.thicknessMap,combine:o.combine,vertexTangents:!!o.normalMap&&!!w.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!w.attributes.color&&4===w.attributes.color.itemSize,vertexUvs:!!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatMap||o.clearcoatRoughnessMap||o.clearcoatNormalMap||o.iridescenceMap||o.iridescenceThicknessMap||o.displacementMap||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheenColorMap||o.sheenRoughnessMap),uvsVertexOnly:!(o.map||o.bumpMap||o.normalMap||o.specularMap||o.alphaMap||o.emissiveMap||o.roughnessMap||o.metalnessMap||o.clearcoatNormalMap||o.iridescenceMap||o.iridescenceThicknessMap||o.transmission>0||o.transmissionMap||o.thicknessMap||o.specularIntensityMap||o.specularColorMap||o.sheen>0||o.sheenColorMap||o.sheenRoughnessMap||!o.displacementMap),fog:!!b,useFog:!0===o.fog,fogExp2:b&&b.isFogExp2,flatShading:!!o.flatShading,sizeAttenuation:o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==w.morphAttributes.position,morphNormals:void 0!==w.morphAttributes.normal,morphColors:void 0!==w.morphAttributes.color,morphTargetsCount:C,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:J,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===v,flipSided:o.side===m,useDepthPacking:!!o.depthPacking,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:o.extensions&&o.extensions.derivatives,extensionFragDepth:o.extensions&&o.extensions.fragDepth,extensionDrawBuffers:o.extensions&&o.extensions.drawBuffers,extensionShaderTextureLOD:o.extensions&&o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=f[e.type];let n;if(t){const e=Do[t];n=uo.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,t=c.length;e<t;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Es(e,n,t,o),c.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Ls(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ps(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Rs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Is(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ps),r.length>1&&r.sort(t||Rs),i.length>1&&i.sort(t||Rs)}}}function Os(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Is,e.set(t,[i])):n>=r.length?(i=new Is,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Fs(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new lr,color:new Yn};break;case"SpotLight":n={position:new lr,direction:new lr,color:new Yn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new lr,color:new Yn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new lr,skyColor:new Yn,groundColor:new Yn};break;case"RectAreaLight":n={color:new Yn,position:new lr,halfWidth:new lr,halfHeight:new lr}}return e[t.id]=n,n}}}let Bs=0;function Ns(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function js(e,t){const n=new Fs,r=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Dn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let e=0;e<9;e++)i.probe.push(new lr);const o=new lr,a=new Nr,s=new Nr;return{setup:function(o,a){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,h=0,d=0,p=0,f=0,m=0,v=0,g=0,y=0,_=0;o.sort(Ns);const b=!0!==a?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],a=t.color,w=t.intensity,x=t.distance,S=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=a.r*w*b,l+=a.g*w*b,c+=a.b*w*b;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],w);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=S,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(w*b),e.distance=x,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[d]=e;const o=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,o.updateMatrices(t),t.castShadow&&_++),i.spotLightMatrix[d]=o.matrix,t.castShadow){const e=r.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,i.spotShadow[d]=e,i.spotShadowMap[d]=S,g++}d++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(a).multiplyScalar(w),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[p]=e,p++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*b),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[h]=n,i.pointShadowMap[h]=S,i.pointShadowMatrix[h]=t.shadow.matrix,v++}i.point[h]=e,h++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(w*b),e.groundColor.copy(t.groundColor).multiplyScalar(w*b),i.hemi[f]=e,f++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=Mo.LTC_FLOAT_1,i.rectAreaLTC2=Mo.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=Mo.LTC_HALF_1,i.rectAreaLTC2=Mo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const w=i.hash;w.directionalLength===u&&w.pointLength===h&&w.spotLength===d&&w.rectAreaLength===p&&w.hemiLength===f&&w.numDirectionalShadows===m&&w.numPointShadows===v&&w.numSpotShadows===g&&w.numSpotMaps===y||(i.directional.length=u,i.spot.length=d,i.rectArea.length=p,i.point.length=h,i.hemi.length=f,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=g+y-_,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=_,w.directionalLength=u,w.pointLength=h,w.spotLength=d,w.rectAreaLength=p,w.hemiLength=f,w.numDirectionalShadows=m,w.numPointShadows=v,w.numSpotShadows=g,w.numSpotMaps=y,i.version=Bs++)},setupView:function(e,t){let n=0,r=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let t=0,d=e.length;t<d;t++){const d=e[t];if(d.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(d.matrixWorld),o.setFromMatrixPosition(d.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),n++}else if(d.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(d.matrixWorld),o.setFromMatrixPosition(d.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(h),l++}else if(d.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),s.identity(),a.copy(d.matrixWorld),a.premultiply(h),s.extractRotation(a),e.halfWidth.set(.5*d.width,0,0),e.halfHeight.set(0,.5*d.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(d.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(d.matrixWorld),e.position.applyMatrix4(h),r++}else if(d.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(d.matrixWorld),e.direction.transformDirection(h),u++}}},state:i}}function zs(e,t){const n=new js(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Vs(e,t){let n=new WeakMap;return{get:function(r,i=0){const o=n.get(r);let a;return void 0===o?(a=new zs(e,t),n.set(r,[a])):i>=o.length?(a=new zs(e,t),o.push(a)):a=o[i],a},dispose:function(){n=new WeakMap}}}class Us extends xi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Rt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Hs extends xi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new lr,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Gs(e,t,n){let r=new ko;const i=new Dn,o=new Dn,a=new er,s=new Us({depthPacking:It}),l=new Hs,c={},u=n.maxTextureSize,d={0:m,1:f,2:v},g=new ho({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Dn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),_=g.clone();_.defines.HORIZONTAL_PASS=1;const b=new Gi;b.setAttribute("position",new Ei(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new io(b,g),x=this;function S(n,r){const o=t.update(w);g.defines.VSM_SAMPLES!==n.blurSamples&&(g.defines.VSM_SAMPLES=n.blurSamples,_.defines.VSM_SAMPLES=n.blurSamples,g.needsUpdate=!0,_.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new tr(i.x,i.y)),g.uniforms.shadow_pass.value=n.map.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,g,w,null),_.uniforms.shadow_pass.value=n.mapPass.texture,_.uniforms.resolution.value=n.mapSize,_.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,_,w,null)}function k(t,n,r,i,o,a){let u=null;const h=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==h)u=h;else if(u=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=u.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=u.clone(),r[t]=i),u=i}return u.visible=n.visible,u.wireframe=n.wireframe,u.side=a===p?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],u.alphaMap=n.alphaMap,u.alphaTest=n.alphaTest,u.map=n.map,u.clipShadows=n.clipShadows,u.clippingPlanes=n.clippingPlanes,u.clipIntersection=n.clipIntersection,u.displacementMap=n.displacementMap,u.displacementScale=n.displacementScale,u.displacementBias=n.displacementBias,u.wireframeLinewidth=n.wireframeLinewidth,u.linewidth=n.linewidth,!0===r.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(r.matrixWorld),u.nearDistance=i,u.farDistance=o),u}function A(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===p)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=k(n,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,r,t,n,c)}}}else if(i.visible){const t=k(n,i,a,o.near,o.far,s);e.renderBufferDirect(o,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)A(l[e],i,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=h,this.render=function(t,n,s){if(!1===x.enabled)return;if(!1===x.autoUpdate&&!1===x.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(y),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let l=0,c=t.length;l<c;l++){const c=t[l],h=c.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;i.copy(h.mapSize);const f=h.getFrameExtents();if(i.multiply(f),o.copy(h.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/f.x),i.x=o.x*f.x,h.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/f.y),i.y=o.y*f.y,h.mapSize.y=o.y)),null===h.map){const e=this.type!==p?{minFilter:de,magFilter:de}:{};h.map=new tr(i.x,i.y,e),h.map.texture.name=c.name+".shadowMap",h.camera.updateProjectionMatrix()}e.setRenderTarget(h.map),e.clear();const m=h.getViewportCount();for(let e=0;e<m;e++){const t=h.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(a),h.updateMatrices(c,e),r=h.getFrustum(),A(n,s,h.camera,c,this.type)}!0!==h.isPointLightShadow&&this.type===p&&S(h,s),h.needsUpdate=!1}x.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function qs(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new er;let r=null;const i=new er(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?we(2929):xe(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case z:e.depthFunc(512);break;case V:e.depthFunc(519);break;case U:e.depthFunc(513);break;case H:e.depthFunc(515);break;case G:e.depthFunc(514);break;case q:e.depthFunc(518);break;case W:e.depthFunc(516);break;case Y:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},c=new function(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?we(2960):xe(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},u=new WeakMap,h=new WeakMap;let d={},p={},f=new WeakMap,g=[],X=null,Q=!1,K=null,J=null,Z=null,$=null,ee=null,te=null,ne=null,re=!1,ie=null,oe=null,ae=null,se=null,le=null;const ce=e.getParameter(35661);let ue=!1,he=0;const de=e.getParameter(7938);-1!==de.indexOf("WebGL")?(he=parseFloat(/^WebGL (\d)/.exec(de)[1]),ue=he>=1):-1!==de.indexOf("OpenGL ES")&&(he=parseFloat(/^OpenGL ES (\d)/.exec(de)[1]),ue=he>=2);let pe=null,fe={};const me=e.getParameter(3088),ve=e.getParameter(2978),ge=(new er).fromArray(me),ye=(new er).fromArray(ve);function _e(t,n,r){const i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<r;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,i);return o}const be={};function we(t){!0!==d[t]&&(e.enable(t),d[t]=!0)}function xe(t){!1!==d[t]&&(e.disable(t),d[t]=!1)}be[3553]=_e(3553,3553,1),be[34067]=_e(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),c.setClear(0),we(2929),o.setFunc(H),Ee(!1),Ce(s),we(2884),Ae(y);const Se={[k]:32774,[A]:32778,[E]:32779};if(r)Se[C]=32775,Se[T]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(Se[C]=e.MIN_EXT,Se[T]=e.MAX_EXT)}const ke={[M]:0,[D]:1,[L]:768,[R]:770,[j]:776,[B]:774,[O]:772,[P]:769,[I]:771,[N]:775,[F]:773};function Ae(t,n,r,i,o,a,s,l){if(t!==y){if(!1===Q&&(we(3042),Q=!0),t===S)o=o||n,a=a||r,s=s||i,n===J&&o===ee||(e.blendEquationSeparate(Se[n],Se[o]),J=n,ee=o),r===Z&&i===$&&a===te&&s===ne||(e.blendFuncSeparate(ke[r],ke[i],ke[a],ke[s]),Z=r,$=i,te=a,ne=s),K=t,re=!1;else if(t!==K||l!==re){if(J===k&&ee===k||(e.blendEquation(32774),J=k,ee=k),l)switch(t){case _:e.blendFuncSeparate(1,771,1,771);break;case b:e.blendFunc(1,1);break;case w:e.blendFuncSeparate(0,769,0,1);break;case x:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case _:e.blendFuncSeparate(770,771,1,771);break;case b:e.blendFunc(770,1);break;case w:e.blendFuncSeparate(0,769,0,1);break;case x:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}Z=null,$=null,te=null,ne=null,K=t,re=l}}else!0===Q&&(xe(3042),Q=!1)}function Ee(t){ie!==t&&(t?e.frontFace(2304):e.frontFace(2305),ie=t)}function Ce(t){t!==a?(we(2884),t!==oe&&(t===s?e.cullFace(1029):t===l?e.cullFace(1028):e.cullFace(1032))):xe(2884),oe=t}function Te(t,n,r){t?(we(32823),se===n&&le===r||(e.polygonOffset(n,r),se=n,le=r)):xe(32823)}return{buffers:{color:i,depth:o,stencil:c},enable:we,disable:xe,bindFramebuffer:function(t,n){return p[t]!==n&&(e.bindFramebuffer(t,n),p[t]=n,r&&(36009===t&&(p[36160]=n),36160===t&&(p[36009]=n)),!0)},drawBuffers:function(r,i){let o=g,a=!1;if(r)if(o=f.get(i),void 0===o&&(o=[],f.set(i,o)),r.isWebGLMultipleRenderTargets){const e=r.texture;if(o.length!==e.length||36064!==o[0]){for(let t=0,n=e.length;t<n;t++)o[t]=36064+t;o.length=e.length,a=!0}}else 36064!==o[0]&&(o[0]=36064,a=!0);else 1029!==o[0]&&(o[0]=1029,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))},useProgram:function(t){return X!==t&&(e.useProgram(t),X=t,!0)},setBlending:Ae,setMaterial:function(e,t){e.side===v?xe(2884):we(2884);let n=e.side===m;t&&(n=!n),Ee(n),e.blending===_&&!1===e.transparent?Ae(y):Ae(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);const r=e.stencilWrite;c.setTest(r),r&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Te(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?we(32926):xe(32926)},setFlipSided:Ee,setCullFace:Ce,setLineWidth:function(t){t!==ae&&(ue&&e.lineWidth(t),ae=t)},setPolygonOffset:Te,setScissorTest:function(e){e?we(3089):xe(3089)},activeTexture:function(t){void 0===t&&(t=33984+ce-1),pe!==t&&(e.activeTexture(t),pe=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===pe?33984+ce-1:pe);let i=fe[r];void 0===i&&(i={type:void 0,texture:void 0},fe[r]=i),i.type===t&&i.texture===n||(pe!==r&&(e.activeTexture(r),pe=r),e.bindTexture(t,n||be[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=fe[pe];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){let r=h.get(n);void 0===r&&(r=new WeakMap,h.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=h.get(n).get(t);u.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),u.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===ge.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ge.copy(t))},viewport:function(t){!1===ye.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ye.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===r&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),d={},pe=null,fe={},p={},f=new WeakMap,g=[],X=null,Q=!1,K=null,J=null,Z=null,$=null,ee=null,te=null,ne=null,re=!1,ie=null,oe=null,ae=null,se=null,le=null,ge.set(0,0,e.canvas.width,e.canvas.height),ye.set(0,0,e.canvas.width,e.canvas.height),i.reset(),o.reset(),c.reset()}}}function Ws(e,t,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let m;const v=new WeakMap;let g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return g?new OffscreenCanvas(e,t):Fn("canvas")}function _(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?En:Math.floor,o=r(i*e.width),a=r(i*e.height);void 0===m&&(m=y(o,a));const s=n?y(o,a):m;s.width=o,s.height=a;return s.getContext("2d").drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function b(e){return kn(e.width)&&kn(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==de&&e.minFilter!==ge}function x(t){e.generateMipmap(t)}function S(n,r,i,o,a=!1){if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;return 6403===r&&(5126===i&&(l=33326),5131===i&&(l=33325),5121===i&&(l=33321)),33319===r&&(5126===i&&(l=33328),5131===i&&(l=33327),5121===i&&(l=33323)),6408===r&&(5126===i&&(l=34836),5131===i&&(l=34842),5121===i&&(l=o===Pt&&!1===a?35907:32856),32819===i&&(l=32854),32820===i&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function k(e,t,n){return!0===w(e,n)||e.isFramebufferTexture&&e.minFilter!==de&&e.minFilter!==ge?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function A(e){return e===de||e===pe||e===me?9728:9729}function E(e){const t=e.target;t.removeEventListener("dispose",E),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=v.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&T(e),0===Object.keys(i).length&&v.delete(n)}r.remove(e)}(t),t.isVideoTexture&&f.delete(t)}function C(t){const n=t.target;n.removeEventListener("dispose",C),function(t){const n=t.texture,i=r.get(t),o=r.get(n);void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(i.__webglFramebuffer[t]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[t]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);i.__webglTexture&&(e.deleteTexture(i.__webglTexture),a.memory.textures--),r.remove(n[t])}r.remove(n),r.remove(t)}(n)}function T(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete v.get(i)[n.__cacheKey],a.memory.textures--}let M=0;function D(e,t){const i=r.get(e);if(e.isVideoTexture&&function(e){const t=a.render.frame;f.get(e)!==t&&(f.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){const n=e.image;if(null===n)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==n.complete)return void O(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}const L={[ce]:10497,[ue]:33071,[he]:33648},P={[de]:9728,[pe]:9984,[me]:9986,[ge]:9729,[ye]:9985,[be]:9987};function R(n,o,a){if(a?(e.texParameteri(n,10242,L[o.wrapS]),e.texParameteri(n,10243,L[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,L[o.wrapR]),e.texParameteri(n,10240,P[o.magFilter]),e.texParameteri(n,10241,P[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===ue&&o.wrapT===ue||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,A(o.magFilter)),e.texParameteri(n,10241,A(o.minFilter)),o.minFilter!==de&&o.minFilter!==ge&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===de)return;if(o.minFilter!==me&&o.minFilter!==be)return;if(o.type===Te&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&o.type===Me&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function I(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",E));const i=n.source;let o=v.get(i);void 0===o&&(o={},v.set(i,o));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&T(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function O(t,i,a){let l=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=35866),i.isData3DTexture&&(l=32879);const c=I(t,i),h=i.source;n.bindTexture(l,t.__webglTexture,33984+a);const d=r.get(h);if(h.version!==d.__version||!0===c){n.activeTexture(33984+a),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=function(e){return!s&&(e.wrapS!==ue||e.wrapT!==ue||e.minFilter!==de&&e.minFilter!==ge)}(i)&&!1===b(i.image);let r=_(i.image,t,!1,u);r=V(i,r);const p=b(r)||s,f=o.convert(i.format,i.encoding);let m,v=o.convert(i.type),g=S(i.internalFormat,f,v,i.encoding,i.isVideoTexture);R(l,i,p);const y=i.mipmaps,A=s&&!0!==i.isVideoTexture,E=void 0===d.__version||!0===c,C=k(i,r,p);if(i.isDepthTexture)g=6402,s?g=i.type===Te?36012:i.type===Ce?33190:i.type===Pe?35056:33189:i.type===Te&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Ne&&6402===g&&i.type!==Ae&&i.type!==Ce&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Ce,v=o.convert(i.type)),i.format===je&&6402===g&&(g=34041,i.type!==Pe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Pe,v=o.convert(i.type))),E&&(A?n.texStorage2D(3553,1,g,r.width,r.height):n.texImage2D(3553,0,g,r.width,r.height,0,f,v,null));else if(i.isDataTexture)if(y.length>0&&p){A&&E&&n.texStorage2D(3553,C,g,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],A?n.texSubImage2D(3553,e,0,0,m.width,m.height,f,v,m.data):n.texImage2D(3553,e,g,m.width,m.height,0,f,v,m.data);i.generateMipmaps=!1}else A?(E&&n.texStorage2D(3553,C,g,r.width,r.height),n.texSubImage2D(3553,0,0,0,r.width,r.height,f,v,r.data)):n.texImage2D(3553,0,g,r.width,r.height,0,f,v,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){A&&E&&n.texStorage3D(35866,C,g,y[0].width,y[0].height,r.depth);for(let e=0,t=y.length;e<t;e++)m=y[e],i.format!==Oe?null!==f?A?n.compressedTexSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,f,m.data,0,0):n.compressedTexImage3D(35866,e,g,m.width,m.height,r.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):A?n.texSubImage3D(35866,e,0,0,0,m.width,m.height,r.depth,f,v,m.data):n.texImage3D(35866,e,g,m.width,m.height,r.depth,0,f,v,m.data)}else{A&&E&&n.texStorage2D(3553,C,g,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],i.format!==Oe?null!==f?A?n.compressedTexSubImage2D(3553,e,0,0,m.width,m.height,f,m.data):n.compressedTexImage2D(3553,e,g,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):A?n.texSubImage2D(3553,e,0,0,m.width,m.height,f,v,m.data):n.texImage2D(3553,e,g,m.width,m.height,0,f,v,m.data)}else if(i.isDataArrayTexture)A?(E&&n.texStorage3D(35866,C,g,r.width,r.height,r.depth),n.texSubImage3D(35866,0,0,0,0,r.width,r.height,r.depth,f,v,r.data)):n.texImage3D(35866,0,g,r.width,r.height,r.depth,0,f,v,r.data);else if(i.isData3DTexture)A?(E&&n.texStorage3D(32879,C,g,r.width,r.height,r.depth),n.texSubImage3D(32879,0,0,0,0,r.width,r.height,r.depth,f,v,r.data)):n.texImage3D(32879,0,g,r.width,r.height,r.depth,0,f,v,r.data);else if(i.isFramebufferTexture){if(E)if(A)n.texStorage2D(3553,C,g,r.width,r.height);else{let e=r.width,t=r.height;for(let r=0;r<C;r++)n.texImage2D(3553,r,g,e,t,0,f,v,null),e>>=1,t>>=1}}else if(y.length>0&&p){A&&E&&n.texStorage2D(3553,C,g,y[0].width,y[0].height);for(let e=0,t=y.length;e<t;e++)m=y[e],A?n.texSubImage2D(3553,e,0,0,f,v,m):n.texImage2D(3553,e,g,f,v,m);i.generateMipmaps=!1}else A?(E&&n.texStorage2D(3553,C,g,r.width,r.height),n.texSubImage2D(3553,0,0,0,f,v,r)):n.texImage2D(3553,0,g,f,v,r);w(i,p)&&x(l),d.__version=h.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function F(t,i,a,s,l){const c=o.convert(a.format,a.encoding),u=o.convert(a.type),h=S(a.internalFormat,c,u,a.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,h,i.width,i.height,0,c,u,null)),n.bindFramebuffer(36160,t),z(i)?d.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(a).__webglTexture,0,j(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(a).__webglTexture,0),n.bindFramebuffer(36160,null)}function B(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r||z(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===Te?i=36012:t.type===Ce&&(i=33190));const r=j(n);z(n)?d.renderbufferStorageMultisampleEXT(36161,r,i,n.width,n.height):e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=j(n);r&&!1===z(n)?e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height):z(n)?d.renderbufferStorageMultisampleEXT(36161,i,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const a=t[i],s=o.convert(a.format,a.encoding),l=o.convert(a.type),c=S(a.internalFormat,s,l,a.encoding),u=j(n);r&&!1===z(n)?e.renderbufferStorageMultisample(36161,u,c,n.width,n.height):z(n)?d.renderbufferStorageMultisampleEXT(36161,u,c,n.width,n.height):e.renderbufferStorage(36161,c,n.width,n.height)}}e.bindRenderbuffer(36161,null)}function N(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),D(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,a=j(i);if(i.depthTexture.format===Ne)z(i)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,o,0,a):e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==je)throw new Error("Unknown depthTexture format");z(i)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,o,0,a):e.framebufferTexture2D(36160,33306,3553,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(36160,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),B(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),B(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function j(e){return Math.min(h,e.samples)}function z(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,n){const r=e.encoding,i=e.format,o=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===fn||r!==Lt&&(r===Pt?!1===s?!0===t.has("EXT_sRGB")&&i===Oe?(e.format=fn,e.minFilter=ge,e.generateMipmaps=!1):n=Qn.sRGBToLinear(n):i===Oe&&o===xe||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){const e=M;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=D,this.setTexture2DArray=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?O(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?O(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,i,a){if(6!==i.image.length)return;const l=I(t,i),u=i.source;n.bindTexture(34067,t.__webglTexture,33984+a);const h=r.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+a),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);const t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,d=[];for(let e=0;e<6;e++)d[e]=t||r?r?i.image[e].image:i.image[e]:_(i.image[e],!1,!0,c),d[e]=V(i,d[e]);const p=d[0],f=b(p)||s,m=o.convert(i.format,i.encoding),v=o.convert(i.type),g=S(i.internalFormat,m,v,i.encoding),y=s&&!0!==i.isVideoTexture,A=void 0===h.__version||!0===l;let E,C=k(i,p,f);if(R(34067,i,f),t){y&&A&&n.texStorage2D(34067,C,g,p.width,p.height);for(let e=0;e<6;e++){E=d[e].mipmaps;for(let t=0;t<E.length;t++){const r=E[t];i.format!==Oe?null!==m?y?n.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,m,r.data):n.compressedTexImage2D(34069+e,t,g,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+e,t,0,0,r.width,r.height,m,v,r.data):n.texImage2D(34069+e,t,g,r.width,r.height,0,m,v,r.data)}}}else{E=i.mipmaps,y&&A&&(E.length>0&&C++,n.texStorage2D(34067,C,g,d[0].width,d[0].height));for(let e=0;e<6;e++)if(r){y?n.texSubImage2D(34069+e,0,0,0,d[e].width,d[e].height,m,v,d[e].data):n.texImage2D(34069+e,0,g,d[e].width,d[e].height,0,m,v,d[e].data);for(let t=0;t<E.length;t++){const r=E[t].image[e].image;y?n.texSubImage2D(34069+e,t+1,0,0,r.width,r.height,m,v,r.data):n.texImage2D(34069+e,t+1,g,r.width,r.height,0,m,v,r.data)}}else{y?n.texSubImage2D(34069+e,0,0,0,m,v,d[e]):n.texImage2D(34069+e,0,g,m,v,d[e]);for(let t=0;t<E.length;t++){const r=E[t];y?n.texSubImage2D(34069+e,t+1,0,0,m,v,r.image[e]):n.texImage2D(34069+e,t+1,g,m,v,r.image[e])}}}w(i,f)&&x(34067),h.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(a,t,i):n.bindTexture(34067,a.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){const i=r.get(e);void 0!==t&&F(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&N(e)},this.setupRenderTarget=function(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",C),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,a.memory.textures++);const h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,p=b(t)||s;if(h){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===z(t)){const r=d?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer[n]);const a=o.convert(i.format,i.encoding),s=o.convert(i.type),l=S(i.internalFormat,a,s,i.encoding,!0===t.isXRRenderTarget),u=j(t);e.renderbufferStorageMultisample(36161,u,l,t.width,t.height),e.framebufferRenderbuffer(36160,36064+n,36161,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),B(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),R(34067,l,p);for(let e=0;e<6;e++)F(c.__webglFramebuffer[e],t,l,36064,34069+e);w(l,p)&&x(34067),n.unbindTexture()}else if(d){const e=t.texture;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=r.get(o);n.bindTexture(3553,a.__webglTexture),R(3553,o,p),F(c.__webglFramebuffer,t,o,36064+i,3553),w(o,p)&&x(3553)}n.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(e,u.__webglTexture),R(e,l,p),F(c.__webglFramebuffer,t,l,36064,e),w(l,p)&&x(e),n.unbindTexture()}t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(e){const t=b(e)||s,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let o=0,a=i.length;o<a;o++){const a=i[o];if(w(a,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,i=r.get(a).__webglTexture;n.bindTexture(t,i),x(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(s&&t.samples>0&&!1===z(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height;let s=16384;const l=[],c=t.stencilBuffer?33306:36096,u=r.get(t),h=!0===t.isWebGLMultipleRenderTargets;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,null),n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,null,0);n.bindFramebuffer(36008,u.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(36064+n),t.depthBuffer&&l.push(c);const d=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===d&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),h&&e.framebufferRenderbuffer(36008,36064,36161,u.__webglColorRenderbuffer[n]),!0===d&&(e.invalidateFramebuffer(36008,[c]),e.invalidateFramebuffer(36009,[c])),h){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728),p&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(36160,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+t,36161,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(36160,u.__webglFramebuffer),e.framebufferTexture2D(36009,36064+t,3553,o,0)}n.bindFramebuffer(36009,u.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=F,this.useMultisampledRTT=z}function Ys(e,t,n){const r=n.isWebGL2;return{convert:function(n,i=null){let o;if(n===xe)return 5121;if(n===De)return 32819;if(n===Le)return 32820;if(n===Se)return 5120;if(n===ke)return 5122;if(n===Ae)return 5123;if(n===Ee)return 5124;if(n===Ce)return 5125;if(n===Te)return 5126;if(n===Me)return r?5131:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(n===Re)return 6406;if(n===Oe)return 6408;if(n===Fe)return 6409;if(n===Be)return 6410;if(n===Ne)return 6402;if(n===je)return 34041;if(n===Ie)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(n===fn)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(n===ze)return 6403;if(n===Ve)return 36244;if(n===Ue)return 33319;if(n===He)return 33320;if(n===Ge)return 36249;if(n===qe||n===We||n===Ye||n===Xe)if(i===Pt){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(n===qe)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===We)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Ye)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Xe)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(n===qe)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===We)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ye)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Xe)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Qe||n===Ke||n===Je||n===Ze){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(n===Qe)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ke)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Je)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ze)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===$e)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===et||n===tt){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(n===et)return i===Pt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===tt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(n===nt||n===rt||n===it||n===ot||n===at||n===st||n===lt||n===ct||n===ut||n===ht||n===dt||n===pt||n===ft||n===mt){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(n===nt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===rt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===it)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ot)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===at)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===st)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===lt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===ct)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===ut)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===ht)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===dt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===pt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===ft)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===mt)return i===Pt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===vt){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(n===vt)return i===Pt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}return n===Pe?r?34042:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}}}class Xs extends fo{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Qs extends ci{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ks={type:"move"};class Js{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Qs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Qs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new lr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new lr),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Qs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new lr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new lr),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const r of e.hand.values()){const e=t.getJointPose(r,n),i=this._getHandJoint(l,r);null!==e&&(i.matrix.fromArray(e.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.jointRadius=e.radius),i.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ks)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Qs;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Zs extends $n{constructor(e,t,n,r,i,o,a,s,l,c){if((c=void 0!==c?c:Ne)!==Ne&&c!==je)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Ne&&(n=Ce),void 0===n&&c===je&&(n=Pe),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:de,this.minFilter=void 0!==s?s:de,this.flipY=!1,this.generateMipmaps=!1}}class $s extends mn{constructor(e,t){super();const n=this;let r=null,i=1,o=null,a="local-floor",s=null,l=null,c=null,u=null,h=null,d=null;const p=t.getContextAttributes();let f=null,m=null;const v=[],g=[],y=new Set,_=new Map,b=new fo;b.layers.enable(1),b.viewport=new er;const w=new fo;w.layers.enable(2),w.viewport=new er;const x=[b,w],S=new Xs;S.layers.enable(1),S.layers.enable(2);let k=null,A=null;function E(e){const t=g.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}function C(){r.removeEventListener("select",E),r.removeEventListener("selectstart",E),r.removeEventListener("selectend",E),r.removeEventListener("squeeze",E),r.removeEventListener("squeezestart",E),r.removeEventListener("squeezeend",E),r.removeEventListener("end",C),r.removeEventListener("inputsourceschange",T);for(let e=0;e<v.length;e++){const t=g[e];null!==t&&(g[e]=null,v[e].disconnect(t))}k=null,A=null,e.setRenderTarget(f),h=null,u=null,c=null,r=null,m=null,R.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function T(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=g.indexOf(n);r>=0&&(g[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=g.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=g.length){g.push(n),r=e;break}if(null===g[e]){g[e]=n,r=e;break}}if(-1===r)break}const i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new Js,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new Js,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new Js,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s||o},this.setReferenceSpace=function(e){s=e},this.getBaseLayer=function(){return null!==u?u:h},this.getBinding=function(){return c},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,null!==r){if(f=e.getRenderTarget(),r.addEventListener("select",E),r.addEventListener("selectstart",E),r.addEventListener("selectend",E),r.addEventListener("squeeze",E),r.addEventListener("squeezestart",E),r.addEventListener("squeezeend",E),r.addEventListener("end",C),r.addEventListener("inputsourceschange",T),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),m=new tr(h.framebufferWidth,h.framebufferHeight,{format:Oe,type:xe,encoding:e.outputEncoding,stencilBuffer:p.stencil})}else{let n=null,o=null,a=null;p.depth&&(a=p.stencil?35056:33190,n=p.stencil?je:Ne,o=p.stencil?Pe:Ce);const s={colorFormat:32856,depthFormat:a,scaleFactor:i};c=new XRWebGLBinding(r,t),u=c.createProjectionLayer(s),r.updateRenderState({layers:[u]}),m=new tr(u.textureWidth,u.textureHeight,{format:Oe,type:xe,depthTexture:new Zs(u.textureWidth,u.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});e.properties.get(m).__ignoreDepthValues=u.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),s=null,o=await r.requestReferenceSpace(a),R.setContext(r),R.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const M=new lr,D=new lr;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;S.near=w.near=b.near=e.near,S.far=w.far=b.far=e.far,k===S.near&&A===S.far||(r.updateRenderState({depthNear:S.near,depthFar:S.far}),k=S.near,A=S.far);const t=e.parent,n=S.cameras;L(S,t);for(let e=0;e<n.length;e++)L(n[e],t);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),e.matrix.copy(S.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);const i=e.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(!0);2===n.length?function(e,t,n){M.setFromMatrixPosition(t.matrixWorld),D.setFromMatrixPosition(n.matrixWorld);const r=M.distanceTo(D),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=a*u,p=a*h,f=r/(-u+h),m=f*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const v=a+f,g=s+f,y=d-m,_=p+(r-m),b=l*s/g*v,w=c*s/g*v;e.projectionMatrix.makePerspective(y,_,b,w,v,g)}(S,b,w):S.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){return null!==u?u.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(e){null!==u&&(u.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.getPlanes=function(){return y};let P=null;const R=new Ao;R.setAnimationLoop((function(t,r){if(l=r.getViewerPose(s||o),d=r,null!==l){const t=l.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let n=!1;t.length!==S.cameras.length&&(S.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==h)o=h.getViewport(i);else{const t=c.getViewSubImage(u,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(m,t.colorTexture,u.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}let a=x[r];void 0===a&&(a=new fo,a.layers.enable(r),a.viewport=new er,x[r]=a),a.matrix.fromArray(i.transform.matrix),a.projectionMatrix.fromArray(i.projectionMatrix),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&S.matrix.copy(a.matrix),!0===n&&S.cameras.push(a)}}for(let e=0;e<v.length;e++){const t=g[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,s||o)}if(P&&P(t,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let e=null;for(const t of y)r.detectedPlanes.has(t)||(null===e&&(e=[]),e.push(t));if(null!==e)for(const t of e)y.delete(t),_.delete(t),n.dispatchEvent({type:"planeremoved",data:t});for(const e of r.detectedPlanes)if(y.has(e)){const t=_.get(e);e.lastChangedTime>t&&(_.set(e,e.lastChangedTime),n.dispatchEvent({type:"planechanged",data:e}))}else y.add(e),_.set(e,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:e})}d=null})),this.setAnimationLoop=function(e){P=e},this.dispose=function(){}}}function el(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===m&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===m&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const i=t.get(r).envMap;if(i&&(n.envMap.value=i,n.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const t=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*t}let o,a;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?o=r.map:r.specularMap?o=r.specularMap:r.displacementMap?o=r.displacementMap:r.normalMap?o=r.normalMap:r.bumpMap?o=r.bumpMap:r.roughnessMap?o=r.roughnessMap:r.metalnessMap?o=r.metalnessMap:r.alphaMap?o=r.alphaMap:r.emissiveMap?o=r.emissiveMap:r.clearcoatMap?o=r.clearcoatMap:r.clearcoatNormalMap?o=r.clearcoatNormalMap:r.clearcoatRoughnessMap?o=r.clearcoatRoughnessMap:r.iridescenceMap?o=r.iridescenceMap:r.iridescenceThicknessMap?o=r.iridescenceThicknessMap:r.specularIntensityMap?o=r.specularIntensityMap:r.specularColorMap?o=r.specularColorMap:r.transmissionMap?o=r.transmissionMap:r.thicknessMap?o=r.thicknessMap:r.sheenColorMap?o=r.sheenColorMap:r.sheenRoughnessMap&&(o=r.sheenRoughnessMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),n.uvTransform.value.copy(o.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,co(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===m&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,a)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function tl(e,t,n,r){let i={},o={},a=[];const s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){const r=e.value;if(void 0===n[t]){if("number"==typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"==typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let d=i[n.id];void 0===d&&(!function(e){const t=e.uniforms;let n=0;let r=0;for(let e=0,i=t.length;e<i;e++){const i=t[e],o={boundary:0,storage:0},a=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]);o.boundary+=t.boundary,o.storage+=t.storage}if(i.__data=new Float32Array(o.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,e>0){r=n%16;const e=16-r;0!==r&&e-o.boundary<0&&(n+=16-r,i.__offset=n)}n+=o.storage}r=n%16,r>0&&(n+=16-r);e.__size=n,e.__cache={}}(n),d=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,o),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",u));const p=h.program;r.updateUBOMapping(n,p);const f=t.render.frame;o[n.id]!==f&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(35345,n);for(let t=0,n=r.length;t<n;t++){const n=r[t];if(!0===l(n,t,o)){const t=n.__offset,r=Array.isArray(n.value)?n.value:[n.value];let i=0;for(let o=0;o<r.length;o++){const a=r[o],s=c(a);"number"==typeof a?(n.__data[0]=a,e.bufferSubData(35345,t+i,n.__data)):a.isMatrix3?(n.__data[0]=a.elements[0],n.__data[1]=a.elements[1],n.__data[2]=a.elements[2],n.__data[3]=a.elements[0],n.__data[4]=a.elements[3],n.__data[5]=a.elements[4],n.__data[6]=a.elements[5],n.__data[7]=a.elements[0],n.__data[8]=a.elements[6],n.__data[9]=a.elements[7],n.__data[10]=a.elements[8],n.__data[11]=a.elements[0]):(a.toArray(n.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,t,n.__data)}}e.bindBuffer(35345,null)}(n),o[n.id]=f)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}}}function nl(e={}){this.isWebGLRenderer=!0;const t=void 0!==e.canvas?e.canvas:function(){const e=Fn("canvas");return e.style.display="block",e}(),n=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h;h=null!==n?n.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;let d=null,p=null;const v=[],y=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Lt,this.physicallyCorrectLights=!1,this.toneMapping=J,this.toneMappingExposure=1;const _=this;let b=!1,w=0,x=0,S=null,k=-1,A=null;const E=new er,C=new er;let T=null,M=t.width,D=t.height,L=1,P=null,R=null;const I=new er(0,0,M,D),O=new er(0,0,M,D);let F=!1;const B=new ko;let N=!1,j=!1,z=null;const V=new Nr,U=new Dn,H=new lr,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function q(){return null===S?L:1}let W,Y,X,Q,K,Z,$,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,he,de,pe,fe,me,ve,ge=n;function ye(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r"+r),t.addEventListener("webglcontextlost",Se,!1),t.addEventListener("webglcontextrestored",ke,!1),t.addEventListener("webglcontextcreationerror",Ae,!1),null===ge){const t=["webgl2","webgl","experimental-webgl"];if(!0===_.isWebGL1Renderer&&t.shift(),ge=ye(t,e),null===ge)throw ye(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ge.getShaderPrecisionFormat&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function _e(){W=new $o(ge),Y=new Oo(ge,W,e),W.init(Y),fe=new Ys(ge,W,Y),X=new qs(ge,W,Y),Q=new na,K=new Ls,Z=new Ws(ge,W,X,K,Y,fe,Q),$=new Bo(_),ee=new Zo(_),te=new Eo(ge,Y),me=new Ro(ge,W,te,Y),ne=new ea(ge,te,Q,me),re=new aa(ge,ne,te,Q),he=new oa(ge,Y,Z),le=new Fo(K),ie=new Ds(_,$,ee,W,Y,me,le),oe=new el(_,K),ae=new Os,se=new Vs(W,Y),ue=new Po(_,$,ee,X,re,h,s),ce=new Gs(_,re,Y),ve=new tl(ge,Q,Y,X),de=new Io(ge,W,Q,Y),pe=new ta(ge,W,Q,Y),Q.programs=ie.programs,_.capabilities=Y,_.extensions=W,_.properties=K,_.renderLists=ae,_.shadowMap=ce,_.state=X,_.info=Q}_e();const we=new $s(_,ge);function Se(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const e=Q.autoReset,t=ce.enabled,n=ce.autoUpdate,r=ce.needsUpdate,i=ce.type;_e(),Q.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=r,ce.type=i}function Ae(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ee(e){const t=e.target;t.removeEventListener("dispose",Ee),function(e){(function(e){const t=K.get(e).programs;void 0!==t&&(t.forEach((function(e){ie.releaseProgram(e)})),e.isShaderMaterial&&ie.releaseShaderCache(e))})(e),K.remove(e)}(t)}this.xr=we,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const e=W.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=W.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return L},this.setPixelRatio=function(e){void 0!==e&&(L=e,this.setSize(M,D,!1))},this.getSize=function(e){return e.set(M,D)},this.setSize=function(e,n,r){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=e,D=n,t.width=Math.floor(e*L),t.height=Math.floor(n*L),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(M*L,D*L).floor()},this.setDrawingBufferSize=function(e,n,r){M=e,D=n,L=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(E)},this.getViewport=function(e){return e.copy(I)},this.setViewport=function(e,t,n,r){e.isVector4?I.set(e.x,e.y,e.z,e.w):I.set(e,t,n,r),X.viewport(E.copy(I).multiplyScalar(L).floor())},this.getScissor=function(e){return e.copy(O)},this.setScissor=function(e,t,n,r){e.isVector4?O.set(e.x,e.y,e.z,e.w):O.set(e,t,n,r),X.scissor(C.copy(O).multiplyScalar(L).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){X.setScissorTest(F=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){R=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),ge.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Se,!1),t.removeEventListener("webglcontextrestored",ke,!1),t.removeEventListener("webglcontextcreationerror",Ae,!1),ae.dispose(),se.dispose(),K.dispose(),$.dispose(),ee.dispose(),re.dispose(),me.dispose(),ve.dispose(),ie.dispose(),we.dispose(),we.removeEventListener("sessionstart",De),we.removeEventListener("sessionend",Le),z&&(z.dispose(),z=null),Pe.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=G);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=G);Z.resetTextureUnits();const o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===S?_.outputEncoding:!0===S.isXRRenderTarget?S.texture.encoding:Lt,l=(r.isMeshStandardMaterial?ee:$).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,m=r.toneMapped?_.toneMapping:J,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==v?v.length:0,y=K.get(r),b=p.state.lights;if(!0===N&&(!0===j||e!==A)){const t=e===A&&r.id===k;le.setState(r,e,t)}let w=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==b.state.version||y.outputEncoding!==s||i.isInstancedMesh&&!1===y.instancing?w=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?w=!0:i.isSkinnedMesh||!0!==y.skinning?y.envMap!==l||!0===r.fog&&y.fog!==o?w=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===le.numPlanes&&y.numIntersection===le.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==h||y.morphNormals!==d||y.morphColors!==f||y.toneMapping!==m||!0===Y.isWebGL2&&y.morphTargetsCount!==g)&&(w=!0):w=!0:w=!0:w=!0:(w=!0,y.__version=r.version);let x=y.currentProgram;!0===w&&(x=Be(r,t,i));let E=!1,C=!1,T=!1;const M=x.getUniforms(),P=y.uniforms;X.useProgram(x.program)&&(E=!0,C=!0,T=!0);r.id!==k&&(k=r.id,C=!0);if(E||A!==e){if(M.setValue(ge,"projectionMatrix",e.projectionMatrix),Y.logarithmicDepthBuffer&&M.setValue(ge,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),A!==e&&(A=e,C=!0,T=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=M.map.cameraPosition;void 0!==t&&t.setValue(ge,H.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&M.setValue(ge,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&M.setValue(ge,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){M.setOptional(ge,i,"bindMatrix"),M.setOptional(ge,i,"bindMatrixInverse");const e=i.skeleton;e&&(Y.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),M.setValue(ge,"boneTexture",e.boneTexture,Z),M.setValue(ge,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const R=n.morphAttributes;(void 0!==R.position||void 0!==R.normal||void 0!==R.color&&!0===Y.isWebGL2)&&he.update(i,n,r,x);(C||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,M.setValue(ge,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(P.envMap.value=l,P.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);C&&(M.setValue(ge,"toneMappingExposure",_.toneMappingExposure),y.needsLights&&(O=T,(I=P).ambientLightColor.needsUpdate=O,I.lightProbe.needsUpdate=O,I.directionalLights.needsUpdate=O,I.directionalLightShadows.needsUpdate=O,I.pointLights.needsUpdate=O,I.pointLightShadows.needsUpdate=O,I.spotLights.needsUpdate=O,I.spotLightShadows.needsUpdate=O,I.rectAreaLights.needsUpdate=O,I.hemisphereLights.needsUpdate=O),o&&!0===r.fog&&oe.refreshFogUniforms(P,o),oe.refreshMaterialUniforms(P,r,L,D,z),us.upload(ge,y.uniformsList,P,Z));var I,O;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(us.upload(ge,y.uniformsList,P,Z),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&M.setValue(ge,"center",i.center);if(M.setValue(ge,"modelViewMatrix",i.modelViewMatrix),M.setValue(ge,"normalMatrix",i.normalMatrix),M.setValue(ge,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(Y.isWebGL2){const n=e[t];ve.update(n,x),ve.bind(n,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return x}(e,t,n,r,i);X.setMaterial(r,a);let l=n.index,c=1;!0===r.wireframe&&(l=ne.getWireframeAttribute(n),c=2);const u=n.drawRange,h=n.attributes.position;let d=u.start*c,f=(u.start+u.count)*c;null!==o&&(d=Math.max(d,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(d=Math.max(d,0),f=Math.min(f,l.count)):null!=h&&(d=Math.max(d,0),f=Math.min(f,h.count));const m=f-d;if(m<0||m===1/0)return;let v;me.setup(i,r,s,n,l);let g=de;if(null!==l&&(v=te.get(l),g=pe,g.setIndex(v)),i.isMesh)!0===r.wireframe?(X.setLineWidth(r.wireframeLinewidth*q()),g.setMode(1)):g.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),X.setLineWidth(e*q()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);if(i.isInstancedMesh)g.renderInstances(d,m,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(d,m,t)}else g.render(d,m)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===g?(e.side=m,e.needsUpdate=!0,Be(e,t,n),e.side=f,e.needsUpdate=!0,Be(e,t,n),e.side=g):Be(e,t,n)}p=se.get(e),p.init(),y.push(p),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(_.physicallyCorrectLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),y.pop(),p=null};let Ce=null;function De(){Pe.stop()}function Le(){Pe.start()}const Pe=new Ao;function Re(e,t,n,r){const i=e.opaque,o=e.transmissive,s=e.transparent;p.setupLightsView(n),o.length>0&&function(e,t,n){const r=Y.isWebGL2;null===z&&(z=new tr(1,1,{generateMipmaps:!0,type:W.has("EXT_color_buffer_half_float")?Me:xe,minFilter:be,samples:r&&!0===a?4:0}));_.getDrawingBufferSize(U),r?z.setSize(U.x,U.y):z.setSize(En(U.x),En(U.y));const i=_.getRenderTarget();_.setRenderTarget(z),_.clear();const o=_.toneMapping;_.toneMapping=J,Ie(e,t,n),_.toneMapping=o,Z.updateMultisampleRenderTarget(z),Z.updateRenderTargetMipmap(z),_.setRenderTarget(i)}(i,t,n),r&&X.viewport(E.copy(r)),i.length>0&&Ie(i,t,n),o.length>0&&Ie(o,t,n),s.length>0&&Ie(s,t,n),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1)}function Ie(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&Fe(a,t,n,s,l,c)}}function Fe(e,t,n,r,i,o){e.onBeforeRender(_,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(_,t,n,r,e,o),!0===i.transparent&&i.side===g?(i.side=m,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,o),i.side=f,i.needsUpdate=!0,_.renderBufferDirect(n,t,r,i,e,o),i.side=g):_.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(_,t,n,r,i,o)}function Be(e,t,n){!0!==t.isScene&&(t=G);const r=K.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=ie.getParameters(e,i.state,o,t,n),l=ie.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ee:$).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",Ee),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Ne(e,s),u}else s.uniforms=ie.getUniforms(e),e.onBuild(n,s,_),e.onBeforeCompile(s,_),u=ie.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=le.uniform),Ne(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);const d=u.getUniforms(),f=us.seqWithValue(d.seq,h);return r.currentProgram=u,r.uniformsList=f,u}function Ne(e,t){const n=K.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Pe.setAnimationLoop((function(e){Ce&&Ce(e)})),"undefined"!=typeof self&&Pe.setContext(self),this.setAnimationLoop=function(e){Ce=e,we.setAnimationLoop(e),null===e?Pe.stop():Pe.start()},we.addEventListener("sessionstart",De),we.addEventListener("sessionend",Le),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(_,e,t,S),p=se.get(e,y.length),p.init(),y.push(p),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),B.setFromProjectionMatrix(V),j=this.localClippingEnabled,N=le.init(this.clippingPlanes,j,t),d=ae.get(e,v.length),d.init(),v.push(d),function e(t,n,r,i){if(!1===t.visible)return;if(t.layers.test(n.layers))if(t.isGroup)r=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(n);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||B.intersectsSprite(t)){i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=re.update(t),n=t.material;n.visible&&d.push(t,e,n,r,H.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==Q.render.frame&&(t.skeleton.update(),t.skeleton.frame=Q.render.frame),!t.frustumCulled||B.intersectsObject(t))){i&&H.setFromMatrixPosition(t.matrixWorld).applyMatrix4(V);const e=re.update(t),n=t.material;if(Array.isArray(n)){const i=e.groups;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=n[a.materialIndex];s&&s.visible&&d.push(t,e,s,r,H.z,a)}}else n.visible&&d.push(t,e,n,r,H.z,null)}const o=t.children;for(let t=0,a=o.length;t<a;t++)e(o[t],n,r,i)}(e,t,0,_.sortObjects),d.finish(),!0===_.sortObjects&&d.sort(P,R),!0===N&&le.beginShadows();const n=p.state.shadowsArray;if(ce.render(n,e,t),!0===N&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(d,e),p.setupLights(_.physicallyCorrectLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Re(d,e,r,r.viewport)}}else Re(d,e,t);null!==S&&(Z.updateMultisampleRenderTarget(S),Z.updateRenderTargetMipmap(S)),!0===e.isScene&&e.onAfterRender(_,e,t),me.resetDefaultState(),k=-1,A=null,y.pop(),p=y.length>0?y[y.length-1]:null,v.pop(),d=v.length>0?v[v.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(e,t,n){K.get(e.texture).__webglTexture=t,K.get(e.depthTexture).__webglTexture=n;const r=K.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===W.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=K.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){S=e,w=t,x=n;let r=!0,i=null,o=!1,a=!1;if(e){const n=K.get(e);void 0!==n.__useDefaultFramebuffer?(X.bindFramebuffer(36160,null),r=!1):void 0===n.__webglFramebuffer?Z.setupRenderTarget(e):n.__hasExternalTextures&&Z.rebindTextures(e,K.get(e.texture).__webglTexture,K.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=K.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],o=!0):i=Y.isWebGL2&&e.samples>0&&!1===Z.useMultisampledRTT(e)?K.get(e).__webglMultisampledFramebuffer:l,E.copy(e.viewport),C.copy(e.scissor),T=e.scissorTest}else E.copy(I).multiplyScalar(L).floor(),C.copy(O).multiplyScalar(L).floor(),T=F;if(X.bindFramebuffer(36160,i)&&Y.drawBuffers&&r&&X.drawBuffers(e,i),X.viewport(E),X.scissor(C),X.setScissorTest(T),o){const r=K.get(e.texture);ge.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}else if(a){const r=K.get(e.texture),i=t||0;ge.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,i)}k=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=K.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){X.bindFramebuffer(36160,s);try{const a=e.texture,s=a.format,l=a.type;if(s!==Oe&&fe.convert(s)!==ge.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===Me&&(W.has("EXT_color_buffer_half_float")||Y.isWebGL2&&W.has("EXT_color_buffer_float"));if(!(l===xe||fe.convert(l)===ge.getParameter(35738)||l===Te&&(Y.isWebGL2||W.has("OES_texture_float")||W.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ge.readPixels(t,n,r,i,fe.convert(s),fe.convert(l),o)}finally{const e=null!==S?K.get(S).__webglFramebuffer:null;X.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);Z.setTexture2D(t,0),ge.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,o),X.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,o=t.image.height,a=fe.convert(n.format),s=fe.convert(n.type);Z.setTexture2D(n,0),ge.pixelStorei(37440,n.flipY),ge.pixelStorei(37441,n.premultiplyAlpha),ge.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ge.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ge.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ge.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ge.generateMipmap(3553),X.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(_.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=fe.convert(r.format),c=fe.convert(r.type);let u;if(r.isData3DTexture)Z.setTexture3D(r,0),u=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Z.setTexture2DArray(r,0),u=35866}ge.pixelStorei(37440,r.flipY),ge.pixelStorei(37441,r.premultiplyAlpha),ge.pixelStorei(3317,r.unpackAlignment);const h=ge.getParameter(3314),d=ge.getParameter(32878),p=ge.getParameter(3316),f=ge.getParameter(3315),m=ge.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;ge.pixelStorei(3314,v.width),ge.pixelStorei(32878,v.height),ge.pixelStorei(3316,e.min.x),ge.pixelStorei(3315,e.min.y),ge.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ge.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,v.data)):ge.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,v),ge.pixelStorei(3314,h),ge.pixelStorei(32878,d),ge.pixelStorei(3316,p),ge.pixelStorei(3315,f),ge.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ge.generateMipmap(u),X.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?Z.setTextureCube(e,0):e.isData3DTexture?Z.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?Z.setTexture2DArray(e,0):Z.setTexture2D(e,0),X.unbindTexture()},this.resetState=function(){w=0,x=0,S=null,X.reset(),me.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class rl extends nl{}rl.prototype.isWebGL1Renderer=!0;class il{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Yn(e),this.density=t}clone(){return new il(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ol{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Yn(e),this.near=t,this.far=n}clone(){return new ol(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class al extends ci{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class sl{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=nn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=bn()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=bn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=bn()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ll=new lr;class cl{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)ll.fromBufferAttribute(this,t),ll.applyMatrix4(e),this.setXYZ(t,ll.x,ll.y,ll.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ll.fromBufferAttribute(this,t),ll.applyNormalMatrix(e),this.setXYZ(t,ll.x,ll.y,ll.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ll.fromBufferAttribute(this,t),ll.transformDirection(e),this.setXYZ(t,ll.x,ll.y,ll.z);return this}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Cn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Cn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Cn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Cn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),r=Tn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),n=Tn(n,this.array),r=Tn(r,this.array),i=Tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Ei(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ul extends xi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Yn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let hl;const dl=new lr,pl=new lr,fl=new lr,ml=new Dn,vl=new Dn,gl=new Nr,yl=new lr,_l=new lr,bl=new lr,wl=new Dn,xl=new Dn,Sl=new Dn;class kl extends ci{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===hl){hl=new Gi;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new sl(e,5);hl.setIndex([0,1,2,0,2,3]),hl.setAttribute("position",new cl(t,3,0,!1)),hl.setAttribute("uv",new cl(t,2,3,!1))}this.geometry=hl,this.material=void 0!==e?e:new ul,this.center=new Dn(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),pl.setFromMatrixScale(this.matrixWorld),gl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&pl.multiplyScalar(-fl.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;Al(yl.set(-.5,-.5,0),fl,o,pl,r,i),Al(_l.set(.5,-.5,0),fl,o,pl,r,i),Al(bl.set(.5,.5,0),fl,o,pl,r,i),wl.set(0,0),xl.set(1,0),Sl.set(1,1);let a=e.ray.intersectTriangle(yl,_l,bl,!1,dl);if(null===a&&(Al(_l.set(-.5,.5,0),fl,o,pl,r,i),xl.set(0,1),a=e.ray.intersectTriangle(yl,bl,_l,!1,dl),null===a))return;const s=e.ray.origin.distanceTo(dl);s<e.near||s>e.far||t.push({distance:s,point:dl.clone(),uv:bi.getUV(dl,yl,_l,bl,wl,xl,Sl,new Dn),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Al(e,t,n,r,i,o){ml.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(vl.x=o*ml.x-i*ml.y,vl.y=i*ml.x+o*ml.y):vl.copy(ml),e.copy(t),e.x+=vl.x,e.y+=vl.y,e.applyMatrix4(gl)}const El=new lr,Cl=new lr;class Tl extends ci{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.addLevel(n.object.clone(),n.distance,n.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){El.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(El);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){El.setFromMatrixPosition(e.matrixWorld),Cl.setFromMatrixPosition(this.matrixWorld);const n=El.distanceTo(Cl)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let e=0,r=n.length;e<r;e++){const r=n[e];t.object.levels.push({object:r.object.uuid,distance:r.distance,hysteresis:r.hysteresis})}return t}}const Ml=new lr,Dl=new er,Ll=new er,Pl=new lr,Rl=new Nr;class Il extends io{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Nr,this.bindMatrixInverse=new Nr}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new er,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;Dl.fromBufferAttribute(r.attributes.skinIndex,e),Ll.fromBufferAttribute(r.attributes.skinWeight,e),Ml.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const r=Ll.getComponent(e);if(0!==r){const i=Dl.getComponent(e);Rl.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),t.addScaledVector(Pl.copy(Ml).applyMatrix4(Rl),r)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Ol extends ci{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fl extends $n{constructor(e=null,t=1,n=1,r,i,o,a,s,l=de,c=de,u,h){super(null,o,a,s,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Bl=new Nr,Nl=new Nr;class jl{constructor(e=[],t=[]){this.uuid=bn(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Nr)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Nr;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++){const i=e[r]?e[r].matrixWorld:Nl;Bl.multiplyMatrices(i,t[r]),Bl.toArray(n,16*r)}null!==r&&(r.needsUpdate=!0)}clone(){return new jl(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=An(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Fl(t,e,e,Oe,Te);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),i=new Ol),this.bones.push(i),this.boneInverses.push((new Nr).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class zl extends Ei{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Vl=new Nr,Ul=new Nr,Hl=[],Gl=new Nr,ql=new io;class Wl extends io{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new zl(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1;for(let e=0;e<n;e++)this.setMatrixAt(e,Gl)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const n=this.matrixWorld,r=this.count;if(ql.geometry=this.geometry,ql.material=this.material,void 0!==ql.material)for(let i=0;i<r;i++){this.getMatrixAt(i,Vl),Ul.multiplyMatrices(n,Vl),ql.matrixWorld=Ul,ql.raycast(e,Hl);for(let e=0,n=Hl.length;e<n;e++){const n=Hl[e];n.instanceId=i,n.object=this,t.push(n)}Hl.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new zl(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Yl extends xi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Yn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Xl=new lr,Ql=new lr,Kl=new Nr,Jl=new Br,Zl=new Mr;class $l extends ci{constructor(e=new Gi,t=new Yl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Xl.fromBufferAttribute(t,e-1),Ql.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Xl.distanceTo(Ql);e.setAttribute("lineDistance",new Oi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Zl.copy(n.boundingSphere),Zl.applyMatrix4(r),Zl.radius+=i,!1===e.ray.intersectsSphere(Zl))return;Kl.copy(r).invert(),Jl.copy(e.ray).applyMatrix4(Kl);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new lr,c=new lr,u=new lr,h=new lr,d=this.isLineSegments?2:1,p=n.index,f=n.attributes.position;if(null!==p){for(let n=Math.max(0,o.start),r=Math.min(p.count,o.start+o.count)-1;n<r;n+=d){const r=p.getX(n),i=p.getX(n+1);l.fromBufferAttribute(f,r),c.fromBufferAttribute(f,i);if(Jl.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);const o=e.ray.origin.distanceTo(h);o<e.near||o>e.far||t.push({distance:o,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else{for(let n=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count)-1;n<r;n+=d){l.fromBufferAttribute(f,n),c.fromBufferAttribute(f,n+1);if(Jl.distanceSqToSegment(l,c,h,u)>s)continue;h.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(h);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}const ec=new lr,tc=new lr;class nc extends $l{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)ec.fromBufferAttribute(t,e),tc.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+ec.distanceTo(tc);e.setAttribute("lineDistance",new Oi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class rc extends $l{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ic extends xi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Yn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const oc=new Nr,ac=new Br,sc=new Mr,lc=new lr;class cc extends ci{constructor(e=new Gi,t=new ic){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),sc.copy(n.boundingSphere),sc.applyMatrix4(r),sc.radius+=i,!1===e.ray.intersectsSphere(sc))return;oc.copy(r).invert(),ac.copy(e.ray).applyMatrix4(oc);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);lc.fromBufferAttribute(c,i),uc(lc,i,s,r,e,t,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);n<i;n++)lc.fromBufferAttribute(c,n),uc(lc,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function uc(e,t,n,r,i,o,a){const s=ac.distanceSqToPoint(e);if(s<n){const n=new lr;ac.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a})}}class hc extends $n{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:ge,this.magFilter=void 0!==i?i:ge,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class dc extends $n{constructor(e,t,n){super({width:e,height:t}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=de,this.minFilter=de,this.generateMipmaps=!1,this.needsUpdate=!0}}class pc extends $n{constructor(e,t,n,r,i,o,a,s,l,c,u,h){super(null,o,a,s,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class fc extends pc{constructor(e,t,n,r,i,o){super(e,t,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ue}}class mc extends $n{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}}class vc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){let n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);const i=this.getPoint(n),o=this.getPoint(r),a=t||(i.isVector2?new Dn:new lr);return a.copy(o).sub(i).normalize(),a}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new lr,r=[],i=[],o=[],a=new lr,s=new Nr;for(let t=0;t<=e;t++){const n=t/e;r[t]=this.getTangentAt(n,new lr)}i[0]=new lr,o[0]=new lr;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),o[t]=o[t-1].clone(),a.crossVectors(r[t-1],r[t]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(wn(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(a,e))}o[t].crossVectors(r[t],i[t])}if(!0===t){let t=Math.acos(wn(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class gc extends vc{constructor(e=0,t=0,n=1,r=1,i=0,o=2*Math.PI,a=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(e,t){const n=t||new Dn,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class yc extends gc{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _c(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}const bc=new lr,wc=new _c,xc=new _c,Sc=new _c;class kc extends vc{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new lr){const n=t,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let a,s,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?a=r[(l-1)%i]:(bc.subVectors(r[0],r[1]).add(r[0]),a=bc);const u=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(bc.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=bc),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),wc.initNonuniformCatmullRom(a.x,u.x,h.x,s.x,t,n,r),xc.initNonuniformCatmullRom(a.y,u.y,h.y,s.y,t,n,r),Sc.initNonuniformCatmullRom(a.z,u.z,h.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(wc.initCatmullRom(a.x,u.x,h.x,s.x,this.tension),xc.initCatmullRom(a.y,u.y,h.y,s.y,this.tension),Sc.initCatmullRom(a.z,u.z,h.z,s.z,this.tension));return n.set(wc.calc(c),xc.calc(c),Sc.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new lr).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Ac(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function Ec(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Cc(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class Tc extends vc{constructor(e=new Dn,t=new Dn,n=new Dn,r=new Dn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Dn){const n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Cc(e,r.x,i.x,o.x,a.x),Cc(e,r.y,i.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Mc extends vc{constructor(e=new lr,t=new lr,n=new lr,r=new lr){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new lr){const n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Cc(e,r.x,i.x,o.x,a.x),Cc(e,r.y,i.y,o.y,a.y),Cc(e,r.z,i.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Dc extends vc{constructor(e=new Dn,t=new Dn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Dn){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const n=t||new Dn;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Lc extends vc{constructor(e=new lr,t=new lr){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new lr){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Pc extends vc{constructor(e=new Dn,t=new Dn,n=new Dn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Dn){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Ec(e,r.x,i.x,o.x),Ec(e,r.y,i.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Rc extends vc{constructor(e=new lr,t=new lr,n=new lr){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new lr){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Ec(e,r.x,i.x,o.x),Ec(e,r.y,i.y,o.y),Ec(e,r.z,i.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Ic extends vc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Dn){const n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(Ac(a,s.x,l.x,c.x,u.x),Ac(a,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Dn).fromArray(n))}return this}}var Oc=Object.freeze({__proto__:null,ArcCurve:yc,CatmullRomCurve3:kc,CubicBezierCurve:Tc,CubicBezierCurve3:Mc,EllipseCurve:gc,LineCurve:Dc,LineCurve3:Lc,QuadraticBezierCurve:Pc,QuadraticBezierCurve3:Rc,SplineCurve:Ic});class Fc extends vc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Dc(t,e))}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,o=this.curves[i],a=o.getLength(),s=0===a?0:1-e/a;return o.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Oc[n.type]).fromJSON(n))}return this}}class Bc extends Fc{constructor(e){super(),this.type="Path",this.currentPoint=new Dn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new Dc(this.currentPoint.clone(),new Dn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new Pc(this.currentPoint.clone(),new Dn(e,t),new Dn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const a=new Tc(this.currentPoint.clone(),new Dn(e,t),new Dn(n,r),new Dn(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new Ic(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,o,a,s),this}absellipse(e,t,n,r,i,o,a,s){const l=new gc(e,t,n,r,i,o,a,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Nc extends Gi{constructor(e=[new Dn(0,-.5),new Dn(.5,0),new Dn(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=wn(r,0,2*Math.PI);const i=[],o=[],a=[],s=[],l=[],c=1/t,u=new lr,h=new Dn,d=new lr,p=new lr,f=new lr;let m=0,v=0;for(let t=0;t<=e.length-1;t++)switch(t){case 0:m=e[t+1].x-e[t].x,v=e[t+1].y-e[t].y,d.x=1*v,d.y=-m,d.z=0*v,f.copy(d),d.normalize(),s.push(d.x,d.y,d.z);break;case e.length-1:s.push(f.x,f.y,f.z);break;default:m=e[t+1].x-e[t].x,v=e[t+1].y-e[t].y,d.x=1*v,d.y=-m,d.z=0*v,p.copy(d),d.x+=f.x,d.y+=f.y,d.z+=f.z,d.normalize(),s.push(d.x,d.y,d.z),f.copy(p)}for(let i=0;i<=t;i++){const d=n+i*c*r,p=Math.sin(d),f=Math.cos(d);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*p,u.y=e[n].y,u.z=e[n].x*f,o.push(u.x,u.y,u.z),h.x=i/t,h.y=n/(e.length-1),a.push(h.x,h.y);const r=s[3*n+0]*p,c=s[3*n+1],d=s[3*n+0]*f;l.push(r,c,d)}}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const r=t+n*e.length,o=r,a=r+e.length,s=r+e.length+1,l=r+1;i.push(o,a,l),i.push(s,l,a)}this.setIndex(i),this.setAttribute("position",new Oi(o,3)),this.setAttribute("uv",new Oi(a,2)),this.setAttribute("normal",new Oi(l,3))}static fromJSON(e){return new Nc(e.points,e.segments,e.phiStart,e.phiLength)}}class jc extends Nc{constructor(e=1,t=1,n=4,r=8){const i=new Bc;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new jc(e.radius,e.length,e.capSegments,e.radialSegments)}}class zc extends Gi{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],a=[],s=[],l=new lr,c=new Dn;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let i=0,u=3;i<=t;i++,u+=3){const h=n+i/t*r;l.x=e*Math.cos(h),l.y=e*Math.sin(h),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[u]/e+1)/2,c.y=(o[u+1]/e+1)/2,s.push(c.x,c.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute("position",new Oi(o,3)),this.setAttribute("normal",new Oi(a,3)),this.setAttribute("uv",new Oi(s,2))}static fromJSON(e){return new zc(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Vc extends Gi{constructor(e=1,t=1,n=1,r=32,i=1,o=!1,a=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],d=[];let p=0;const f=[],m=n/2;let v=0;function g(n){const i=p,o=new Dn,f=new lr;let g=0;const y=!0===n?e:t,_=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*_,0),h.push(0,_,0),d.push(.5,.5),p++;const b=p;for(let e=0;e<=r;e++){const t=e/r*s+a,n=Math.cos(t),i=Math.sin(t);f.x=y*i,f.y=m*_,f.z=y*n,u.push(f.x,f.y,f.z),h.push(0,_,0),o.x=.5*n+.5,o.y=.5*i*_+.5,d.push(o.x,o.y),p++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),g+=3}l.addGroup(v,g,!0===n?1:2),v+=g}!function(){const o=new lr,g=new lr;let y=0;const _=(t-e)/n;for(let l=0;l<=i;l++){const c=[],v=l/i,y=v*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),f=Math.cos(i);g.x=y*l,g.y=-v*n+m,g.z=y*f,u.push(g.x,g.y,g.z),o.set(l,_,f).normalize(),h.push(o.x,o.y,o.z),d.push(t,1-v),c.push(p++)}f.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=f[t][e],r=f[t+1][e],i=f[t+1][e+1],o=f[t][e+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(v,y,0),v+=y}(),!1===o&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new Oi(u,3)),this.setAttribute("normal",new Oi(h,3)),this.setAttribute("uv",new Oi(d,2))}static fromJSON(e){return new Vc(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uc extends Vc{constructor(e=1,t=1,n=32,r=1,i=!1,o=0,a=2*Math.PI){super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Uc(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hc extends Gi{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function a(e,t,n,r){const i=r+1,o=[];for(let r=0;r<=i;r++){o[r]=[];const a=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),l=i-r;for(let e=0;e<=l;e++)o[r][e]=0===e&&r===i?a:a.clone().lerp(s,e/l)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){const n=Math.floor(t/2);t%2==0?(s(o[e][n+1]),s(o[e+1][n]),s(o[e][n])):(s(o[e][n+1]),s(o[e+1][n+1]),s(o[e+1][n]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new lr,r=new lr,i=new lr;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r),function(e){const t=new lr;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new lr;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);o.push(r,1-a)}var t;(function(){const e=new lr,t=new lr,n=new lr,r=new lr,a=new Dn,s=new Dn,l=new Dn;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[d+0],o[d+1]),s.set(o[d+2],o[d+3]),l.set(o[d+4],o[d+5]),r.copy(e).add(t).add(n).divideScalar(3);const p=u(r);c(a,d+0,e,p),c(s,d+2,t,p),c(l,d+4,n,p)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new Oi(i,3)),this.setAttribute("normal",new Oi(i.slice(),3)),this.setAttribute("uv",new Oi(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new Hc(e.vertices,e.indices,e.radius,e.details)}}class Gc extends Hc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gc(e.radius,e.detail)}}const qc=new lr,Wc=new lr,Yc=new lr,Xc=new bi;class Qc extends Gi{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(yn*t),o=e.getIndex(),a=e.getAttribute("position"),s=o?o.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},d=[];for(let e=0;e<s;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=Xc;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),s.fromBufferAttribute(a,l[2]),Xc.getNormal(Yc),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],o=Xc[c[e]],a=Xc[c[t]],s=`${n}_${r}`,p=`${r}_${n}`;p in h&&h[p]?(Yc.dot(h[p].normal)<=i&&(d.push(o.x,o.y,o.z),d.push(a.x,a.y,a.z)),h[p]=null):s in h||(h[s]={index0:l[e],index1:l[t],normal:Yc.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];qc.fromBufferAttribute(a,t),Wc.fromBufferAttribute(a,n),d.push(qc.x,qc.y,qc.z),d.push(Wc.x,Wc.y,Wc.z)}this.setAttribute("position",new Oi(d,3))}}}class Kc extends Bc{constructor(e){super(e),this.uuid=bn(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Bc).fromJSON(n))}return this}}const Jc=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let o=Zc(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,h,d,p;if(r&&(o=function(e,t,n,r){const i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,c=Zc(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(cu(c));for(i.sort(ou),o=0;o<i.length;o++)n=au(i[o],n);return n}(e,t,o,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)h=e[t],d=e[t+1],h<s&&(s=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-s,u-l),p=0!==p?32767/p:0}return eu(o,a,n,s,l,p,0),a};function Zc(e,t,n,r,i){let o,a;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=_u(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=_u(o,e[o],e[o+1],a);return a&&pu(a,a.next)&&(bu(a),a=a.next),a}function $c(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!pu(r,r.next)&&0!==du(r.prev,r,r.next))r=r.next;else{if(bu(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function eu(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=lu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,o?nu(e,r,i,o):tu(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),bu(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?eu(e=ru($c(e),t,n),t,n,r,i,o,2):2===a&&iu(e,t,n,r,i,o):eu($c(e),t,n,r,i,o,1);break}}function tu(e){const t=e.prev,n=e,r=e.next;if(du(t,n,r)>=0)return!1;const i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c;let f=r.next;for(;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&uu(i,s,o,l,a,c,f.x,f.y)&&du(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function nu(e,t,n,r){const i=e.prev,o=e,a=e.next;if(du(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,v=u>h?u>d?u:d:h>d?h:d,g=lu(p,f,t,n,r),y=lu(m,v,t,n,r);let _=e.prevZ,b=e.nextZ;for(;_&&_.z>=g&&b&&b.z<=y;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=v&&_!==i&&_!==a&&uu(s,u,l,h,c,d,_.x,_.y)&&du(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=v&&b!==i&&b!==a&&uu(s,u,l,h,c,d,b.x,b.y)&&du(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=g;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=v&&_!==i&&_!==a&&uu(s,u,l,h,c,d,_.x,_.y)&&du(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=v&&b!==i&&b!==a&&uu(s,u,l,h,c,d,b.x,b.y)&&du(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function ru(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!pu(i,o)&&fu(i,r,r.next,o)&&gu(i,o)&&gu(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),bu(r),bu(r.next),r=e=o),r=r.next}while(r!==e);return $c(r)}function iu(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&hu(a,e)){let s=yu(a,e);return a=$c(a,a.next),s=$c(s,s.next),eu(a,t,n,r,i,o,0),void eu(s,t,n,r,i,o,0)}e=e.next}a=a.next}while(a!==e)}function ou(e,t){return e.x-t.x}function au(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,h=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&uu(a<c?o:i,a,l,c,a<c?i:o,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(o-r.x),gu(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&su(n,r)))&&(n=r,h=u)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=yu(n,e);return $c(r,r.next),$c(n,n.next)}function su(e,t){return du(e.prev,e,t.prev)<0&&du(t.next,e,e.next)<0}function lu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function cu(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function uu(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function hu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&fu(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(gu(e,t)&&gu(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(du(e.prev,e,t.prev)||du(e,t.prev,t))||pu(e,t)&&du(e.prev,e,e.next)>0&&du(t.prev,t,t.next)>0)}function du(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function pu(e,t){return e.x===t.x&&e.y===t.y}function fu(e,t,n,r){const i=vu(du(e,t,n)),o=vu(du(e,t,r)),a=vu(du(n,r,e)),s=vu(du(n,r,t));return i!==o&&a!==s||(!(0!==i||!mu(e,n,t))||(!(0!==o||!mu(e,r,t))||(!(0!==a||!mu(n,e,r))||!(0!==s||!mu(n,t,r)))))}function mu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function vu(e){return e>0?1:e<0?-1:0}function gu(e,t){return du(e.prev,e,e.next)<0?du(e,t,e.next)>=0&&du(e,e.prev,t)>=0:du(e,t,e.prev)<0||du(e,e.next,t)<0}function yu(e,t){const n=new wu(e.i,e.x,e.y),r=new wu(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function _u(e,t,n,r){const i=new wu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function bu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function wu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class xu{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return xu.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Su(e),ku(n,e);let o=e.length;t.forEach(Su);for(let e=0;e<t.length;e++)r.push(o),o+=t[e].length,ku(n,t[e]);const a=Jc(n,r);for(let e=0;e<a.length;e+=3)i.push(a.slice(e,e+3));return i}}function Su(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ku(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Au extends Gi{constructor(e=new Kc([new Dn(.5,.5),new Dn(-.5,.5),new Dn(-.5,-.5),new Dn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let t=0,n=e.length;t<n;t++){o(e[t])}function o(e){const o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Eu;let v,g,y,_,b,w=!1;f&&(v=f.getSpacedPoints(s),w=!0,c=!1,g=f.computeFrenetFrames(s,!1),y=new lr,_=new lr,b=new lr),c||(p=0,u=0,h=0,d=0);const x=e.extractPoints(a);let S=x.shape;const k=x.holes;if(!xu.isClockWise(S)){S=S.reverse();for(let e=0,t=k.length;e<t;e++){const t=k[e];xu.isClockWise(t)&&(k[e]=t.reverse())}}const A=xu.triangulateShape(S,k),E=S;for(let e=0,t=k.length;e<t;e++){const t=k[e];S=S.concat(t)}function C(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const T=S.length,M=A.length;function D(e,t,n){let r,i,o;const a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=t.x-s/h,f=t.y+a/h,m=((n.x-c/d-p)*c-(n.y+l/d-f)*l)/(a*c-s*l);r=p+a*m-e.x,i=f+s*m-e.y;const v=r*r+i*i;if(v<=2)return new Dn(r,i);o=Math.sqrt(v/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new Dn(r/o,i/o)}const L=[];for(let e=0,t=E.length,n=t-1,r=e+1;e<t;e++,n++,r++)n===t&&(n=0),r===t&&(r=0),L[e]=D(E[e],E[n],E[r]);const P=[];let R,I=L.concat();for(let e=0,t=k.length;e<t;e++){const t=k[e];R=[];for(let e=0,n=t.length,r=n-1,i=e+1;e<n;e++,r++,i++)r===n&&(r=0),i===n&&(i=0),R[e]=D(t[e],t[r],t[i]);P.push(R),I=I.concat(R)}for(let e=0;e<p;e++){const t=e/p,n=u*Math.cos(t*Math.PI/2),r=h*Math.sin(t*Math.PI/2)+d;for(let e=0,t=E.length;e<t;e++){const t=C(E[e],L[e],r);B(t.x,t.y,-n)}for(let e=0,t=k.length;e<t;e++){const t=k[e];R=P[e];for(let e=0,i=t.length;e<i;e++){const i=C(t[e],R[e],r);B(i.x,i.y,-n)}}}const O=h+d;for(let e=0;e<T;e++){const t=c?C(S[e],I[e],O):S[e];w?(_.copy(g.normals[0]).multiplyScalar(t.x),y.copy(g.binormals[0]).multiplyScalar(t.y),b.copy(v[0]).add(_).add(y),B(b.x,b.y,b.z)):B(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<T;t++){const n=c?C(S[t],I[t],O):S[t];w?(_.copy(g.normals[e]).multiplyScalar(n.x),y.copy(g.binormals[e]).multiplyScalar(n.y),b.copy(v[e]).add(_).add(y),B(b.x,b.y,b.z)):B(n.x,n.y,l/s*e)}for(let e=p-1;e>=0;e--){const t=e/p,n=u*Math.cos(t*Math.PI/2),r=h*Math.sin(t*Math.PI/2)+d;for(let e=0,t=E.length;e<t;e++){const t=C(E[e],L[e],r);B(t.x,t.y,l+n)}for(let e=0,t=k.length;e<t;e++){const t=k[e];R=P[e];for(let e=0,i=t.length;e<i;e++){const i=C(t[e],R[e],r);w?B(i.x,i.y+v[s-1].y,v[s-1].x+n):B(i.x,i.y,l+n)}}}function F(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*p;e<n;e++){const n=T*e,o=T*(e+1);j(t+r+n,t+i+n,t+i+o,t+r+o)}}}function B(e,t,n){o.push(e),o.push(t),o.push(n)}function N(e,t,i){z(e),z(t),z(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);V(a[0]),V(a[1]),V(a[2])}function j(e,t,i,o){z(e),z(t),z(o),z(t),z(i),z(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);V(s[0]),V(s[1]),V(s[3]),V(s[1]),V(s[2]),V(s[3])}function z(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function V(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=T*e;for(let e=0;e<M;e++){const n=A[e];N(n[2]+t,n[1]+t,n[0]+t)}e=s+2*p,t=T*e;for(let e=0;e<M;e++){const n=A[e];N(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<M;e++){const t=A[e];N(t[2],t[1],t[0])}for(let e=0;e<M;e++){const t=A[e];N(t[0]+T*s,t[1]+T*s,t[2]+T*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;F(E,t),t+=E.length;for(let e=0,n=k.length;e<n;e++){const n=k[e];F(n,t),t+=n.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new Oi(r,3)),this.setAttribute("uv",new Oi(i,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){const r=e[t];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new Oc[r.type]).fromJSON(r)),new Au(n,e.options)}}const Eu={generateTopUV:function(e,t,n,r,i){const o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new Dn(o,a),new Dn(s,l),new Dn(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){const a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],p=t[3*i+1],f=t[3*i+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(s-u)<Math.abs(a-c)?[new Dn(a,1-l),new Dn(c,1-h),new Dn(d,1-f),new Dn(m,1-g)]:[new Dn(s,1-l),new Dn(u,1-h),new Dn(p,1-f),new Dn(v,1-g)]}};class Cu extends Hc{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Cu(e.radius,e.detail)}}class Tu extends Hc{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Tu(e.radius,e.detail)}}class Mu extends Gi{constructor(e=.5,t=1,n=32,r=1,i=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n);const a=[],s=[],l=[],c=[];let u=e;const h=(t-e)/(r=Math.max(1,r)),d=new lr,p=new Dn;for(let e=0;e<=r;e++){for(let e=0;e<=n;e++){const r=i+e/n*o;d.x=u*Math.cos(r),d.y=u*Math.sin(r),s.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(d.x/t+1)/2,p.y=(d.y/t+1)/2,c.push(p.x,p.y)}u+=h}for(let e=0;e<r;e++){const t=e*(n+1);for(let e=0;e<n;e++){const r=e+t,i=r,o=r+n+1,s=r+n+2,l=r+1;a.push(i,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new Oi(s,3)),this.setAttribute("normal",new Oi(l,3)),this.setAttribute("uv",new Oi(c,2))}static fromJSON(e){return new Mu(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Du extends Gi{constructor(e=new Kc([new Dn(0,.5),new Dn(-.5,-.5),new Dn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(a,s,t),a+=s,s=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===xu.isClockWise(c)&&(c=c.reverse());for(let e=0,t=u.length;e<t;e++){const t=u[e];!0===xu.isClockWise(t)&&(u[e]=t.reverse())}const h=xu.triangulateShape(c,u);for(let e=0,t=u.length;e<t;e++){const t=u[e];c=c.concat(t)}for(let e=0,t=c.length;e<t;e++){const t=c[e];r.push(t.x,t.y,0),i.push(0,0,1),o.push(t.x,t.y)}for(let e=0,t=h.length;e<t;e++){const t=h[e],r=t[0]+a,i=t[1]+a,o=t[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new Oi(r,3)),this.setAttribute("normal",new Oi(i,3)),this.setAttribute("uv",new Oi(o,2))}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Du(n,e.curveSegments)}}class Lu extends Gi{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new lr,h=new lr,d=[],p=[],f=[],m=[];for(let d=0;d<=n;d++){const v=[],g=d/n;let y=0;0==d&&0==o?y=.5/t:d==n&&s==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+g*a),u.y=e*Math.cos(o+g*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+g*a),p.push(u.x,u.y,u.z),h.copy(u).normalize(),f.push(h.x,h.y,h.z),m.push(s+y,1-g),v.push(l++)}c.push(v)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){const t=c[e][r+1],i=c[e][r],a=c[e+1][r],l=c[e+1][r+1];(0!==e||o>0)&&d.push(t,i,l),(e!==n-1||s<Math.PI)&&d.push(i,a,l)}this.setIndex(d),this.setAttribute("position",new Oi(p,3)),this.setAttribute("normal",new Oi(f,3)),this.setAttribute("uv",new Oi(m,2))}static fromJSON(e){return new Lu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pu extends Hc{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pu(e.radius,e.detail)}}class Ru extends Gi{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],c=new lr,u=new lr,h=new lr;for(let o=0;o<=n;o++)for(let d=0;d<=r;d++){const p=d/r*i,f=o/n*Math.PI*2;u.x=(e+t*Math.cos(f))*Math.cos(p),u.y=(e+t*Math.cos(f))*Math.sin(p),u.z=t*Math.sin(f),a.push(u.x,u.y,u.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),h.subVectors(u,c).normalize(),s.push(h.x,h.y,h.z),l.push(d/r),l.push(o/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*e+t-1,i=(r+1)*(e-1)+t-1,a=(r+1)*(e-1)+t,s=(r+1)*e+t;o.push(n,i,s),o.push(i,a,s)}this.setIndex(o),this.setAttribute("position",new Oi(a,3)),this.setAttribute("normal",new Oi(s,3)),this.setAttribute("uv",new Oi(l,2))}static fromJSON(e){return new Ru(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Iu extends Gi{constructor(e=1,t=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],l=[],c=[],u=new lr,h=new lr,d=new lr,p=new lr,f=new lr,m=new lr,v=new lr;for(let a=0;a<=n;++a){const y=a/n*i*Math.PI*2;g(y,i,o,e,d),g(y+.01,i,o,e,p),m.subVectors(p,d),v.addVectors(p,d),f.crossVectors(m,v),v.crossVectors(f,m),f.normalize(),v.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),p=t*Math.sin(i);u.x=d.x+(o*v.x+p*f.x),u.y=d.y+(o*v.y+p*f.y),u.z=d.z+(o*v.z+p*f.z),s.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(a/n),c.push(e/r)}}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,s=(r+1)*(e-1)+t;a.push(n,i,s),a.push(i,o,s)}function g(e,t,n,r,i){const o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Oi(s,3)),this.setAttribute("normal",new Oi(l,3)),this.setAttribute("uv",new Oi(c,2))}static fromJSON(e){return new Iu(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Ou extends Gi{constructor(e=new Rc(new lr(-1,-1,0),new lr(-1,1,0),new lr(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new lr,s=new lr,l=new Dn;let c=new lr;const u=[],h=[],d=[],p=[];function f(i){c=e.getPointAt(i/t,c);const l=o.normals[i],d=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*l.x+i*d.x,s.y=o*l.y+i*d.y,s.z=o*l.z+i*d.z,s.normalize(),h.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)f(e);f(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;p.push(n,i,a),p.push(i,o,a)}}()}(),this.setIndex(p),this.setAttribute("position",new Oi(u,3)),this.setAttribute("normal",new Oi(h,3)),this.setAttribute("uv",new Oi(d,2))}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Ou((new Oc[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Fu extends Gi{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new lr,i=new lr;if(null!==e.index){const o=e.attributes.position,a=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let s=0;s<3;s++){const l=a.getX(e+s),c=a.getX(e+(s+1)%3);r.fromBufferAttribute(o,l),i.fromBufferAttribute(o,c),!0===Bu(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let e=0,a=o.count/3;e<a;e++)for(let a=0;a<3;a++){const s=3*e+a,l=3*e+(a+1)%3;r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,l),!0===Bu(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new Oi(t,3))}}}function Bu(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Nu=Object.freeze({__proto__:null,BoxGeometry:ao,CapsuleGeometry:jc,CircleGeometry:zc,ConeGeometry:Uc,CylinderGeometry:Vc,DodecahedronGeometry:Gc,EdgesGeometry:Qc,ExtrudeGeometry:Au,IcosahedronGeometry:Cu,LatheGeometry:Nc,OctahedronGeometry:Tu,PlaneGeometry:Co,PolyhedronGeometry:Hc,RingGeometry:Mu,ShapeGeometry:Du,SphereGeometry:Lu,TetrahedronGeometry:Pu,TorusGeometry:Ru,TorusKnotGeometry:Iu,TubeGeometry:Ou,WireframeGeometry:Fu});class ju extends xi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Yn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class zu extends ho{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Vu extends xi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Yn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ot,this.normalScale=new Dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Uu extends Vu{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Dn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Yn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Yn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Yn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Hu extends xi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Yn(16777215),this.specular=new Yn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ot,this.normalScale=new Dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Gu extends xi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Yn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ot,this.normalScale=new Dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class qu extends xi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ot,this.normalScale=new Dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Wu extends xi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Yn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Yn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ot,this.normalScale=new Dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yu extends xi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Yn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ot,this.normalScale=new Dn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xu extends Yl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Qu(e,t,n){return Ju(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function Ku(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Ju(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Zu(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort((function(t,n){return e[t]-e[n]})),n}function $u(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function eh(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}var th=Object.freeze({__proto__:null,arraySlice:Qu,convertArray:Ku,isTypedArray:Ju,getKeyframeOrder:Zu,sortedArray:$u,flattenJSON:eh,subclip:function(e,t,n,r,i=30){const o=e.clone();o.name=t;const a=[];for(let e=0;e<o.tracks.length;++e){const t=o.tracks[e],s=t.getValueSize(),l=[],c=[];for(let e=0;e<t.times.length;++e){const o=t.times[e]*i;if(!(o<n||o>=r)){l.push(t.times[e]);for(let n=0;n<s;++n)c.push(t.values[e*s+n])}}0!==l.length&&(t.times=Ku(l,t.times.constructor),t.values=Ku(c,t.values.constructor),a.push(t))}o.tracks=a;let s=1/0;for(let e=0;e<o.tracks.length;++e)s>o.tracks[e].times[0]&&(s=o.tracks[e].times[0]);for(let e=0;e<o.tracks.length;++e)o.tracks[e].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let t=0;t<i;++t){const r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const a=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===a)continue;let s=0;const l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=r.times.length-1;let d;if(o<=r.times[0]){const e=s,t=l-s;d=Qu(r.values,e,t)}else if(o>=r.times[h]){const e=h*l+s,t=e+l-s;d=Qu(r.values,e,t)}else{const e=r.createInterpolant(),t=s,n=l-s;e.evaluate(o),d=Qu(e.resultBuffer,t,n)}if("quaternion"===i){(new sr).fromArray(d).normalize().conjugate().toArray(d)}const p=a.times.length;for(let e=0;e<p;++e){const t=e*u+c;if("quaternion"===i)sr.multiplyQuaternionsFlat(a.values,t,d,0,a.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)a.values[t+n]-=d[n]}}}return e.blendMode=Ct,e}});class nh{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rh extends nh{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:St,endingEnd:St}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case kt:i=e,a=2*t-n;break;case At:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case kt:o=e,s=2*n-t;break;case At:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-t)/(r-t),f=p*p,m=f*p,v=-h*m+2*h*f-h*p,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f;for(let e=0;e!==a;++e)i[e]=v*o[c+e]+g*o[l+e]+y*o[s+e]+_*o[u+e];return i}}class ih extends nh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let e=0;e!==a;++e)i[e]=o[l+e]*u+o[s+e]*c;return i}}class oh extends nh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ah{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ku(t,this.TimeBufferType),this.values=Ku(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Ku(e.times,Array),values:Ku(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new oh(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ih(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new rh(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case bt:t=this.InterpolantFactoryMethodDiscrete;break;case wt:t=this.InterpolantFactoryMethodLinear;break;case xt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bt;case this.InterpolantFactoryMethodLinear:return wt;case this.InterpolantFactoryMethodSmooth:return xt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=Qu(n,i,o),this.values=Qu(this.values,i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let t=0;t!==i;t++){const r=n[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,o),e=!1;break}o=r}if(void 0!==r&&Ju(r))for(let t=0,n=r.length;t!==n;++t){const n=r[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e}optimize(){const e=Qu(this.times),t=Qu(this.values),n=this.getValueSize(),r=this.getInterpolation()===xt,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=Qu(e,0,o),this.values=Qu(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=Qu(this.times,0),t=Qu(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}ah.prototype.TimeBufferType=Float32Array,ah.prototype.ValueBufferType=Float32Array,ah.prototype.DefaultInterpolation=wt;class sh extends ah{}sh.prototype.ValueTypeName="bool",sh.prototype.ValueBufferType=Array,sh.prototype.DefaultInterpolation=bt,sh.prototype.InterpolantFactoryMethodLinear=void 0,sh.prototype.InterpolantFactoryMethodSmooth=void 0;class lh extends ah{}lh.prototype.ValueTypeName="color";class ch extends ah{}ch.prototype.ValueTypeName="number";class uh extends nh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let e=l+a;l!==e;l+=4)sr.slerpFlat(i,0,o,l-a,o,l,s);return i}}class hh extends ah{InterpolantFactoryMethodLinear(e){return new uh(this.times,this.values,this.getValueSize(),e)}}hh.prototype.ValueTypeName="quaternion",hh.prototype.DefaultInterpolation=wt,hh.prototype.InterpolantFactoryMethodSmooth=void 0;class dh extends ah{}dh.prototype.ValueTypeName="string",dh.prototype.ValueBufferType=Array,dh.prototype.DefaultInterpolation=bt,dh.prototype.InterpolantFactoryMethodLinear=void 0,dh.prototype.InterpolantFactoryMethodSmooth=void 0;class ph extends ah{}ph.prototype.ValueTypeName="vector";class fh{constructor(e,t=-1,n,r=Et){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=bn(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(mh(n[e]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=n.length;e!==r;++e)t.push(ah.toJSON(n[e]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let e=0;e<i;e++){let a=[],s=[];a.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);const l=Zu(a);a=$u(a,1,l),s=$u(s,1,l),r||0!==a[0]||(a.push(i),s.push(s[0])),o.push(new ch(".morphTargetInfluences["+t[e].name+"]",a,s).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.name.match(i);if(o&&o.length>1){const e=o[1];let t=r[e];t||(r[e]=t=[]),t.push(n)}}const o=[];for(const e in r)o.push(this.CreateFromMorphTargetSequence(e,r[e],t,n));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];eh(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const i=l[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){const e={};let t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let n=0;n<i[t].morphTargets.length;n++)e[i[t].morphTargets[n]]=-1;for(const n in e){const e=[],o=[];for(let r=0;r!==i[t].morphTargets.length;++r){const r=i[t];e.push(r.time),o.push(r.morphTarget===n?1:0)}r.push(new ch(".morphTargetInfluence["+n+"]",e,o))}s=e.length*o}else{const o=".bones["+t[e].name+"]";n(ph,o+".position",i,"pos",r),n(hh,o+".quaternion",i,"rot",r),n(ph,o+".scale",i,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mh(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ch;case"vector":case"vector2":case"vector3":case"vector4":return ph;case"color":return lh;case"quaternion":return hh;case"bool":case"boolean":return sh;case"string":return dh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];eh(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const vh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class gh{constructor(e,t,n){const r=this;let i=!1,o=0,a=0,s=void 0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const yh=new gh;class _h{constructor(e){this.manager=void 0!==e?e:yh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const bh={};class wh extends Error{constructor(e,t){super(e),this.response=t}}class xh extends _h{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=vh.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==bh[e])return void bh[e].push({onLoad:t,onProgress:n,onError:r});bh[e]=[],bh[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(o).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=bh[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),o=i?parseInt(i):0,a=0!==o;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}})}()}});return new Response(l)}throw new wh(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,a));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{vh.add(e,t);const n=bh[e];delete bh[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=bh[e];if(void 0===n)throw this.manager.itemError(e),t;delete bh[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Sh extends _h{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new xh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=fh.parse(e[n]);t.push(r)}return t}}class kh extends _h{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],a=new pc,s=new xh(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=ge),a.image=o,a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)c(t);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=ge),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}class Ah extends _h{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=vh.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=Fn("img");function s(){c(),vh.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class Eh extends _h{constructor(e){super(e)}load(e,t,n,r){const i=new vo,o=new Ah(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let t=0;t<e.length;++t)s(t);return i}}class Ch extends _h{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Fl,a=new xh(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ue,o.wrapT=void 0!==n.wrapT?n.wrapT:ue,o.magFilter=void 0!==n.magFilter?n.magFilter:ge,o.minFilter=void 0!==n.minFilter?n.minFilter:ge,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(o.encoding=n.encoding),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=be),1===n.mipmapCount&&(o.minFilter=ge),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}class Th extends _h{constructor(e){super(e)}load(e,t,n,r){const i=new $n,o=new Ah(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Mh extends ci{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Yn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}class Dh extends Mh{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ci.DefaultUp),this.updateMatrix(),this.groundColor=new Yn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Lh=new Nr,Ph=new lr,Rh=new lr;class Ih{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Dn(512,512),this.map=null,this.mapPass=null,this.matrix=new Nr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ko,this._frameExtents=new Dn(1,1),this._viewportCount=1,this._viewports=[new er(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Ph.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ph),Rh.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Rh),t.updateMatrixWorld(),Lh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Lh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Lh)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Oh extends Ih{constructor(){super(new fo(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*_n*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Fh extends Mh{constructor(e,t,n=0,r=Math.PI/3,i=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ci.DefaultUp),this.updateMatrix(),this.target=new ci,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new Oh}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Bh=new Nr,Nh=new lr,jh=new lr;class zh extends Ih{constructor(){super(new fo(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Dn(4,2),this._viewportCount=6,this._viewports=[new er(2,1,1,1),new er(0,1,1,1),new er(3,1,1,1),new er(1,1,1,1),new er(3,0,1,1),new er(1,0,1,1)],this._cubeDirections=[new lr(1,0,0),new lr(-1,0,0),new lr(0,0,1),new lr(0,0,-1),new lr(0,1,0),new lr(0,-1,0)],this._cubeUps=[new lr(0,1,0),new lr(0,1,0),new lr(0,1,0),new lr(0,1,0),new lr(0,0,1),new lr(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Nh.setFromMatrixPosition(e.matrixWorld),n.position.copy(Nh),jh.copy(n.position),jh.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(jh),n.updateMatrixWorld(),r.makeTranslation(-Nh.x,-Nh.y,-Nh.z),Bh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Bh)}}class Vh extends Mh{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new zh}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Uh extends Ih{constructor(){super(new No(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Hh extends Mh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ci.DefaultUp),this.updateMatrix(),this.target=new ci,this.shadow=new Uh}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Gh extends Mh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class qh extends Mh{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Wh{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new lr)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class Yh extends Mh{constructor(e=new Wh,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Xh extends _h{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new xh(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=Xh.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Yn).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const i=e.uniforms[t];switch(r.uniforms[t]={},i.type){case"t":r.uniforms[t].value=n(i.value);break;case"c":r.uniforms[t].value=(new Yn).setHex(i.value);break;case"v2":r.uniforms[t].value=(new Dn).fromArray(i.value);break;case"v3":r.uniforms[t].value=(new lr).fromArray(i.value);break;case"v4":r.uniforms[t].value=(new er).fromArray(i.value);break;case"m3":r.uniforms[t].value=(new Ln).fromArray(i.value);break;case"m4":r.uniforms[t].value=(new Nr).fromArray(i.value);break;default:r.uniforms[t].value=i.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const t in e.extensions)r.extensions[t]=e.extensions[t];if(void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Dn).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Dn).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:ju,SpriteMaterial:ul,RawShaderMaterial:zu,ShaderMaterial:ho,PointsMaterial:ic,MeshPhysicalMaterial:Uu,MeshStandardMaterial:Vu,MeshPhongMaterial:Hu,MeshToonMaterial:Gu,MeshNormalMaterial:qu,MeshLambertMaterial:Wu,MeshDepthMaterial:Us,MeshDistanceMaterial:Hs,MeshBasicMaterial:Si,MeshMatcapMaterial:Yu,LineDashedMaterial:Xu,LineBasicMaterial:Yl,Material:xi}[e]}}class Qh{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Kh extends Gi{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Jh extends _h{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new xh(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),a=On(i.type,o),s=new sl(a,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new Kh:new Gi,o=e.data.index;if(void 0!==o){const e=On(o.type,o.array);i.setIndex(new Ei(e,1))}const a=e.data.attributes;for(const t in a){const n=a[t];let o;if(n.isInterleavedBufferAttribute){const t=r(e.data,n.data);o=new cl(t,n.itemSize,n.offset,n.normalized)}else{const e=On(n.type,n.array);o=new(n.isInstancedBufferAttribute?zl:Ei)(e,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),void 0!==n.usage&&o.setUsage(n.usage),void 0!==n.updateRange&&(o.updateRange.offset=n.updateRange.offset,o.updateRange.count=n.updateRange.count),i.setAttribute(t,o)}const s=e.data.morphAttributes;if(s)for(const t in s){const n=s[t],o=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];let a;if(i.isInterleavedBufferAttribute){const t=r(e.data,i.data);a=new cl(t,i.itemSize,i.offset,i.normalized)}else{const e=On(i.type,i.array);a=new Ei(e,i.itemSize,i.normalized)}void 0!==i.name&&(a.name=i.name),o.push(a)}i.morphAttributes[t]=o}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){const t=l[e];i.addGroup(t.start,t.count,t.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new lr;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new Mr(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}class Zh extends _h{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?Qh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new xh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);i.parse(o,t)}),n,r)}async loadAsync(e,t){const n=""===this.path?Qh.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new xh(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),o=JSON.parse(i),a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,(function(){void 0!==t&&t(l)})),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a,o,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Kc).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(let t=0,i=e.length;t<i;t++){const i=(new jl).fromJSON(e[t],r);n[i.uuid]=i}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Jh;for(let i=0,o=e.length;i<o;i++){let o;const a=e[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(a);break;default:a.type in Nu?o=Nu[a.type].fromJSON(a,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),!0===o.isBufferGeometry&&void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Xh;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=fh.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:On(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new gh(t);i=new Ah(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,n=e.length;t<n;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=o(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new Fl(n.data,n.width,n.height)))}r[n.uuid]=new Kn(e)}else{const e=o(n.url);r[n.uuid]=new Kn(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:On(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Ah(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new Fl(r.data,r.width,r.height)))}n[r.uuid]=new Kn(e)}else{const e=await i(r.url);n[r.uuid]=new Kn(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const a=t[o.image],s=a.data;let l;Array.isArray(s)?(l=new vo,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new Fl:new $n,s&&(l.needsUpdate=!0)),l.source=a,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,$h)),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],ed),l.wrapT=n(o.wrap[1],ed)),void 0!==o.format&&(l.format=o.format),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,td)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,td)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,n,r,i){let o,a,s;function l(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":o=new al,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Yn(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new ol(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new il(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness);break;case"PerspectiveCamera":o=new fo(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new No(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Gh(e.color,e.intensity);break;case"DirectionalLight":o=new Hh(e.color,e.intensity);break;case"PointLight":o=new Vh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new qh(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Fh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Dh(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Yh).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),s=c(e.material),o=new Il(a,s),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),s=c(e.material),o=new io(a,s);break;case"InstancedMesh":a=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new Wl(a,s,t),o.instanceMatrix=new zl(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new zl(new Float32Array(r.array),r.itemSize));break;case"LOD":o=new Tl;break;case"Line":o=new $l(l(e.geometry),c(e.material));break;case"LineLoop":o=new rc(l(e.geometry),c(e.material));break;case"LineSegments":o=new nc(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new cc(l(e.geometry),c(e.material));break;case"Sprite":o=new kl(c(e.material));break;case"Group":o=new Qs;break;case"Bone":o=new Ol;break;default:o=new ci}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)o.add(this.parseObject(a[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}}const $h={UVMapping:re,CubeReflectionMapping:ie,CubeRefractionMapping:oe,EquirectangularReflectionMapping:ae,EquirectangularRefractionMapping:se,CubeUVReflectionMapping:le},ed={RepeatWrapping:ce,ClampToEdgeWrapping:ue,MirroredRepeatWrapping:he},td={NearestFilter:de,NearestMipmapNearestFilter:pe,NearestMipmapLinearFilter:me,LinearFilter:ge,LinearMipmapNearestFilter:ye,LinearMipmapLinearFilter:be};class nd extends _h{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=vh.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){vh.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}let rd;class id{static getContext(){return void 0===rd&&(rd=new(window.AudioContext||window.webkitAudioContext)),rd}static setContext(e){rd=e}}class od extends _h{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new xh(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){try{const e=n.slice(0);id.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}}class ad extends Yh{constructor(e,t,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;const r=(new Yn).set(e),i=(new Yn).set(t),o=new lr(r.r,r.g,r.b),a=new lr(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}}class sd extends Yh{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const n=(new Yn).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const ld=new Nr,cd=new Nr,ud=new Nr;class hd{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fo,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fo,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ud.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(yn*t.fov*.5)/t.zoom;let o,a;cd.elements[12]=-n,ld.elements[12]=n,o=-i*t.aspect+r,a=i*t.aspect+r,ud.elements[0]=2*t.near/(a-o),ud.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(ud),o=-i*t.aspect-r,a=i*t.aspect-r,ud.elements[0]=2*t.near/(a-o),ud.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(ud)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cd),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ld)}}class dd{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=pd(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=pd();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function pd(){return("undefined"==typeof performance?Date:performance).now()}const fd=new lr,md=new sr,vd=new lr,gd=new lr;class yd extends ci{constructor(){super(),this.type="AudioListener",this.context=id.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new dd}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fd,md,vd),gd.set(0,0,-1).applyQuaternion(md),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(fd.x,e),t.positionY.linearRampToValueAtTime(fd.y,e),t.positionZ.linearRampToValueAtTime(fd.z,e),t.forwardX.linearRampToValueAtTime(gd.x,e),t.forwardY.linearRampToValueAtTime(gd.y,e),t.forwardZ.linearRampToValueAtTime(gd.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(fd.x,fd.y,fd.z),t.setOrientation(gd.x,gd.y,gd.z,n.x,n.y,n.z)}}class _d extends ci{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const bd=new lr,wd=new sr,xd=new lr,Sd=new lr;class kd extends _d{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(bd,wd,xd),Sd.set(0,0,1).applyQuaternion(wd);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(bd.x,e),t.positionY.linearRampToValueAtTime(bd.y,e),t.positionZ.linearRampToValueAtTime(bd.z,e),t.orientationX.linearRampToValueAtTime(Sd.x,e),t.orientationY.linearRampToValueAtTime(Sd.y,e),t.orientationZ.linearRampToValueAtTime(Sd.z,e)}else t.setPosition(bd.x,bd.y,bd.z),t.setOrientation(Sd.x,Sd.y,Sd.z)}}class Ad{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class Ed{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(n[e]!==n[e+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let e=n,i=r;e!==i;++e)t[e]=t[r+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)e[t+r]=e[n+r]}_slerp(e,t,n,r){sr.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;sr.multiplyQuaternionsFlat(e,o,e,t,e,n),sr.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const Cd=new RegExp("[\\[\\]\\.:\\/]","g"),Td="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Md=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]")+/(WCOD+)?/.source.replace("WCOD",Td)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]")+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]")+"$"),Dd=["material","materials","bones","map"];class Ld{constructor(e,t,n){this.path=t,this.parsedPath=n||Ld.parseTrackName(t),this.node=Ld.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Ld.Composite(e,t,n):new Ld(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Cd,"")}static parseTrackName(e){const t=Md.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Dd.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Ld.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ld.Composite=class{constructor(e,t,n){const r=n||Ld.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Ld.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ld.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ld.prototype.GetterByBindingType=[Ld.prototype._getValue_direct,Ld.prototype._getValue_array,Ld.prototype._getValue_arrayElement,Ld.prototype._getValue_toArray],Ld.prototype.SetterByBindingTypeAndVersioning=[[Ld.prototype._setValue_direct,Ld.prototype._setValue_direct_setNeedsUpdate,Ld.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ld.prototype._setValue_array,Ld.prototype._setValue_array_setNeedsUpdate,Ld.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ld.prototype._setValue_arrayElement,Ld.prototype._setValue_arrayElement_setNeedsUpdate,Ld.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ld.prototype._setValue_fromArray,Ld.prototype._setValue_fromArray_setNeedsUpdate,Ld.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Pd{constructor(){this.isAnimationObjectGroup=!0,this.uuid=bn(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a=void 0,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=s++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new Ld(u,n[e],r[e]))}else if(d<l){a=e[d];const s=--l,c=e[s];t[c.uuid]=d,e[d]=c,t[h]=s,e[s]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[s];let a=t[d];t[d]=o,void 0===a&&(a=new Ld(u,n[e],r[e])),t[s]=a}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,l=t[s];if(void 0!==l&&l>=i){const o=i++,c=e[o];t[c.uuid]=l,e[l]=c,t[s]=o,e[o]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const a=--i,s=e[a],c=--o,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[l]=r,t[a]=i,t.pop()}}else{const i=--o,a=e[i];i>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(let n=c,r=s.length;n!==r;++n){const r=s[n];u[n]=new Ld(r,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}class Rd{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,a=new Array(o),s={endingStart:St,endingEnd:St};for(let e=0;e!==o;++e){const t=i[e].createInterpolant(null);a[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=yt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case Ct:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(a);break;case Et:default:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=n===_t;if(0===e)return-1===i?r:o&&1==(1&i)?t-r:r;if(n===gt){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1==(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=kt,r.endingEnd=kt):(r.endingStart=e?this.zeroSlopeAtStart?kt:St:At,r.endingEnd=t?this.zeroSlopeAtEnd?kt:St:At)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}const Id=new Float32Array(1);class Od extends mn{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let e=0;e!==i;++e){const i=r[e],l=i.name;let u=c[l];if(void 0!==u)++u.referenceCount,o[e]=u;else{if(u=o[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,l));continue}const r=t&&t._propertyBindings[e].binding.parsedPath;u=new Ed(Ld.create(n,l,r),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,l),o[e]=u}a[e].resultBuffer=u.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new ih(new Float32Array(2),new Float32Array(2),1,Id),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"==typeof e?fh.findByName(r,e):e;const a=null!==o?o.uuid:e,s=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:Et),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Rd(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?fh.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let a=0;a!==n;++a){t[a]._update(r,e,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)a[e].apply(o);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const r=n[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){const t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Fd{constructor(e){this.value=e}clone(){return new Fd(void 0===this.value.clone?this.value:this.value.clone())}}let Bd=0;class Nd extends mn{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Bd++}),this.name="",this.usage=nn,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let e=0,n=t.length;e<n;e++)this.uniforms.push(t[e].clone());return this}clone(){return(new this.constructor).copy(this)}}class jd extends sl{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class zd{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Vd{constructor(e,t,n=0,r=1/0){this.ray=new Br(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Qr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return Hd(e,this,n,t),n.sort(Ud),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)Hd(e[r],this,n,t);return n.sort(Ud),n}}function Ud(e,t){return e.distance-t.distance}function Hd(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Hd(r[e],t,n,!0)}}class Gd{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(wn(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class qd{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}}const Wd=new Dn;class Yd{constructor(e=new Dn(1/0,1/0),t=new Dn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Wd.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Wd.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xd=new lr,Qd=new lr;class Kd{constructor(e=new lr,t=new lr){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Xd.subVectors(e,this.start),Qd.subVectors(this.end,this.start);const n=Qd.dot(Qd);let r=Qd.dot(Xd)/n;return t&&(r=wn(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Jd=new lr;class Zd extends ci{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new Gi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){const i=e/n*Math.PI*2,o=t/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new Oi(r,3));const i=new Yl({fog:!1,toneMapped:!1});this.cone=new nc(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Jd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Jd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $d=new lr,ep=new Nr,tp=new Nr;class np extends nc{constructor(e){const t=function e(t){const n=[];!0===t.isBone&&n.push(t);for(let r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new Gi,r=[],i=[],o=new Yn(0,0,1),a=new Yn(0,1,0);for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new Oi(r,3)),n.setAttribute("color",new Oi(i,3));super(n,new Yl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");tp.copy(this.root.matrixWorld).invert();for(let e=0,n=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.isBone&&(ep.multiplyMatrices(tp,i.matrixWorld),$d.setFromMatrixPosition(ep),r.setXYZ(n,$d.x,$d.y,$d.z),ep.multiplyMatrices(tp,i.parent.matrixWorld),$d.setFromMatrixPosition(ep),r.setXYZ(n+1,$d.x,$d.y,$d.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}class rp extends io{constructor(e,t,n){super(new Lu(t,4,2),new Si({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ip=new lr,op=new Yn,ap=new Yn;class sp extends ci{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Tu(t);r.rotateY(.5*Math.PI),this.material=new Si({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Ei(o,3)),this.add(new io(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");op.copy(this.light.color),ap.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?op:ap;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ip.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lp extends nc{constructor(e=10,t=10,n=4473924,r=8947848){n=new Yn(n),r=new Yn(r);const i=t/2,o=e/t,a=e/2,s=[],l=[];for(let e=0,c=0,u=-a;e<=t;e++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);const t=e===i?n:r;t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3}const c=new Gi;c.setAttribute("position",new Oi(s,3)),c.setAttribute("color",new Oi(l,3));super(c,new Yl({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class cp extends nc{constructor(e=10,t=16,n=8,r=64,i=4473924,o=8947848){i=new Yn(i),o=new Yn(o);const a=[],s=[];if(t>1)for(let n=0;n<t;n++){const r=n/t*(2*Math.PI),l=Math.sin(r)*e,c=Math.cos(r)*e;a.push(0,0,0),a.push(l,0,c);const u=1&n?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let t=0;t<n;t++){const l=1&t?i:o,c=e-e/n*t;for(let e=0;e<r;e++){let t=e/r*(2*Math.PI),n=Math.sin(t)*c,i=Math.cos(t)*c;a.push(n,0,i),s.push(l.r,l.g,l.b),t=(e+1)/r*(2*Math.PI),n=Math.sin(t)*c,i=Math.cos(t)*c,a.push(n,0,i),s.push(l.r,l.g,l.b)}}const l=new Gi;l.setAttribute("position",new Oi(a,3)),l.setAttribute("color",new Oi(s,3));super(l,new Yl({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const up=new lr,hp=new lr,dp=new lr;class pp extends ci{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new Gi;r.setAttribute("position",new Oi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new Yl({fog:!1,toneMapped:!1});this.lightPlane=new $l(r,i),this.add(this.lightPlane),r=new Gi,r.setAttribute("position",new Oi([0,0,0,0,0,1],3)),this.targetLine=new $l(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),up.setFromMatrixPosition(this.light.matrixWorld),hp.setFromMatrixPosition(this.light.target.matrixWorld),dp.subVectors(hp,up),this.lightPlane.lookAt(hp),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(hp),this.targetLine.scale.z=dp.length()}}const fp=new lr,mp=new po;class vp extends nc{constructor(e){const t=new Gi,n=new Yl({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={};function a(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new Oi(r,3)),t.setAttribute("color",new Oi(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new Yn(16755200),c=new Yn(16711680),u=new Yn(43775),h=new Yn(16777215),d=new Yn(3355443);this.setColors(l,c,u,h,d)}setColors(e,t,n,r,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;mp.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gp("c",t,e,mp,0,0,-1),gp("t",t,e,mp,0,0,1),gp("n1",t,e,mp,-1,-1,-1),gp("n2",t,e,mp,1,-1,-1),gp("n3",t,e,mp,-1,1,-1),gp("n4",t,e,mp,1,1,-1),gp("f1",t,e,mp,-1,-1,1),gp("f2",t,e,mp,1,-1,1),gp("f3",t,e,mp,-1,1,1),gp("f4",t,e,mp,1,1,1),gp("u1",t,e,mp,.7,1.1,-1),gp("u2",t,e,mp,-.7,1.1,-1),gp("u3",t,e,mp,0,2,-1),gp("cf1",t,e,mp,-1,0,1),gp("cf2",t,e,mp,1,0,1),gp("cf3",t,e,mp,0,-1,1),gp("cf4",t,e,mp,0,1,1),gp("cn1",t,e,mp,-1,0,-1),gp("cn2",t,e,mp,1,0,-1),gp("cn3",t,e,mp,0,-1,-1),gp("cn4",t,e,mp,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gp(e,t,n,r,i,o,a){fp.set(i,o,a).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],fp.x,fp.y,fp.z)}}const yp=new hr;class _p extends nc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Gi;i.setIndex(new Ei(n,1)),i.setAttribute("position",new Ei(r,3)),super(i,new Yl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&yp.setFromObject(this.object),yp.isEmpty())return;const t=yp.min,n=yp.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bp extends nc{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Gi;r.setIndex(new Ei(n,1)),r.setAttribute("position",new Oi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new Yl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class wp extends $l{constructor(e,t=1,n=16776960){const r=n,i=new Gi;i.setAttribute("position",new Oi([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new Yl({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=new Gi;o.setAttribute("position",new Oi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),o.computeBoundingSphere(),this.add(new io(o,new Si({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const xp=new lr;let Sp,kp;class Ap extends ci{constructor(e=new lr(0,0,1),t=new lr(0,0,0),n=1,r=16776960,i=.2*n,o=.2*i){super(),this.type="ArrowHelper",void 0===Sp&&(Sp=new Gi,Sp.setAttribute("position",new Oi([0,0,0,0,1,0],3)),kp=new Vc(0,.5,1,5,1),kp.translate(0,-.5,0)),this.position.copy(t),this.line=new $l(Sp,new Yl({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new io(kp,new Si({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{xp.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(xp,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Ep extends nc{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Gi;n.setAttribute("position",new Oi(t,3)),n.setAttribute("color",new Oi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new Yl({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Yn,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Cp{constructor(){this.type="ShapePath",this.color=new Yn,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Bc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],a=t[o],s=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],s=-s,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const n=xu.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,o,a;const s=[];if(1===r.length)return o=r[0],a=new Kc,a.curves=o.curves,s.push(a),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let h,d,p=[],f=0;u[f]=void 0,p[f]=[];for(let t=0,a=r.length;t<a;t++)o=r[t],h=o.getPoints(),i=n(h),i=e?!i:i,i?(!l&&u[f]&&f++,u[f]={s:new Kc,p:h},u[f].s.curves=o.curves,l&&f++,p[f]=[]):p[f].push({h:o,p:h[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Kc;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let e=0,t=u.length;e<t;e++)c[e]=[];for(let r=0,i=u.length;r<i;r++){const i=p[r];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<u.length;i++)t(a.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(a)):e=!0);s&&c[r].push(a)}}n>0&&!1===e&&(p=c)}for(let e=0,t=u.length;e<t;e++){a=u[e].s,s.push(a),d=p[e];for(let e=0,t=d.length;e<t;e++)a.holes.push(d[e].h)}return s}}const Tp=Mp();function Mp(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let e=0;e<256;++e){const t=e-127;t<-27?(r[e]=0,r[256|e]=32768,i[e]=24,i[256|e]=24):t<-14?(r[e]=1024>>-t-14,r[256|e]=1024>>-t-14|32768,i[e]=-t-1,i[256|e]=-t-1):t<=15?(r[e]=t+15<<10,r[256|e]=t+15<<10|32768,i[e]=13,i[256|e]=13):t<128?(r[e]=31744,r[256|e]=64512,i[e]=24,i[256|e]=24):(r[e]=31744,r[256|e]=64512,i[e]=13,i[256|e]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let e=1;e<1024;++e){let t=e<<13,n=0;for(;0==(8388608&t);)t<<=1,n-=8388608;t&=-8388609,n+=947912704,o[e]=t|n}for(let e=1024;e<2048;++e)o[e]=939524096+(e-1024<<13);for(let e=1;e<31;++e)a[e]=e<<23;a[31]=1199570944,a[32]=2147483648;for(let e=33;e<63;++e)a[e]=2147483648+(e-32<<23);a[63]=3347054592;for(let e=1;e<64;++e)32!==e&&(s[e]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}var Dp=Object.freeze({__proto__:null,toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=wn(e,-65504,65504),Tp.floatView[0]=e;const t=Tp.uint32View[0],n=t>>23&511;return Tp.baseTable[n]+((8388607&t)>>Tp.shiftTable[n])},fromHalfFloat:function(e){const t=e>>10;return Tp.uint32View[0]=Tp.mantissaTable[Tp.offsetTable[t]+(1023&e)]+Tp.exponentTable[t],Tp.floatView[0]}});function Lp(){console.error("THREE.ImmediateRenderObject has been removed.")}class Pp extends tr{constructor(e,t,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,t,n),this.samples=4}}class Rp extends nr{constructor(e,t,n,r){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,t,n,r)}}class Ip extends ir{constructor(e,t,n,r){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,t,n,r)}}class Op extends ao{constructor(e,t,n,r,i,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,t,n,r,i,o)}}class Fp extends jc{constructor(e,t,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,t,n,r)}}class Bp extends zc{constructor(e,t,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,t,n,r)}}class Np extends Uc{constructor(e,t,n,r,i,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,t,n,r,i,o,a)}}class jp extends Vc{constructor(e,t,n,r,i,o,a,s){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,t,n,r,i,o,a,s)}}class zp extends Gc{constructor(e,t){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,t)}}class Vp extends Au{constructor(e,t){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,t)}}class Up extends Cu{constructor(e,t){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,t)}}class Hp extends Nc{constructor(e,t,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,t,n,r)}}class Gp extends Tu{constructor(e,t){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,t)}}class qp extends Co{constructor(e,t,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,t,n,r)}}class Wp extends Hc{constructor(e,t,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,t,n,r)}}class Yp extends Mu{constructor(e,t,n,r,i,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,t,n,r,i,o)}}class Xp extends Du{constructor(e,t){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,t)}}class Qp extends Lu{constructor(e,t,n,r,i,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,t,n,r,i,o,a)}}class Kp extends Pu{constructor(e,t){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,t)}}class Jp extends Ru{constructor(e,t,n,r,i){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,t,n,r,i)}}class Zp extends Iu{constructor(e,t,n,r,i,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,t,n,r,i,o)}}class $p extends Ou{constructor(e,t,n,r,i){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,t,n,r,i)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},function(e,t,n){var r=n(9),i=n(16),o=n(29),a=n(25),s=n(34),l=function(e,t,n){var c,u,h,d,p=e&l.F,f=e&l.G,m=e&l.S,v=e&l.P,g=e&l.B,y=f?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,_=f?i:i[t]||(i[t]={}),b=_.prototype||(_.prototype={});for(c in f&&(n=t),n)h=((u=!p&&y&&void 0!==y[c])?y:n)[c],d=g&&u?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,y&&a(y,c,h,e&l.U),_[c]!=h&&o(_,c,d),v&&b[c]!=h&&(b[c]=h)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/n.d(t,"g",(function(){return Ht})),n.d(t,"n",(function(){return gn})),n.d(t,"W",(function(){return Dn})),n.d(t,"i",(function(){return Ln})),n.d(t,"j",(function(){return Pn})),n.d(t,"k",(function(){return Rn})),n.d(t,"l",(function(){return In})),n.d(t,"m",(function(){return On})),n.d(t,"h",(function(){return Fn})),n.d(t,"o",(function(){return Bn})),n.d(t,"d",(function(){return Nn})),n.d(t,"p",(function(){return jn})),n.d(t,"q",(function(){return zn})),n.d(t,"t",(function(){return Vn})),n.d(t,"e",(function(){return Un})),n.d(t,"a",(function(){return Hn})),n.d(t,"s",(function(){return Gn})),n.d(t,"b",(function(){return qn})),n.d(t,"r",(function(){return Wn})),n.d(t,"f",(function(){return Yn})),n.d(t,"c",(function(){return Xn})),n.d(t,"w",(function(){return nn})),n.d(t,"v",(function(){return qt})),n.d(t,"u",(function(){return qt})),n.d(t,"T",(function(){return Dn})),n.d(t,"ib",(function(){return dt})),n.d(t,"jb",(function(){return pt})),n.d(t,"U",(function(){return it})),n.d(t,"bb",(function(){return st})),n.d(t,"eb",(function(){return at})),n.d(t,"Z",(function(){return ut})),n.d(t,"V",(function(){return Ke})),n.d(t,"S",(function(){return Je})),n.d(t,"fb",(function(){return kt})),n.d(t,"gb",(function(){return tt})),n.d(t,"cb",(function(){return nt})),n.d(t,"Y",(function(){return mt})),n.d(t,"ab",(function(){return lt})),n.d(t,"hb",(function(){return ct})),n.d(t,"X",(function(){return vt})),n.d(t,"db",(function(){return rt})),n.d(t,"D",(function(){return de})),n.d(t,"I",(function(){return z})),n.d(t,"J",(function(){return V})),n.d(t,"F",(function(){return M})),n.d(t,"G",(function(){return P})),n.d(t,"N",(function(){return hn})),n.d(t,"M",(function(){return H})),n.d(t,"B",(function(){return pe})),n.d(t,"Q",(function(){return vn})),n.d(t,"z",(function(){return Mt})),n.d(t,"O",(function(){return ft})),n.d(t,"x",(function(){return Kt})),n.d(t,"L",(function(){return oe})),n.d(t,"R",(function(){return Dt})),n.d(t,"A",(function(){return b})),n.d(t,"P",(function(){return fe})),n.d(t,"H",(function(){return Q})),n.d(t,"E",(function(){return ln})),n.d(t,"C",(function(){return he})),n.d(t,"y",(function(){return Ct})),n.d(t,"K",(function(){return ve}));var o,a,s,l,c,u,h,d,p,f,m,v,g,y,_,b={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},w={duration:.5,overwrite:!1,delay:0},x=1e8,S=2*Math.PI,k=S/4,A=0,E=Math.sqrt,C=Math.cos,T=Math.sin,M=function(e){return"string"==typeof e},D=function(e){return"function"==typeof e},L=function(e){return"number"==typeof e},P=function(e){return void 0===e},R=function(e){return"object"==typeof e},I=function(e){return!1!==e},O=function(){return"undefined"!=typeof window},F=function(e){return D(e)||M(e)},B="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},N=Array.isArray,j=/(?:-?\.?\d|\.)+/gi,z=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,V=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,U=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,H=/[+-]=-?[.\d]+/,G=/[^,'"\[\]\s]+/gi,q=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,W={},Y={},X=function(e){return(Y=Se(e,W))&&Dn},Q=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},K=function(e,t){return!t&&console.warn(e)},J=function(e,t){return e&&(W[e]=t)&&Y&&(Y[e]=t)||W},Z=function(){return 0},$={suppressEvents:!0,isStart:!0,kill:!1},ee={suppressEvents:!0,kill:!1},te={suppressEvents:!0},ne={},re=[],ie={},oe={},ae={},se=30,le=[],ce="",ue=function(e){var t,n,r=e[0];if(R(r)||D(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=le.length;n--&&!le[n].targetTest(r););t=le[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ht(e[n],t)))||e.splice(n,1);return e},he=function(e){return e._gsap||ue(tt(e))[0]._gsap},de=function(e,t,n){return(n=e[t])&&D(n)?e[t]():P(n)&&e.getAttribute&&e.getAttribute(t)||n},pe=function(e,t){return(e=e.split(",")).forEach(t)||e},fe=function(e){return Math.round(1e5*e)/1e5||0},me=function(e){return Math.round(1e7*e)/1e7||0},ve=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},ge=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},ye=function(){var e,t,n=re.length,r=re.slice(0);for(ie={},re.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},_e=function(e,t,n,r){re.length&&!a&&ye(),e.render(t,n,r||a&&t<0&&(e._initted||e._startAt)),re.length&&!a&&ye()},be=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(G).length<2?t:M(e)?e.trim():e},we=function(e){return e},xe=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Se=function(e,t){for(var n in t)e[n]=t[n];return e},ke=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=R(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Ae=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Ee=function(e){var t,n=e.parent||l,r=e.keyframes?(t=N(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):xe;if(I(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Ce=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,a=e[r];if(i)for(o=t[i];a&&a[i]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},Te=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Me=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},De=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Le=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Pe=function(e,t,n,r){return e._startAt&&(a?e._startAt.revert(ee):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Re=function(e){return e._repeat?Ie(e._tTime,e=e.duration()+e._rDelay)*e:0},Ie=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Oe=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Fe=function(e){return e._end=me(e._start+(e._tDur/Math.abs(e._ts||e._rts||1e-8)||0))},Be=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=me(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Fe(e),n._dirty||De(n,e)),e},Ne=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Oe(e.rawTime(),t),(!t._dur||Qe(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)),De(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},je=function(e,t,n,r){return t.parent&&Me(t),t._start=me((L(n)?n:n||e!==l?We(e,n,t):e._time)+t._delay),t._end=me(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Ce(e,t,"_first","_last",e._sort?"_start":0),Ue(t)||(e._recent=t),r||Ne(e,t),e._ts<0&&Be(e,e._tTime),e},ze=function(e,t){return(W.ScrollTrigger||Q("scrollTrigger",t))&&W.ScrollTrigger.create(t,e)},Ve=function(e,t,n,r,i){return Jt(e,t,i),e._initted?!n&&e._pt&&!a&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&p!==Dt.frame?(re.push(e),e._lazy=[i,r],1):void 0:1},Ue=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},He=function(e,t,n,r){var i=e._repeat,o=me(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:me(o*(i+1)+e._rDelay*i):o,a>0&&!r&&Be(e,e._tTime=e._tDur*a),e.parent&&Fe(e),n||De(e.parent,e),e},Ge=function(e){return e instanceof qt?De(e):He(e,e._dur)},qe={_start:0,endTime:Z,totalDuration:Z},We=function e(t,n,r){var i,o,a,s=t.labels,l=t._recent||qe,c=t.duration()>=x?l.endTime(!1):t._dur;return M(n)&&(isNaN(n)||n in s)?(o=n.charAt(0),a="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(i<0?l:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=c),s[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),a&&r&&(o=o/100*(N(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+o:c+o)):null==n?c:+n},Ye=function(e,t,n){var r,i,o=L(t[1]),a=(o?2:1)+(e<2?0:1),s=t[a];if(o&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=I(i.vars.inherit)&&i.parent;s.immediateRender=I(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new nn(t[0],s,t[a+1])},Xe=function(e,t){return e||0===e?t(e):t},Qe=function(e,t,n){return n<e?e:n>t?t:n},Ke=function(e,t){return M(e)&&(t=q.exec(e))?t[1]:""},Je=function(e,t,n){return Xe(n,(function(n){return Qe(e,t,n)}))},Ze=[].slice,$e=function(e,t){return e&&R(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&R(e[0]))&&!e.nodeType&&e!==c},et=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return M(e)&&!t||$e(e,1)?(r=n).push.apply(r,tt(e)):n.push(e)}))||n},tt=function(e,t,n){return s&&!t&&s.selector?s.selector(e):!M(e)||n||!u&&Lt()?N(e)?et(e,n):$e(e)?Ze.call(e,0):e?[e]:[]:Ze.call((t||h).querySelectorAll(e),0)},nt=function(e){return e=tt(e)[0]||K("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return tt(t,n.querySelectorAll?n:n===e?K("Invalid scope")||h.createElement("div"):e)}},rt=function(e){return e.sort((function(){return.5-Math.random()}))},it=function(e){if(D(e))return e;var t=R(e)?e:{each:e},n=Nt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},a=r>0&&r<1,s=isNaN(r)||a,l=t.axis,c=r,u=r;return M(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(c=r[0],u=r[1]),function(e,a,h){var d,p,f,m,v,g,y,_,b,w=(h||t).length,S=o[w];if(!S){if(!(b="auto"===t.grid?0:(t.grid||[1,x])[1])){for(y=-x;y<(y=h[b++].getBoundingClientRect().left)&&b<w;);b<w&&b--}for(S=o[w]=[],d=s?Math.min(b,w)*c-.5:r%b,p=b===x?0:s?w*u/b-.5:r/b|0,y=0,_=x,g=0;g<w;g++)f=g%b-d,m=p-(g/b|0),S[g]=v=l?Math.abs("y"===l?m:f):E(f*f+m*m),v>y&&(y=v),v<_&&(_=v);"random"===r&&rt(S),S.max=y-_,S.min=_,S.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(b>w?w-1:l?"y"===l?w/b:b:Math.max(b,w/b))||0)*("edges"===r?-1:1),S.b=w<0?i-w:i,S.u=Ke(t.amount||t.each)||0,n=n&&w<0?Ft(n):n}return w=(S[e]-S.min)/S.max||0,me(S.b+(n?n(w):w)*S.v)+S.u}},ot=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=me(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(L(n)?0:Ke(n))}},at=function(e,t){var n,r,i=N(e);return!i&&R(e)&&(n=i=e.radius||x,e.values?(e=tt(e.values),(r=!L(e[0]))&&(n*=n)):e=ot(e.increment)),Xe(t,i?D(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,a=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=x,c=0,u=e.length;u--;)(i=r?(i=e[u].x-a)*i+(o=e[u].y-s)*o:Math.abs(e[u]-a))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||L(t)?c:c+Ke(t)}:ot(e))},st=function(e,t,n,r){return Xe(N(e)?!t:!0===n?!!(n=0):!r,(function(){return N(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},ct=function(e,t){return function(n){return e(parseFloat(n))+(t||Ke(n))}},ut=function(e,t,n){return mt(e,t,0,1,n)},ht=function(e,t,n){return Xe(n,(function(n){return e[~~t(n)]}))},dt=function e(t,n,r){var i=n-t;return N(t)?ht(t,e(0,t.length),n):Xe(r,(function(e){return(i+(e-t)%i)%i+t}))},pt=function e(t,n,r){var i=n-t,o=2*i;return N(t)?ht(t,e(0,t.length-1),n):Xe(r,(function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)}))},ft=function(e){for(var t,n,r,i,o=0,a="";~(t=e.indexOf("random(",o));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?G:j),a+=e.substr(o,t-o)+st(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return a+e.substr(o,e.length-o)},mt=function(e,t,n,r,i){var o=t-e,a=r-n;return Xe(i,(function(t){return n+((t-e)/o*a||0)}))},vt=function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var a,s,l,c,u,h=M(t),d={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(N(t)&&!N(n)){for(l=[],c=t.length,u=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,o=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Se(N(t)?[]:{},t));if(!l){for(a in n)Qt.call(d,t,a,"get",n[a]);o=function(e){return dn(e,d)||(h?t.p:t)}}}return Xe(r,o)},gt=function(e,t,n){var r,i,o,a=e.labels,s=x;for(r in a)(i=a[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(o=r,s=i);return o},yt=function(e,t,n){var r,i,o,a=e.vars,l=a[t],c=s,u=e._ctx;if(l)return r=a[t+"Params"],i=a.callbackScope||e,n&&re.length&&ye(),u&&(s=u),o=r?l.apply(i,r):l.call(i),s=c,o},_t=function(e){return Me(e),e.scrollTrigger&&e.scrollTrigger.kill(!!a),e.progress()<1&&yt(e,"onInterrupt"),e},bt=[],wt=function(e){if(e)if(e=!e.name&&e.default||e,O()||e.headless){var t=e.name,n=D(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:Z,render:dn,add:Qt,kill:fn,modifier:pn,rawVars:0},o={targetTest:0,get:0,getSetter:ln,aliases:{},register:0};if(Lt(),e!==r){if(oe[t])return;xe(r,xe(Ae(e,i),o)),Se(r.prototype,Se(i,Ae(e,o))),oe[r.prop=t]=r,e.targetTest&&(le.push(r),ne[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}J(t,r),e.register&&e.register(Dn,r,gn)}else bt.push(e)},xt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},St=function(e,t,n){return 255*(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)+.5|0},kt=function(e,t,n){var r,i,o,a,s,l,c,u,h,d,p=e?L(e)?[e>>16,e>>8&255,255&e]:0:xt.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),xt[e])p=xt[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&255,255&p,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]}else if("hsl"===e.substr(0,3))if(p=d=e.match(j),t){if(~e.indexOf("="))return p=e.match(z),n&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,s=+p[1]/100,r=2*(l=+p[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),p.length>3&&(p[3]*=1),p[0]=St(a+1/3,r,i),p[1]=St(a,r,i),p[2]=St(a-1/3,r,i);else p=e.match(j)||xt.transparent;p=p.map(Number)}return t&&!d&&(r=p[0]/255,i=p[1]/255,o=p[2]/255,l=((c=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,c===u?a=s=0:(h=c-u,s=l>.5?h/(2-c-u):h/(c+u),a=c===r?(i-o)/h+(i<o?6:0):c===i?(o-r)/h+2:(r-i)/h+4,a*=60),p[0]=~~(a+.5),p[1]=~~(100*s+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p},At=function(e){var t=[],n=[],r=-1;return e.split(Ct).forEach((function(e){var i=e.match(V)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},Et=function(e,t,n){var r,i,o,a,s="",l=(e+s).match(Ct),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=kt(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(o=At(e),(r=n.c).join(s)!==o.c.join(s)))for(a=(i=e.replace(Ct,"1").split(V)).length-1;u<a;u++)s+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!i)for(a=(i=e.split(Ct)).length-1;u<a;u++)s+=i[u]+l[u];return s+i[a]},Ct=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in xt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Tt=/hsl[a]?\(/,Mt=function(e){var t,n=e.join(" ");if(Ct.lastIndex=0,Ct.test(n))return t=Tt.test(n),e[1]=Et(e[1],t),e[0]=Et(e[0],t,At(e[1])),!0},Dt=function(){var e,t,n,r,i,o,a=Date.now,s=500,l=33,p=a(),f=p,v=1e3/240,g=v,y=[],_=function n(c){var u,h,d,m,_=a()-f,b=!0===c;if((_>s||_<0)&&(p+=_-l),((u=(d=(f+=_)-p)-g)>0||b)&&(m=++r.frame,i=d-1e3*r.time,r.time=d/=1e3,g+=u+(u>=v?4:v-u),h=1),b||(e=t(n)),h)for(o=0;o<y.length;o++)y[o](d,i,m,c)};return r={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){d&&(!u&&O()&&(c=u=window,h=c.document||{},W.gsap=Dn,(c.gsapVersions||(c.gsapVersions=[])).push(Dn.version),X(Y||c.GreenSockGlobals||!c.gsap&&c||{}),bt.forEach(wt)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,g-1e3*r.time+1|0)},m=1,_(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),m=0,t=Z},lagSmoothing:function(e,t){s=e||1/0,l=Math.min(t||33,s)},fps:function(e){v=1e3/(e||240),g=1e3*r.time+v},add:function(e,t,n){var i=t?function(t,n,o,a){e(t,n,o,a),r.remove(i)}:e;return r.remove(e),y[n?"unshift":"push"](i),Lt(),i},remove:function(e,t){~(t=y.indexOf(e))&&y.splice(t,1)&&o>=t&&o--},_listeners:y}}(),Lt=function(){return!m&&Dt.wake()},Pt={},Rt=/^[\d.\-M][\d.\-,\s]/,It=/["']/g,Ot=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),a=o[0],s=1,l=o.length;s<l;s++)n=o[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[a]=isNaN(r)?r.replace(It,"").trim():+r,a=n.substr(t+1).trim();return i},Ft=function(e){return function(t){return 1-e(1-t)}},Bt=function e(t,n){for(var r,i=t._first;i;)i instanceof qt?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Nt=function(e,t){return e&&(D(e)?e:Pt[e]||function(e){var t,n,r,i,o=(e+"").split("("),a=Pt[o[0]];return a&&o.length>1&&a.config?a.config.apply(null,~e.indexOf("{")?[Ot(o[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(be)):Pt._CE&&Rt.test(e)?Pt._CE("",e):a}(e))||t},jt=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return pe(e,(function(e){for(var t in Pt[e]=W[e]=o,Pt[i=e.toLowerCase()]=n,o)Pt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Pt[e+"."+t]=o[t]})),o},zt=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Vt=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),a=o/S*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*T((e-a)*o)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:zt(s);return o=S/o,l.config=function(n,r){return e(t,n,r)},l},Ut=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:zt(r);return i.config=function(n){return e(t,n)},i};pe("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;jt(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Pt.Linear.easeNone=Pt.none=Pt.Linear.easeIn,jt("Elastic",Vt("in"),Vt("out"),Vt()),v=7.5625,y=1/(g=2.75),jt("Bounce",(function(e){return 1-_(1-e)}),_=function(e){return e<y?v*e*e:e<.7272727272727273?v*Math.pow(e-1.5/g,2)+.75:e<.9090909090909092?v*(e-=2.25/g)*e+.9375:v*Math.pow(e-2.625/g,2)+.984375}),jt("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),jt("Circ",(function(e){return-(E(1-e*e)-1)})),jt("Sine",(function(e){return 1===e?1:1-C(e*k)})),jt("Back",Ut("in"),Ut("out"),Ut()),Pt.SteppedEase=Pt.steps=W.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*Qe(0,1-1e-8,e)|0)+i)*n}}},w.ease=Pt["quad.out"],pe("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ce+=e+","+e+"Params,"}));var Ht=function(e,t){this.id=A++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:de,this.set=t?t.getSetter:ln},Gt=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,He(this,+e.duration,1,1),this.data=e.data,s&&(this._ctx=s,s.data.push(this)),m||Dt.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,He(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Lt(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Be(this,e),!n._dp||n.parent||Ne(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&je(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&1e-8===Math.abs(this._zTime)||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),_e(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Re(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Re(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Ie(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Oe(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Qe(-Math.abs(this._delay),this._tDur,n),!1!==t),Fe(this),Le(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Lt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1e-8!==Math.abs(this._zTime)&&(this._tTime-=1e-8)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&je(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(I(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Oe(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=te);var t=a;return a=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),a=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Ge(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Ge(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(We(this,e),I(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,I(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-1e-8))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=D(e)?e:we,i=function(){var e=t.then;t.then=null,D(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){_t(this)},e}();xe(Gt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var qt=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=I(t.sortChildren),l&&je(t.parent||l,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&ze(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return Ye(0,arguments,this),this},n.from=function(e,t,n){return Ye(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Ye(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Ee(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new nn(e,t,We(this,n),1),this},n.call=function(e,t,n){return je(this,nn.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,o,a){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new nn(e,n,We(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,a){return n.runBackwards=1,Ee(n).immediateRender=I(n.immediateRender),this.staggerTo(e,t,n,r,i,o,a)},n.staggerFromTo=function(e,t,n,r,i,o,a,s){return r.startAt=n,Ee(r).immediateRender=I(r.immediateRender),this.staggerTo(e,t,r,i,o,a,s)},n.render=function(e,t,n){var r,i,o,s,c,u,h,d,p,f,m,v,g=this._time,y=this._dirty?this.totalDuration():this._tDur,_=this._dur,b=e<=0?0:me(e),w=this._zTime<0!=e<0&&(this._initted||!_);if(this!==l&&b>y&&e>=0&&(b=y),b!==this._tTime||n||w){if(g!==this._time&&_&&(b+=this._time-g,e+=this._time-g),r=b,p=this._start,u=!(d=this._ts),w&&(_||(g=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(m=this._yoyo,c=_+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*c+e,t,n);if(r=me(b%c),b===y?(s=this._repeat,r=_):((s=~~(b/c))&&s===b/c&&(r=_,s--),r>_&&(r=_)),f=Ie(this._tTime,c),!g&&this._tTime&&f!==s&&this._tTime-f*c-this._dur<=0&&(f=s),m&&1&s&&(r=_-r,v=1),s!==f&&!this._lock){var x=m&&1&f,S=x===(m&&1&s);if(s<f&&(x=!x),g=x?0:b%_?_:b,this._lock=1,this.render(g||(v?0:me(s*c)),t,!_)._lock=0,this._tTime=b,!t&&this.parent&&yt(this,"onRepeat"),this.vars.repeatRefresh&&!v&&(this.invalidate()._lock=1),g&&g!==this._time||u!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(_=this._dur,y=this._tDur,S&&(this._lock=2,g=x?_:-1e-4,this.render(g,!0),this.vars.repeatRefresh&&!v&&this.invalidate()),this._lock=0,!this._ts&&!u)return this;Bt(this,v)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,me(g),me(r)))&&(b-=r-(r=h._start)),this._tTime=b,this._time=r,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,g=0),!g&&r&&!t&&!s&&(yt(this,"onStart"),this._tTime!==b))return this;if(r>=g&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!u){h=0,o&&(b+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var k=e<0?e:r;i;){if(o=i._prev,(i._act||k<=i._end)&&i._ts&&h!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(k-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(k-i._start)*i._ts,t,n||a&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!u){h=0,o&&(b+=this._zTime=k?-1e-8:1e-8);break}}i=o}}if(h&&!t&&(this.pause(),h.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=p,Fe(this),this.render(e,t,n);this._onUpdate&&!t&&yt(this,"onUpdate",!0),(b===y&&this._tTime>=this.totalDuration()||!b&&g)&&(p!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!_)&&(b===y&&this._ts>0||!b&&this._ts<0)&&Me(this,1),t||e<0&&!g||!b&&!g&&y||(yt(this,b===y&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(L(t)||(t=We(this,t,e)),!(e instanceof Gt)){if(N(e))return e.forEach((function(e){return n.add(e,t)})),this;if(M(e))return this.addLabel(e,t);if(!D(e))return this;e=nn.delayedCall(0,e)}return this!==e?je(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-x);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof nn?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return M(e)?this.removeLabel(e):D(e)?this.killTweensOf(e):(Te(this,e),e===this._recent&&(this._recent=this._last),De(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=me(Dt.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=We(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=nn.delayedCall(0,t||Z,n);return r.data="isPause",this._hasPause=1,je(this,r,We(this,e))},n.removePause=function(e){var t=this._first;for(e=We(this,e);t;)t._start===e&&"isPause"===t.data&&Me(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Wt!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=tt(e),o=this._first,a=L(t);o;)o instanceof nn?ge(o._targets,i)&&(a?(!Wt||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=We(r,e),o=t,a=o.startAt,s=o.onStart,l=o.onStartParams,c=o.immediateRender,u=nn.to(r,xe({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale())||1e-8,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale());u._dur!==e&&He(u,e,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,xe({startAt:{time:We(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),gt(this,We(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),gt(this,We(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,o=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return De(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),De(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,a=o._last,s=x;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;a;)t=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>s&&o._sort&&a._ts&&!o._lock?(o._lock=1,je(o,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),s=0),a._end>i&&a._ts&&(i=a._end),a=t;He(o,o===l&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(l._ts&&(_e(l,Oe(e,l)),p=Dt.frame),Dt.frame>=se){se+=b.autoSleep||120;var t=l._first;if((!t||!t._ts)&&b.autoSleep&&Dt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||Dt.sleep()}}},t}(Gt);xe(qt.prototype,{_lock:0,_hasPause:0,_forcing:0});var Wt,Yt,Xt=function(e,t,n,r,i,o,a){var s,l,c,u,h,d,p,f,m=new gn(this._pt,e,t,0,1,hn,null,i),v=0,g=0;for(m.b=n,m.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=ft(r)),o&&(o(f=[n,r],e,t),n=f[0],r=f[1]),l=n.match(U)||[];s=U.exec(r);)u=s[0],h=r.substring(v,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[g++]&&(d=parseFloat(l[g-1])||0,m._pt={_next:m._pt,p:h||1===g?h:",",s:d,c:"="===u.charAt(1)?ve(d,u)-d:parseFloat(u)-d,m:c&&c<4?Math.round:0},v=U.lastIndex);return m.c=v<r.length?r.substring(v,r.length):"",m.fp=a,(H.test(r)||p)&&(m.e=0),this._pt=m,m},Qt=function(e,t,n,r,i,o,a,s,l,c){D(r)&&(r=r(i||0,e,o));var u,h=e[t],d="get"!==n?n:D(h)?l?e[t.indexOf("set")||!D(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,p=D(h)?l?an:on:rn;if(M(r)&&(~r.indexOf("random(")&&(r=ft(r)),"="===r.charAt(1)&&((u=ve(d,r)+(Ke(d)||0))||0===u)&&(r=u)),!c||d!==r||Yt)return isNaN(d*r)||""===r?(!h&&!(t in e)&&Q(t,r),Xt.call(this,e,t,d,r,p,s||b.stringFilter,l)):(u=new gn(this._pt,e,t,+d||0,r-(d||0),"boolean"==typeof h?un:cn,0,p),l&&(u.fp=l),a&&u.modifier(a,this,e),this._pt=u)},Kt=function(e,t,n,r,i,o){var a,s,l,c;if(oe[e]&&!1!==(a=new oe[e]).init(i,a.rawVars?t[e]:function(e,t,n,r,i){if(D(e)&&(e=$t(e,i,t,n,r)),!R(e)||e.style&&e.nodeType||N(e)||B(e))return M(e)?$t(e,i,t,n,r):e;var o,a={};for(o in e)a[o]=$t(e[o],i,t,n,r);return a}(t[e],r,i,o,n),n,r,o)&&(n._pt=s=new gn(n._pt,i,e,0,1,a.render,a,0,a.priority),n!==f))for(l=n._ptLookup[n._targets.indexOf(i)],c=a._props.length;c--;)l[a._props[c]]=s;return a},Jt=function e(t,n,r){var i,s,c,u,h,d,p,f,m,v,g,y,_,b=t.vars,S=b.ease,k=b.startAt,A=b.immediateRender,E=b.lazy,C=b.onUpdate,T=b.runBackwards,M=b.yoyoEase,D=b.keyframes,L=b.autoRevert,P=t._dur,R=t._startAt,O=t._targets,F=t.parent,B=F&&"nested"===F.data?F.vars.targets:O,N="auto"===t._overwrite&&!o,j=t.timeline;if(j&&(!D||!S)&&(S="none"),t._ease=Nt(S,w.ease),t._yEase=M?Ft(Nt(!0===M?S:M,w.ease)):0,M&&t._yoyo&&!t._repeat&&(M=t._yEase,t._yEase=t._ease,t._ease=M),t._from=!j&&!!b.runBackwards,!j||D&&!b.stagger){if(y=(f=O[0]?he(O[0]).harness:0)&&b[f.prop],i=Ae(b,ne),R&&(R._zTime<0&&R.progress(1),n<0&&T&&A&&!L?R.render(-1,!0):R.revert(T&&P?ee:$),R._lazy=0),k){if(Me(t._startAt=nn.set(O,xe({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:!R&&I(E),startAt:null,delay:0,onUpdate:C&&function(){return yt(t,"onUpdate")},stagger:0},k))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(a||!A&&!L)&&t._startAt.revert(ee),A&&P&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(T&&P&&!R)if(n&&(A=!1),c=xe({overwrite:!1,data:"isFromStart",lazy:A&&!R&&I(E),immediateRender:A,stagger:0,parent:F},i),y&&(c[f.prop]=y),Me(t._startAt=nn.set(O,c)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(a?t._startAt.revert(ee):t._startAt.render(-1,!0)),t._zTime=n,A){if(!n)return}else e(t._startAt,1e-8,1e-8);for(t._pt=t._ptCache=0,E=P&&I(E)||E&&!P,s=0;s<O.length;s++){if(p=(h=O[s])._gsap||ue(O)[s]._gsap,t._ptLookup[s]=v={},ie[p.id]&&re.length&&ye(),g=B===O?s:B.indexOf(h),f&&!1!==(m=new f).init(h,y||i,t,g,B)&&(t._pt=u=new gn(t._pt,h,m.name,0,1,m.render,m,0,m.priority),m._props.forEach((function(e){v[e]=u})),m.priority&&(d=1)),!f||y)for(c in i)oe[c]&&(m=Kt(c,i,t,g,h,B))?m.priority&&(d=1):v[c]=u=Qt.call(t,h,c,"get",i[c],g,B,0,b.stringFilter);t._op&&t._op[s]&&t.kill(h,t._op[s]),N&&t._pt&&(Wt=t,l.killTweensOf(h,v,t.globalTime(n)),_=!t.parent,Wt=0),t._pt&&E&&(ie[p.id]=1)}d&&vn(t),t._onInit&&t._onInit(t)}t._onUpdate=C,t._initted=(!t._op||t._pt)&&!_,D&&n<=0&&j.render(x,!0,!0)},Zt=function(e,t,n,r){var i,o,a=t.ease||r||"power1.inOut";if(N(t))o=n[e]||(n[e]=[]),t.forEach((function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:a})}));else for(i in t)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:a})},$t=function(e,t,n,r,i){return D(e)?e.call(t,n,r,i):M(e)&&~e.indexOf("random(")?ft(e):e},en=ce+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",tn={};pe(en+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return tn[e]=1}));var nn=function(e){function t(t,n,i,a){var s;"number"==typeof n&&(i.duration=n,n=i,i=null);var c,u,h,d,p,f,m,v,g=(s=e.call(this,a?n:Ee(n))||this).vars,y=g.duration,_=g.delay,w=g.immediateRender,x=g.stagger,S=g.overwrite,k=g.keyframes,A=g.defaults,E=g.scrollTrigger,C=g.yoyoEase,T=n.parent||l,M=(N(t)||B(t)?L(t[0]):"length"in n)?[t]:tt(t);if(s._targets=M.length?ue(M):K("GSAP target "+t+" not found. https://gsap.com",!b.nullTargetWarn)||[],s._ptLookup=[],s._overwrite=S,k||x||F(y)||F(_)){if(n=s.vars,(c=s.timeline=new qt({data:"nested",defaults:A||{},targets:T&&"nested"===T.data?T.vars.targets:M})).kill(),c.parent=c._dp=r(s),c._start=0,x||F(y)||F(_)){if(d=M.length,m=x&&it(x),R(x))for(p in x)~en.indexOf(p)&&(v||(v={}),v[p]=x[p]);for(u=0;u<d;u++)(h=Ae(n,tn)).stagger=0,C&&(h.yoyoEase=C),v&&Se(h,v),f=M[u],h.duration=+$t(y,r(s),u,f,M),h.delay=(+$t(_,r(s),u,f,M)||0)-s._delay,!x&&1===d&&h.delay&&(s._delay=_=h.delay,s._start+=_,h.delay=0),c.to(f,h,m?m(u,f,M):0),c._ease=Pt.none;c.duration()?y=_=0:s.timeline=0}else if(k){Ee(xe(c.vars.defaults,{ease:"none"})),c._ease=Nt(k.ease||n.ease||"none");var D,P,O,j=0;if(N(k))k.forEach((function(e){return c.to(M,e,">")})),c.duration();else{for(p in h={},k)"ease"===p||"easeEach"===p||Zt(p,k[p],h,k.easeEach);for(p in h)for(D=h[p].sort((function(e,t){return e.t-t.t})),j=0,u=0;u<D.length;u++)(O={ease:(P=D[u]).e,duration:(P.t-(u?D[u-1].t:0))/100*y})[p]=P.v,c.to(M,O,j),j+=O.duration;c.duration()<y&&c.to({},{duration:y-c.duration()})}}y||s.duration(y=c.duration())}else s.timeline=0;return!0!==S||o||(Wt=r(s),l.killTweensOf(M),Wt=0),je(T,r(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),(w||!y&&!k&&s._start===me(T._time)&&I(w)&&function e(t){return!t||t._ts&&e(t.parent)}(r(s))&&"nested"!==T.data)&&(s._tTime=-1e-8,s.render(Math.max(0,-_)||0)),E&&ze(r(s),E),s}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,s,l,c,u,h,d,p=this._time,f=this._tDur,m=this._dur,v=e<0,g=e>f-1e-8&&!v?f:e<1e-8?0:e;if(m){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==v){if(r=g,h=this.timeline,this._repeat){if(s=m+this._rDelay,this._repeat<-1&&v)return this.totalTime(100*s+e,t,n);if(r=me(g%s),g===f?(o=this._repeat,r=m):((o=~~(g/s))&&o===me(g/s)&&(r=m,o--),r>m&&(r=m)),(c=this._yoyo&&1&o)&&(d=this._yEase,r=m-r),l=Ie(this._tTime,s),r===p&&!n&&this._initted&&o===l)return this._tTime=g,this;o!==l&&(h&&this._yEase&&Bt(h,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==s&&this._initted&&(this._lock=n=1,this.render(me(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Ve(this,v?e:r,n,t,g))return this._tTime=0,this;if(!(p===this._time||n&&this.vars.repeatRefresh&&o!==l))return this;if(m!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/m),this._from&&(this.ratio=u=1-u),r&&!p&&!t&&!o&&(yt(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;h&&h.render(e<0?e:h._dur*h._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(v&&Pe(this,e,0,n),yt(this,"onUpdate")),this._repeat&&o!==l&&this.vars.onRepeat&&!t&&this.parent&&yt(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(v&&!this._onUpdate&&Pe(this,e,0,!0),(e||!m)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Me(this,1),t||v&&!p||!(g||p||c)||(yt(this,g===f?"onComplete":"onReverseComplete",!0),this._prom&&!(g<f&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,s,l=e.ratio,c=t<0||!t&&(!e._start&&function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))}(e)&&(e._initted||!Ue(e))||(e._ts<0||e._dp._ts<0)&&!Ue(e))?0:1,u=e._rDelay,h=0;if(u&&e._repeat&&(h=Qe(0,e._tDur,t),o=Ie(h,u),e._yoyo&&1&o&&(c=1-c),o!==Ie(e._tTime,u)&&(l=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==l||a||r||1e-8===e._zTime||!t&&e._zTime){if(!e._initted&&Ve(e,t,r,n,h))return;for(s=e._zTime,e._zTime=t||(n?1e-8:0),n||(n=t&&!s),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=h,i=e._pt;i;)i.r(c,i.d),i=i._next;t<0&&Pe(e,t,0,!0),e._onUpdate&&!n&&yt(e,"onUpdate"),h&&e._repeat&&!n&&e.parent&&yt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&Me(e,1),n||a||(yt(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){m||Dt.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Jt(this,o),function(e,t,n,r,i,o,a,s){var l,c,u,h,d=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!d)for(d=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Yt=1,e.vars[t]="+=0",Jt(e,a),Yt=0,s?K(t+" not eligible for reset"):1;d.push(l)}for(h=d.length;h--;)(l=(c=d[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+o*l.c:r,l.c=n-l.s,c.e&&(c.e=fe(n)+Ke(c.e)),c.b&&(c.b=l.s+Ke(c.b))}(this,e,t,n,r,this._ease(o/this._dur),o,i)?this.resetTo(e,t,n,r,1):(Be(this,0),this.parent||Ce(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?_t(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Wt&&!0!==Wt.vars.overwrite)._first||_t(this),this.parent&&n!==this.timeline.totalDuration()&&He(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,a,s,l,c,u=this._targets,h=e?tt(e):u,d=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),_t(this);for(r=this._op=this._op||[],"all"!==t&&(M(t)&&(s={},pe(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,o,a=e[0]?he(e[0]).harness:0,s=a&&a.aliases;if(!s)return t;for(r in n=Se({},t),s)if(r in n)for(i=(o=s[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(s in i=d[c],"all"===t?(r[c]=t,a=i,o={}):(o=r[c]=r[c]||{},a=t),a)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||Te(this,l,"_pt"),delete i[s]),"all"!==o&&(o[s]=1);return this._initted&&!this._pt&&p&&_t(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Ye(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Ye(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return l.killTweensOf(e,t,n)},t}(Gt);xe(nn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),pe("staggerTo,staggerFrom,staggerFromTo",(function(e){nn[e]=function(){var t=new qt,n=Ze.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var rn=function(e,t,n){return e[t]=n},on=function(e,t,n){return e[t](n)},an=function(e,t,n,r){return e[t](r.fp,n)},sn=function(e,t,n){return e.setAttribute(t,n)},ln=function(e,t){return D(e[t])?on:P(e[t])&&e.setAttribute?sn:rn},cn=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},un=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},hn=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},dn=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},pn=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},fn=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Te(this,r,"_pt"):r.dep||(t=1),r=n;return!t},mn=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},vn=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},gn=function(){function e(e,t,n,r,i,o,a,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||cn,this.d=a||this,this.set=s||rn,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=mn,this.m=e,this.mt=n,this.tween=t},e}();pe(ce+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return ne[e]=1})),W.TweenMax=W.TweenLite=nn,W.TimelineLite=W.TimelineMax=qt,l=new qt({sortChildren:!1,defaults:w,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),b.stringFilter=Mt;var yn=[],_n={},bn=[],wn=0,xn=0,Sn=function(e){return(_n[e]||bn).map((function(e){return e()}))},kn=function(){var e=Date.now(),t=[];e-wn>2&&(Sn("matchMediaInit"),yn.forEach((function(e){var n,r,i,o,a=e.queries,s=e.conditions;for(r in a)(n=c.matchMedia(a[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,o=1);o&&(e.revert(),i&&t.push(e))})),Sn("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),wn=e,Sn("matchMedia"))},An=function(){function e(e,t){this.selector=t&&nt(t),this.data=[],this._r=[],this.isReverted=!1,this.id=xn++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){D(e)&&(n=t,t=e,e=D);var r=this,i=function(){var e,i=s,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=nt(n)),s=r,e=t.apply(r,arguments),D(e)&&r._r.push(e),s=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===D?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=s;s=null,e(this),s=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof nn&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));for(r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;i--;)(t=n.data[i])instanceof qt?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof nn)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t)for(var r=yn.length;r--;)yn[r].id===this.id&&yn.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),En=function(){function e(e){this.contexts=[],this.scope=e,s&&s.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){R(e)||(e={matches:e});var r,i,o,a=new An(0,n||this.scope),l=a.conditions={};for(i in s&&!a.selector&&(a.selector=s.selector),this.contexts.push(a),t=a.add("onMatch",t),a.queries=e,e)"all"===i?o=1:(r=c.matchMedia(e[i]))&&(yn.indexOf(a)<0&&yn.push(a),(l[i]=r.matches)&&(o=1),r.addListener?r.addListener(kn):r.addEventListener("change",kn));return o&&t(a,(function(e){return a.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Cn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return wt(e)}))},timeline:function(e){return new qt(e)},getTweensOf:function(e,t){return l.getTweensOf(e,t)},getProperty:function(e,t,n,r){M(e)&&(e=tt(e)[0]);var i=he(e||{}).get,o=n?we:be;return"native"===n&&(n=""),e?t?o((oe[t]&&oe[t].get||i)(e,t,n,r)):function(t,n,r){return o((oe[t]&&oe[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=tt(e)).length>1){var r=e.map((function(e){return Dn.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=oe[t],a=he(e),s=a.harness&&(a.harness.aliases||{})[t]||t,l=o?function(t){var r=new o;f._pt=0,r.init(e,n?t+n:t,f,0,[e]),r.render(1,r),f._pt&&dn(1,f)}:a.set(e,s);return o?l:function(t){return l(e,s,n?t+n:t,a,1)}},quickTo:function(e,t,n){var r,i=Dn.to(e,Se(((r={})[t]="+=0.1",r.paused=!0,r),n||{})),o=function(e,n,r){return i.resetTo(t,e,n,r)};return o.tween=i,o},isTweening:function(e){return l.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Nt(e.ease,w.ease)),ke(w,e||{})},config:function(e){return ke(b,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!oe[e]&&!W[e]&&K(t+" effect requires "+e+" plugin.")})),ae[t]=function(e,t,r){return n(tt(e),xe(t||{},i),r)},o&&(qt.prototype[t]=function(e,n,r){return this.add(ae[t](e,R(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Pt[e]=Nt(t)},parseEase:function(e,t){return arguments.length?Nt(e,t):Pt},getById:function(e){return l.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new qt(e);for(i.smoothChildTiming=I(e.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,!t&&!n._dur&&n instanceof nn&&n.vars.onComplete===n._targets[0]||je(i,n,n._start-n._delay),n=r;return je(l,i,0),i},context:function(e,t){return e?new An(e,t):s},matchMedia:function(e){return new En(e)},matchMediaRefresh:function(){return yn.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||kn()},addEventListener:function(e,t){var n=_n[e]||(_n[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=_n[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:dt,wrapYoyo:pt,distribute:it,random:st,snap:at,normalize:ut,getUnit:Ke,clamp:Je,splitColor:kt,toArray:tt,selector:nt,mapRange:mt,pipe:lt,unitize:ct,interpolate:vt,shuffle:rt},install:X,effects:ae,ticker:Dt,updateRoot:qt.updateRoot,plugins:oe,globalTimeline:l,core:{PropTween:gn,globals:J,Tween:nn,Timeline:qt,Animation:Gt,getCache:he,_removeLinkedListItem:Te,reverting:function(){return a},context:function(e){return e&&s&&(s.data.push(e),e._ctx=s),s},suppressOverwrites:function(e){return o=e}}};pe("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Cn[e]=nn[e]})),Dt.add(qt.updateRoot),f=Cn.to({},{duration:0});var Tn=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Mn=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(M(n)&&(r={},pe(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=Tn(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},Dn=Cn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,a,s;for(o in this.tween=n,t)s=e.getAttribute(o)||"",(a=this.add(e,"setAttribute",(s||0)+"",t[o],r,i,0,0,o)).op=o,a.b=s,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)a?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Mn("roundProps",ot),Mn("modifiers"),Mn("snap",at))||Cn;nn.version=qt.version=Dn.version="3.12.5",d=1,O()&&Lt();var Ln=Pt.Power0,Pn=Pt.Power1,Rn=Pt.Power2,In=Pt.Power3,On=Pt.Power4,Fn=Pt.Linear,Bn=Pt.Quad,Nn=Pt.Cubic,jn=Pt.Quart,zn=Pt.Quint,Vn=Pt.Strong,Un=Pt.Elastic,Hn=Pt.Back,Gn=Pt.SteppedEase,qn=Pt.Bounce,Wn=Pt.Sine,Yn=Pt.Expo,Xn=Pt.Circ},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(87),o=n(166),a=n(17),s=n(150),l=n(50),c=n(115),u=function(e){function t(n,r,i){var a=e.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof t?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.a(t,e),t.prototype[s.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(a.a),h=function(e){function t(t,n,r,a){var s,l=e.call(this)||this;l._parentSubscriber=t;var c=l;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(l))),l._context=c,l._next=s,l._error=r,l._complete=a,l}return r.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw e;Object(c.a)(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(c.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(u)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return j})),n.d(t,"g",(function(){return A})),n.d(t,"i",(function(){return b})),n.d(t,"c",(function(){return R})),n.d(t,"b",(function(){return k})),n.d(t,"h",(function(){return w})),n.d(t,"e",(function(){return I})),n.d(t,"j",(function(){return L})),n.d(t,"f",(function(){return D})),n.d(t,"d",(function(){return P}));
/*!
 * Observer 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var i,o,a,s,l,c,u,h,d,p,f,m,v,g=function(){return i||"undefined"!=typeof window&&(i=window.gsap)&&i.registerPlugin&&i},y=1,_=[],b=[],w=[],x=Date.now,S=function(e,t){return t},k=function(e,t){return~w.indexOf(e)&&w[w.indexOf(e)+1][t]},A=function(e){return!!~p.indexOf(e)},E=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},C=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},T=function(){return f&&f.isPressed||b.cache++},M=function(e,t){var n=function n(r){if(r||0===r){y&&(a.history.scrollRestoration="manual");var i=f&&f.isPressed;r=n.v=Math.round(r)||(f&&f.iOS?1:0),e(r),n.cacheID=b.cache,i&&S("ss",r)}else(t||b.cache!==n.cacheID||S("ref"))&&(n.cacheID=b.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},D={s:"scrollLeft",p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:M((function(e){return arguments.length?a.scrollTo(e,L.sc()):a.pageXOffset||s.scrollLeft||l.scrollLeft||c.scrollLeft||0}))},L={s:"scrollTop",p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:D,sc:M((function(e){return arguments.length?a.scrollTo(D.sc(),e):a.pageYOffset||s.scrollTop||l.scrollTop||c.scrollTop||0}))},P=function(e,t){return(t&&t._ctx&&t._ctx.selector||i.utils.toArray)(e)[0]||("string"==typeof e&&!1!==i.config().nullTargetWarn?console.warn("Element not found:",e):null)},R=function(e,t){var n=t.s,r=t.sc;A(e)&&(e=s.scrollingElement||l);var o=b.indexOf(e),a=r===L.sc?1:2;!~o&&(o=b.push(e)-1),b[o+a]||E(e,"scroll",T);var c=b[o+a],u=c||(b[o+a]=M(k(e,n),!0)||(A(e)?r:M((function(t){return arguments.length?e[n]=t:e[n]}))));return u.target=e,c||(u.smooth="smooth"===i.getProperty(e,"scrollBehavior")),u},I=function(e,t,n){var r=e,i=e,o=x(),a=o,s=t||50,l=Math.max(500,3*s),c=function(e,t){var l=x();t||l-o>s?(i=r,r=e,a=o,o=l):n?r+=e:r=i+(e-i)/(l-a)*(o-a)};return{update:c,reset:function(){i=r=n?0:r,a=o=0},getVelocity:function(e){var t=a,s=i,u=x();return(e||0===e)&&e!==r&&c(e),o===a||u-a>l?0:(r+(n?s:-s))/((n?u:o)-t)*1e3}}},O=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},F=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},B=function(){var e,t,n,r;(d=i.core.globals().ScrollTrigger)&&d.core&&(e=d.core,t=e.bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,b),r.push.apply(r,w),b=n,w=r,S=function(e,n){return t[e](n)})},N=function(e){return i=e||g(),!o&&i&&"undefined"!=typeof document&&document.body&&(a=window,s=document,l=s.documentElement,c=s.body,p=[a,s,l,c],i.utils.clamp,v=i.core.context||function(){},h="onpointerenter"in c?"pointer":"mouse",u=j.isTouch=a.matchMedia&&a.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in a||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,m=j.eventTypes=("ontouchstart"in l?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in l?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout((function(){return y=0}),500),B(),o=1),o};D.op=L,b.cache=0;var j=function(){function e(e){this.init(e)}var t,n,p;return e.prototype.init=function(e){o||N(i)||console.warn("Please gsap.registerPlugin(Observer)"),d||B();var t=e.tolerance,n=e.dragMinimum,r=e.type,p=e.target,g=e.lineHeight,y=e.debounce,b=e.preventDefault,w=e.onStop,S=e.onStopDelay,k=e.ignore,M=e.wheelSpeed,j=e.event,z=e.onDragStart,V=e.onDragEnd,U=e.onDrag,H=e.onPress,G=e.onRelease,q=e.onRight,W=e.onLeft,Y=e.onUp,X=e.onDown,Q=e.onChangeX,K=e.onChangeY,J=e.onChange,Z=e.onToggleX,$=e.onToggleY,ee=e.onHover,te=e.onHoverEnd,ne=e.onMove,re=e.ignoreCheck,ie=e.isNormalizer,oe=e.onGestureStart,ae=e.onGestureEnd,se=e.onWheel,le=e.onEnable,ce=e.onDisable,ue=e.onClick,he=e.scrollSpeed,de=e.capture,pe=e.allowClicks,fe=e.lockAxis,me=e.onLockAxis;this.target=p=P(p)||l,this.vars=e,k&&(k=i.utils.toArray(k)),t=t||1e-9,n=n||0,M=M||1,he=he||1,r=r||"wheel,touch,pointer",y=!1!==y,g||(g=parseFloat(a.getComputedStyle(c).lineHeight)||22);var ve,ge,ye,_e,be,we,xe,Se=this,ke=0,Ae=0,Ee=e.passive||!b,Ce=R(p,D),Te=R(p,L),Me=Ce(),De=Te(),Le=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===m[0],Pe=A(p),Re=p.ownerDocument||s,Ie=[0,0,0],Oe=[0,0,0],Fe=0,Be=function(){return Fe=x()},Ne=function(e,t){return(Se.event=e)&&k&&~k.indexOf(e.target)||t&&Le&&"touch"!==e.pointerType||re&&re(e,t)},je=function(){var e=Se.deltaX=F(Ie),n=Se.deltaY=F(Oe),r=Math.abs(e)>=t,i=Math.abs(n)>=t;J&&(r||i)&&J(Se,e,n,Ie,Oe),r&&(q&&Se.deltaX>0&&q(Se),W&&Se.deltaX<0&&W(Se),Q&&Q(Se),Z&&Se.deltaX<0!=ke<0&&Z(Se),ke=Se.deltaX,Ie[0]=Ie[1]=Ie[2]=0),i&&(X&&Se.deltaY>0&&X(Se),Y&&Se.deltaY<0&&Y(Se),K&&K(Se),$&&Se.deltaY<0!=Ae<0&&$(Se),Ae=Se.deltaY,Oe[0]=Oe[1]=Oe[2]=0),(_e||ye)&&(ne&&ne(Se),ye&&(U(Se),ye=!1),_e=!1),we&&!(we=!1)&&me&&me(Se),be&&(se(Se),be=!1),ve=0},ze=function(e,t,n){Ie[n]+=e,Oe[n]+=t,Se._vx.update(e),Se._vy.update(t),y?ve||(ve=requestAnimationFrame(je)):je()},Ve=function(e,t){fe&&!xe&&(Se.axis=xe=Math.abs(e)>Math.abs(t)?"x":"y",we=!0),"y"!==xe&&(Ie[2]+=e,Se._vx.update(e,!0)),"x"!==xe&&(Oe[2]+=t,Se._vy.update(t,!0)),y?ve||(ve=requestAnimationFrame(je)):je()},Ue=function(e){if(!Ne(e,1)){var t=(e=O(e,b)).clientX,r=e.clientY,i=t-Se.x,o=r-Se.y,a=Se.isDragging;Se.x=t,Se.y=r,(a||Math.abs(Se.startX-t)>=n||Math.abs(Se.startY-r)>=n)&&(U&&(ye=!0),a||(Se.isDragging=!0),Ve(i,o),a||z&&z(Se))}},He=Se.onPress=function(e){Ne(e,1)||e&&e.button||(Se.axis=xe=null,ge.pause(),Se.isPressed=!0,e=O(e),ke=Ae=0,Se.startX=Se.x=e.clientX,Se.startY=Se.y=e.clientY,Se._vx.reset(),Se._vy.reset(),E(ie?p:Re,m[1],Ue,Ee,!0),Se.deltaX=Se.deltaY=0,H&&H(Se))},Ge=Se.onRelease=function(e){if(!Ne(e,1)){C(ie?p:Re,m[1],Ue,!0);var t=!isNaN(Se.y-Se.startY),n=Se.isDragging,r=n&&(Math.abs(Se.x-Se.startX)>3||Math.abs(Se.y-Se.startY)>3),o=O(e);!r&&t&&(Se._vx.reset(),Se._vy.reset(),b&&pe&&i.delayedCall(.08,(function(){if(x()-Fe>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(Re.createEvent){var t=Re.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,a,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}))),Se.isDragging=Se.isGesturing=Se.isPressed=!1,w&&n&&!ie&&ge.restart(!0),V&&n&&V(Se),G&&G(Se,r)}},qe=function(e){return e.touches&&e.touches.length>1&&(Se.isGesturing=!0)&&oe(e,Se.isDragging)},We=function(){return(Se.isGesturing=!1)||ae(Se)},Ye=function(e){if(!Ne(e)){var t=Ce(),n=Te();ze((t-Me)*he,(n-De)*he,1),Me=t,De=n,w&&ge.restart(!0)}},Xe=function(e){if(!Ne(e)){e=O(e,b),se&&(be=!0);var t=(1===e.deltaMode?g:2===e.deltaMode?a.innerHeight:1)*M;ze(e.deltaX*t,e.deltaY*t,0),w&&!ie&&ge.restart(!0)}},Qe=function(e){if(!Ne(e)){var t=e.clientX,n=e.clientY,r=t-Se.x,i=n-Se.y;Se.x=t,Se.y=n,_e=!0,w&&ge.restart(!0),(r||i)&&Ve(r,i)}},Ke=function(e){Se.event=e,ee(Se)},Je=function(e){Se.event=e,te(Se)},Ze=function(e){return Ne(e)||O(e,b)&&ue(Se)};ge=Se._dc=i.delayedCall(S||.25,(function(){Se._vx.reset(),Se._vy.reset(),ge.pause(),w&&w(Se)})).pause(),Se.deltaX=Se.deltaY=0,Se._vx=I(0,50,!0),Se._vy=I(0,50,!0),Se.scrollX=Ce,Se.scrollY=Te,Se.isDragging=Se.isGesturing=Se.isPressed=!1,v(this),Se.enable=function(e){return Se.isEnabled||(E(Pe?Re:p,"scroll",T),r.indexOf("scroll")>=0&&E(Pe?Re:p,"scroll",Ye,Ee,de),r.indexOf("wheel")>=0&&E(p,"wheel",Xe,Ee,de),(r.indexOf("touch")>=0&&u||r.indexOf("pointer")>=0)&&(E(p,m[0],He,Ee,de),E(Re,m[2],Ge),E(Re,m[3],Ge),pe&&E(p,"click",Be,!0,!0),ue&&E(p,"click",Ze),oe&&E(Re,"gesturestart",qe),ae&&E(Re,"gestureend",We),ee&&E(p,h+"enter",Ke),te&&E(p,h+"leave",Je),ne&&E(p,h+"move",Qe)),Se.isEnabled=!0,e&&e.type&&He(e),le&&le(Se)),Se},Se.disable=function(){Se.isEnabled&&(_.filter((function(e){return e!==Se&&A(e.target)})).length||C(Pe?Re:p,"scroll",T),Se.isPressed&&(Se._vx.reset(),Se._vy.reset(),C(ie?p:Re,m[1],Ue,!0)),C(Pe?Re:p,"scroll",Ye,de),C(p,"wheel",Xe,de),C(p,m[0],He,de),C(Re,m[2],Ge),C(Re,m[3],Ge),C(p,"click",Be,!0),C(p,"click",Ze),C(Re,"gesturestart",qe),C(Re,"gestureend",We),C(p,h+"enter",Ke),C(p,h+"leave",Je),C(p,h+"move",Qe),Se.isEnabled=Se.isPressed=Se.isDragging=!1,ce&&ce(Se))},Se.kill=Se.revert=function(){Se.disable();var e=_.indexOf(Se);e>=0&&_.splice(e,1),f===Se&&(f=0)},_.push(Se),ie&&A(p)&&(f=Se),Se.enable(j)},t=e,(n=[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}])&&r(t.prototype,n),p&&r(t,p),e}();j.version="3.12.5",j.create=function(e){return new j(e)},j.register=N,j.getAll=function(){return _.slice()},j.getById=function(e){return _.filter((function(t){return t.vars.id===e}))[0]},g()&&i.registerPlugin(j)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c}));var r=n(2),i=n(4),o=n(8),a=n(114),s=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i.a),l=(i.a,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i.a));i.a;function c(e,t){if(!t.closed){if(e instanceof o.a)return e.subscribe(t);var n;try{n=Object(a.a)(e)(t)}catch(e){t.error(e)}return n}}},function(e,t,n){"use strict";n.r(t),n.d(t,"gsap",(function(){return o})),n.d(t,"default",(function(){return o})),n.d(t,"TweenMax",(function(){return a}));var r=n(3);n.d(t,"TweenLite",(function(){return r.w})),n.d(t,"TimelineMax",(function(){return r.v})),n.d(t,"TimelineLite",(function(){return r.u})),n.d(t,"Power0",(function(){return r.i})),n.d(t,"Power1",(function(){return r.j})),n.d(t,"Power2",(function(){return r.k})),n.d(t,"Power3",(function(){return r.l})),n.d(t,"Power4",(function(){return r.m})),n.d(t,"Linear",(function(){return r.h})),n.d(t,"Quad",(function(){return r.o})),n.d(t,"Cubic",(function(){return r.d})),n.d(t,"Quart",(function(){return r.p})),n.d(t,"Quint",(function(){return r.q})),n.d(t,"Strong",(function(){return r.t})),n.d(t,"Elastic",(function(){return r.e})),n.d(t,"Back",(function(){return r.a})),n.d(t,"SteppedEase",(function(){return r.s})),n.d(t,"Bounce",(function(){return r.b})),n.d(t,"Sine",(function(){return r.r})),n.d(t,"Expo",(function(){return r.f})),n.d(t,"Circ",(function(){return r.c}));var i=n(155);n.d(t,"CSSPlugin",(function(){return i.a}));var o=r.W.registerPlugin(i.a)||r.W,a=o.core.Tween},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(164),i=n(4),o=n(150),a=n(166);var s=n(79),l=n(148),c=n(50),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.a)return e;if(e[o.a])return e[o.a]()}return e||t||n?new i.a(e,t,n):new i.a(a.a)}(e,t,n);if(r?s.add(r.call(s,this.source)):s.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),Object(r.a)(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=h(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(l.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=h(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function h(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(12);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(97)("wks"),i=n(52),o=n(9).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(153),i=n(709),o={sub_footer_height:new r.BehaviorSubject(0),sub_us_banner_state:new r.BehaviorSubject,sub_menu_top:new r.BehaviorSubject(34),sub_loaded_component:new r.Subject,sub_cursor:new r.ReplaySubject,sub_overlay_manager_bus:new r.Subject,sub_my_list_manager_bus:new r.Subject,sub_touch_update:new r.BehaviorSubject(!1),sub_broadcast:new r.ReplaySubject,sub_height_resize:(new r.Subject).pipe((0,i.debounceTime)(500)),sub_dealer_recaptcha:new r.Subject,sub_form_recaptcha:new r.Subject,sub_mobile_menu:new r.Subject,sub_my_list_updated:new r.ReplaySubject(1),sub_luggage_overlay:new r.ReplaySubject(1),sub_epaas:new r.ReplaySubject(1),sub_epaas_consent_change:new r.Subject,sub_preferred_dealer:new r.ReplaySubject(1),sub_preferred_language:new r.ReplaySubject(1),sub_audio_manager_bus:new r.Subject};t.default=o},function(e,t,n){var r=n(36),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(24),i=n(163),o=n(87),a=n(151),s=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,s=this._ctorUnsubscribe,c=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h){n[h].remove(this)}if(Object(o.a)(c)){s&&(this._unsubscribe=void 0);try{c.call(this)}catch(e){t=e instanceof a.a?l(e.errors):[e]}}if(Object(r.a)(u)){h=-1;for(var d=u.length;++h<d;){var p=u[h];if(Object(i.a)(p))try{p.unsubscribe()}catch(e){t=t||[],e instanceof a.a?t=t.concat(l(e.errors)):t.push(e)}}}if(t)throw new a.a(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof a.a?t.errors:t)}),[])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.container_ids=t.trackCarouselMetadata=t.trackImpressions=t.firePageEvent=t.appendDealerInfoTo=t.fireTronActivityClickEvent=t.fireCustomEvent=t.setup=void 0;var r=n(485);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var i=n(486);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var o=n(487);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var a=n(488);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var s,l=n(75),c=(s=l)&&s.__esModule?s:{default:s},u=n(201);function h(e){e.timestamp=(new Date).getTime();try{return window.dataLayer=window.dataLayer||[],d(e="string"==typeof e?{event:e}:e),window.dataLayer.push(e)}catch(e){console.warn(e)}}function d(e){var t=u.dealerService.get_current_preferred_dealer();t.get_name()?e.selectedDealer=t.get_name():e.selectedDealer="Not Selected",u.dealerService.is_dealer_page()&&(e.dealerName=u.dealerService.get_current_page_dealer_info_obj("dealerName")),u.dealerService.is_dealer_page()&&(e.dealerSection=u.dealerService.get_current_page_dealer_info_obj("dealerType"))}t.setup=function(){c.default.each({".cta a":"CTA",".rrmc-component-grid-container:not(.hero) .cta a":"in_page_cta",".rrmc-footer-link":"footer_nav",".rrmc-footer-social":"footer_social"},(function(e,t){(0,c.default)(e).attr("data-analytics",t)}))},t.fireCustomEvent=h,t.fireTronActivityClickEvent=function(){window.tronActivityMap.activityMapClick({componentVersion:"Last build:"+window.rrFormatedDate})},t.appendDealerInfoTo=d,t.firePageEvent=function(){var e=window.location.pathname.split("/"),t=e[e.length-2]+"/"+e[e.length-1].split(".")[0];window.dataLayer=window.dataLayer||[];var n={event:"pageLoad",pageCategory:t};d(n),window.dataLayer.push(n)},t.trackImpressions=function(e,t){var n=[];e&&[].slice.call(e).forEach((function(e,r){var i={id:e.getAttribute("data-tracking-id"),name:e.getAttribute("data-tracking-name"),category:e.getAttribute("data-category"),list:t,position:r+1};n.push(i)})),window.impression&&t.indexOf("Collection")>-1?n.forEach((function(e){h(["ecommerce.impressions.push",e])})):h({event:"ee-productImpression",ecommerce:{impressions:n}}),window.impression=!0},t.trackCarouselMetadata=function(e){if(e)try{var t=JSON.parse(e);window.impression?h(["ecommerce.impressions.push",Array.isArray(t)?t[0]:t]):(h({event:"ee-productImpression",ecommerce:{impressions:Array.isArray(t)?t:[t]}}),window.impression=!0)}catch(e){}},t.container_ids=["GTM-WTXNCRK","GTM-P882QTB","GTM-W28ZNTL"]},function(e,t,n){e.exports=!n(10)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),i=n(168),o=n(47),a=Object.defineProperty;t.f=n(19)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var r=n(2),i=n(8),o=n(4),a=n(17),s=n(80),l=n(223),c=n(150),u=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.a(t,e),t}(o.a),h=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.a(t,e),t.prototype[c.a]=function(){return new u(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.a;return this.hasError?(e.error(this.thrownError),a.a.EMPTY):this.isStopped?(e.complete(),a.a.EMPTY):(this.observers.push(e),new l.a(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.a),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.a.EMPTY},t}(h)},function(e,t,n){var r=n(43);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(95),i=new(n(93).a)(r.a),o=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,n){var r=n(9),i=n(29),o=n(28),a=n(52)("src"),s=n(236),l=(""+s).split("toString");n(16).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var r=n(1),i=n(10),o=n(43),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.srcsetLazyLoaderPlain=t.pictureLazyLoaderPlain=t.pictureLazyLoader=t.imageLazyLoaderOriginal=t.imageLazyLoaderPlain=t.imageLazyloader=void 0;var r,i,o,a,s,l=(r=v(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.querySelectorAll(".rrmc-img-preloader"),e.next=3,(0,m.check_webp_feature)("lossy");case 3:r=e.sent,[].slice.call(n).forEach((function(e){var t=e.querySelector(".rrmc-preload-blur"),n=e.querySelector(".rrmc-preload-target"),i=new Image,o=n.getAttribute("data-src"),a=n.getAttribute("data-srcset");r&&(a=n.getAttribute("data-webp-srcset"));var s=n.getAttribute("sizes"),l="string"==typeof a&&a.length&&!(0,f.is_ie11)();i.onload=function(){i.onload=null,l?n.srcset=a:n.src=o,g(t)},l?(i.sizes=s,i.srcset=a):i.src=o}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)}),c=(i=v(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.querySelectorAll(".rrmc-picture-preloader"),r=(0,f.is_ie11)(),e.next=4,(0,m.check_webp_feature)("lossy");case 4:i=e.sent,[].slice.call(n).forEach((function(e){var t=e.querySelector(".rrmc-preload-blur"),n=e.querySelector(".rrmc-preload-picture"),o=n.querySelector("img"),a=n.querySelectorAll("source"),s=void 0;r?o.src=o.getAttribute("data-src"):(s="data-srcset",i&&(s="data-webp-srcset"),[].slice.call(a).forEach((function(e){return e.setAttribute("srcset",e.getAttribute(s))}))),o.onload=function(){o.onload=null,g(t)}}));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)}),u=(o=v(regeneratorRuntime.mark((function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.check_webp_feature)("lossy");case 2:r=e.sent,o="data-src",r&&(o="data-webp-src"),a=(i=t).getAttribute(o),i.onload=function(){i.onload=null,n()},i.src=a;case 9:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)}),h=(a=v(regeneratorRuntime.mark((function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.check_webp_feature)("lossy");case 2:r=e.sent,o="data-srcset",a="data-src",r&&(o="data-webp-srcset",a="data-webp-src"),(i=t).onload=function(){i.onload=null,n()},i.src=i.getAttribute(a),i.srcset=i.getAttribute(o);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)}),d=(s=v(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.check_webp_feature)("lossy");case 2:if(n=e.sent,null!==(r=t)){e.next=6;break}return e.abrupt("return",l());case 6:i=r.querySelector("img"),o=r.querySelectorAll("source"),a="data-srcset",s="data-src",n&&(a="data-webp-srcset",s="data-webp-src"),i.onload=function(){i.onload=null,l()},null!==i.getAttribute(s)&&(i.src=i.getAttribute(s)),[].slice.call(o).forEach((function(e){null!==e.getAttribute(a)&&e.setAttribute("srcset",e.getAttribute(a))})),i.complete&&(i.onload=null,l());case 15:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)}),p=n(7),f=n(85),m=n(514);function v(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var g=function(e){p.TweenLite.to(e,.5,{opacity:0,delay:1,ease:p.Linear.easeNone}).eventCallback("onComplete",(function(){e.style.display="none",e.style.zIndex="0"}))};t.imageLazyloader=l,t.imageLazyLoaderPlain=u,t.imageLazyLoaderOriginal=function(e,t){var n=e,r=n.getAttribute("data-src");n.onload=function(){n.onload=null,t()},n.src=r},t.pictureLazyLoader=c,t.pictureLazyLoaderPlain=d,t.srcsetLazyLoaderPlain=h},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(20),i=n(51);e.exports=n(19)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(81),i=n(43);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(4);function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.project,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(i.a)},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(35);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(82),i=n(51),o=n(30),a=n(47),s=n(28),l=n(168),c=Object.getOwnPropertyDescriptor;t.f=n(19)?c:function(e,t){if(e=o(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(1),i=n(16),o=n(10);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},function(e,t,n){var r=n(34),i=n(81),o=n(22),a=n(15),s=n(184);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h,p=t||s;return function(t,s,f){for(var m,v,g=o(t),y=i(g),_=r(s,f,3),b=a(y.length),w=0,x=n?p(t,b):l?p(t,0):void 0;b>w;w++)if((d||w in y)&&(v=_(m=y[w],w,g),e))if(n)x[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:x.push(m)}else if(u)return!1;return h?-1:c||u?u:x}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(8),i=new r.a((function(e){return e.complete()}));function o(e){return e?function(e){return new r.a((function(t){return e.schedule((function(){return t.complete()}))}))}(e):i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),i=n(114),o=n(222);function a(e,t){return t?Object(o.a)(e,t):e instanceof r.a?e:new r.a(Object(i.a)(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){"use strict";if(n(19)){var r=n(53),i=n(9),o=n(10),a=n(1),s=n(108),l=n(143),c=n(34),u=n(73),h=n(51),d=n(29),p=n(74),f=n(36),m=n(15),v=n(195),g=n(55),y=n(47),_=n(28),b=n(83),w=n(12),x=n(22),S=n(135),k=n(56),A=n(58),E=n(57).f,C=n(137),T=n(52),M=n(13),D=n(39),L=n(98),P=n(84),R=n(139),I=n(71),O=n(101),F=n(72),B=n(138),N=n(186),j=n(20),z=n(37),V=j.f,U=z.f,H=i.RangeError,G=i.TypeError,q=i.Uint8Array,W=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,Q=D(0),K=D(2),J=D(3),Z=D(4),$=D(5),ee=D(6),te=L(!0),ne=L(!1),re=R.values,ie=R.keys,oe=R.entries,ae=W.lastIndexOf,se=W.reduce,le=W.reduceRight,ce=W.join,ue=W.sort,he=W.slice,de=W.toString,pe=W.toLocaleString,fe=M("iterator"),me=M("toStringTag"),ve=T("typed_constructor"),ge=T("def_constructor"),ye=s.CONSTR,_e=s.TYPED,be=s.VIEW,we=D(1,(function(e,t){return Ee(P(e,e[ge]),t)})),xe=o((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),Se=!!q&&!!q.prototype.set&&o((function(){new q(1).set({})})),ke=function(e,t){var n=f(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ae=function(e){if(w(e)&&_e in e)return e;throw G(e+" is not a typed array!")},Ee=function(e,t){if(!w(e)||!(ve in e))throw G("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Te(P(e,e[ge]),t)},Te=function(e,t){for(var n=0,r=t.length,i=Ee(e,r);r>n;)i[n]=t[n++];return i},Me=function(e,t,n){V(e,t,{get:function(){return this._d[n]}})},De=function(e){var t,n,r,i,o,a,s=x(e),l=arguments.length,u=l>1?arguments[1]:void 0,h=void 0!==u,d=C(s);if(null!=d&&!S(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(h&&l>2&&(u=c(u,arguments[2],2)),t=0,n=m(s.length),i=Ee(this,n);n>t;t++)i[t]=h?u(s[t],t):s[t];return i},Le=function(){for(var e=0,t=arguments.length,n=Ee(this,t);t>e;)n[e]=arguments[e++];return n},Pe=!!q&&o((function(){pe.call(new q(1))})),Re=function(){return pe.apply(Pe?he.call(Ae(this)):Ae(this),arguments)},Ie={copyWithin:function(e,t){return N.call(Ae(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Ae(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(Ae(this),arguments)},filter:function(e){return Ce(this,K(Ae(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(Ae(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ae(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(Ae(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ae(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ae(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Ae(this),arguments)},lastIndexOf:function(e){return ae.apply(Ae(this),arguments)},map:function(e){return we(Ae(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ae(this),arguments)},reduceRight:function(e){return le.apply(Ae(this),arguments)},reverse:function(){for(var e,t=Ae(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return J(Ae(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Ae(this),e)},subarray:function(e,t){var n=Ae(this),r=n.length,i=g(e,r);return new(P(n,n[ge]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:g(t,r))-i))}},Oe=function(e,t){return Ce(this,he.call(Ae(this),e,t))},Fe=function(e){Ae(this);var t=ke(arguments[1],1),n=this.length,r=x(e),i=m(r.length),o=0;if(i+t>n)throw H("Wrong length!");for(;o<i;)this[t+o]=r[o++]},Be={entries:function(){return oe.call(Ae(this))},keys:function(){return ie.call(Ae(this))},values:function(){return re.call(Ae(this))}},Ne=function(e,t){return w(e)&&e[_e]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},je=function(e,t){return Ne(e,t=y(t,!0))?h(2,e[t]):U(e,t)},ze=function(e,t,n){return!(Ne(e,t=y(t,!0))&&w(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?V(e,t,n):(e[t]=n.value,e)};ye||(z.f=je,j.f=ze),a(a.S+a.F*!ye,"Object",{getOwnPropertyDescriptor:je,defineProperty:ze}),o((function(){de.call({})}))&&(de=pe=function(){return ce.call(this)});var Ve=p({},Ie);p(Ve,Be),d(Ve,fe,Be.values),p(Ve,{slice:Oe,set:Fe,constructor:function(){},toString:de,toLocaleString:Re}),Me(Ve,"buffer","b"),Me(Ve,"byteOffset","o"),Me(Ve,"byteLength","l"),Me(Ve,"length","e"),V(Ve,me,{get:function(){return this[_e]}}),e.exports=function(e,t,n,l){var c=e+((l=!!l)?"Clamped":"")+"Array",h="get"+e,p="set"+e,f=i[c],g=f||{},y=f&&A(f),_=!f||!s.ABV,x={},S=f&&f.prototype,C=function(e,n){V(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[h](n*t+r.o,xe)}(this,n)},set:function(e){return function(e,n,r){var i=e._d;l&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,xe)}(this,n,e)},enumerable:!0})};_?(f=n((function(e,n,r,i){u(e,f,c,"_d");var o,a,s,l,h=0,p=0;if(w(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=b(n))||"SharedArrayBuffer"==l))return _e in n?Te(f,n):De.call(f,n);o=n,p=ke(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw H("Wrong length!");if((a=g-p)<0)throw H("Wrong length!")}else if((a=m(i)*t)+p>g)throw H("Wrong length!");s=a/t}else s=v(n),o=new Y(a=s*t);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new X(o)});h<s;)C(e,h++)})),S=f.prototype=k(Ve),d(S,"constructor",f)):o((function(){f(1)}))&&o((function(){new f(-1)}))&&O((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=n((function(e,n,r,i){var o;return u(e,f,c),w(n)?n instanceof Y||"ArrayBuffer"==(o=b(n))||"SharedArrayBuffer"==o?void 0!==i?new g(n,ke(r,t),i):void 0!==r?new g(n,ke(r,t)):new g(n):_e in n?Te(f,n):De.call(f,n):new g(v(n))})),Q(y!==Function.prototype?E(g).concat(E(y)):E(g),(function(e){e in f||d(f,e,g[e])})),f.prototype=S,r||(S.constructor=f));var T=S[fe],M=!!T&&("values"==T.name||null==T.name),D=Be.values;d(f,ve,!0),d(S,_e,c),d(S,be,!0),d(S,ge,f),(l?new f(1)[me]==c:me in S)||V(S,me,{get:function(){return c}}),x[c]=f,a(a.G+a.W+a.F*(f!=g),x),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o((function(){g.of.call(f,1)})),c,{from:De,of:Le}),"BYTES_PER_ELEMENT"in S||d(S,"BYTES_PER_ELEMENT",t),a(a.P,c,Ie),F(c),a(a.P+a.F*Se,c,{set:Fe}),a(a.P+a.F*!M,c,Be),r||S.toString==de||(S.toString=de),a(a.P+a.F*o((function(){new f(1).slice()})),c,{slice:Oe}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Re}),I[c]=M?T:D,r||M||d(S,fe,D)}}else e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.is_mobile=function(){return window.innerWidth<768},t.is_tablet_portrait_down=function(){return window.innerWidth<1024}},function(e,t,n){"use strict";
/*! npm.im/object-fit-images 3.2.4 */var r="bfred-it:object-fit-images",i=/(object-fit|object-position)\s*:\s*([-.\w\s%]+)/g,o="undefined"==typeof Image?{style:{"object-position":1}}:new Image,a="object-fit"in o.style,s="object-position"in o.style,l="background-size"in o.style,c="string"==typeof o.currentSrc,u=o.getAttribute,h=o.setAttribute,d=!1;function p(e,t,n){var r="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+(t||1)+"' height='"+(n||0)+"'%3E%3C/svg%3E";u.call(e,"src")!==r&&h.call(e,"src",r)}function f(e,t){e.naturalWidth?t(e):setTimeout(f,100,e,t)}function m(e){var t=function(e){for(var t,n=getComputedStyle(e).fontFamily,r={};null!==(t=i.exec(n));)r[t[1]]=t[2];return r}(e),n=e[r];if(t["object-fit"]=t["object-fit"]||"fill",!n.img){if("fill"===t["object-fit"])return;if(!n.skipTest&&a&&!t["object-position"])return}if(!n.img){n.img=new Image(e.width,e.height),n.img.srcset=u.call(e,"data-ofi-srcset")||e.srcset,n.img.src=u.call(e,"data-ofi-src")||e.src,h.call(e,"data-ofi-src",e.src),e.srcset&&h.call(e,"data-ofi-srcset",e.srcset),p(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{!function(e){var t={get:function(t){return e[r].img[t||"src"]},set:function(t,n){return e[r].img[n||"src"]=t,h.call(e,"data-ofi-"+n,t),m(e),t}};Object.defineProperty(e,"src",t),Object.defineProperty(e,"currentSrc",{get:function(){return t.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return t.get("srcset")},set:function(e){return t.set(e,"srcset")}})}(e)}catch(e){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}!function(e){if(e.srcset&&!c&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}(n.img),e.style.backgroundImage='url("'+(n.img.currentSrc||n.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=t["object-position"]||"center",e.style.backgroundRepeat="no-repeat",e.style.backgroundOrigin="content-box",/scale-down/.test(t["object-fit"])?f(n.img,(function(){n.img.naturalWidth>e.width||n.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"})):e.style.backgroundSize=t["object-fit"].replace("none","auto").replace("fill","100% 100%"),f(n.img,(function(t){p(e,t.naturalWidth,t.naturalHeight)}))}function v(e,t){var n=!d&&!e;if(t=t||{},e=e||"img",s&&!t.skipTest||!l)return!1;"img"===e?e=document.getElementsByTagName("img"):"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var i=0;i<e.length;i++)e[i][r]=e[i][r]||{skipTest:t.skipTest},m(e[i]);n&&(document.body.addEventListener("load",(function(e){"IMG"===e.target.tagName&&v(e.target,{skipTest:t.skipTest})}),!0),d=!0,e="img"),t.watchMQ&&window.addEventListener("resize",v.bind(null,e,{skipTest:t.skipTest}))}v.supportsObjectFit=a,v.supportsObjectPosition=s,function(){function e(e,t){return e[r]&&e[r].img&&("src"===t||"srcset"===t)?e[r].img:e}s||(HTMLImageElement.prototype.getAttribute=function(t){return u.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,n){return h.call(e(this,t),t,String(n))})}(),e.exports=v},function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(52)("meta"),i=n(12),o=n(28),a=n(20).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(10)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},h=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&h.NEED&&l(e)&&!o(e,r)&&u(e),e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(4).a),o=n(114),a=n(8);function s(e,t,n,r,s){if(void 0===s&&(s=new i(e,n,r)),!s.closed)return t instanceof a.a?t.subscribe(s):Object(o.a)(t)(s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(170),i=n(122);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(36),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(11),i=n(171),o=n(122),a=n(121)("IE_PROTO"),s=function(){},l=function(){var e,t=n(119)("iframe"),r=o.length;for(t.style.display="none",n(123).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(170),i=n(122).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(28),i=n(22),o=n(121)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(13)("unscopables"),i=Array.prototype;null==i[r]&&n(29)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.define=function(e,t,n){Object.defineProperty(e,t,n)},t.sortKeys=function(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t[n],t}),{})},t.mergeOptions=function(e,t){var n=(0,r.assign)({},e,t);t.hasOwnProperty("classes")&&(n.classes=(0,r.assign)({},e.classes,t.classes),t.classes.hasOwnProperty("direction")&&(n.classes.direction=(0,r.assign)({},e.classes.direction,t.classes.direction)));t.hasOwnProperty("breakpoints")&&(n.breakpoints=(0,r.assign)({},e.breakpoints,t.breakpoints));return n};var r=n(456)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.overlayOpen="open-overlay",t.overlayClose="overlayClose",t.overlayBack="overlayBack",t.openDefaultForm="open-default-form"},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getI18nComponent=function(e){return function(e){var t,n=void 0;(t=window.rrmc_i18n)&&(n=t[e]);n||(n=e);n=n.replace("{string}",e).replace("{comment}");return Granite.Util.patchText(n)}(e.replace(/{{([^}]+)}}/g))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.toInt=function(e){return parseInt(e)},t.toFloat=function(e){return parseFloat(e)},t.isString=function(e){return"string"==typeof e},t.isObject=function(e){var t=void 0===e?"undefined":r(e);return"function"===t||"object"===t&&!!e},t.isNumber=function(e){return"number"==typeof e},t.isFunction=function(e){return"function"==typeof e},t.isUndefined=function(e){return void 0===e},t.isArray=function(e){return e.constructor===Array}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(4).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(4);function o(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))},e}(),s=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var r,i=n(40),o=n(118),a=n(158);r||(r={});var s=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},function(e,t,n){var r=n(20).f,i=n(28),o=n(13)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(1),i=n(43),o=n(10),a=n(125),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var i={},s=o((function(){return!!a[e]()||""!=""[e]()})),l=i[e]=s?t(h):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},h=u.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(9),i=n(20),o=n(19),a=n(13)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(25);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,i){"use strict";var o=[],a=Object.getPrototypeOf,s=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,h={},d=h.toString,p=h.hasOwnProperty,f=p.toString,m=f.call(Object),v={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},y=function(e){return null!=e&&e===e.window},_=n.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||_).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[d.call(e)]||"object":typeof e}var S=/HTML$/i,k=function(e,t){return new k.fn.init(e,t)};function A(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}k.fn=k.prototype={jquery:"3.7.0",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+("3.7.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&f.call(n)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(A(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},text:function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i)return e.textContent;if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=k.text(t);return n},makeArray:function(e,t){var n=t||[];return null!=e&&(A(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!S.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(A(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return l(a)},guid:1,support:v}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var C=o.pop,T=o.sort,M=o.splice,D="[\\x20\\t\\r\\n\\f]",L=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");k.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var P=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function R(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}k.escapeSelector=function(e){return(e+"").replace(P,R)};var I=_,O=c;!function(){var e,t,r,i,a,l,c,h,d,f,m=O,g=k.expando,y=0,_=0,b=ee(),w=ee(),x=ee(),S=ee(),A=function(e,t){return e===t&&(a=!0),0},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+D+"*("+R+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+D+"*\\]",B=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",N=new RegExp(D+"+","g"),j=new RegExp("^"+D+"*,"+D+"*"),z=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),V=new RegExp(D+"|>"),U=new RegExp(B),H=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},q=/^(?:input|select|textarea|button)$/i,W=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Q=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){le()},Z=de((function(e){return!0===e.disabled&&E(e,"fieldset")}),{dir:"parentNode",next:"legend"});try{m.apply(o=s.call(I.childNodes),I.childNodes),o[I.childNodes.length].nodeType}catch(e){m={apply:function(e,t){O.apply(e,s.call(t))},call:function(e){O.apply(e,s.call(arguments,1))}}}function $(e,t,n,r){var i,o,a,s,c,u,p,f=t&&t.ownerDocument,y=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(le(t),t=t||l,h)){if(11!==y&&(c=Y.exec(e)))if(i=c[1]){if(9===y){if(!(a=t.getElementById(i)))return n;if(a.id===i)return m.call(n,a),n}else if(f&&(a=f.getElementById(i))&&$.contains(t,a)&&a.id===i)return m.call(n,a),n}else{if(c[2])return m.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&t.getElementsByClassName)return m.apply(n,t.getElementsByClassName(i)),n}if(!(S[e+" "]||d&&d.test(e))){if(p=e,f=t,1===y&&(V.test(e)||z.test(e))){for((f=X.test(e)&&se(t.parentNode)||t)==t&&v.scope||((s=t.getAttribute("id"))?s=k.escapeSelector(s):t.setAttribute("id",s=g)),o=(u=ue(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+he(u[o]);p=u.join(",")}try{return m.apply(n,f.querySelectorAll(p)),n}catch(t){S(e,!0)}finally{s===g&&t.removeAttribute("id")}}}return ye(e.replace(L,"$1"),t,n,r)}function ee(){var e=[];return function n(r,i){return e.push(r+" ")>t.cacheLength&&delete n[e.shift()],n[r+" "]=i}}function te(e){return e[g]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function re(e){return function(t){return E(t,"input")&&t.type===e}}function ie(e){return function(t){return(E(t,"input")||E(t,"button"))&&t.type===e}}function oe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Z(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ae(e){return te((function(t){return t=+t,te((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function se(e){return e&&void 0!==e.getElementsByTagName&&e}function le(e){var n,r=e?e.ownerDocument||e:I;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,h=!k.isXMLDoc(l),f=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,I!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",J),v.getById=ne((function(e){return c.appendChild(e).id=k.expando,!l.getElementsByName||!l.getElementsByName(k.expando).length})),v.disconnectedMatch=ne((function(e){return f.call(e,"*")})),v.scope=ne((function(){return l.querySelectorAll(":scope")})),v.cssHas=ne((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}})),v.getById?(t.filter.ID=function(e){var t=e.replace(Q,K);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(Q,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),t.find.TAG=function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},d=[],ne((function(e){var t;c.appendChild(e).innerHTML="<a id='"+g+"' href='' disabled='disabled'></a><select id='"+g+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||d.push("\\["+D+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+g+"-]").length||d.push("~="),e.querySelectorAll("a#"+g+"+*").length||d.push(".#.+[+~]"),e.querySelectorAll(":checked").length||d.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&d.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||d.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")})),v.cssHas||d.push(":has"),d=d.length&&new RegExp(d.join("|")),A=function(e,t){if(e===t)return a=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==I&&$.contains(I,e)?-1:t===l||t.ownerDocument==I&&$.contains(I,t)?1:i?u.call(i,e)-u.call(i,t):0:4&n?-1:1)},l):l}for(e in $.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if(le(e),h&&!S[t+" "]&&(!d||!d.test(t)))try{var n=f.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){S(t,!0)}return $(t,l,null,[e]).length>0},$.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),k.contains(e,t)},$.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var r=t.attrHandle[n.toLowerCase()],i=r&&p.call(t.attrHandle,n.toLowerCase())?r(e,n,!h):void 0;return void 0!==i?i:e.getAttribute(n)},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k.uniqueSort=function(e){var t,n=[],r=0,o=0;if(a=!v.sortStable,i=!v.sortStable&&s.call(e,0),T.call(e,A),a){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)M.call(e,n[r],1)}return i=null,e},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(s.apply(this)))},(t=k.expr={cacheLength:50,createPseudo:te,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,K),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=ue(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return E(e,t)}},CLASS:function(e){var t=b[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&b(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=$.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(N," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,p,f=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),_=!l&&!s,b=!1;if(m){if(o){for(;f;){for(h=t;h=h[f];)if(s?E(h,v):1===h.nodeType)return!1;p=f="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&_){for(b=(d=(c=(u=m[g]||(m[g]={}))[e]||[])[0]===y&&c[1])&&c[2],h=d&&m.childNodes[d];h=++d&&h&&h[f]||(b=d=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[y,d,b];break}}else if(_&&(b=d=(c=(u=t[g]||(t[g]={}))[e]||[])[0]===y&&c[1]),!1===b)for(;(h=++d&&h&&h[f]||(b=d=0)||p.pop())&&(!(s?E(h,v):1===h.nodeType)||!++b||(_&&((u=h[g]||(h[g]={}))[e]=[y,b]),h!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,n){var r,i=t.pseudos[e]||t.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return i[g]?i(n):i.length>1?(r=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te((function(e,t){for(var r,o=i(e,n),a=o.length;a--;)e[r=u.call(e,o[a])]=!(t[r]=o[a])})):function(e){return i(e,0,r)}):i}},pseudos:{not:te((function(e){var t=[],n=[],r=ge(e.replace(L,"$1"));return r[g]?te((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:te((function(e){return function(t){return $(e,t).length>0}})),contains:te((function(e){return e=e.replace(Q,K),function(t){return(t.textContent||k.text(t)).indexOf(e)>-1}})),lang:te((function(e){return H.test(e||"")||$.error("unsupported lang: "+e),e=e.replace(Q,K).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:oe(!1),disabled:oe(!0),checked:function(e){return E(e,"input")&&!!e.checked||E(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return W.test(e.nodeName)},input:function(e){return q.test(e.nodeName)},button:function(e){return E(e,"input")&&"button"===e.type||E(e,"button")},text:function(e){var t;return E(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ae((function(){return[0]})),last:ae((function(e,t){return[t-1]})),eq:ae((function(e,t,n){return[n<0?n+t:n]})),even:ae((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ae((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ae((function(e,t,n){var r;for(r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ae((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=re(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=ie(e);function ce(){}function ue(e,n){var r,i,o,a,s,l,c,u=w[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=t.preFilter;s;){for(a in r&&!(i=j.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=z.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(L," ")}),s=s.slice(r.length)),t.filter)!(i=G[a].exec(s))||c[a]&&!(i=c[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?$.error(e):w(e,l).slice(0)}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function de(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var c,u,h=[y,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=t[g]||(t[g]={}),i&&E(t,i))t=t[r]||t;else{if((c=u[o])&&c[0]===y&&c[1]===s)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function pe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function fe(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function me(e,t,n,r,i,o){return r&&!r[g]&&(r=me(r)),i&&!i[g]&&(i=me(i,o)),te((function(o,a,s,l){var c,h,d,p,f=[],v=[],g=a.length,y=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)$(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),_=!e||!o&&t?y:fe(y,f,e,s,l);if(n?n(_,p=i||(o?e:g||r)?[]:a,s,l):p=_,r)for(c=fe(p,v),r(c,[],s,l),h=c.length;h--;)(d=c[h])&&(p[v[h]]=!(_[v[h]]=d));if(o){if(i||e){if(i){for(c=[],h=p.length;h--;)(d=p[h])&&c.push(_[h]=d);i(null,p=[],c,l)}for(h=p.length;h--;)(d=p[h])&&(c=i?u.call(o,d):f[h])>-1&&(o[c]=!(a[c]=d))}}else p=fe(p===a?p.splice(g,p.length):p),i?i(null,a,p,l):m.apply(a,p)}))}function ve(e){for(var n,i,o,a=e.length,s=t.relative[e[0].type],l=s||t.relative[" "],c=s?1:0,h=de((function(e){return e===n}),l,!0),d=de((function(e){return u.call(n,e)>-1}),l,!0),p=[function(e,t,i){var o=!s&&(i||t!=r)||((n=t).nodeType?h(e,t,i):d(e,t,i));return n=null,o}];c<a;c++)if(i=t.relative[e[c].type])p=[de(pe(p),i)];else{if((i=t.filter[e[c].type].apply(null,e[c].matches))[g]){for(o=++c;o<a&&!t.relative[e[o].type];o++);return me(c>1&&pe(p),c>1&&he(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(L,"$1"),i,c<o&&ve(e.slice(c,o)),o<a&&ve(e=e.slice(o)),o<a&&he(e))}p.push(i)}return pe(p)}function ge(e,n){var i,o=[],a=[],s=x[e+" "];if(!s){for(n||(n=ue(e)),i=n.length;i--;)(s=ve(n[i]))[g]?o.push(s):a.push(s);(s=x(e,function(e,n){var i=n.length>0,o=e.length>0,a=function(a,s,c,u,d){var p,f,v,g=0,_="0",b=a&&[],w=[],x=r,S=a||o&&t.find.TAG("*",d),A=y+=null==x?1:Math.random()||.1,E=S.length;for(d&&(r=s==l||s||d);_!==E&&null!=(p=S[_]);_++){if(o&&p){for(f=0,s||p.ownerDocument==l||(le(p),c=!h);v=e[f++];)if(v(p,s||l,c)){m.call(u,p);break}d&&(y=A)}i&&((p=!v&&p)&&g--,a&&b.push(p))}if(g+=_,i&&_!==g){for(f=0;v=n[f++];)v(b,w,s,c);if(a){if(g>0)for(;_--;)b[_]||w[_]||(w[_]=C.call(u));w=fe(w)}m.apply(u,w),d&&!a&&w.length>0&&g+n.length>1&&k.uniqueSort(u)}return d&&(y=A,r=x),b};return i?te(a):a}(a,o))).selector=e}return s}function ye(e,n,r,i){var o,a,s,l,c,u="function"==typeof e&&e,d=!i&&ue(e=u.selector||e);if(r=r||[],1===d.length){if((a=d[0]=d[0].slice(0)).length>2&&"ID"===(s=a[0]).type&&9===n.nodeType&&h&&t.relative[a[1].type]){if(!(n=(t.find.ID(s.matches[0].replace(Q,K),n)||[])[0]))return r;u&&(n=n.parentNode),e=e.slice(a.shift().value.length)}for(o=G.needsContext.test(e)?0:a.length;o--&&(s=a[o],!t.relative[l=s.type]);)if((c=t.find[l])&&(i=c(s.matches[0].replace(Q,K),X.test(a[0].type)&&se(n.parentNode)||n))){if(a.splice(o,1),!(e=i.length&&he(a)))return m.apply(r,i),r;break}}return(u||ge(e,d))(i,n,!h,r,!n||X.test(e)&&se(n.parentNode)||n),r}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,v.sortStable=g.split("").sort(A).join("")===g,le(),v.sortDetached=ne((function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))})),k.find=$,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,$.compile=ge,$.select=ye,$.setDocument=le,$.escape=k.escapeSelector,$.getText=k.text,$.isXML=k.isXMLDoc,$.selectors=k.expr,$.support=k.support,$.uniqueSort=k.uniqueSort}();var F=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},B=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=k.expr.match.needsContext,j=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(e,t,n){return g(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(z(this,e||[],!1))},not:function(e){return this.pushStack(z(this,e||[],!0))},is:function(e){return!!z(this,"string"==typeof e&&N.test(e)?k(e):e||[],!1).length}});var V,U=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||V,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:U.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:_,!0)),j.test(r[1])&&k.isPlainObject(t))for(r in t)g(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=_.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,V=k(_);var H=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function q(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return F(e,"parentNode")},parentsUntil:function(e,t,n){return F(e,"parentNode",n)},next:function(e){return q(e,"nextSibling")},prev:function(e){return q(e,"previousSibling")},nextAll:function(e){return F(e,"nextSibling")},prevAll:function(e){return F(e,"previousSibling")},nextUntil:function(e,t,n){return F(e,"nextSibling",n)},prevUntil:function(e,t,n){return F(e,"previousSibling",n)},siblings:function(e){return B((e.parentNode||{}).firstChild,e)},children:function(e){return B(e.firstChild)},contents:function(e){return null!=e.contentDocument&&a(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=k.filter(r,i)),this.length>1&&(G[e]||k.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}}));var W=/[^\x20\t\r\n\f]+/g;function Y(e){return e}function X(e){throw e}function Q(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return k.each(e.match(W)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){k.each(n,(function(n,r){g(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,i){var o=0;function a(e,t,r,i){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(e<o)){if((n=r.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,g(c)?i?c.call(n,a(o,t,Y,i),a(o,t,X,i)):(o++,c.call(n,a(o,t,Y,i),a(o,t,X,i),a(o,t,Y,t.notifyWith))):(r!==Y&&(s=void 0,l=[n]),(i||t.resolveWith)(s,l))}},u=i?c:function(){try{c()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,u.error),e+1>=o&&(r!==X&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?u():(k.Deferred.getErrorHook?u.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(u.error=k.Deferred.getStackHook()),n.setTimeout(u))}}return k.Deferred((function(n){t[0][3].add(a(0,n,g(i)?i:Y,n.notifyWith)),t[1][3].add(a(0,n,g(e)?e:Y)),t[2][3].add(a(0,n,g(r)?r:X))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},o={};return k.each(t,(function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add((function(){r=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=s.call(arguments),o=k.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?s.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(Q(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||g(i[n]&&i[n].then)))return o.then();for(;n--;)Q(i[n],a(n),o.reject);return o.promise()}});var K=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&K.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){n.setTimeout((function(){throw e}))};var J=k.Deferred();function Z(){_.removeEventListener("DOMContentLoaded",Z),n.removeEventListener("load",Z),k.ready()}k.fn.ready=function(e){return J.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||J.resolveWith(_,[k]))}}),k.ready.then=J.then,"complete"===_.readyState||"loading"!==_.readyState&&!_.documentElement.doScroll?n.setTimeout(k.ready):(_.addEventListener("DOMContentLoaded",Z),n.addEventListener("load",Z));var $=function(e,t,n,r,i,o,a){var s=0,l=e.length,c=null==n;if("object"===x(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,g(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):o},ee=/^-ms-/,te=/-([a-z])/g;function ne(e,t){return t.toUpperCase()}function re(e){return e.replace(ee,"ms-").replace(te,ne)}var ie=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function oe(){this.expando=k.expando+oe.uid++}oe.uid=1,oe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ie(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[re(t)]=n;else for(r in t)i[re(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in r?[t]:t.match(W)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var ae=new oe,se=new oe,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ce=/[A-Z]/g;function ue(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ce,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:le.test(e)?JSON.parse(e):e)}(n)}catch(e){}se.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return se.hasData(e)||ae.hasData(e)},data:function(e,t,n){return se.access(e,t,n)},removeData:function(e,t){se.remove(e,t)},_data:function(e,t,n){return ae.access(e,t,n)},_removeData:function(e,t){ae.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=se.get(o),1===o.nodeType&&!ae.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=re(r.slice(5)),ue(o,r,i[r]));ae.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){se.set(this,e)})):$(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=se.get(o,e))||void 0!==(n=ue(o,e))?n:void 0;this.each((function(){se.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){se.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=ae.get(e,t),n&&(!r||Array.isArray(n)?r=ae.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){k.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ae.get(e,n)||ae.access(e,n,{empty:k.Callbacks("once memory").add((function(){ae.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=ae.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,de=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),pe=["Top","Right","Bottom","Left"],fe=_.documentElement,me=function(e){return k.contains(e.ownerDocument,e)},ve={composed:!0};fe.getRootNode&&(me=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});var ge=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&me(e)&&"none"===k.css(e,"display")};function ye(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&de.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)k.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,k.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var _e={};function be(e){var t,n=e.ownerDocument,r=e.nodeName,i=_e[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),_e[r]=i,i)}function we(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=ae.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ge(r)&&(i[o]=be(r))):"none"!==n&&(i[o]="none",ae.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ge(this)?k(this).show():k(this).hide()}))}});var xe,Se,ke=/^(?:checkbox|radio)$/i,Ae=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ee=/^$|^module$|\/(?:java|ecma)script/i;xe=_.createDocumentFragment().appendChild(_.createElement("div")),(Se=_.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),xe.appendChild(Se),v.checkClone=xe.cloneNode(!0).cloneNode(!0).lastChild.checked,xe.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xe.cloneNode(!0).lastChild.defaultValue,xe.innerHTML="<option></option>",v.option=!!xe.lastChild;var Ce={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Te(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?k.merge([e],n):n}function Me(e,t){for(var n=0,r=e.length;n<r;n++)ae.set(e[n],"globalEval",!t||ae.get(t[n],"globalEval"))}Ce.tbody=Ce.tfoot=Ce.colgroup=Ce.caption=Ce.thead,Ce.th=Ce.td,v.option||(Ce.optgroup=Ce.option=[1,"<select multiple='multiple'>","</select>"]);var De=/<|&#?\w+;/;function Le(e,t,n,r,i){for(var o,a,s,l,c,u,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===x(o))k.merge(d,o.nodeType?[o]:o);else if(De.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(Ae.exec(o)||["",""])[1].toLowerCase(),l=Ce[s]||Ce._default,a.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;k.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=me(o),a=Te(h.appendChild(o),"script"),c&&Me(a),n)for(u=0;o=a[u++];)Ee.test(o.type||"")&&n.push(o);return h}var Pe=/^([^.]*)(?:\.(.+)|)/;function Re(){return!0}function Ie(){return!1}function Oe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Oe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ie;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,r,n)}))}function Fe(e,t,n){n?(ae.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var n,r=ae.get(this,t);if(1&e.isTrigger&&this[t]){if(r)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),ae.set(this,t,r),this[t](),n=ae.get(this,t),ae.set(this,t,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(ae.set(this,t,k.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Re)}})):void 0===ae.get(e,t)&&k.event.add(e,t,Re)}k.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,c,u,h,d,p,f,m,v=ae.get(e);if(ie(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(fe,i),n.guid||(n.guid=k.guid++),(l=v.events)||(l=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(W)||[""]).length;c--;)p=m=(s=Pe.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=k.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=k.event.special[p]||{},u=k.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,f,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),k.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,u,h,d,p,f,m,v=ae.hasData(e)&&ae.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(W)||[""]).length;c--;)if(p=m=(s=Pe.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=k.event.special[p]||{},d=l[p=(r?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||k.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)k.event.remove(e,p+t[c],n,r,!0);k.isEmptyObject(l)&&ae.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),l=k.event.fix(e),c=(ae.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,c),t=0;(i=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ke.test(t.type)&&t.click&&E(t,"input")&&Fe(t,"click",!0),!1},trigger:function(e){var t=this||e;return ke.test(t.type)&&t.click&&E(t,"input")&&Fe(t,"click"),!0},_default:function(e){var t=e.target;return ke.test(t.type)&&t.click&&E(t,"input")&&ae.get(t,"click")||E(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Re:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Re,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Re,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Re,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){function n(e){if(_.documentMode){var n=ae.get(this,"handle"),r=k.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else k.event.simulate(t,e.target,k.event.fix(e))}k.event.special[e]={setup:function(){var r;if(Fe(this,e,!0),!_.documentMode)return!1;(r=ae.get(this,t))||this.addEventListener(t,n),ae.set(this,t,(r||0)+1)},trigger:function(){return Fe(this,e),!0},teardown:function(){var e;if(!_.documentMode)return!1;(e=ae.get(this,t)-1)?ae.set(this,t,e):(this.removeEventListener(t,n),ae.remove(this,t))},_default:function(t){return ae.get(t.target,e)},delegateType:t},k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=_.documentMode?this:r,o=ae.get(i,t);o||(_.documentMode?this.addEventListener(t,n):r.addEventListener(e,n,!0)),ae.set(i,t,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=_.documentMode?this:r,o=ae.get(i,t)-1;o?ae.set(i,t,o):(_.documentMode?this.removeEventListener(t,n):r.removeEventListener(e,n,!0),ae.remove(i,t))}}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||k.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Oe(this,e,t,n,r)},one:function(e,t,n,r){return Oe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){k.event.remove(this,e,n,t)}))}});var Be=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ze(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Ve(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function He(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(ae.hasData(e)&&(s=ae.get(e).events))for(i in ae.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)k.event.add(t,i,s[i][n]);se.hasData(e)&&(o=se.access(e),a=k.extend({},o),se.set(t,a))}}function Ge(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function qe(e,t,n,r){t=l(t);var i,o,a,s,c,u,h=0,d=e.length,p=d-1,f=t[0],m=g(f);if(m||d>1&&"string"==typeof f&&!v.checkClone&&Ne.test(f))return e.each((function(i){var o=e.eq(i);m&&(t[0]=f.call(this,i,o.html())),qe(o,t,n,r)}));if(d&&(o=(i=Le(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=k.map(Te(i,"script"),Ve)).length;h<d;h++)c=i,h!==p&&(c=k.clone(c,!0,!0),s&&k.merge(a,Te(c,"script"))),n.call(e[h],c,h);if(s)for(u=a[a.length-1].ownerDocument,k.map(a,Ue),h=0;h<s;h++)c=a[h],Ee.test(c.type||"")&&!ae.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):w(c.textContent.replace(je,""),c,u))}return e}function We(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(Te(r)),r.parentNode&&(n&&me(r)&&Me(Te(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=me(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=Te(s),r=0,i=(o=Te(e)).length;r<i;r++)Ge(o[r],a[r]);if(t)if(n)for(o=o||Te(e),a=a||Te(s),r=0,i=o.length;r<i;r++)He(o[r],a[r]);else He(e,s);return(a=Te(s,"script")).length>0&&Me(a,!l&&Te(e,"script")),s},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(ie(n)){if(t=n[ae.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[ae.expando]=void 0}n[se.expando]&&(n[se.expando]=void 0)}}}),k.fn.extend({detach:function(e){return We(this,e,!0)},remove:function(e){return We(this,e)},text:function(e){return $(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return qe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ze(this,e).appendChild(e)}))},prepend:function(){return qe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ze(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return qe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Te(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return $(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Ce[(Ae.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Te(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return qe(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Te(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),k(i[a])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Ye=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),Xe=/^--/,Qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ke=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Je=new RegExp(pe.join("|"),"i");function Ze(e,t,n){var r,i,o,a,s=Xe.test(t),l=e.style;return(n=n||Qe(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace(L,"$1")||void 0),""!==a||me(e)||(a=k.style(e,t)),!v.pixelBoxStyles()&&Ye.test(a)&&Je.test(t)&&(r=l.width,i=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=r,l.minWidth=i,l.maxWidth=o)),void 0!==a?a+"":a}function $e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);r="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),fe.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,a,s,l,c=_.createElement("div"),u=_.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,r,i;return null==s&&(e=_.createElement("table"),t=_.createElement("tr"),r=_.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",fe.appendChild(e).appendChild(t).appendChild(r),i=n.getComputedStyle(t),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,fe.removeChild(e)),s}}))}();var et=["Webkit","Moz","ms"],tt=_.createElement("div").style,nt={};function rt(e){var t=k.cssProps[e]||nt[e];return t||(e in tt?e:nt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,ot={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var r=de.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function lt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=k.css(e,n+pe[a],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+pe[a],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+pe[a]+"Width",!0,i))):(l+=k.css(e,"padding"+pe[a],!0,i),"padding"!==n?l+=k.css(e,"border"+pe[a]+"Width",!0,i):s+=k.css(e,"border"+pe[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l+c}function ct(e,t,n){var r=Qe(e),i=(!v.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=Ze(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Ye.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&E(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+lt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function ut(e,t,n,r,i){return new ut.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=re(t),l=Xe.test(t),c=e.style;if(l||(t=rt(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=de.exec(n))&&i[1]&&(n=ye(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=re(t);return Xe.test(t)||(t=rt(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ze(e,t,r)),"normal"===i&&t in at&&(i=at[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!it.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,t,r):Ke(e,ot,(function(){return ct(e,t,r)}))},set:function(e,n,r){var i,o=Qe(e),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===k.css(e,"boxSizing",!1,o),l=r?lt(e,t,r,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-lt(e,t,"border",!1,o)-.5)),l&&(i=de.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),st(0,n,l)}}})),k.cssHooks.marginLeft=$e(v.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+pe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=st)})),k.fn.extend({css:function(e,t){return $(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Qe(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=ut,ut.prototype={constructor:ut,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=ut.propHooks[this.prop];return e&&e.get?e.get(this):ut.propHooks._default.get(this)},run:function(e){var t,n=ut.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ut.propHooks._default.set(this),this}},ut.prototype.init.prototype=ut.prototype,ut.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[rt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},ut.propHooks.scrollTop=ut.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=ut.prototype.init,k.fx.step={};var ht,dt,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;function mt(){dt&&(!1===_.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(mt):n.setTimeout(mt,k.fx.interval),k.fx.tick())}function vt(){return n.setTimeout((function(){ht=void 0})),ht=Date.now()}function gt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=pe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function yt(e,t,n){for(var r,i=(_t.tweeners[t]||[]).concat(_t.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function _t(e,t,n){var r,i,o=0,a=_t.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=ht||vt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||vt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=re(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<a;o++)if(r=_t.prefilters[o].call(c,e,u,c.opts))return g(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(u,yt,c),g(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(_t,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ye(n.elem,e,de.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(W);for(var n,r=0,i=e.length;r<i;r++)n=e[r],_t.tweeners[n]=_t.tweeners[n]||[],_t.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,l,c,u,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&ge(e),v=ae.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],pt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;m=!0}p[r]=v&&v[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(p))for(r in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=v&&v.display)&&(c=ae.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(we([e],!0),c=e.style.display||c,u=k.css(e,"display"),we([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(d.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(v?"hidden"in v&&(m=v.hidden):v=ae.access(e,"fxshow",{display:c}),o&&(v.hidden=!m),m&&we([e],!0),d.done((function(){for(r in m||we([e]),ae.remove(e,"fxshow"),p)k.style(e,r,p[r])}))),l=yt(m?v[r]:0,r,d),r in v||(v[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?_t.prefilters.unshift(e):_t.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ge).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),a=function(){var t=_t(this,k.extend({},e),o);(i||ae.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,a=ae.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ft.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=ae.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,r,i)}})),k.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(ht=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),ht=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){dt||(dt=!0,mt())},k.fx.stop=function(){dt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}}))},function(){var e=_.createElement("input"),t=_.createElement("select").appendChild(_.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=_.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var bt,wt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return $(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&E(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(W);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=wt[t]||k.find.attr;wt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=wt[a],wt[a]=i,i=null!=n(e,t,r)?a:null,wt[a]=o),i}}));var xt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;function kt(e){return(e.match(W)||[]).join(" ")}function At(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(W)||[]}k.fn.extend({prop:function(e,t){return $(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,i,o,a;return g(e)?this.each((function(t){k(this).addClass(e.call(this,t,At(this)))})):(t=Et(e)).length?this.each((function(){if(r=At(this),n=1===this.nodeType&&" "+kt(r)+" "){for(o=0;o<t.length;o++)i=t[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=kt(n),r!==a&&this.setAttribute("class",a)}})):this},removeClass:function(e){var t,n,r,i,o,a;return g(e)?this.each((function(t){k(this).removeClass(e.call(this,t,At(this)))})):arguments.length?(t=Et(e)).length?this.each((function(){if(r=At(this),n=1===this.nodeType&&" "+kt(r)+" "){for(o=0;o<t.length;o++)for(i=t[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");a=kt(n),r!==a&&this.setAttribute("class",a)}})):this:this.attr("class","")},toggleClass:function(e,t){var n,r,i,o,a=typeof e,s="string"===a||Array.isArray(e);return g(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,At(this),t),t)})):"boolean"==typeof t&&s?t?this.addClass(e):this.removeClass(e):(n=Et(e),this.each((function(){if(s)for(o=k(this),i=0;i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==e&&"boolean"!==a||((r=At(this))&&ae.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":ae.get(this,"__className__")||""))})))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+kt(At(n))+" ").indexOf(t)>-1)return!0;return!1}});var Ct=/\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ct,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:kt(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},v.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var Tt=n.location,Mt={guid:Date.now()},Dt=/\?/;k.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){}return r=t&&t.getElementsByTagName("parsererror")[0],t&&!r||k.error("Invalid XML: "+(r?k.map(r.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var Lt=/^(?:focusinfocus|focusoutblur)$/,Pt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,r,i){var o,a,s,l,c,u,h,d,f=[r||_],m=p.call(e,"type")?e.type:e,v=p.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=r=r||_,3!==r.nodeType&&8!==r.nodeType&&!Lt.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[k.expando]?e:new k.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[m]||{},i||!h.trigger||!1!==h.trigger.apply(r,t))){if(!i&&!h.noBubble&&!y(r)){for(l=h.delegateType||m,Lt.test(l+m)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||_)&&f.push(s.defaultView||s.parentWindow||n)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?l:h.bindType||m,(u=(ae.get(a,"events")||Object.create(null))[e.type]&&ae.get(a,"handle"))&&u.apply(a,t),(u=c&&a[c])&&u.apply&&ie(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!ie(r)||c&&g(r[m])&&!y(r)&&((s=r[c])&&(r[c]=null),k.event.triggered=m,e.isPropagationStopped()&&d.addEventListener(m,Pt),r[m](),e.isPropagationStopped()&&d.removeEventListener(m,Pt),k.event.triggered=void 0,s&&(r[c]=s)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}});var Rt=/\[\]$/,It=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Ft=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,n,r){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||Rt.test(e)?r(e,i):Bt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(i in t)Bt(e+"["+i+"]",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Bt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&Ft.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!ke.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(It,"\r\n")}})):{name:t.name,value:n.replace(It,"\r\n")}})).get()}});var Nt=/%20/g,jt=/#.*$/,zt=/([?&])_=[^&]*/,Vt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,Ht=/^\/\//,Gt={},qt={},Wt="*/".concat("*"),Yt=_.createElement("a");function Xt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(W)||[];if(g(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Qt(e,t,n,r){var i={},o=e===qt;function a(s){var l;return i[s]=!0,k.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Kt(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Yt.href=Tt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,k.ajaxSettings),t):Kt(k.ajaxSettings,e)},ajaxPrefilter:Xt(Gt),ajaxTransport:Xt(qt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,l,c,u,h,d,p=k.ajaxSetup({},t),f=p.context||p,m=p.context&&(f.nodeType||f.jquery)?k(f):k.event,v=k.Deferred(),g=k.Callbacks("once memory"),y=p.statusCode||{},b={},w={},x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Vt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)S.always(e[S.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return r&&r.abort(t),A(0,t),this}};if(v.promise(S),p.url=((e||p.url||Tt.href)+"").replace(Ht,Tt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(W)||[""],null==p.crossDomain){l=_.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Yt.protocol+"//"+Yt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=k.param(p.data,p.traditional)),Qt(Gt,p,t,S),c)return S;for(h in(u=k.event&&p.global)&&0==k.active++&&k.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ut.test(p.type),i=p.url.replace(jt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Nt,"+")):(d=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Dt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(zt,"$1"),d=(Dt.test(i)?"&":"?")+"_="+Mt.guid+++d),p.url=i+d),p.ifModified&&(k.lastModified[i]&&S.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&S.setRequestHeader("If-None-Match",k.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,S,p)||c))return S.abort();if(x="abort",g.add(p.complete),S.done(p.success),S.fail(p.error),r=Qt(qt,p,t,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(s=n.setTimeout((function(){S.abort("timeout")}),p.timeout));try{c=!1,r.send(b,A)}catch(e){if(c)throw e;A(-1,e)}}else A(-1,"No Transport");function A(e,t,a,l){var h,d,_,b,w,x=t;c||(c=!0,s&&n.clearTimeout(s),r=void 0,o=l||"",S.readyState=e>0?4:0,h=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,S,a)),!h&&k.inArray("script",p.dataTypes)>-1&&k.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),b=function(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,b,S,h),h?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=w),(w=S.getResponseHeader("etag"))&&(k.etag[i]=w)),204===e||"HEAD"===p.type?x="nocontent":304===e?x="notmodified":(x=b.state,d=b.data,h=!(_=b.error))):(_=x,!e&&x||(x="error",e<0&&(e=0))),S.status=e,S.statusText=(t||x)+"",h?v.resolveWith(f,[d,x,S]):v.rejectWith(f,[S,x,_]),S.statusCode(y),y=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[S,p,h?d:_]),g.fireWith(f,[S,x]),u&&(m.trigger("ajaxComplete",[S,p]),--k.active||k.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return g(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=g(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Zt=k.ajaxSettings.xhr();v.cors=!!Zt&&"withCredentials"in Zt,v.ajax=Zt=!!Zt,k.ajaxTransport((function(e){var t,r;if(v.cors||Zt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),_.head.appendChild(t[0])},abort:function(){n&&n()}}}));var $t,en=[],tn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||k.expando+"_"+Mt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(tn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(tn,"$1"+i):!1!==e.jsonp&&(e.url+=(Dt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||k.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always((function(){void 0===o?k(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,en.push(i)),a&&g(o)&&o(a[0]),a=o=void 0})),"script"})),v.createHTMLDocument=(($t=_.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=_.implementation.createHTMLDocument("")).createElement("base")).href=_.location.href,t.head.appendChild(r)):t=_),o=!n&&[],(i=j.exec(e))?[t.createElement(i[1])]:(i=Le([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=kt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),g(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||fe}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return $(this,(function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=$e(v.pixelPosition,(function(e,n){if(n)return n=Ze(e,t),Ye.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return $(this,(function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,n,s):k.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var nn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=E,k.isFunction=g,k.isWindow=y,k.camelCase=re,k.type=x,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(nn,"$1")},void 0===(r=function(){return k}.apply(t,[]))||(e.exports=r);var rn=n.jQuery,on=n.$;return k.noConflict=function(e){return n.$===k&&(n.$=on),e&&n.jQuery===k&&(n.jQuery=rn),k},void 0===i&&(n.jQuery=n.$=k),k}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(491);var i=f(n(75)),o=n(7),a=f(n(210)),s=f(n(14)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),c=f(n(492)),u=n(110),h=n(451),d=n(452),p=n(453);function f(e){return e&&e.__esModule?e:{default:e}}var m={"#6d30a7":"#57208c","#6fdbc7":"#4ebfaa","#e7d2c3":"#dbbda7","#ff6432":"#f05b2b","#b4c7cb":"#93a8ab","#f7a177":"#e98c5f","#ffffff":"#dadada","#000000":"#313030"},v=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cta=t,this.cta){if(this.ctaText=this.cta.querySelector(".js-rrmc-button-text"),this.ctaArrow=this.cta.querySelector(".js-rrmc-button-arrow"),this.backgroundOverlay=this.cta.querySelector(".js-rrmc-button-background"),this.backgroundOverlay&&this.init_background(),this.ctaArrow){var r=this.ctaArrow.dataset.icon;(0,d.add_svg)(this.ctaArrow,u.svgElements[r||"arrow-right"])}if(this.icon_elm=this.cta.querySelector(".rrmc-cta-i"),this.icon_elm){var a=this.icon_elm.querySelector(".rrmc-cta-icon-placeholder"),h=this.icon_elm.dataset.icon;(0,d.add_svg)(a,u.svgElements[h])}this.isCtaPair=!1,this.dispose=function(){}}this.deg_tilt=0,this.on_resize=function(){n.icon_elm&&o.TweenLite.set(n.icon_elm,{clearProps:"all"}),n.dispose(),n.setup_svg(),n.icon_elm&&o.TweenLite.set(n.icon_elm,{rotation:n.deg_tilt})},this.on_click=function(e){var t=n.cta.dataset.ctaIndex,r=void 0,o=n.cta.querySelector(".rrmc-button-text"),a=o?o.innerHTML.toLowerCase():n.cta.innerHTML.toLowerCase();if(e.currentTarget.dataset.windowProps)try{JSON.parse(e.currentTarget.dataset.windowProps);var c=JSON.parse(e.currentTarget.dataset.windowProps);window.ctaWindowProps=window.ctaWindowProps?i.default.extend(!0,window.ctaWindowProps,c):c}catch(e){console.error("incorrect json structure")}if(e.currentTarget.dataset.overlayAction&&!e.currentTarget.dataset.overlay&&(r=(0,i.default)(e.currentTarget).closest("[data-overlay-name]").attr("data-overlay-name")),e.currentTarget.dataset.overlay){r=e.currentTarget.dataset.overlay.slice(2).replace(/-/g," ");var u=e.currentTarget.dataset.action,h=!1;if("isAForm"in e.currentTarget.dataset&&(h=!0),"request accessories"!=r&&"open-default-form"===u||h)if("dealer locator"===r)l.fireCustomEvent({event:"fadOpen",eventCategory:"form",eventAction:"Find A Dealer",eventLabel:"Open",ctaPosition:t,clickText:a});else{var d=r;if("g-enq"===r||"g-enq-owner"===r||"g-enq-future"===r)switch(r){case"g-enq":d="enquire";break;case"g-enq-owner":d="enq owner";break;case"g-enq-future":d="enq prospect";break;default:d=r}l.fireCustomEvent({event:"formOpen",eventCategory:"form",eventAction:d,eventLabel:"Open",ctaPosition:t,clickText:a})}}else if("overlayClose"===e.currentTarget.dataset.overlayAction){if("g-enq"===r||"g-enq-owner"===r||"g-enq-future"===r){var p="";switch(r){case"g-enq":p="enquire";break;case"g-enq-owner":p="enq owner";break;case"g-enq-future":p="enq prospect"}l.fireCustomEvent({event:"formClosed",eventCategory:"form",eventAction:p,eventLabel:"close",ctaPosition:t})}else if("overlayClose"===e.currentTarget.dataset.overlayAction&&e.currentTarget.parentNode.parentNode.querySelector("form")){var f=void 0;void 0!==window.ctaWindowProps&&void 0!==window.ctaWindowProps.existingOwner&&(f=!0===window.ctaWindowProps.existingOwner?"owner":"prospect");var m=void 0,v=e.currentTarget.parentNode.parentNode.querySelector("form").id;switch(v){case"purchase-enquiry":m=(f?f+" ":"")+"purchase enq";break;case"general-enquiry":m=(f?f+" ":"")+"general enq";break;default:m=v}var g=m;l.fireCustomEvent({event:"formClosed",eventCategory:"form",eventAction:g,eventLabel:"close",ctaPosition:t})}}else if(document.querySelector("#js-rrmc-page-overlay-container-local")&&document.querySelector("#js-rrmc-page-overlay-container-local").contains(e.currentTarget)){var y=(0,i.default)(e.currentTarget).closest("[data-overlay-name]").attr("data-overlay-name");l.fireCustomEvent({event:"overlayCTA",eventCategory:"CTA",eventAction:"Overlay CTA Clicked",eventLabel:y+" - "+a,ctaPosition:"overlay"})}else{var _=e.currentTarget.getAttribute("href");_&&_.match(/^#/)&&l.fireTronActivityClickEvent(),document.querySelector(".rrmc-page-canvas").contains(e.currentTarget)&&l.fireCustomEvent({event:n.cta.classList.contains("rrmc-button--primary")?"primaryCTAClicked":n.cta.classList.contains("rrmc-button--secondary")?"secondaryCTAClicked":"tertiary",eventCategory:"CTA",eventAction:n.cta.classList.contains("rrmc-button--primary")?"Primary CTA Clicked":n.cta.classList.contains("rrmc-button--secondary")?"Secondary CTA Clicked":"Tertiary CTA Clicked",eventLabel:a,ctaPosition:t})}var b=n.cta.dataset.action,w=n.cta.dataset.overlay;b&&(l.fireTronActivityClickEvent(),e.preventDefault(),s.default.sub_overlay_manager_bus.next({action:b,data:{overlayName:w}}))},c.default.add_cta(this)}return r(e,[{key:"init_background",value:function(){var e=this,t=this.get_colour(),n=this.get_hover(),r=function(){e.backgroundOverlay.style.backgroundColor=t};this.cta.addEventListenerRR("mouseenter",(function(){n&&(e.backgroundOverlay.style.backgroundColor=n)})),this.cta.addEventListenerRR("mouseleave",r),r()}},{key:"load_rounded_square",value:function(){var e=this,t=this.cta.getBoundingClientRect(),n=t.width,r=t.height,i=(0,a.default)(n,r,1),s=this.get_colour(),l=this.get_hover(),c='\n          <svg class="rrmc-button-svg-anim" width="'+n+'" height="'+r+'" viewBox="0 0 '+n+" "+r+'" xmlns="http://www.w3.org/2000/svg">\n          '+(0,p.makeSvgPaths)(i,s,l)+"\n          </svg>\n      ",u=document.createRange().createContextualFragment(c);this.cta.appendChild(u);var h=this.cta.querySelector(".rrmc-button-svg-anim-path"),d=this.cta.querySelector(".rrmc-initial-path");this.on_mouseover=function(){d.style.opacity=0,o.TweenLite.to(h,.4,{delay:.15,strokeDashoffset:"-"+2*i.dash_length})},this.on_mouseleave=function(){d.style.opacity=1,o.TweenLite.to(h,.4,{strokeDashoffset:"-"+i.dash_length})},this.cta.addEventListenerRR("mouseenter",this.on_mouseover),this.cta.addEventListenerRR("mouseleave",this.on_mouseleave),this.dispose=function(){e.cta.removeEventListenerRR("mouseenter",e.on_mouseover),e.cta.removeEventListenerRR("mouseleave",e.on_mouseleave),e.cta.removeChild(e.cta.querySelector(".rrmc-button-svg-anim"))}}},{key:"get_colour",value:function(){return this.backgroundOverlay&&this.backgroundOverlay.dataset.color||"#6D30A7"}},{key:"get_hover",value:function(){return this.backgroundOverlay&&this.backgroundOverlay.dataset.hoverColor||m[this.get_colour().toLowerCase()]||(0,h.shadeColor)(this.get_colour(),-10)}},{key:"tilt_icon_in",value:function(){this.deg_tilt=45,o.TweenLite.to(this.icon_elm,.4,{rotation:45}),o.TweenLite.to(this.elm_path,.4,{transformOrigin:"50% 50%",rotation:-45})}},{key:"tilt_icon_out",value:function(){this.deg_tilt=0,o.TweenLite.to(this.icon_elm,.4,{rotation:0}),o.TweenLite.to(this.elm_path,.4,{transformOrigin:"50% 50%",rotation:0})}},{key:"load_circle",value:function(){var e=this,t=this.icon_elm.getBoundingClientRect(),n=t.width,r=t.height,i=(0,a.default)(n,r,1),s=this.get_colour(),l=this.get_hover(),c='\n          <svg class="rrmc-button-svg-anim" width="'+n+'" height="'+r+'" viewBox="0 0 '+n+" "+r+'" xmlns="http://www.w3.org/2000/svg">\n            '+('<g transform="rotate(90 '+n/2+" "+r/2+')">')+"\n            "+(0,p.makeSvgPaths)(i,s,l)+"\n           </g>\n          </svg>\n      ",u=document.createRange().createContextualFragment(c);this.icon_elm.appendChild(u),this.elm_path=this.icon_elm.querySelector(".rrmc-button-svg-anim-path");var h=this.cta.querySelector(".rrmc-initial-path");this.on_mouseover=function(){h.style.opacity=0,o.TweenLite.to(e.elm_path,.4,{delay:.15,strokeDashoffset:"-"+2*i.dash_length})},this.on_mouseleave=function(){h.style.opacity=1,o.TweenLite.to(e.elm_path,.4,{strokeDashoffset:"-"+i.dash_length})},this.cta.addEventListenerRR("mouseenter",this.on_mouseover),this.cta.addEventListenerRR("mouseleave",this.on_mouseleave),this.dispose=function(){e.cta.removeEventListenerRR("mouseenter",e.on_mouseover),e.cta.removeEventListenerRR("mouseleave",e.on_mouseleave);var t=e.icon_elm.querySelector(".rrmc-button-svg-anim");t&&e.icon_elm.removeChild(t)}}},{key:"destroy",value:function(){this.cta.removeEventListenerRR("click",this.on_click),window.removeEventListenerRR("resize",this.on_resize),this.dispose(),c.default.remove_cta(this)}},{key:"setup_svg",value:function(){var e=this.cta.querySelector(".rrmc-button-svg-anim");e&&e.parentNode.removeChild(e),this.cta.classList.contains("rrmc-button--secondary")?this.load_rounded_square():(this.cta.classList.contains("rrmc-button--regular-icon-stroked")||this.cta.classList.contains("rrmc-button--regular-label-stroked")||this.cta.classList.contains("rrmc-button--tiny-label-stroked")||this.cta.classList.contains("rrmc-button--tiny-icon-stroked"))&&this.load_circle()}},{key:"load",value:function(){this.cta&&(this.cta.addEventListenerRR("click",this.on_click),this.setup_svg(),window.addEventListenerRR("resize",this.on_resize))}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-button");[].slice.call(e).forEach((function(e){var t=new v(e);e.data={ctaInstance:t},t.load()}))})),window.rrmc_cta_class=v,t.default=v},function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",(function(){return i}));var i=r()},function(e,t,n){"use strict";function r(){}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){var r=n(42);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(42),i=n(13)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(11),i=n(35),o=n(13)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";function r(){return!!window.MSInputMethodContext&&!!document.documentMode}function i(){return/^(?=.*\bWindows\b)(?=.*\bChrome\b).*$/i.test(navigator.userAgent)}function o(){return/^(?=.*\bMacintosh\b)(?=.*\bChrome\b).*$/i.test(navigator.userAgent)}function a(){var e=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,t=navigator.userAgent.toLowerCase().indexOf("android")>-1;return e&&t}function s(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function l(){return/Edge\/\d./i.test(navigator.userAgent)}Object.defineProperty(t,"__esModule",{value:!0}),t.is_ie11=r,t.is_win_chrome=i,t.is_mac_chrome=o,t.is_firefox_android_mobile=a,t.is_firefox=s,t.is_edge=l,r()&&document.documentElement.classList.add("ie11"),l()&&document.documentElement.classList.add("edge"),o()&&document.documentElement.classList.add("mac_chrome"),i()&&document.documentElement.classList.add("win_chrome"),a()&&document.documentElement.classList.add("android_firefox"),s()&&document.documentElement.classList.add("firefox")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"ScrollTrigger",(function(){return ht})),n.d(t,"default",(function(){return ht}));var r,i,o,a,s,l,c,u,h,d,p,f,m,v,g,y,_,b,w,x,S,k,A,E,C,T,M,D,L,P,R,I,O,F,B,N,j,z,V=n(5),U=1,H=Date.now,G=H(),q=0,W=0,Y=function(e,t,n){var r=ae(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},X=function(e,t){return!t||ae(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},Q=function(){return v=1},K=function(){return v=0},J=function(e){return e},Z=function(e){return Math.round(1e5*e)/1e5||0},$=function(){return"undefined"!=typeof window},ee=function(){return r||$()&&(r=window.gsap)&&r.registerPlugin&&r},te=function(e){return!!~c.indexOf(e)},ne=function(e){return("Height"===e?R:o["inner"+e])||s["client"+e]||l["client"+e]},re=function(e){return Object(V.b)(e,"getBoundingClientRect")||(te(e)?function(){return it.width=o.innerWidth,it.height=R,it}:function(){return ge(e)})},ie=function(e,t){var n=t.s,r=t.d2,i=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=Object(V.b)(e,n))?o()-re(e)()[i]:te(e)?(s[n]||l[n])-ne(r):e[n]-e["offset"+r])},oe=function(e,t){for(var n=0;n<w.length;n+=3)(!t||~t.indexOf(w[n+1]))&&e(w[n],w[n+1],w[n+2])},ae=function(e){return"string"==typeof e},se=function(e){return"function"==typeof e},le=function(e){return"number"==typeof e},ce=function(e){return"object"==typeof e},ue=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},he=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add((function(){return t(e)})):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},de=Math.abs,pe="padding",fe="px",me=function(e){return o.getComputedStyle(e)},ve=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ge=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==me(e)[g]&&r.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),i=e.getBoundingClientRect();return n&&n.progress(0).kill(),i},ye=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},_e=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},be=function(e){var t=r.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort((function(e,t){return e-t}));return n?function(e,r,i){var o;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,o=0;o<n.length;o++)if(n[o]>=e)return n[o];return n[o-1]}for(o=n.length,e+=i;o--;)if(n[o]<=e)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=t(n);return!r||Math.abs(o-n)<i||o-n<0==r<0?o:t(r<0?n-e:n+e)}},we=function(e,t,n,r){return n.split(",").forEach((function(n){return e(t,n,r)}))},xe=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},Se=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},ke=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},Ae={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Ee={toggleActions:"play",anticipatePin:0},Ce={top:0,left:0,center:.5,bottom:1,right:1},Te=function(e,t){if(ae(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in Ce?Ce[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Me=function(e,t,n,r,i,o,s,c){var u=i.startColor,h=i.endColor,d=i.fontSize,p=i.indent,f=i.fontWeight,m=a.createElement("div"),v=te(n)||"fixed"===Object(V.b)(n,"pinType"),g=-1!==e.indexOf("scroller"),y=v?l:n,_=-1!==e.indexOf("start"),b=_?u:h,w="border-color:"+b+";font-size:"+d+";color:"+b+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return w+="position:"+((g||c)&&v?"fixed;":"absolute;"),(g||c||!v)&&(w+=(r===V.j?"right":"bottom")+":"+(o+parseFloat(p))+"px;"),s&&(w+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),m._isStart=_,m.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),m.style.cssText=w,m.innerText=t||0===t?e+"-"+t:e,y.children[0]?y.insertBefore(m,y.children[0]):y.appendChild(m),m._offset=m["offset"+r.op.d2],De(m,0,r,_),m},De=function(e,t,n,i){var o={display:"block"},a=n[i?"os2":"p2"],s=n[i?"p2":"os2"];e._isFlipped=i,o[n.a+"Percent"]=i?-100:0,o[n.a]=i?"1px":0,o["border"+a+"Width"]=1,o["border"+s+"Width"]=0,o[n.p]=t+"px",r.set(e,o)},Le=[],Pe={},Re=function(){return H()-q>34&&(B||(B=requestAnimationFrame(Je)))},Ie=function(){(!A||!A.isPressed||A.startX>l.clientWidth)&&(V.i.cache++,A?B||(B=requestAnimationFrame(Je)):Je(),q||ze("scrollStart"),q=H())},Oe=function(){T=o.innerWidth,C=o.innerHeight},Fe=function(){V.i.cache++,!m&&!k&&!a.fullscreenElement&&!a.webkitFullscreenElement&&(!E||T!==o.innerWidth||Math.abs(o.innerHeight-C)>.25*o.innerHeight)&&u.restart(!0)},Be={},Ne=[],je=function e(){return Se(ht,"scrollEnd",e)||Xe(!0)},ze=function(e){return Be[e]&&Be[e].map((function(e){return e()}))||Ne},Ve=[],Ue=function(e){for(var t=0;t<Ve.length;t+=5)(!e||Ve[t+4]&&Ve[t+4].query===e)&&(Ve[t].style.cssText=Ve[t+1],Ve[t].getBBox&&Ve[t].setAttribute("transform",Ve[t+2]||""),Ve[t+3].uncache=1)},He=function(e,t){var n;for(y=0;y<Le.length;y++)!(n=Le[y])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));I=!0,t&&Ue(t),t||ze("revert")},Ge=function(e,t){V.i.cache++,(t||!N)&&V.i.forEach((function(e){return se(e)&&e.cacheID++&&(e.rec=0)})),ae(e)&&(o.history.scrollRestoration=L=e)},qe=0,We=function(){l.appendChild(P),R=!A&&P.offsetHeight||o.innerHeight,l.removeChild(P)},Ye=function(e){return h(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach((function(t){return t.style.display=e?"none":"block"}))},Xe=function(e,t){if(!q||e||I){We(),N=ht.isRefreshing=!0,V.i.forEach((function(e){return se(e)&&++e.cacheID&&(e.rec=e())}));var n=ze("refreshInit");x&&ht.sort(),t||He(),V.i.forEach((function(e){se(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),Le.slice(0).forEach((function(e){return e.refresh()})),I=!1,Le.forEach((function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}})),O=1,Ye(!0),Le.forEach((function(e){var t=ie(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)})),Ye(!1),O=0,n.forEach((function(e){return e&&e.render&&e.render(-1)})),V.i.forEach((function(e){se(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),Ge(L,1),u.pause(),qe++,N=2,Je(2),Le.forEach((function(e){return se(e.vars.onRefresh)&&e.vars.onRefresh(e)})),N=ht.isRefreshing=!1,ze("refresh")}else xe(ht,"scrollEnd",je)},Qe=0,Ke=1,Je=function(e){if(2===e||!N&&!I){ht.isUpdating=!0,z&&z.update(0);var t=Le.length,n=H(),r=n-G>=50,i=t&&Le[0].scroll();if(Ke=Qe>i?-1:1,N||(Qe=i),r&&(q&&!v&&n-q>200&&(q=0,ze("scrollEnd")),p=G,G=n),Ke<0){for(y=t;y-- >0;)Le[y]&&Le[y].update(0,r);Ke=1}else for(y=0;y<t;y++)Le[y]&&Le[y].update(0,r);ht.isUpdating=!1}B=0},Ze=["left","top","bottom","right","marginBottom","marginRight","marginTop","marginLeft","display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],$e=Ze.concat(["width","height","boxSizing","maxWidth","maxHeight","position","margin",pe,pe+"Top",pe+"Right",pe+"Bottom",pe+"Left"]),et=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,o=Ze.length,a=t.style,s=e.style;o--;)a[i=Ze[o]]=n[i];a.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(a.display="inline-block"),s.bottom=s.right="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a.width=ye(e,V.f)+fe,a.height=ye(e,V.j)+fe,a[pe]=s.margin=s.top=s.left="0",nt(r),s.width=s.maxWidth=n.width,s.height=s.maxHeight=n.height,s[pe]=n[pe],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},tt=/([A-Z])/g,nt=function(e){if(e){var t,n,i=e.t.style,o=e.length,a=0;for((e.t._gsap||r.core.getCache(e.t)).uncache=1;a<o;a+=2)n=e[a+1],t=e[a],n?i[t]=n:i[t]&&i.removeProperty(t.replace(tt,"-$1").toLowerCase())}},rt=function(e){for(var t=$e.length,n=e.style,r=[],i=0;i<t;i++)r.push($e[i],n[$e[i]]);return r.t=e,r},it={left:0,top:0},ot=function(e,t,n,i,o,a,c,u,h,d,p,f,m,v){se(e)&&(e=e(u)),ae(e)&&"max"===e.substr(0,3)&&(e=f+("="===e.charAt(4)?Te("0"+e.substr(3),n):0));var g,y,_,b=m?m.time():0;if(m&&m.seek(0),isNaN(e)||(e=+e),le(e))m&&(e=r.utils.mapRange(m.scrollTrigger.start,m.scrollTrigger.end,0,f,e)),c&&De(c,n,i,!0);else{se(t)&&(t=t(u));var w,x,S,k,A=(e||"0").split(" ");_=Object(V.d)(t,u)||l,(w=ge(_)||{})&&(w.left||w.top)||"none"!==me(_).display||(k=_.style.display,_.style.display="block",w=ge(_),k?_.style.display=k:_.style.removeProperty("display")),x=Te(A[0],w[i.d]),S=Te(A[1]||"0",n),e=w[i.p]-h[i.p]-d+x+o-S,c&&De(c,S,i,n-S<20||c._isStart&&S>20),n-=n-S}if(v&&(u[v]=e||-.001,e<0&&(e=0)),a){var E=e+n,C=a._isStart;g="scroll"+i.d2,De(a,E,i,C&&E>20||!C&&(p?Math.max(l[g],s[g]):a.parentNode[g])<=E+1),p&&(h=ge(c),p&&(a.style[i.op.p]=h[i.op.p]-i.op.m-a._offset+fe))}return m&&_&&(g=ge(_),m.seek(f),y=ge(_),m._caScrollDist=g[i.p]-y[i.p],e=e/m._caScrollDist*f),m&&m.seek(b),m?e:Math.round(e)},at=/(webkit|moz|length|cssText|inset)/i,st=function(e,t,n,i){if(e.parentNode!==t){var o,a,s=e.style;if(t===l){for(o in e._stOrig=s.cssText,a=me(e))+o||at.test(o)||!a[o]||"string"!=typeof s[o]||"0"===o||(s[o]=a[o]);s.top=n,s.left=i}else s.cssText=e._stOrig;r.core.getCache(e).uncache=1,t.appendChild(e)}},lt=function(e,t,n){var r=t,i=r;return function(t){var o=Math.round(e());return o!==r&&o!==i&&Math.abs(o-r)>3&&Math.abs(o-i)>3&&(t=o,n&&n()),i=r,r=t,t}},ct=function(e,t,n){var i={};i[t.p]="+="+n,r.set(e,i)},ut=function(e,t){var n=Object(V.c)(e,t),i="_scroll"+t.p2,o=function t(o,a,s,l,c){var u=t.tween,h=a.onComplete,d={};s=s||n();var p=lt(n,s,(function(){u.kill(),t.tween=0}));return c=l&&c||0,l=l||o-s,u&&u.kill(),a[i]=o,a.inherit=!1,a.modifiers=d,d[i]=function(){return p(s+l*u.ratio+c*u.ratio*u.ratio)},a.onUpdate=function(){V.i.cache++,t.tween&&Je()},a.onComplete=function(){t.tween=0,h&&h.call(u)},u=t.tween=r.to(e,a)};return e[i]=n,n.wheelHandler=function(){return o.tween&&o.tween.kill()&&(o.tween=0)},xe(e,"wheel",n.wheelHandler),ht.isTouch&&xe(e,"touchmove",n.wheelHandler),o},ht=function(){function e(t,n){i||e.register(r)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),D(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),W){var i,c,u,f,g,_,b,w,k,A,E,C,T,M,D,L,P,R,I,B,G,Q,K,$,ee,oe,we,ke,Ce,De,Re,Oe,Be,Ne,ze,Ve,Ue,He,Ge,We,Ye,Qe,Je=t=ve(ae(t)||le(t)||t.nodeType?{trigger:t}:t,Ee),Ze=Je.onUpdate,$e=Je.toggleClass,tt=Je.id,at=Je.onToggle,lt=Je.onRefresh,ht=Je.scrub,dt=Je.trigger,pt=Je.pin,ft=Je.pinSpacing,mt=Je.invalidateOnRefresh,vt=Je.anticipatePin,gt=Je.onScrubComplete,yt=Je.onSnapComplete,_t=Je.once,bt=Je.snap,wt=Je.pinReparent,xt=Je.pinSpacer,St=Je.containerAnimation,kt=Je.fastScrollEnd,At=Je.preventOverlaps,Et=t.horizontal||t.containerAnimation&&!1!==t.horizontal?V.f:V.j,Ct=!ht&&0!==ht,Tt=Object(V.d)(t.scroller||o),Mt=r.core.getCache(Tt),Dt=te(Tt),Lt="fixed"===("pinType"in t?t.pinType:Object(V.b)(Tt,"pinType")||Dt&&"fixed"),Pt=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],Rt=Ct&&t.toggleActions.split(" "),It="markers"in t?t.markers:Ee.markers,Ot=Dt?0:parseFloat(me(Tt)["border"+Et.p2+"Width"])||0,Ft=this,Bt=t.onRefreshInit&&function(){return t.onRefreshInit(Ft)},Nt=function(e,t,n){var r=n.d,i=n.d2,o=n.a;return(o=Object(V.b)(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?ne(i):e["client"+i])||0}}(Tt,Dt,Et),jt=function(e,t){return!t||~V.h.indexOf(e)?re(e):function(){return it}}(Tt,Dt),zt=0,Vt=0,Ut=0,Ht=Object(V.c)(Tt,Et);if(Ft._startClamp=Ft._endClamp=!1,Ft._dir=Et,vt*=45,Ft.scroller=Tt,Ft.scroll=St?St.time.bind(St):Ht,f=Ht(),Ft.vars=t,n=n||t.animation,"refreshPriority"in t&&(x=1,-9999===t.refreshPriority&&(z=Ft)),Mt.tweenScroll=Mt.tweenScroll||{top:ut(Tt,V.j),left:ut(Tt,V.f)},Ft.tweenTo=i=Mt.tweenScroll[Et.p],Ft.scrubDuration=function(e){(Be=le(e)&&e)?Oe?Oe.duration(e):Oe=r.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Be,paused:!0,onComplete:function(){return gt&&gt(Ft)}}):(Oe&&Oe.progress(1).kill(),Oe=0)},n&&(n.vars.lazy=!1,n._initted&&!Ft.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),Ft.animation=n.pause(),n.scrollTrigger=Ft,Ft.scrubDuration(ht),De=0,tt||(tt=n.vars.id)),bt&&(ce(bt)&&!bt.push||(bt={snapTo:bt}),"scrollBehavior"in l.style&&r.set(Dt?[l,s]:Tt,{scrollBehavior:"auto"}),V.i.forEach((function(e){return se(e)&&e.target===(Dt?a.scrollingElement||s:Tt)&&(e.smooth=!1)})),u=se(bt.snapTo)?bt.snapTo:"labels"===bt.snapTo?function(e){return function(t){return r.utils.snap(_e(e),t)}}(n):"labelsDirectional"===bt.snapTo?(We=n,function(e,t){return be(_e(We))(e,t.direction)}):!1!==bt.directional?function(e,t){return be(bt.snapTo)(e,H()-Vt<500?0:t.direction)}:r.utils.snap(bt.snapTo),Ne=bt.duration||{min:.1,max:2},Ne=ce(Ne)?d(Ne.min,Ne.max):d(Ne,Ne),ze=r.delayedCall(bt.delay||Be/2||.1,(function(){var e=Ht(),t=H()-Vt<500,o=i.tween;if(!(t||Math.abs(Ft.getVelocity())<10)||o||v||zt===e)Ft.isActive&&zt!==e&&ze.restart(!0);else{var a,s,l=(e-_)/M,c=n&&!Ct?n.totalProgress():l,h=t?0:(c-Re)/(H()-p)*1e3||0,d=r.utils.clamp(-l,1-l,de(h/2)*h/.185),f=l+(!1===bt.inertia?0:d),m=bt,g=m.onStart,y=m.onInterrupt,w=m.onComplete;if(a=u(f,Ft),le(a)||(a=f),s=Math.round(_+a*M),e<=b&&e>=_&&s!==e){if(o&&!o._initted&&o.data<=de(s-e))return;!1===bt.inertia&&(d=a-l),i(s,{duration:Ne(de(.185*Math.max(de(f-c),de(a-c))/h/.05||0)),ease:bt.ease||"power3",data:de(s-e),onInterrupt:function(){return ze.restart(!0)&&y&&y(Ft)},onComplete:function(){Ft.update(),zt=Ht(),n&&(Oe?Oe.resetTo("totalProgress",a,n._tTime/n._tDur):n.progress(a)),De=Re=n&&!Ct?n.totalProgress():Ft.progress,yt&&yt(Ft),w&&w(Ft)}},e,d*M,s-e-d*M),g&&g(Ft,i.tween)}}})).pause()),tt&&(Pe[tt]=Ft),(Ge=(dt=Ft.trigger=Object(V.d)(dt||!0!==pt&&pt))&&dt._gsap&&dt._gsap.stRevert)&&(Ge=Ge(Ft)),pt=!0===pt?dt:Object(V.d)(pt),ae($e)&&($e={targets:dt,className:$e}),pt&&(!1===ft||"margin"===ft||(ft=!(!ft&&pt.parentNode&&pt.parentNode.style&&"flex"===me(pt.parentNode).display)&&pe),Ft.pin=pt,(c=r.core.getCache(pt)).spacer?D=c.pinState:(xt&&((xt=Object(V.d)(xt))&&!xt.nodeType&&(xt=xt.current||xt.nativeElement),c.spacerIsNative=!!xt,xt&&(c.spacerState=rt(xt))),c.spacer=R=xt||a.createElement("div"),R.classList.add("pin-spacer"),tt&&R.classList.add("pin-spacer-"+tt),c.pinState=D=rt(pt)),!1!==t.force3D&&r.set(pt,{force3D:!0}),Ft.spacer=R=c.spacer,Ce=me(pt),$=Ce[ft+Et.os2],B=r.getProperty(pt),G=r.quickSetter(pt,Et.a,fe),et(pt,R,Ce),P=rt(pt)),It){C=ce(It)?ve(It,Ae):Ae,A=Me("scroller-start",tt,Tt,Et,C,0),E=Me("scroller-end",tt,Tt,Et,C,0,A),I=A["offset"+Et.op.d2];var Gt=Object(V.d)(Object(V.b)(Tt,"content")||Tt);w=this.markerStart=Me("start",tt,Gt,Et,C,I,0,St),k=this.markerEnd=Me("end",tt,Gt,Et,C,I,0,St),St&&(He=r.quickSetter([w,k],Et.a,fe)),Lt||V.h.length&&!0===Object(V.b)(Tt,"fixedMarkers")||(Qe=me(Ye=Dt?l:Tt).position,Ye.style.position="absolute"===Qe||"fixed"===Qe?Qe:"relative",r.set([A,E],{force3D:!0}),oe=r.quickSetter(A,Et.a,fe),ke=r.quickSetter(E,Et.a,fe))}if(St){var qt=St.vars.onUpdate,Wt=St.vars.onUpdateParams;St.eventCallback("onUpdate",(function(){Ft.update(0,0,1),qt&&qt.apply(St,Wt||[])}))}if(Ft.previous=function(){return Le[Le.indexOf(Ft)-1]},Ft.next=function(){return Le[Le.indexOf(Ft)+1]},Ft.revert=function(e,t){if(!t)return Ft.kill(!0);var r=!1!==e||!Ft.enabled,i=m;r!==Ft.isReverted&&(r&&(Ve=Math.max(Ht(),Ft.scroll.rec||0),Ut=Ft.progress,Ue=n&&n.progress()),w&&[w,k,A,E].forEach((function(e){return e.style.display=r?"none":"block"})),r&&(m=Ft,Ft.update(r)),!pt||wt&&Ft.isActive||(r?function(e,t,n){nt(n);var r=e._gsap;if(r.spacerIsNative)nt(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(pt,R,D):et(pt,R,me(pt),ee)),r||Ft.update(r),m=i,Ft.isReverted=r)},Ft.refresh=function(o,c,u,h){if(!m&&Ft.enabled||c)if(pt&&o&&q)xe(e,"scrollEnd",je);else{!N&&Bt&&Bt(Ft),m=Ft,i.tween&&!u&&(i.tween.kill(),i.tween=0),Oe&&Oe.pause(),mt&&n&&n.revert({kill:!1}).invalidate(),Ft.isReverted||Ft.revert(!0,!0),Ft._subPinOffset=!1;var d,p,v,y,x,C,I,F,j,z,U,G,W,X=Nt(),J=jt(),Z=St?St.duration():ie(Tt,Et),$=M<=.01,te=0,ne=h||0,re=ce(u)?u.end:t.end,oe=t.endTrigger||dt,le=ce(u)?u.start:t.start||(0!==t.start&&dt?pt?"0 0":"0 100%":0),ue=Ft.pinnedContainer=t.pinnedContainer&&Object(V.d)(t.pinnedContainer,Ft),he=dt&&Math.max(0,Le.indexOf(Ft))||0,de=he;for(It&&ce(u)&&(G=r.getProperty(A,Et.p),W=r.getProperty(E,Et.p));de--;)(C=Le[de]).end||C.refresh(0,1)||(m=Ft),!(I=C.pin)||I!==dt&&I!==pt&&I!==ue||C.isReverted||(z||(z=[]),z.unshift(C),C.revert(!0,!0)),C!==Le[de]&&(he--,de--);for(se(le)&&(le=le(Ft)),le=Y(le,"start",Ft),_=ot(le,dt,X,Et,Ht(),w,A,Ft,J,Ot,Lt,Z,St,Ft._startClamp&&"_startClamp")||(pt?-.001:0),se(re)&&(re=re(Ft)),ae(re)&&!re.indexOf("+=")&&(~re.indexOf(" ")?re=(ae(le)?le.split(" ")[0]:"")+re:(te=Te(re.substr(2),X),re=ae(le)?le:(St?r.utils.mapRange(0,St.duration(),St.scrollTrigger.start,St.scrollTrigger.end,_):_)+te,oe=dt)),re=Y(re,"end",Ft),b=Math.max(_,ot(re||(oe?"100% 0":Z),oe,X,Et,Ht()+te,k,E,Ft,J,Ot,Lt,Z,St,Ft._endClamp&&"_endClamp"))||-.001,te=0,de=he;de--;)(I=(C=Le[de]).pin)&&C.start-C._pinPush<=_&&!St&&C.end>0&&(d=C.end-(Ft._startClamp?Math.max(0,C.start):C.start),(I===dt&&C.start-C._pinPush<_||I===ue)&&isNaN(le)&&(te+=d*(1-C.progress)),I===pt&&(ne+=d));if(_+=te,b+=te,Ft._startClamp&&(Ft._startClamp+=te),Ft._endClamp&&!N&&(Ft._endClamp=b||-.001,b=Math.min(b,ie(Tt,Et))),M=b-_||(_-=.01)&&.001,$&&(Ut=r.utils.clamp(0,1,r.utils.normalize(_,b,Ve))),Ft._pinPush=ne,w&&te&&((d={})[Et.a]="+="+te,ue&&(d[Et.p]="-="+Ht()),r.set([w,k],d)),!pt||O&&Ft.end>=ie(Tt,Et)){if(dt&&Ht()&&!St)for(p=dt.parentNode;p&&p!==l;)p._pinOffset&&(_-=p._pinOffset,b-=p._pinOffset),p=p.parentNode}else d=me(pt),y=Et===V.j,v=Ht(),Q=parseFloat(B(Et.a))+ne,!Z&&b>1&&(U={style:U=(Dt?a.scrollingElement||s:Tt).style,value:U["overflow"+Et.a.toUpperCase()]},Dt&&"scroll"!==me(l)["overflow"+Et.a.toUpperCase()]&&(U.style["overflow"+Et.a.toUpperCase()]="scroll")),et(pt,R,d),P=rt(pt),p=ge(pt,!0),F=Lt&&Object(V.c)(Tt,y?V.f:V.j)(),ft?((ee=[ft+Et.os2,M+ne+fe]).t=R,(de=ft===pe?ye(pt,Et)+M+ne:0)&&(ee.push(Et.d,de+fe),"auto"!==R.style.flexBasis&&(R.style.flexBasis=de+fe)),nt(ee),ue&&Le.forEach((function(e){e.pin===ue&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),Lt&&Ht(Ve)):(de=ye(pt,Et))&&"auto"!==R.style.flexBasis&&(R.style.flexBasis=de+fe),Lt&&((x={top:p.top+(y?v-_:F)+fe,left:p.left+(y?F:v-_)+fe,boxSizing:"border-box",position:"fixed"}).width=x.maxWidth=Math.ceil(p.width)+fe,x.height=x.maxHeight=Math.ceil(p.height)+fe,x.margin=x.marginTop=x.marginRight=x.marginBottom=x.marginLeft="0",x[pe]=d[pe],x[pe+"Top"]=d[pe+"Top"],x[pe+"Right"]=d[pe+"Right"],x[pe+"Bottom"]=d[pe+"Bottom"],x[pe+"Left"]=d[pe+"Left"],L=function(e,t,n){for(var r,i=[],o=e.length,a=n?8:0;a<o;a+=2)r=e[a],i.push(r,r in t?t[r]:e[a+1]);return i.t=e.t,i}(D,x,wt),N&&Ht(0)),n?(j=n._initted,S(1),n.render(n.duration(),!0,!0),K=B(Et.a)-Q+M+ne,we=Math.abs(M-K)>1,Lt&&we&&L.splice(L.length-2,2),n.render(0,!0,!0),j||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),S(0)):K=M,U&&(U.value?U.style["overflow"+Et.a.toUpperCase()]=U.value:U.style.removeProperty("overflow-"+Et.a));z&&z.forEach((function(e){return e.revert(!1,!0)})),Ft.start=_,Ft.end=b,f=g=N?Ve:Ht(),St||N||(f<Ve&&Ht(Ve),Ft.scroll.rec=0),Ft.revert(!1,!0),Vt=H(),ze&&(zt=-1,ze.restart(!0)),m=0,n&&Ct&&(n._initted||Ue)&&n.progress()!==Ue&&n.progress(Ue||0,!0).render(n.time(),!0,!0),($||Ut!==Ft.progress||St||mt)&&(n&&!Ct&&n.totalProgress(St&&_<-.001&&!Ut?r.utils.normalize(_,b,0):Ut,!0),Ft.progress=$||(f-_)/M===Ut?0:Ut),pt&&ft&&(R._pinOffset=Math.round(Ft.progress*K)),Oe&&Oe.invalidate(),isNaN(G)||(G-=r.getProperty(A,Et.p),W-=r.getProperty(E,Et.p),ct(A,Et,G),ct(w,Et,G-(h||0)),ct(E,Et,W),ct(k,Et,W-(h||0))),$&&!N&&Ft.update(),!lt||N||T||(T=!0,lt(Ft),T=!1)}},Ft.getVelocity=function(){return(Ht()-g)/(H()-p)*1e3||0},Ft.endAnimation=function(){ue(Ft.callbackAnimation),n&&(Oe?Oe.progress(1):n.paused()?Ct||ue(n,Ft.direction<0,1):ue(n,n.reversed()))},Ft.labelToScroll=function(e){return n&&n.labels&&(_||Ft.refresh()||_)+n.labels[e]/n.duration()*M||0},Ft.getTrailing=function(e){var t=Le.indexOf(Ft),n=Ft.direction>0?Le.slice(0,t).reverse():Le.slice(t+1);return(ae(e)?n.filter((function(t){return t.vars.preventOverlaps===e})):n).filter((function(e){return Ft.direction>0?e.end<=_:e.start>=b}))},Ft.update=function(e,t,r){if(!St||r||e){var o,a,s,c,u,d,v,y=!0===N?Ve:Ft.scroll(),w=e?0:(y-_)/M,x=w<0?0:w>1?1:w||0,S=Ft.progress;if(t&&(g=f,f=St?Ht():y,bt&&(Re=De,De=n&&!Ct?n.totalProgress():x)),vt&&pt&&!m&&!U&&q&&(!x&&_<y+(y-g)/(H()-p)*vt?x=1e-4:1===x&&b>y+(y-g)/(H()-p)*vt&&(x=.9999)),x!==S&&Ft.enabled){if(c=(u=(o=Ft.isActive=!!x&&x<1)!==(!!S&&S<1))||!!x!=!!S,Ft.direction=x>S?1:-1,Ft.progress=x,c&&!m&&(a=x&&!S?0:1===x?1:1===S?2:3,Ct&&(s=!u&&"none"!==Rt[a+1]&&Rt[a+1]||Rt[a],v=n&&("complete"===s||"reset"===s||s in n))),At&&(u||v)&&(v||ht||!n)&&(se(At)?At(Ft):Ft.getTrailing(At).forEach((function(e){return e.endAnimation()}))),Ct||(!Oe||m||U?n&&n.totalProgress(x,!(!m||!Vt&&!e)):(Oe._dp._time-Oe._start!==Oe._time&&Oe.render(Oe._dp._time-Oe._start),Oe.resetTo?Oe.resetTo("totalProgress",x,n._tTime/n._tDur):(Oe.vars.totalProgress=x,Oe.invalidate().restart()))),pt)if(e&&ft&&(R.style[ft+Et.os2]=$),Lt){if(c){if(d=!e&&x>S&&b+1>y&&y+1>=ie(Tt,Et),wt)if(e||!o&&!d)st(pt,R);else{var k=ge(pt,!0),E=y-_;st(pt,l,k.top+(Et===V.j?E:0)+fe,k.left+(Et===V.j?0:E)+fe)}nt(o||d?L:P),we&&x<1&&o||G(Q+(1!==x||d?0:K))}}else G(Z(Q+K*x));bt&&!i.tween&&!m&&!U&&ze.restart(!0),$e&&(u||_t&&x&&(x<1||!F))&&h($e.targets).forEach((function(e){return e.classList[o||_t?"add":"remove"]($e.className)})),Ze&&!Ct&&!e&&Ze(Ft),c&&!m?(Ct&&(v&&("complete"===s?n.pause().totalProgress(1):"reset"===s?n.restart(!0).pause():"restart"===s?n.restart(!0):n[s]()),Ze&&Ze(Ft)),!u&&F||(at&&u&&he(Ft,at),Pt[a]&&he(Ft,Pt[a]),_t&&(1===x?Ft.kill(!1,1):Pt[a]=0),u||Pt[a=1===x?1:3]&&he(Ft,Pt[a])),kt&&!o&&Math.abs(Ft.getVelocity())>(le(kt)?kt:2500)&&(ue(Ft.callbackAnimation),Oe?Oe.progress(1):ue(n,"reverse"===s?1:!x,1))):Ct&&Ze&&!m&&Ze(Ft)}if(ke){var C=St?y/St.duration()*(St._caScrollDist||0):y;oe(C+(A._isFlipped?1:0)),ke(C)}He&&He(-y/St.duration()*(St._caScrollDist||0))}},Ft.enable=function(t,n){Ft.enabled||(Ft.enabled=!0,xe(Tt,"resize",Fe),Dt||xe(Tt,"scroll",Ie),Bt&&xe(e,"refreshInit",Bt),!1!==t&&(Ft.progress=Ut=0,f=g=zt=Ht()),!1!==n&&Ft.refresh())},Ft.getTween=function(e){return e&&i?i.tween:Oe},Ft.setPositions=function(e,t,n,r){if(St){var i=St.scrollTrigger,o=St.duration(),a=i.end-i.start;e=i.start+a*e/o,t=i.start+a*t/o}Ft.refresh(!1,!1,{start:X(e,n&&!!Ft._startClamp),end:X(t,n&&!!Ft._endClamp)},r),Ft.update()},Ft.adjustPinSpacing=function(e){if(ee&&e){var t=ee.indexOf(Et.d)+1;ee[t]=parseFloat(ee[t])+e+fe,ee[1]=parseFloat(ee[1])+e+fe,nt(ee)}},Ft.disable=function(t,n){if(Ft.enabled&&(!1!==t&&Ft.revert(!0,!0),Ft.enabled=Ft.isActive=!1,n||Oe&&Oe.pause(),Ve=0,c&&(c.uncache=1),Bt&&Se(e,"refreshInit",Bt),ze&&(ze.pause(),i.tween&&i.tween.kill()&&(i.tween=0)),!Dt)){for(var r=Le.length;r--;)if(Le[r].scroller===Tt&&Le[r]!==Ft)return;Se(Tt,"resize",Fe),Dt||Se(Tt,"scroll",Ie)}},Ft.kill=function(e,r){Ft.disable(e,r),Oe&&!r&&Oe.kill(),tt&&delete Pe[tt];var i=Le.indexOf(Ft);i>=0&&Le.splice(i,1),i===y&&Ke>0&&y--,i=0,Le.forEach((function(e){return e.scroller===Ft.scroller&&(i=1)})),i||N||(Ft.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),w&&[w,k,A,E].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),z===Ft&&(z=0),pt&&(c&&(c.uncache=1),i=0,Le.forEach((function(e){return e.pin===pt&&i++})),i||(c.spacer=0)),t.onKill&&t.onKill(Ft)},Le.push(Ft),Ft.enable(!1,!1),Ge&&Ge(Ft),n&&n.add&&!M){var Yt=Ft.update;Ft.update=function(){Ft.update=Yt,_||b||Ft.refresh()},r.delayedCall(.01,Ft.update),M=.01,_=b=0}else Ft.refresh();pt&&function(){if(j!==qe){var e=j=qe;requestAnimationFrame((function(){return e===qe&&Xe(!0)}))}}()}else this.update=this.refresh=this.kill=J},e.register=function(t){return i||(r=t||ee(),$()&&window.document&&e.enable(),i=W),i},e.defaults=function(e){if(e)for(var t in e)Ee[t]=e[t];return Ee},e.disable=function(e,t){W=0,Le.forEach((function(n){return n[t?"kill":"disable"](e)})),Se(o,"wheel",Ie),Se(a,"scroll",Ie),clearInterval(f),Se(a,"touchcancel",J),Se(l,"touchstart",J),we(Se,a,"pointerdown,touchstart,mousedown",Q),we(Se,a,"pointerup,touchend,mouseup",K),u.kill(),oe(Se);for(var n=0;n<V.i.length;n+=3)ke(Se,V.i[n],V.i[n+1]),ke(Se,V.i[n],V.i[n+2])},e.enable=function(){if(o=window,a=document,s=a.documentElement,l=a.body,r&&(h=r.utils.toArray,d=r.utils.clamp,D=r.core.context||J,S=r.core.suppressOverwrites||J,L=o.history.scrollRestoration||"auto",Qe=o.pageYOffset,r.core.globals("ScrollTrigger",e),l)){W=1,(P=document.createElement("div")).style.height="100vh",P.style.position="absolute",We(),function e(){return W&&requestAnimationFrame(e)}(),V.a.register(r),e.isTouch=V.a.isTouch,M=V.a.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),E=1===V.a.isTouch,xe(o,"wheel",Ie),c=[o,a,s,l],r.matchMedia?(e.matchMedia=function(e){var t,n=r.matchMedia();for(t in e)n.add(t,e[t]);return n},r.addEventListener("matchMediaInit",(function(){return He()})),r.addEventListener("matchMediaRevert",(function(){return Ue()})),r.addEventListener("matchMedia",(function(){Xe(0,1),ze("matchMedia")})),r.matchMedia("(orientation: portrait)",(function(){return Oe(),Oe}))):console.warn("Requires GSAP 3.11.0 or later"),Oe(),xe(a,"scroll",Ie);var t,n,p=l.style,m=p.borderTopStyle,v=r.core.Animation.prototype;for(v.revert||Object.defineProperty(v,"revert",{value:function(){return this.time(-.01,!0)}}),p.borderTopStyle="solid",t=ge(l),V.j.m=Math.round(t.top+V.j.sc())||0,V.f.m=Math.round(t.left+V.f.sc())||0,m?p.borderTopStyle=m:p.removeProperty("border-top-style"),f=setInterval(Re,250),r.delayedCall(.5,(function(){return U=0})),xe(a,"touchcancel",J),xe(l,"touchstart",J),we(xe,a,"pointerdown,touchstart,mousedown",Q),we(xe,a,"pointerup,touchend,mouseup",K),g=r.utils.checkPrefix("transform"),$e.push(g),i=H(),u=r.delayedCall(.2,Xe).pause(),w=[a,"visibilitychange",function(){var e=o.innerWidth,t=o.innerHeight;a.hidden?(_=e,b=t):_===e&&b===t||Fe()},a,"DOMContentLoaded",Xe,o,"load",Xe,o,"resize",Fe],oe(xe),Le.forEach((function(e){return e.enable(0,1)})),n=0;n<V.i.length;n+=3)ke(Se,V.i[n],V.i[n+1]),ke(Se,V.i[n],V.i[n+2])}},e.config=function(t){"limitCallbacks"in t&&(F=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(f)||(f=n)&&setInterval(Re,n),"ignoreMobileResize"in t&&(E=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(oe(Se)||oe(xe,t.autoRefreshEvents||"none"),k=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=Object(V.d)(e),r=V.i.indexOf(n),i=te(n);~r&&V.i.splice(r,i?6:2),t&&(i?V.h.unshift(o,t,l,t,s,t):V.h.unshift(n,t))},e.clearMatchMedia=function(e){Le.forEach((function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)}))},e.isInViewport=function(e,t,n){var r=(ae(e)?Object(V.d)(e):e).getBoundingClientRect(),i=r[n?"width":"height"]*t||0;return n?r.right-i>0&&r.left+i<o.innerWidth:r.bottom-i>0&&r.top+i<o.innerHeight},e.positionInViewport=function(e,t,n){ae(e)&&(e=Object(V.d)(e));var r=e.getBoundingClientRect(),i=r[n?"width":"height"],a=null==t?i/2:t in Ce?Ce[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+a)/o.innerWidth:(r.top+a)/o.innerHeight},e.killAll=function(e){if(Le.slice(0).forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var t=Be.killAll||[];Be={},t.forEach((function(e){return e()}))}},e}();
/*!
 * ScrollTrigger 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/ht.version="3.12.5",ht.saveStyles=function(e){return e?h(e).forEach((function(e){if(e&&e.style){var t=Ve.indexOf(e);t>=0&&Ve.splice(t,5),Ve.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),r.core.getCache(e),D())}})):Ve},ht.revert=function(e,t){return He(!e,t)},ht.create=function(e,t){return new ht(e,t)},ht.refresh=function(e){return e?Fe():(i||ht.register())&&Xe(!0)},ht.update=function(e){return++V.i.cache&&Je(!0===e?2:0)},ht.clearScrollMemory=Ge,ht.maxScroll=function(e,t){return ie(e,t?V.f:V.j)},ht.getScrollFunc=function(e,t){return Object(V.c)(Object(V.d)(e),t?V.f:V.j)},ht.getById=function(e){return Pe[e]},ht.getAll=function(){return Le.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},ht.isScrolling=function(){return!!q},ht.snapDirectional=be,ht.addEventListener=function(e,t){var n=Be[e]||(Be[e]=[]);~n.indexOf(t)||n.push(t)},ht.removeEventListener=function(e,t){var n=Be[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},ht.batch=function(e,t){var n,i=[],o={},a=t.interval||.016,s=t.batchMax||1e9,l=function(e,t){var n=[],i=[],o=r.delayedCall(a,(function(){t(n,i),n=[],i=[]})).pause();return function(e){n.length||o.restart(!0),n.push(e.trigger),i.push(e),s<=n.length&&o.progress(1)}};for(n in t)o[n]="on"===n.substr(0,2)&&se(t[n])&&"onRefreshInit"!==n?l(0,t[n]):t[n];return se(s)&&(s=s(),xe(ht,"refresh",(function(){return s=t.batchMax()}))),h(e).forEach((function(e){var t={};for(n in o)t[n]=o[n];t.trigger=e,i.push(ht.create(t))})),i};var dt,pt=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},ft=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(V.a.isTouch?" pinch-zoom":""):"none",t===s&&e(l,n)},mt={auto:1,scroll:1},vt=function(e){var t,n=e.event,i=e.target,o=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,s=a._gsap||r.core.getCache(a),c=H();if(!s._isScrollT||c-s._isScrollT>2e3){for(;a&&a!==l&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!mt[(t=me(a)).overflowY]&&!mt[t.overflowX]);)a=a.parentNode;s._isScroll=a&&a!==i&&!te(a)&&(mt[(t=me(a)).overflowY]||mt[t.overflowX]),s._isScrollT=c}(s._isScroll||"x"===o)&&(n.stopPropagation(),n._gsapAllow=!0)},gt=function(e,t,n,r){return V.a.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&vt,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&xe(a,V.a.eventTypes[0],_t,!1,!0)},onDisable:function(){return Se(a,V.a.eventTypes[0],_t,!0)}})},yt=/(input|label|select|textarea)/i,_t=function(e){var t=yt.test(e.target.tagName);(t||dt)&&(e._gsapAllow=!0,dt=t)},bt=function(e){ce(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,i,a,l,c,u,h,p=e,f=p.normalizeScrollX,m=p.momentum,v=p.allowNestedScroll,g=p.onRelease,y=Object(V.d)(e.target)||s,_=r.core.globals().ScrollSmoother,b=_&&_.get(),w=M&&(e.content&&Object(V.d)(e.content)||b&&!1!==e.content&&!b.smooth()&&b.content()),x=Object(V.c)(y,V.j),S=Object(V.c)(y,V.f),k=1,A=(V.a.isTouch&&o.visualViewport?o.visualViewport.scale*o.visualViewport.width:o.outerWidth)/o.innerWidth,E=0,C=se(m)?function(){return m(t)}:function(){return m||2.8},T=gt(y,e.type,!0,v),D=function(){return a=!1},L=J,P=J,R=function(){n=ie(y,V.j),P=d(M?1:0,n),f&&(L=d(0,ie(y,V.f))),i=qe},I=function(){w._gsap.y=Z(parseFloat(w._gsap.y)+x.offset)+"px",w.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(w._gsap.y)+", 0, 1)",x.offset=x.cacheID=0},O=function(){R(),l.isActive()&&l.vars.scrollY>n&&(x()>n?l.progress(1)&&x(n):l.resetTo("scrollY",n))};return w&&r.set(w,{y:"+=0"}),e.ignoreCheck=function(e){return M&&"touchmove"===e.type&&function(){if(a){requestAnimationFrame(D);var e=Z(t.deltaY/2),n=P(x.v-e);if(w&&n!==x.v+x.offset){x.offset=n-x.v;var r=Z((parseFloat(w&&w._gsap.y)||0)-x.offset);w.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",w._gsap.y=r+"px",x.cacheID=V.i.cache,Je()}return!0}x.offset&&I(),a=!0}()||k>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){a=!1;var e=k;k=Z((o.visualViewport&&o.visualViewport.scale||1)/A),l.pause(),e!==k&&ft(y,k>1.01||!f&&"x"),c=S(),u=x(),R(),i=qe},e.onRelease=e.onGestureStart=function(e,t){if(x.offset&&I(),t){V.i.cache++;var i,o,a=C();f&&(o=(i=S())+.05*a*-e.velocityX/.227,a*=pt(S,i,o,ie(y,V.f)),l.vars.scrollX=L(o)),o=(i=x())+.05*a*-e.velocityY/.227,a*=pt(x,i,o,ie(y,V.j)),l.vars.scrollY=P(o),l.invalidate().duration(a).play(.01),(M&&l.vars.scrollY>=n||i>=n-1)&&r.to({},{onUpdate:O,duration:a})}else h.restart(!0);g&&g(e)},e.onWheel=function(){l._ts&&l.pause(),H()-E>1e3&&(i=0,E=H())},e.onChange=function(e,t,n,r,o){if(qe!==i&&R(),t&&f&&S(L(r[2]===t?c+(e.startX-e.x):S()+t-r[1])),n){x.offset&&I();var a=o[2]===n,s=a?u+e.startY-e.y:x()+n-o[1],l=P(s);a&&s!==l&&(u+=l-s),x(l)}(n||t)&&Je()},e.onEnable=function(){ft(y,!f&&"x"),ht.addEventListener("refresh",O),xe(o,"resize",O),x.smooth&&(x.target.style.scrollBehavior="auto",x.smooth=S.smooth=!1),T.enable()},e.onDisable=function(){ft(y,!0),Se(o,"resize",O),ht.removeEventListener("refresh",O),T.kill()},e.lockAxis=!1!==e.lockAxis,(t=new V.a(e)).iOS=M,M&&!x()&&x(1),M&&r.ticker.add(J),h=t._dc,l=r.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:f?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:lt(x,x(),(function(){return l.pause()}))},onUpdate:Je,onComplete:h.vars.onComplete}),t};ht.sort=function(e){return Le.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},ht.observe=function(e){return new V.a(e)},ht.normalizeScroll=function(e){if(void 0===e)return A;if(!0===e&&A)return A.enable();if(!1===e)return A&&A.kill(),void(A=e);var t=e instanceof V.a?e:bt(e);return A&&A.target===t.target&&A.kill(),te(t.target)&&(A=t),t},ht.core={_getVelocityProp:V.e,_inputObserver:gt,_scrollers:V.i,_proxies:V.h,bridge:{ss:function(){q||ze("scrollStart"),q=H()},ref:function(){return m}}},ee()&&r.registerPlugin(ht)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(2),i=n(31),o=n(41),a=n(6);function s(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(s((function(n,r){return Object(o.a)(e(n,r)).pipe(Object(i.a)((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new l(e,n))})}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.concurrent))},e}(),c=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new a.a(this),n=this.destination;n.add(t);var r=Object(a.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(a.b),u=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),i=n(224),o=n(165);function a(e,t){return t?Object(o.a)(e,t):new r.a(Object(i.a)(e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(207),o=function(e){function t(n,r){void 0===r&&(r=i.a.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(21),o=n(17),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.a(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.a.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return r.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(17).a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(24);function i(e){return!Object(r.a)(e)&&e-parseFloat(e)+1>=0}},function(e,t,n){var r=n(16),i=n(9),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(53)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(30),i=n(15),o=n(55);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(42);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(13)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(11);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(83),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(188);var r=n(25),i=n(29),o=n(10),a=n(43),s=n(13),l=n(140),c=s("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),h=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!o((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p?!o((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[d](""),!t})):void 0;if(!p||!f||"replace"===e&&!u||"split"===e&&!h){var m=/./[d],v=n(a,d,""[e],(function(e,t,n,r,i){return t.exec===l?p&&!i?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=v[0],y=v[1];r(String.prototype,e,g),i(RegExp.prototype,d,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},function(e,t,n){var r=n(34),i=n(183),o=n(135),a=n(11),s=n(15),l=n(137),c={},u={};(t=e.exports=function(e,t,n,h,d){var p,f,m,v,g=d?function(){return e}:l(e),y=r(n,h,t?2:1),_=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>_;_++)if((v=t?y(a(f=e[_])[0],f[1]):y(e[_]))===c||v===u)return v}else for(m=g.call(e);!(f=m.next()).done;)if((v=i(m,y,f.value,t))===c||v===u)return v}).BREAK=c,t.RETURN=u},function(e,t,n){var r=n(9).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(9),i=n(1),o=n(25),a=n(74),s=n(48),l=n(105),c=n(73),u=n(12),h=n(10),d=n(101),p=n(69),f=n(126);e.exports=function(e,t,n,m,v,g){var y=r[e],_=y,b=v?"set":"add",w=_&&_.prototype,x={},S=function(e){var t=w[e];o(w,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(g||w.forEach&&!h((function(){(new _).entries().next()})))){var k=new _,A=k[b](g?{}:-0,1)!=k,E=h((function(){k.has(1)})),C=d((function(e){new _(e)})),T=!g&&h((function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)}));C||((_=t((function(t,n){c(t,_,e);var r=f(new y,t,_);return null!=n&&l(n,v,r[b],r),r}))).prototype=w,w.constructor=_),(E||T)&&(S("delete"),S("has"),v&&S("get")),(T||A)&&S(b),g&&w.clear&&delete w.clear}else _=m.getConstructor(t,e,v,b),a(_.prototype,n),s.NEED=!0;return p(_,e),x[e]=_,i(i.G+i.W+i.F*(_!=y),x),g||m.setStrong(_,e,v),_}},function(e,t,n){for(var r,i=n(9),o=n(29),a=n(52),s=a("typed_array"),l=a("view"),c=!(!i.ArrayBuffer||!i.DataView),u=c,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(r=i[d[h++]])?(o(r.prototype,s,!0),o(r.prototype,l,!0)):u=!1;e.exports={ABV:c,CONSTR:u,TYPED:s,VIEW:l}},function(e,t){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document,t=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},r.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},r.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},r.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(window,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,o(window,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,o=a(i),s=this._rootContainsTarget(i),l=r.entry,c=e&&s&&this._computeTargetAndRootIntersection(i,t),u=r.entry=new n({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:o,rootBounds:t,intersectionRect:c});l?e&&s?this._hasCrossedThreshold(l,u)&&this._queuedEntries.push(u):l&&l.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var r,i,o,s,c,u,h,d,p=a(t),f=l(t),m=!1;!m;){var v=null,g=1==f.nodeType?window.getComputedStyle(f):{};if("none"==g.display)return;if(f==this.root||f==e?(m=!0,v=n):f!=e.body&&f!=e.documentElement&&"visible"!=g.overflow&&(v=a(f)),v&&(r=v,i=p,o=void 0,s=void 0,c=void 0,u=void 0,h=void 0,d=void 0,o=Math.max(r.top,i.top),s=Math.min(r.bottom,i.bottom),c=Math.max(r.left,i.left),u=Math.min(r.right,i.right),d=s-o,!(p=(h=u-c)>=0&&d>=0&&{top:o,bottom:s,left:c,right:u,width:h,height:d})))break;f=l(f)}return p}},r.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},r.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},r.prototype._rootIsInDom=function(){return!this.root||s(e,this.root)},r.prototype._rootContainsTarget=function(t){return s(this.root||e,t)},r.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},r.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=r,window.IntersectionObserverEntry=n}function n(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function r(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function o(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function s(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}()},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=(i(r={},"twitter",'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><defs/><path fill="currentColor" fill-rule="evenodd" d="M32 19.54090271c-.5890172.26145078-1.2207794.43874222-1.8846982.51792407.6778404-.40678127 1.1967598-1.05199236 1.4427392-1.81833393-.6358471.37658867-1.337805.65018852-2.0856124.79846623C28.8734768 18.39872553 28.0216175 18 27.0768502 18c-1.81270503 0-3.28237222 1.47272375-3.28237222 3.28811052 0 .25752121.02895409.50898419.0849996.74934602-2.72747251-.137242-5.14599204-1.44662455-6.76467822-3.43635547-.28300538.48491526-.44398513 1.04992928-.44398513 1.65306061 0 1.14116201.57993229 2.14799643 1.4597326 2.73704669-.53780825-.01791258-1.04368854-.16628849-1.48666059-.41264297v.04103179c0 1.59297013 1.13179275 2.92242648 2.63250563 3.22494186-.27496625.0742043-.56486699.11523615-.86486576.11523615-.21189456 0-.41692645-.020958-.61784064-.06113839.41793946 1.30745049 1.62963386 2.25825509 3.06537963 2.28435429-1.12274048.8816105-2.53855169 1.40556-4.07615977 1.40556-.26499897 0-.52594562-.0159804-.78290533-.0450269 1.45270648.9346932 3.17743798 1.4797316 5.03112321 1.4797316 6.03781849 0 9.33819719-5.01141317 9.33819719-9.35741044l-.0111111-.4258072c.644932-.46091184 1.2027728-1.03997424 1.6417907-1.69913545z"/></svg>'),i(r,"facebook",'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><defs/><path fill="currentColor" fill-rule="evenodd" d="M31.1157895 16H16.88421054C16.39587454 16 16 16.39587455 16 16.88421054V31.1157895c0 .488336.39587454.8842105.88421054.8842105h7.6631579v-6.17543862h-2.09122808v-2.43368422h2.08v-1.77684211c0-2.06877192 1.26035084-3.19438596 3.10456134-3.19438596a17.44564051 17.44564051 0 011.8750878.10666669v2.15859651h-1.274386c-1.0021052 0-1.1957895.47438596-1.1957895 1.17333331v1.54385964h2.4l-.3115789 2.42245614H27.045614V32h4.0701755C31.6041255 32 32 31.6041255 32 31.1157895V16.88421054C32 16.39587454 31.6041255 16 31.1157895 16z"/></svg>'),i(r,"linkedin",'<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><defs/><path fill="currentColor" d="M32 24.94621288v5.83929092h-3.4305821v-5.450996c0-1.370472-.4947259-2.30193372-1.7361417-2.30193372-.94925638 0-1.50919008.6305972-1.75935539 1.23752995-.08984369.21859652-.11728202.52462346-.11728202.82676827v5.688012h-3.42736143s.04609299-9.22875584 0-10.18462533h3.42815617v1.44353016c-.00472642.01193551-.01468117.02180598-.01944945.03485652h.01944945v-.03485652c.45796023-.6937023 1.26918857-1.6824459 3.09124227-1.6824459C30.3101186 20.36134323 32 21.81680889 32 24.94621288zm-14.05932594-9.57313596C16.76806323 15.37307692 16 16.20495548 16 17.30203661c0 1.06759403.74535139 1.92755765 1.89658875 1.92755765h.02074603c1.19858526 0 1.94134335-.85996362 1.94134335-1.92755765-.02338114-1.09708113-.74259078-1.92895969-1.91800407-1.92895969zm-1.7359325 15.41242688h3.42861628V20.59963946h-3.42861628V30.7855038z"/></svg>'),i(r,"youtube",'<svg xmlns="http://www.w3.org/2000/svg" width="23" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 23 16"><defs/><defs><path id="a" d="M22.4156461 2.47057863c-.2698718-.96698741-1.0254962-1.72261175-1.9924836-1.99248355C18.6387065 0 11.4569865 0 11.4569865 0S4.29339745-.009529 2.49081055.47809508C1.52382314.74796688.7681988 1.50359122.498327 2.47057863.1600634 4.29750909-.00670217 6.15205727 0 8.01002644c-.0053962 1.85095827.16136391 3.69841746.498327 5.51845426.2698718.9669874 1.02549614 1.7226117 1.99248355 1.9924835C4.2733581 16 11.4569865 16 11.4569865 16s7.1626349 0 8.966176-.4790358c.9669874-.2698718 1.7226118-1.0254961 1.9924836-1.9924835.3299232-1.820696.4896547-3.66814988.4771273-5.51845426.0138332-1.85731283-.1459034-3.71185565-.4771273-5.53944781zM9.16486705 11.4367546V4.57280146l5.97745065 3.43722498-5.97745065 3.42672816z"/></defs><use fill="currentColor" fill-rule="nonzero" xlink:href="#a"/></svg>'),i(r,"my-list",'<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>icon/wishlist</title><defs><path id="a" d="M2 0v16l6-3.999L14 16V5h-2v7.262l-2.891-1.925L8 9.597l-1.109.74L4 12.262V2h10V0z"/></defs><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><use fill="currentColor" xlink:href="#a"/><path d="M0 0h16v16H0z" mask="url(#b)" fill-rule="nonzero"/></g></svg>'),i(r,"arrow-back",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M13 9V7h3v2h-3zM7.03233022 1l1.43859292 1.43076034-4.58011387 4.55637467H10v2.02471813H3.89080927l4.58011387 4.55637466L7.03233022 15 0 8l.71777145-.71538017.71878813-.71639202L7.03233022 1z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"bespoke",'<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="17px" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 17"><defs/><defs><path id="a" d="M16 9.0376v7H9v-7h7zM3.5 9C5.433 9 7 10.567 7 12.5S5.433 16 3.5 16 0 14.433 0 12.5 1.567 9 3.5 9zm0 1C2.121 10 1 11.122 1 12.5S2.121 15 3.5 15 6 13.878 6 12.5 4.879 10 3.5 10zM8 0c1.933 0 3.5 1.567 3.5 3.5S9.933 7 8 7 4.5 5.433 4.5 3.5 6.067 0 8 0z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"add",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs/><path fill="currentColor" fill-rule="evenodd" d="M9.00045405 8.9999041l-.00054995 7.0003571-2.00040508-.0007071.00109988-6.99965H-.00015101V7.00020612l15.99970511-.0007071.0007071 2.00040508H9.00045405zM7.00020612-.00015101H8.9999041l.00070711 3.99995205-2.00040509-.00070711V-.00015101z"/></svg>'),i(r,"arrow-down",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M1.4139 3.99999l7.656 7.656-1.414 1.414-7.656-7.656 1.414-1.414zm12.9474 0l1.414 1.414-4.2181222 4.07099-1.414-1.415L14.3613 3.99999z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"arrow-left",'<svg xmlns="http://www.w3.org/2000/svg"  width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M13 10.1428571V7.85714286h3v2.28571424h-3zM7.03233022 1l1.43859292 1.63515467-4.58011387 5.20728534H10v2.31396359H3.89080927l4.58011387 5.2072853L7.03233022 17 0 9l.71777145-.81757733.71878813-.81873374L7.03233022 1z"/></defs><use fill="currentColor" fill-rule="evenodd" transform="translate(0 -1)" xlink:href="#a"/></svg>'),i(r,"arrow-right",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M13 9V7h3v2h-3zM7.03233022 1l1.43859292 1.43076034-4.58011387 4.55637467H10v2.02471813H3.89080927l4.58011387 4.55637466L7.03233022 15 0 8l.71777145-.71538017.71878813-.71639202L7.03233022 1z"/></defs><use fill="currentColor" fill-rule="evenodd" transform="matrix(-1 0 0 1 16 0)" xlink:href="#a"/></svg>'),i(r,"arrow-up",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M1.4139 2.99999l7.656 7.656-1.414 1.414-7.656-7.656 1.414-1.414zm12.9474 0l1.414 1.414-4.2181222 4.07099-1.414-1.415L14.3613 2.99999z"/></defs><use fill="currentColor" fill-rule="evenodd" transform="matrix(1 0 0 -1 0 15.06998)" xlink:href="#a"/></svg>'),i(r,"check-mark",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><defs/><path d="M1 8.659l1.415-1.414 1.414 1.414-1.414 1.414L1 8.659zm12.7296-5.6592l1.415 1.414v.002l-9.195 9.193-1.414-1.414 9.194-9.195z"/></svg>'),i(r,"close",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M13.3139 2.0003l1.414 1.414-2.829 2.829-1.414-1.414 2.829-2.829zm-9.9 0l11.314 11.314-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95 1.414-1.414z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"document",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M2-.0002h8.414L14 3.5868v12.413H2v-11h2v9h8v-9.585l-2.414-2.415H2v-2zM6 8V6h4v2H6zm0 4v-2h4v2H6z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"download",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M7.0002 0h2v8.586l3.293-3.293 1.414 1.414-5.707 5.708-.708-.708-.706-.707-4.293-4.293 1.414-1.414 3.293 3.293V0zM0 16.0002v-2h16v2H0z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"minus",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M0 9h16V7H0z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"play",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M2 0v2.4288803l9.0961836 5.43012514-7.08753094 4.43844596V5.76243203H2V16l13-8.14099456z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"rotate",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M12.9756 3.3418l2.022-.375-.365-1.967-5.253.976-.668 4.606 1.979.287.366-2.522c1.199.828 1.943 2.188 1.943 3.691 0 2.482-2.018 4.5-4.5 4.5-2.481 0-4.5-2.018-4.5-4.5 0-1.201.468-2.331 1.319-3.181l-1.414-1.414c-1.228 1.227-1.905 2.86-1.905 4.595 0 3.584 2.916 6.5 6.5 6.5s6.5-2.916 6.5-6.5c0-1.82-.76-3.493-2.024-4.696"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"search",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M13.7732 15.1871l-4.154-4.155c-2.378 1.699-5.709 1.482-7.84-.649-2.372-2.372-2.372-6.232 0-8.604 2.372-2.371 6.23-2.373 8.604 0 1.15 1.15 1.783 2.678 1.783 4.303h-2c0-1.091-.425-2.117-1.197-2.889-1.592-1.593-4.183-1.59-5.776 0-1.593 1.593-1.593 4.184 0 5.776 1.591 1.592 4.184 1.593 5.776 0l.707-.707 5.511 5.511-1.414 1.414z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"upload",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M7.0002 12.415V3.829l-3.293 3.293-1.414-1.414 4.293-4.293.706-.707.708-.708 5.707 5.708-1.414 1.414-3.293-3.293v8.586h-2zM0 16.0002v-2h16v2H0z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"share",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M12.354 0c-1.419 0-2.58 1.162-2.58 2.581 0 .29.048.57.137.831l-4.419 2.87c-.474-.525-1.154-.863-1.911-.863C2.161 5.419 1 6.581 1 8s1.161 2.581 2.581 2.581c.76 0 1.445-.334 1.919-.863l4.411 2.871c-.091.263-.137.538-.137.831 0 1.419 1.161 2.58 2.58 2.58 1.42 0 2.581-1.161 2.581-2.58 0-1.42-1.161-2.581-2.581-2.581-.758 0-1.437.338-1.911.863L6.024 8.831c.089-.261.137-.541.137-.831 0-.292-.046-.568-.137-.831l4.411-2.871c.474.529 1.158.864 1.919.864 1.42 0 2.581-1.162 2.581-2.581S13.774 0 12.354 0"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"location",'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16"><defs/><defs><path id="a" d="M16 1.4143L14.586.0003l-2.122 2.121 1.415 1.414L16 1.4143zm-1.414 14.586L16 14.5863l-2.121-2.122-1.415 1.415 2.122 2.121zM0 14.5863l1.414 1.414 2.122-2.121-1.415-1.415L0 14.5863zM1.414.0003L0 1.4143l2.121 2.121 1.415-1.414L1.414.0003zm6.586 5c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zm0 8c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z"/></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a"/></svg>'),i(r,"info",'<svg xmlns="http://www.w3.org/2000/svg" width="34px" height="34px" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 34 34"><defs/><defs><circle id="a" cx="16" cy="16" r="16"/><path id="b" d="M9 6v9H7V6h2zm0-5v2H7V1h2z"/></defs><g fill="none" fill-rule="evenodd"><use stroke="#B49A6D" stroke-width=".75" opacity=".32" transform="translate(1 1)" xlink:href="#a"/><use fill="#B59B6E" transform="translate(9 9)" xlink:href="#b"/></g></svg>'),i(r,"infinity-logo",'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="32" viewBox="0 0 64 32"><defs/><g fill="currentColor" class="cls-2"><path d="M14 2.66c6.52 0 11.5 5.59 16.27 11.27-5 6-9.8 11.39-16.27 11.39a11.33 11.33 0 010-22.66m36 0a11.33 11.33 0 010 22.66c-6.44 0-11.23-5.38-16.26-11.39C38.5 8.25 43.49 2.66 50 2.66M14 27.99c7.49 0 12.85-5.86 18-12 5.1 6.07 10.48 12 18 12a14 14 0 100-28c-7.57 0-12.93 5.83-18 11.86-5.07-6-10.43-11.86-18-11.86a14 14 0 100 28M0 32.16h64v-2.23H0z" class="cls-3"/></g></svg>'),i(r,"customize",'<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 18 18"><defs/><path fill="currentColor" fill-rule="nonzero" d="M12.1783902 0L18 5.71824617 13.902 9.732l-1.388-1.383 2.6874747-2.6319504-3.0122241-2.95854556L1.96300034 12.9794675v3.0651157h2.69716248L10.415 10.406l1.388 1.383L5.46258194 18H0v-5.8292421L12.1783902 0z"/></svg>'),i(r,"black-badge-logo",'<svg xmlns="http://www.w3.org/2000/svg" width="463px" height="37px" class="black-badge-logo" viewBox="0 0 463 37"><defs/><g fill="#FFFFFF" fill-rule="nonzero"><path fill="currentColor" d="M205.505657 3.04337174c7.449197 0 13.146723 6.39051351 18.590282 12.88081196-5.703407 6.807481-11.189232 13.0156972-18.590282 13.0156972-4.642334.0245489-8.94265-2.4379158-11.270986-6.4542236-2.328337-4.0163079-2.328337-8.9717541 0-12.98806193 2.328336-4.01630783 6.628652-6.47877249 11.270986-6.45422363m41.142222 0c4.642334-.02454886 8.94265 2.4379158 11.270986 6.45422363 2.328336 4.01630783 2.328336 8.97175403 0 12.98806193-2.328336 4.0163078-6.628652 6.4787725-11.270986 6.4542236-7.363194 0-12.82954-6.147573-18.587342-13.0156972 5.44503-6.49029845 11.144025-12.88081196 18.587342-12.88081196M205.502717 31.9828851c8.563562 0 14.691839-6.6891348 20.574602-13.6873664 5.827266 6.9342805 11.971714 13.6873664 20.575338 13.6873664 8.83183 0 15.991442-7.1596127 15.991442-15.9914426C262.644099 7.1596127 255.484487 0 246.652657 0c-8.660592 0-14.785561 6.66708269-20.5735 13.5543188C220.28644 6.66377488 214.162573 0 205.502717 0c-8.83183 0-15.991443 7.1596127-15.991443 15.9914425 0 8.8318299 7.159613 15.9914426 15.991443 15.9914426m-15.992178 4.7706027h73.129885v-2.5539999h-73.129885v2.5539999z"/><path d="M7.92735979 3.05899279c7.39002381 0 10.04399311 3.22107567 10.04399311 7.27719061 0 2.7278438-1.4025131 5.0782294-4.8882138 6.027572 3.9421791.7968156 5.9503896 3.7143075 5.9503896 6.8982621 0 4.1318271-2.5385634 8.225063-9.96681079 8.225063H.19405841V3.05899279H7.9273598zm.1128332 11.78684351c3.37360261 0 5.57109371-.8706901 5.57109371-3.9793001 0-3.07001883-2.1974911-3.97930012-5.57109371-3.97930012H4.47510468v7.95860022h3.56508831zm.98609608 12.8115308c3.37360263 0 5.60968483-1.3639219 5.60968483-4.5478766 0-3.1839546-2.2360822-4.6618124-5.60968483-4.6618124H4.47694235v9.209689h4.54934672zM35.9243291 3.05899279h4.2839866V27.6573671h11.5589719v3.8282433H35.9243291V3.05899279zM79.2232456 1.7693129l13.3433537 29.7162975h-4.5493467l-3.2596668-7.4668386H73.5396862l-3.2225458 7.4668386h-4.3214751L79.2232456 1.7693129zm3.9039555 18.535519l-3.9793002-9.0975909-3.9793001 9.0975909h7.9586003zm21.8639149-3.10861c0-9.7029208 7.695078-14.78115022 15.541212-14.78115022 3.145364 0 6.252504.68104213 8.678234 2.34854788v4.54934672c-2.273203-2.00931318-5.457158-3.03289782-8.794007-3.03289782-5.571094 0-10.80185 3.52465948-10.80185 10.91578584 0 7.3911264 5.230756 10.9157859 10.80185 10.9157859 3.336849 0 6.520804-1.0232171 8.794007-3.0314276v4.5486116c-2.42573 1.6675057-5.571461 2.350018-8.716825 2.350018-5.95039 0-11.598666-2.8803708-14.175453-8.37759-.912573-2.0099524-1.365942-4.1979518-1.327168-6.4050303zm41.020568 14.2893885V3.05899279h4.282884V17.234813l12.736186-14.17582021h4.890051L155.146028 17.1591009l13.72265 14.3265095h-5.725459L150.294568 18.029791v13.4558194h-4.282884zm149.61426-28.42661761c7.392597 0 10.045096 3.22107567 10.045096 7.27719061 0 2.7278438-1.402513 5.0782294-4.888214 6.027572 3.942179.7968156 5.95186 3.7143075 5.95186 6.8982621 0 4.1318271-2.541136 8.225063-9.969751 8.225063h-8.869719V3.05899279h7.730728zm.115406 11.78684351c3.372133 0 5.571094-.8706901 5.571094-3.9793001 0-3.07001883-2.198961-3.97930012-5.571094-3.97930012h-3.565088v7.95860022h3.565088zm.983156 12.8115308c3.373603 0 5.610052-1.3639219 5.610052-4.5478766 0-3.1839546-2.236449-4.6618124-5.610052-4.6618124h-4.546407v9.209689h4.546407zM333.33098 1.7693129l13.341516 29.7162975h-4.549714l-3.259667-7.4668386h-11.21937l-3.220708 7.4668386h-4.321843L333.33098 1.7693129zm3.903588 18.535519l-3.981138-9.0975909-3.978933 9.0975909h7.960071zm24.173136-17.24583911h9.059c9.664329 0 15.842958 5.95038968 15.842958 14.25116491 0 8.2621841-6.253973 14.1754527-15.842958 14.1754527h-9.059V3.05899279zm8.981818 24.59837431c6.747205 0 11.370794-3.9793001 11.370794-10.3858006 0-6.4432539-4.623589-10.38433042-11.370794-10.38433042h-4.698934V27.6573671h4.698934zm31.068825-10.5368574c0-8.64111253 6.822918-14.70543802 14.858333-14.70543802 6.064325 0 10.991498 3.67534879 12.810061 8.94469632h-4.924968c-1.327168-3.18395464-4.435411-5.07969954-7.96154-5.07969954-5.610053 0-10.156459 4.20753924-10.156459 10.87903244 0 6.5946783 4.016421 11.028619 10.271865 11.028619 5.267509 0 8.716824-3.2596668 8.716824-8.1111272v-.3032163h-7.354373v-3.7514285h11.599401v15.4636625h-3.031428l-.795713-4.4717969c-1.782911 3.2978905-5.420036 4.9653962-9.70292 4.9653962-6.178629 0-11.144393-3.5650883-13.227948-8.9446963-.746537-1.8814335-1.120507-3.8899647-1.101135-5.9140037zm61.440806-14.06151691v3.82824329h-11.560075v7.84613462h11.181147v3.8271406h-11.181147v9.0968558h11.560075v3.8282433h-15.842958V3.05899279h15.842958z"/></g></svg>'),i(r,"black-badge-logo-no-text",'<svg width="82px" height="42px" viewBox="0 0 82 42" fill="none" class="black-badge-logo-no-text" xmlns="http://www.w3.org/2000/svg"><path d="M0.173435 41.0495H81.6463V38.1909H0.173435V41.0495ZM17.9885 35.7325C27.5308 35.7325 34.3487 28.2573 40.9099 20.4533C47.3998 28.1858 54.2462 35.7325 63.8313 35.7325C68.5599 35.7325 73.0949 33.8502 76.4385 30.4996C79.7822 27.149 81.6606 22.6047 81.6606 17.8663C81.6606 13.1278 79.7822 8.58348 76.4385 5.2329C73.0949 1.88233 68.5599 0 63.8313 0C54.1749 0 47.357 7.44666 40.9099 15.122C34.4628 7.43236 27.6306 0 17.9885 0C13.2599 0 8.72491 1.88233 5.38127 5.2329C2.03762 8.58348 0.15918 13.1278 0.15918 17.8663C0.15918 22.6047 2.03762 27.149 5.38127 30.4996C8.72491 33.8502 13.2599 35.7325 17.9885 35.7325ZM63.817 3.43032C67.6415 3.43032 71.3094 4.95275 74.0138 7.6627C76.7181 10.3726 78.2374 14.0481 78.2374 17.8806C78.2374 21.713 76.7181 25.3885 74.0138 28.0984C71.3094 30.8083 67.6415 32.3308 63.817 32.3308C55.6155 32.3308 49.5535 25.4701 43.1207 17.7948C49.1827 10.5625 55.53 3.50178 63.817 3.50178V3.43032ZM17.9885 3.50178C26.2898 3.50178 32.6371 10.6483 38.6991 17.7948C32.3518 25.3987 26.2328 32.3308 17.9885 32.3308C14.164 32.3308 10.4961 30.8083 7.79177 28.0984C5.08743 25.3885 3.56815 21.713 3.56815 17.8806C3.56815 14.0481 5.08743 10.3726 7.79177 7.6627C10.4961 4.95275 14.164 3.43032 17.9885 3.43032" fill="currentColor"/></svg>'),i(r,"email",'<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="13px" viewBox="0 0 16 13"><defs/><g fill="#000000" fill-rule="evenodd" stroke="#fff"><path d="M0 .00018353v3.08467059l7.99670588 4.48637647L16 3.20552471V.00018353H0zm.94117647 2.55381176V.91783059H15.0588235V2.6673247L8.00329412 6.51593647.94117647 2.55399529z"/><path d="M15.0590118 4.71349412v6.84885878H.94089412V4.71945882l-.94070588-.51571764V12.48H16.0001882V4.20374118z"/></g></svg>'),r);t.randomise_svg=function(e,t){var n=Math.random().toString(36).substring(7),r='id="'+t+'"',i='"#'+t+'"';return e=(e=e.replace(r,'id="'+n+'"')).replace(i,'"#'+n+'"')},t.svgElements=o},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;"undefined"!=typeof navigator&&function(e,t){void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return t(e)}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(window||{},(function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],n=t.length;for(e=0;e<n;e+=1)BMMath[t[e]]=Math[t[e]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===typeof e&&e.length){var t,n=createSizedArray(e.length),r=e.length;for(t=0;t<r;t+=1)n[t]=Math.abs(e[t]);return n}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,n,r){this.type=e,this.currentTime=t,this.totalTime=n,this.direction=r<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,n,r){this.type=e,this.currentLoop=n,this.totalLoops=t,this.direction=r<0?-1:1}function BMSegmentStartEvent(e,t,n){this.type=e,this.firstFrame=t,this.totalFrames=n}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t,this.currentTime=currentTime}roundValues(!1);var createElementID=(_count=0,function(){return"__lottie_element_"+ ++_count}),_count;function HSVtoRGB(e,t,n){var r,i,o,a,s,l,c,u;switch(l=n*(1-t),c=n*(1-(s=6*e-(a=Math.floor(6*e)))*t),u=n*(1-(1-s)*t),a%6){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;case 5:r=n,i=l,o=c}return[r,i,o]}function RGBtoHSV(e,t,n){var r,i=Math.max(e,t,n),o=Math.min(e,t,n),a=i-o,s=0===i?0:a/i,l=i/255;switch(i){case o:r=0;break;case e:r=t-n+a*(t<n?6:0),r/=6*a;break;case t:r=n-e+2*a,r/=6*a;break;case n:r=e-t+4*a,r/=6*a}return[r,s,l]}function addSaturationToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[1]+=t,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[2]+=t,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(e,t){var n=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return n[0]+=t/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var e,t,n=[];for(e=0;e<256;e+=1)t=e.toString(16),n[e]=1==t.length?"0"+t:t;return function(e,t,r){return e<0&&(e=0),t<0&&(t=0),r<0&&(r=0),"#"+n[e]+n[t]+n[r]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var n=this._cbs[e].length,r=0;r<n;r++)this._cbs[e][r](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var n=0,r=this._cbs[e].length;n<r;)this._cbs[e][n]===t&&(this._cbs[e].splice(n,1),n-=1,r-=1),n+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,t){return"float32"===e?new Float32Array(t):"int16"===e?new Int16Array(t):"uint8c"===e?new Uint8ClampedArray(t):void 0}:function(e,t){var n,r=0,i=[];switch(e){case"int16":case"uint8c":n=1;break;default:n=1.1}for(r=0;r<t;r+=1)i.push(n);return i};function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"}
/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */,function(e){return blendModeEnums[e]||""}),blendModeEnums,Matrix=function(){var e=Math.cos,t=Math.sin,n=Math.tan,r=Math.round;function i(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function o(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function a(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1)}function s(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1)}function l(n){if(0===n)return this;var r=e(n),i=t(n);return this._t(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1)}function c(e,t){return this._t(1,t,e,1,0,0)}function u(e,t){return this.shear(n(e),n(t))}function h(r,i){var o=e(i),a=t(i);return this._t(o,a,0,0,-a,o,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(r),1,0,0,0,0,1,0,0,0,0,1)._t(o,-a,0,0,a,o,0,0,0,0,1,0,0,0,0,1)}function d(e,t,n){return n||0===n||(n=1),1===e&&1===t&&1===n?this:this._t(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1)}function p(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m){return this.props[0]=e,this.props[1]=t,this.props[2]=n,this.props[3]=r,this.props[4]=i,this.props[5]=o,this.props[6]=a,this.props[7]=s,this.props[8]=l,this.props[9]=c,this.props[10]=u,this.props[11]=h,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=m,this}function f(e,t,n){return n=n||0,0!==e||0!==t||0!==n?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,n,1):this}function m(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m){var v=this.props;if(1===e&&0===t&&0===n&&0===r&&0===i&&1===o&&0===a&&0===s&&0===l&&0===c&&1===u&&0===h)return v[12]=v[12]*e+v[15]*d,v[13]=v[13]*o+v[15]*p,v[14]=v[14]*u+v[15]*f,v[15]=v[15]*m,this._identityCalculated=!1,this;var g=v[0],y=v[1],_=v[2],b=v[3],w=v[4],x=v[5],S=v[6],k=v[7],A=v[8],E=v[9],C=v[10],T=v[11],M=v[12],D=v[13],L=v[14],P=v[15];return v[0]=g*e+y*i+_*l+b*d,v[1]=g*t+y*o+_*c+b*p,v[2]=g*n+y*a+_*u+b*f,v[3]=g*r+y*s+_*h+b*m,v[4]=w*e+x*i+S*l+k*d,v[5]=w*t+x*o+S*c+k*p,v[6]=w*n+x*a+S*u+k*f,v[7]=w*r+x*s+S*h+k*m,v[8]=A*e+E*i+C*l+T*d,v[9]=A*t+E*o+C*c+T*p,v[10]=A*n+E*a+C*u+T*f,v[11]=A*r+E*s+C*h+T*m,v[12]=M*e+D*i+L*l+P*d,v[13]=M*t+D*o+L*c+P*p,v[14]=M*n+D*a+L*u+P*f,v[15]=M*r+D*s+L*h+P*m,this._identityCalculated=!1,this}function v(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function g(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function y(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t]}function _(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function b(e,t,n){return{x:e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}}function w(e,t,n){return e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12]}function x(e,t,n){return e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13]}function S(e,t,n){return e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]}function k(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,n=-this.props[1]/e,r=-this.props[4]/e,i=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,a=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,s=new Matrix;return s.props[0]=t,s.props[1]=n,s.props[4]=r,s.props[5]=i,s.props[12]=o,s.props[13]=a,s}function A(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function E(e){var t,n=e.length,r=[];for(t=0;t<n;t+=1)r[t]=A(e[t]);return r}function C(e,t,n){var r=createTypedArray("float32",6);if(this.isIdentity())r[0]=e[0],r[1]=e[1],r[2]=t[0],r[3]=t[1],r[4]=n[0],r[5]=n[1];else{var i=this.props[0],o=this.props[1],a=this.props[4],s=this.props[5],l=this.props[12],c=this.props[13];r[0]=e[0]*i+e[1]*a+l,r[1]=e[0]*o+e[1]*s+c,r[2]=t[0]*i+t[1]*a+l,r[3]=t[0]*o+t[1]*s+c,r[4]=n[0]*i+n[1]*a+l,r[5]=n[0]*o+n[1]*s+c}return r}function T(e,t,n){return this.isIdentity()?[e,t,n]:[e*this.props[0]+t*this.props[4]+n*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+n*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+n*this.props[10]+this.props[14]]}function M(e,t){if(this.isIdentity())return e+","+t;var n=this.props;return Math.round(100*(e*n[0]+t*n[4]+n[12]))/100+","+Math.round(100*(e*n[1]+t*n[5]+n[13]))/100}function D(){for(var e=0,t=this.props,n="matrix3d(";e<16;)n+=r(1e4*t[e])/1e4,n+=15===e?")":",",e+=1;return n}function L(e){return e<1e-6&&e>0||e>-1e-6&&e<0?r(1e4*e)/1e4:e}function P(){var e=this.props;return"matrix("+L(e[0])+","+L(e[1])+","+L(e[4])+","+L(e[5])+","+L(e[12])+","+L(e[13])+")"}return function(){this.reset=i,this.rotate=o,this.rotateX=a,this.rotateY=s,this.rotateZ=l,this.skew=u,this.skewFromAxis=h,this.shear=c,this.scale=d,this.setTransform=p,this.translate=f,this.transform=m,this.applyToPoint=b,this.applyToX=w,this.applyToY=x,this.applyToZ=S,this.applyToPointArray=T,this.applyToTriplePoints=C,this.applyToPointStringified=M,this.toCSS=D,this.to2dCSS=P,this.clone=y,this.cloneFromProps=_,this.equals=g,this.inversePoints=E,this.inversePoint=A,this.getInverseMatrix=k,this._t=this.transform,this.isIdentity=v,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();!function(e,t){var n=this,r=t.pow(256,6),i=t.pow(2,52),o=2*i;function a(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+e[i%n]+(t=a[i])],a[o]=t;r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=255&i+1],n=256*n+a[255&(a[i]=a[o=255&o+t])+(a[o]=t)];return r.i=i,r.j=o,n}}function s(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function l(e,t){for(var n,r=e+"",i=0;i<r.length;)t[255&i]=255&(n^=19*t[255&i])+r.charCodeAt(i++);return c(t)}function c(e){return String.fromCharCode.apply(0,e)}t.seedrandom=function(u,h,d){var p=[],f=l(function e(t,n){var r,i=[],o=typeof t;if(n&&"object"==o)for(r in t)try{i.push(e(t[r],n-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((h=!0===h?{entropy:!0}:h||{}).entropy?[u,c(e)]:null===u?function(){try{void 0;var t=new Uint8Array(256);return(n.crypto||n.msCrypto).getRandomValues(t),c(t)}catch(t){var r=n.navigator,i=r&&r.plugins;return[+new Date,n,i,n.screen,c(e)]}}():u,3),p),m=new a(p),v=function(){for(var e=m.g(6),t=r,n=0;e<i;)e=256*(e+n),t*=256,n=m.g(1);for(;e>=o;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|m.g(4)},v.quick=function(){return m.g(4)/4294967296},v.double=v,l(c(m.S),e),(h.pass||d||function(e,n,r,i){return i&&(i.S&&s(i,m),e.state=function(){return s(m,{})}),r?(t.random=e,n):e})(v,f,"global"in h?h.global:this==t,h.state)},l(t.random(),e)}([],BMMath);var BezierFactory=function(){var e={getBezierEasing:function(e,n,r,i,o){var a=o||("bez_"+e+"_"+n+"_"+r+"_"+i).replace(/\./g,"p");if(t[a])return t[a];var s=new l([e,n,r,i]);return t[a]=s,s}},t={};var n="function"==typeof Float32Array;function r(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function a(e,t,n){return((r(t,n)*e+i(t,n))*e+o(t))*e}function s(e,t,n){return 3*r(t,n)*e*e+2*i(t,n)*e+o(t)}function l(e){this._p=e,this._mSampleValues=n?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return l.prototype={get:function(e){var t=this._p[0],n=this._p[1],r=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),t===n&&r===i?e:0===e?0:1===e?1:a(this._getTForX(e),n,i)},_precompute:function(){var e=this._p[0],t=this._p[1],n=this._p[2],r=this._p[3];this._precomputed=!0,e===t&&n===r||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<11;++n)this._mSampleValues[n]=a(.1*n,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],r=this._mSampleValues,i=0,o=1;10!==o&&r[o]<=e;++o)i+=.1;var l=i+.1*((e-r[--o])/(r[o+1]-r[o])),c=s(l,t,n);return c>=.001?function(e,t,n,r){for(var i=0;i<4;++i){var o=s(t,n,r);if(0===o)return t;t-=(a(t,n,r)-e)/o}return t}(e,l,t,n):0===c?l:function(e,t,n,r,i){var o,s,l=0;do{(o=a(s=t+(n-t)/2,r,i)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++l<10);return s}(e,i,i+.1,t,n)}},e}();function extendPrototype(e,t){var n,r,i=e.length;for(n=0;n<i;n+=1)for(var o in r=e[n].prototype)r.hasOwnProperty(o)&&(t.prototype[o]=r[o])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){Math;function e(e,t,n,r,i,o){var a=e*r+t*i+n*o-i*r-o*e-n*t;return a>-.001&&a<.001}var t=function(e,t,n,r){var i,o,a,s,l,c,u=defaultCurveSegments,h=0,d=[],p=[],f=bezier_length_pool.newElement();for(a=n.length,i=0;i<u;i+=1){for(l=i/(u-1),c=0,o=0;o<a;o+=1)s=bm_pow(1-l,3)*e[o]+3*bm_pow(1-l,2)*l*n[o]+3*(1-l)*bm_pow(l,2)*r[o]+bm_pow(l,3)*t[o],d[o]=s,null!==p[o]&&(c+=bm_pow(d[o]-p[o],2)),p[o]=d[o];c&&(h+=c=bm_sqrt(c)),f.percents[i]=l,f.lengths[i]=h}return f.addedLength=h,f};function n(e){this.segmentLength=0,this.points=new Array(e)}function r(e,t){this.partialLength=e,this.point=t}var i,o=(i={},function(t,o,a,s){var l=(t[0]+"_"+t[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]+"_"+s[0]+"_"+s[1]).replace(/\./g,"p");if(!i[l]){var c,u,h,d,p,f,m,v=defaultCurveSegments,g=0,y=null;2===t.length&&(t[0]!=o[0]||t[1]!=o[1])&&e(t[0],t[1],o[0],o[1],t[0]+a[0],t[1]+a[1])&&e(t[0],t[1],o[0],o[1],o[0]+s[0],o[1]+s[1])&&(v=2);var _=new n(v);for(h=a.length,c=0;c<v;c+=1){for(m=createSizedArray(h),p=c/(v-1),f=0,u=0;u<h;u+=1)d=bm_pow(1-p,3)*t[u]+3*bm_pow(1-p,2)*p*(t[u]+a[u])+3*(1-p)*bm_pow(p,2)*(o[u]+s[u])+bm_pow(p,3)*o[u],m[u]=d,null!==y&&(f+=bm_pow(m[u]-y[u],2));g+=f=bm_sqrt(f),_.points[c]=new r(f,m),y=m}_.segmentLength=g,i[l]=_}return i[l]});function a(e,t){var n=t.percents,r=t.lengths,i=n.length,o=bm_floor((i-1)*e),a=e*t.addedLength,s=0;if(o===i-1||0===o||a===r[o])return n[o];for(var l=r[o]>a?-1:1,c=!0;c;)if(r[o]<=a&&r[o+1]>a?(s=(a-r[o])/(r[o+1]-r[o]),c=!1):o+=l,o<0||o>=i-1){if(o===i-1)return n[o];c=!1}return n[o]+(n[o+1]-n[o])*s}var s=createTypedArray("float32",8);return{getSegmentsLength:function(e){var n,r=segments_length_pool.newElement(),i=e.c,o=e.v,a=e.o,s=e.i,l=e._length,c=r.lengths,u=0;for(n=0;n<l-1;n+=1)c[n]=t(o[n],o[n+1],a[n],s[n+1]),u+=c[n].addedLength;return i&&l&&(c[n]=t(o[n],o[0],a[n],s[0]),u+=c[n].addedLength),r.totalLength=u,r},getNewSegment:function(e,t,n,r,i,o,l){var c,u=a(i=i<0?0:i>1?1:i,l),h=a(o=o>1?1:o,l),d=e.length,p=1-u,f=1-h,m=p*p*p,v=u*p*p*3,g=u*u*p*3,y=u*u*u,_=p*p*f,b=u*p*f+p*u*f+p*p*h,w=u*u*f+p*u*h+u*p*h,x=u*u*h,S=p*f*f,k=u*f*f+p*h*f+p*f*h,A=u*h*f+p*h*h+u*f*h,E=u*h*h,C=f*f*f,T=h*f*f+f*h*f+f*f*h,M=h*h*f+f*h*h+h*f*h,D=h*h*h;for(c=0;c<d;c+=1)s[4*c]=Math.round(1e3*(m*e[c]+v*n[c]+g*r[c]+y*t[c]))/1e3,s[4*c+1]=Math.round(1e3*(_*e[c]+b*n[c]+w*r[c]+x*t[c]))/1e3,s[4*c+2]=Math.round(1e3*(S*e[c]+k*n[c]+A*r[c]+E*t[c]))/1e3,s[4*c+3]=Math.round(1e3*(C*e[c]+T*n[c]+M*r[c]+D*t[c]))/1e3;return s},getPointInSegment:function(e,t,n,r,i,o){var s=a(i,o),l=1-s;return[Math.round(1e3*(l*l*l*e[0]+(s*l*l+l*s*l+l*l*s)*n[0]+(s*s*l+l*s*s+s*l*s)*r[0]+s*s*s*t[0]))/1e3,Math.round(1e3*(l*l*l*e[1]+(s*l*l+l*s*l+l*l*s)*n[1]+(s*s*l+l*s*s+s*l*s)*r[1]+s*s*s*t[1]))/1e3]},buildBezierData:o,pointOnLine2D:e,pointOnLine3D:function(t,n,r,i,o,a,s,l,c){if(0===r&&0===a&&0===c)return e(t,n,i,o,s,l);var u,h=Math.sqrt(Math.pow(i-t,2)+Math.pow(o-n,2)+Math.pow(a-r,2)),d=Math.sqrt(Math.pow(s-t,2)+Math.pow(l-n,2)+Math.pow(c-r,2)),p=Math.sqrt(Math.pow(s-i,2)+Math.pow(l-o,2)+Math.pow(c-a,2));return(u=h>d?h>p?h-d-p:p-d-h:p>d?p-d-h:d-h-p)>-1e-4&&u<1e-4}}}!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),o=setTimeout((function(){t(r+i)}),i);return e=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction();function dataFunctionManager(){function e(i,o,a){var s,l,c,h,d,p,f=i.length;for(l=0;l<f;l+=1)if("ks"in(s=i[l])&&!s.completed){if(s.completed=!0,s.tt&&(i[l-1].td=s.tt),[],-1,s.hasMask){var m=s.masksProperties;for(h=m.length,c=0;c<h;c+=1)if(m[c].pt.k.i)r(m[c].pt.k);else for(p=m[c].pt.k.length,d=0;d<p;d+=1)m[c].pt.k[d].s&&r(m[c].pt.k[d].s[0]),m[c].pt.k[d].e&&r(m[c].pt.k[d].e[0])}0===s.ty?(s.layers=t(s.refId,o),e(s.layers,o,a)):4===s.ty?n(s.shapes):5==s.ty&&u(s,a)}}function t(e,t){for(var n=0,r=t.length;n<r;){if(t[n].id===e)return t[n].layers.__used?JSON.parse(JSON.stringify(t[n].layers)):(t[n].layers.__used=!0,t[n].layers);n+=1}}function n(e){var t,i,o;for(t=e.length-1;t>=0;t-=1)if("sh"==e[t].ty){if(e[t].ks.k.i)r(e[t].ks.k);else for(o=e[t].ks.k.length,i=0;i<o;i+=1)e[t].ks.k[i].s&&r(e[t].ks.k[i].s[0]),e[t].ks.k[i].e&&r(e[t].ks.k[i].e[0]);!0}else"gr"==e[t].ty&&n(e[t].it)}function r(e){var t,n=e.i.length;for(t=0;t<n;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function i(e,t){var n=t?t.split("."):[100,100,100];return e[0]>n[0]||!(n[0]>e[0])&&(e[1]>n[1]||!(n[1]>e[1])&&(e[2]>n[2]||!(n[2]>e[2])&&void 0))}var o,a=function(){var e=[4,4,14];function t(e){var t,n,r,i=e.length;for(t=0;t<i;t+=1)5===e[t].ty&&(n=e[t],r=void 0,r=n.t.d,n.t.d={k:[{s:r,t:0}]})}return function(n){if(i(e,n.v)&&(t(n.layers),n.assets)){var r,o=n.assets.length;for(r=0;r<o;r+=1)n.assets[r].layers&&t(n.assets[r].layers)}}}(),s=(o=[4,7,99],function(e){if(e.chars&&!i(o,e.v)){var t,n,a,s,l,c=e.chars.length;for(t=0;t<c;t+=1)if(e.chars[t].data&&e.chars[t].data.shapes)for(a=(l=e.chars[t].data.shapes[0].it).length,n=0;n<a;n+=1)(s=l[n].ks.k).__converted||(r(l[n].ks.k),s.__converted=!0)}}),l=function(){var e=[4,1,9];function t(e){var n,r,i,o=e.length;for(n=0;n<o;n+=1)if("gr"===e[n].ty)t(e[n].it);else if("fl"===e[n].ty||"st"===e[n].ty)if(e[n].c.k&&e[n].c.k[0].i)for(i=e[n].c.k.length,r=0;r<i;r+=1)e[n].c.k[r].s&&(e[n].c.k[r].s[0]/=255,e[n].c.k[r].s[1]/=255,e[n].c.k[r].s[2]/=255,e[n].c.k[r].s[3]/=255),e[n].c.k[r].e&&(e[n].c.k[r].e[0]/=255,e[n].c.k[r].e[1]/=255,e[n].c.k[r].e[2]/=255,e[n].c.k[r].e[3]/=255);else e[n].c.k[0]/=255,e[n].c.k[1]/=255,e[n].c.k[2]/=255,e[n].c.k[3]/=255}function n(e){var n,r=e.length;for(n=0;n<r;n+=1)4===e[n].ty&&t(e[n].shapes)}return function(t){if(i(e,t.v)&&(n(t.layers),t.assets)){var r,o=t.assets.length;for(r=0;r<o;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}(),c=function(){var e=[4,4,18];function t(e){var n,r,i;for(n=e.length-1;n>=0;n-=1)if("sh"==e[n].ty){if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(i=e[n].ks.k.length,r=0;r<i;r+=1)e[n].ks.k[r].s&&(e[n].ks.k[r].s[0].c=e[n].closed),e[n].ks.k[r].e&&(e[n].ks.k[r].e[0].c=e[n].closed);!0}else"gr"==e[n].ty&&t(e[n].it)}function n(e){var n,r,i,o,a,s,l=e.length;for(r=0;r<l;r+=1){if((n=e[r]).hasMask){var c=n.masksProperties;for(o=c.length,i=0;i<o;i+=1)if(c[i].pt.k.i)c[i].pt.k.c=c[i].cl;else for(s=c[i].pt.k.length,a=0;a<s;a+=1)c[i].pt.k[a].s&&(c[i].pt.k[a].s[0].c=c[i].cl),c[i].pt.k[a].e&&(c[i].pt.k[a].e[0].c=c[i].cl)}4===n.ty&&t(n.shapes)}}return function(t){if(i(e,t.v)&&(n(t.layers),t.assets)){var r,o=t.assets.length;for(r=0;r<o;r+=1)t.assets[r].layers&&n(t.assets[r].layers)}}}();function u(e,t){0!==e.t.a.length||"m"in e.t.p||(e.singleShape=!0)}var h={completeData:function(t,n){t.__complete||(l(t),a(t),s(t),c(t),e(t.layers,t.assets,n),t.__complete=!0)}};return h.checkColors=l,h.checkChars=s,h.checkShapes=c,h.completeLayers=e,h}var dataManager=dataFunctionManager(),FontManager=function(){var e={w:0,size:0,shapes:[]},t=[];function n(e,t){var n=createTag("span");n.style.fontFamily=t;var r=createTag("span");r.innerHTML="giItT1WQy@!-/#",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.fontSize="300px",n.style.fontVariant="normal",n.style.fontStyle="normal",n.style.fontWeight="normal",n.style.letterSpacing="0",n.appendChild(r),document.body.appendChild(n);var i=r.offsetWidth;return r.style.fontFamily=e+", "+t,{node:r,w:i,parent:n}}function r(e,t){var n=createNS("text");return n.style.fontSize="100px",n.setAttribute("font-family",t.fFamily),n.setAttribute("font-style",t.fStyle),n.setAttribute("font-weight",t.fWeight),n.textContent="1",t.fClass?(n.style.fontFamily="inherit",n.setAttribute("class",t.fClass)):n.style.fontFamily=t.fFamily,e.appendChild(n),createTag("canvas").getContext("2d").font=t.fWeight+" "+t.fStyle+" 100px "+t.fFamily,n}t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var i=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()};return i.getCombinedCharacterCodes=function(){return t},i.prototype.addChars=function(e){if(e){this.chars||(this.chars=[]);var t,n,r,i=e.length,o=this.chars.length;for(t=0;t<i;t+=1){for(n=0,r=!1;n<o;)this.chars[n].style===e[t].style&&this.chars[n].fFamily===e[t].fFamily&&this.chars[n].ch===e[t].ch&&(r=!0),n+=1;r||(this.chars.push(e[t]),o+=1)}}},i.prototype.addFonts=function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);var i,o=e.list,a=o.length,s=a;for(i=0;i<a;i+=1){var l,c,u=!0;if(o[i].loaded=!1,o[i].monoCase=n(o[i].fFamily,"monospace"),o[i].sansCase=n(o[i].fFamily,"sans-serif"),o[i].fPath){if("p"===o[i].fOrigin||3===o[i].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[i].fFamily+'"], style[f-origin="3"][f-family="'+o[i].fFamily+'"]')).length>0&&(u=!1),u){var h=createTag("style");h.setAttribute("f-forigin",o[i].fOrigin),h.setAttribute("f-origin",o[i].origin),h.setAttribute("f-family",o[i].fFamily),h.type="text/css",h.innerHTML="@font-face {font-family: "+o[i].fFamily+"; font-style: normal; src: url('"+o[i].fPath+"');}",t.appendChild(h)}}else if("g"===o[i].fOrigin||1===o[i].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),c=0;c<l.length;c++)-1!==l[c].href.indexOf(o[i].fPath)&&(u=!1);if(u){var d=createTag("link");d.setAttribute("f-forigin",o[i].fOrigin),d.setAttribute("f-origin",o[i].origin),d.type="text/css",d.rel="stylesheet",d.href=o[i].fPath,document.body.appendChild(d)}}else if("t"===o[i].fOrigin||2===o[i].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),c=0;c<l.length;c++)o[i].fPath===l[c].src&&(u=!1);if(u){var p=createTag("link");p.setAttribute("f-forigin",o[i].fOrigin),p.setAttribute("f-origin",o[i].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",o[i].fPath),t.appendChild(p)}}}else o[i].loaded=!0,s-=1;o[i].helper=r(t,o[i]),o[i].cache={},this.fonts.push(o[i])}0===s?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},i.prototype.getCharData=function(t,n,r){for(var i=0,o=this.chars.length;i<o;){if(this.chars[i].ch===t&&this.chars[i].style===n&&this.chars[i].fFamily===r)return this.chars[i];i+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",t,n,r),e},i.prototype.getFontByName=function(e){for(var t=0,n=this.fonts.length;t<n;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},i.prototype.measureText=function(e,t,n){var r=this.getFontByName(t),i=e.charCodeAt(0);if(!r.cache[i+1]){var o=r.helper;if(" "===e){o.textContent="|"+e+"|";var a=o.getComputedTextLength();o.textContent="||";var s=o.getComputedTextLength();r.cache[i+1]=(a-s)/100}else o.textContent=e,r.cache[i+1]=o.getComputedTextLength()/100}return r.cache[i+1]*n},i.prototype.checkLoadedFonts=function(){var e,t,n,r=this.fonts.length,i=r;for(e=0;e<r;e+=1)this.fonts[e].loaded?i-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,n=this.fonts[e].monoCase.w,t.offsetWidth!==n?(i-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,n=this.fonts[e].sansCase.w,t.offsetWidth!==n&&(i-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==i&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},i.prototype.loaded=function(){return this.isLoaded},i}(),PropertyFactory=function(){var e=initialDefaultFrame,t=Math.abs;function n(e,t){var n,i=this.offsetTime;"multidimensional"===this.propType&&(n=createTypedArray("float32",this.pv.length));for(var o,a,s,l,c,u,h,d,p=t.lastIndex,f=p,m=this.keyframes.length-1,v=!0;v;){if(o=this.keyframes[f],a=this.keyframes[f+1],f===m-1&&e>=a.t-i){o.h&&(o=a),p=0;break}if(a.t-i>e){p=f;break}f<m-1?f+=1:(p=0,v=!1)}var g,y=a.t-i,_=o.t-i;if(o.to){o.bezierData||(o.bezierData=bez.buildBezierData(o.s,a.s||o.e,o.to,o.ti));var b=o.bezierData;if(e>=y||e<_){var w=e>=y?b.points.length-1:0;for(l=b.points[w].point.length,s=0;s<l;s+=1)n[s]=b.points[w].point[s]}else{o.__fnct?d=o.__fnct:(d=BezierFactory.getBezierEasing(o.o.x,o.o.y,o.i.x,o.i.y,o.n).get,o.__fnct=d),c=d((e-_)/(y-_));var x,S=b.segmentLength*c,k=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastAddedLength:0;for(h=t.lastFrame<e&&t._lastKeyframeIndex===f?t._lastPoint:0,v=!0,u=b.points.length;v;){if(k+=b.points[h].partialLength,0===S||0===c||h===b.points.length-1){for(l=b.points[h].point.length,s=0;s<l;s+=1)n[s]=b.points[h].point[s];break}if(S>=k&&S<k+b.points[h+1].partialLength){for(x=(S-k)/b.points[h+1].partialLength,l=b.points[h].point.length,s=0;s<l;s+=1)n[s]=b.points[h].point[s]+(b.points[h+1].point[s]-b.points[h].point[s])*x;break}h<u-1?h+=1:v=!1}t._lastPoint=h,t._lastAddedLength=k-b.points[h].partialLength,t._lastKeyframeIndex=f}}else{var A,E,C,T,M;if(m=o.s.length,g=a.s||o.e,this.sh&&1!==o.h)if(e>=y)n[0]=g[0],n[1]=g[1],n[2]=g[2];else if(e<=_)n[0]=o.s[0],n[1]=o.s[1],n[2]=o.s[2];else{!function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=Math.atan2(2*r*o-2*n*i,1-2*r*r-2*i*i),s=Math.asin(2*n*r+2*i*o),l=Math.atan2(2*n*o-2*r*i,1-2*n*n-2*i*i);e[0]=a/degToRads,e[1]=s/degToRads,e[2]=l/degToRads}(n,function(e,t,n){var r,i,o,a,s,l=[],c=e[0],u=e[1],h=e[2],d=e[3],p=t[0],f=t[1],m=t[2],v=t[3];(i=c*p+u*f+h*m+d*v)<0&&(i=-i,p=-p,f=-f,m=-m,v=-v);1-i>1e-6?(r=Math.acos(i),o=Math.sin(r),a=Math.sin((1-n)*r)/o,s=Math.sin(n*r)/o):(a=1-n,s=n);return l[0]=a*c+s*p,l[1]=a*u+s*f,l[2]=a*h+s*m,l[3]=a*d+s*v,l}(r(o.s),r(g),(e-_)/(y-_)))}else for(f=0;f<m;f+=1)1!==o.h&&(e>=y?c=1:e<_?c=0:(o.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[f]?d=o.__fnct[f]:(A=void 0===o.o.x[f]?o.o.x[0]:o.o.x[f],E=void 0===o.o.y[f]?o.o.y[0]:o.o.y[f],C=void 0===o.i.x[f]?o.i.x[0]:o.i.x[f],T=void 0===o.i.y[f]?o.i.y[0]:o.i.y[f],d=BezierFactory.getBezierEasing(A,E,C,T).get,o.__fnct[f]=d)):o.__fnct?d=o.__fnct:(A=o.o.x,E=o.o.y,C=o.i.x,T=o.i.y,d=BezierFactory.getBezierEasing(A,E,C,T).get,o.__fnct=d),c=d((e-_)/(y-_)))),g=a.s||o.e,M=1===o.h?o.s[f]:o.s[f]+(g[f]-o.s[f])*c,"multidimensional"===this.propType?n[f]=M:n=M}return t.lastIndex=p,n}function r(e){var t=e[0]*degToRads,n=e[1]*degToRads,r=e[2]*degToRads,i=Math.cos(t/2),o=Math.cos(n/2),a=Math.cos(r/2),s=Math.sin(t/2),l=Math.sin(n/2),c=Math.sin(r/2);return[s*l*a+i*o*c,s*o*a+i*l*c,i*l*a-s*o*c,i*o*a-s*l*c]}function i(){var t=this.comp.renderedFrame-this.offsetTime,n=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(t===this._caching.lastFrame||this._caching.lastFrame!==e&&(this._caching.lastFrame>=r&&t>=r||this._caching.lastFrame<n&&t<n))){this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(t,this._caching);this.pv=i}return this._caching.lastFrame=t,this.pv}function o(e){var n;if("unidimensional"===this.propType)n=e*this.mult,t(this.v-n)>1e-5&&(this.v=n,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)n=e[r]*this.mult,t(this.v[r]-n)>1e-5&&(this.v[r]=n,this._mdf=!0),r+=1}function a(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,n=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)n=this.effectsSequence[e](n);this.setVValue(n),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function s(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(e,t,n,r){this.propType="unidimensional",this.mult=n||1,this.data=t,this.v=n?t.k*n:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.addEffect=s}function c(e,t,n,r){this.propType="multidimensional",this.mult=n||1,this.data=t,this._mdf=!1,this.elem=e,this.container=r,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,l=t.k.length;this.v=createTypedArray("float32",l),this.pv=createTypedArray("float32",l);createTypedArray("float32",l);for(this.vel=createTypedArray("float32",l),i=0;i<l;i+=1)this.v[i]=t.k[i]*this.mult,this.pv[i]=t.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=a,this.setVValue=o,this.addEffect=s}function u(t,r,l,c){this.propType="unidimensional",this.keyframes=r.k,this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:e,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=r,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.v=e,this.pv=e,this._isFirstFrame=!0,this.getValue=a,this.setVValue=o,this.interpolateValue=n,this.effectsSequence=[i.bind(this)],this.addEffect=s}function h(t,r,l,c){this.propType="multidimensional";var u,h,d,p,f,m=r.k.length;for(u=0;u<m-1;u+=1)r.k[u].to&&r.k[u].s&&r.k[u+1]&&r.k[u+1].s&&(h=r.k[u].s,d=r.k[u+1].s,p=r.k[u].to,f=r.k[u].ti,(2===h.length&&(h[0]!==d[0]||h[1]!==d[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],h[0]+p[0],h[1]+p[1])&&bez.pointOnLine2D(h[0],h[1],d[0],d[1],d[0]+f[0],d[1]+f[1])||3===h.length&&(h[0]!==d[0]||h[1]!==d[1]||h[2]!==d[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],h[0]+p[0],h[1]+p[1],h[2]+p[2])&&bez.pointOnLine3D(h[0],h[1],h[2],d[0],d[1],d[2],d[0]+f[0],d[1]+f[1],d[2]+f[2]))&&(r.k[u].to=null,r.k[u].ti=null),h[0]===d[0]&&h[1]===d[1]&&0===p[0]&&0===p[1]&&0===f[0]&&0===f[1]&&(2===h.length||h[2]===d[2]&&0===p[2]&&0===f[2])&&(r.k[u].to=null,r.k[u].ti=null));this.effectsSequence=[i.bind(this)],this.keyframes=r.k,this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=l||1,this.elem=t,this.container=c,this.comp=t.comp,this.getValue=a,this.setVValue=o,this.interpolateValue=n,this.frameId=-1;var v=r.k[0].s.length;for(this.v=createTypedArray("float32",v),this.pv=createTypedArray("float32",v),u=0;u<v;u+=1)this.v[u]=e,this.pv[u]=e;this._caching={lastFrame:e,lastIndex:0,value:createTypedArray("float32",v)},this.addEffect=s}return{getProp:function(e,t,n,r,i){var o;if(t.k.length)if("number"==typeof t.k[0])o=new c(e,t,r,i);else switch(n){case 0:o=new u(e,t,r,i);break;case 1:o=new h(e,t,r,i)}else o=new l(e,t,r,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}}}(),TransformPropertyFactory=function(){var e=[0,0];function t(e,t,n){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(n||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var r,i=t.or.k.length;for(r=0;r<i;r+=1)t.or.k[r].to=t.or.k[r].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var n,r,i=this.elem.globalData.frameRate;if(this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(n=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/i,0),r=this.p.getValueAtTime(this.p.keyframes[0].t/i,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(n=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/i,0),r=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/i,0)):(n=this.p.pv,r=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/i,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){n=[],r=[];var o=this.px,a=this.py;o._caching.lastFrame+o.offsetTime<=o.keyframes[0].t?(n[0]=o.getValueAtTime((o.keyframes[0].t+.01)/i,0),n[1]=a.getValueAtTime((a.keyframes[0].t+.01)/i,0),r[0]=o.getValueAtTime(o.keyframes[0].t/i,0),r[1]=a.getValueAtTime(a.keyframes[0].t/i,0)):o._caching.lastFrame+o.offsetTime>=o.keyframes[o.keyframes.length-1].t?(n[0]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/i,0),n[1]=a.getValueAtTime(a.keyframes[a.keyframes.length-1].t/i,0),r[0]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/i,0),r[1]=a.getValueAtTime((a.keyframes[a.keyframes.length-1].t-.01)/i,0)):(n=[o.pv,a.pv],r[0]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/i,o.offsetTime),r[1]=a.getValueAtTime((a._caching.lastFrame+a.offsetTime-.01)/i,a.offsetTime))}else n=r=e;this.v.rotate(-Math.atan2(n[1]-r[1],n[0]-r[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,n,r){return new t(e,n,r)}}}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var n=0;n<t;)this.v[n]=point_pool.newElement(),this.o[n]=point_pool.newElement(),this.i[n]=point_pool.newElement(),n+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,n,r,i){var o;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o}(!o[r]||o[r]&&!i)&&(o[r]=point_pool.newElement()),o[r][0]=e,o[r][1]=t},ShapePath.prototype.setTripleAt=function(e,t,n,r,i,o,a,s){this.setXYAt(e,t,"v",a,s),this.setXYAt(n,r,"o",a,s),this.setXYAt(i,o,"i",a,s)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,n=this.o,r=this.i,i=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],r[0][0],r[0][1],n[0][0],n[0][1],0,!1),i=1);var o,a=this._length-1,s=this._length;for(o=i;o<s;o+=1)e.setTripleAt(t[a][0],t[a][1],r[a][0],r[a][1],n[a][0],n[a][1],o,!1),a-=1;return e};var ShapePropertyFactory=function(){function e(e,t,n){var r,i,o,a,s,l,c,u,h,d=n.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)r=p[0].s[0],o=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)r=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],o=!0;else{for(var f,m,v=d,g=p.length-1,y=!0;y&&(f=p[v],!((m=p[v+1]).t-this.offsetTime>e));)v<g-1?v+=1:y=!1;if(d=v,!(o=1===f.h)){if(e>=m.t-this.offsetTime)u=1;else if(e<f.t-this.offsetTime)u=0;else{var _;f.__fnct?_=f.__fnct:(_=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,f.__fnct=_),u=_((e-(f.t-this.offsetTime))/(m.t-this.offsetTime-(f.t-this.offsetTime)))}i=m.s?m.s[0]:f.e[0]}r=f.s[0]}for(l=t._length,c=r.i[0].length,n.lastIndex=d,a=0;a<l;a+=1)for(s=0;s<c;s+=1)h=o?r.i[a][s]:r.i[a][s]+(i.i[a][s]-r.i[a][s])*u,t.i[a][s]=h,h=o?r.o[a][s]:r.o[a][s]+(i.o[a][s]-r.o[a][s])*u,t.o[a][s]=h,h=o?r.v[a][s]:r.v[a][s]+(i.v[a][s]-r.v[a][s])*u,t.v[a][s]=h}function t(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return-999999!==r&&(r<t&&e<t||r>n&&e>n)||(this._caching.lastIndex=r<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}function n(){this.paths=this.localShapeCollection}function r(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var n,r=e._length;for(n=0;n<r;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return!1;return!0})(this.v,e)||(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;var e,t=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,n=this.effectsSequence.length;for(e=0;e<n;e+=1)t=this.effectsSequence[e](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var i=3===r?t.pt.k:t.ks.k;this.v=shape_pool.clone(i),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function s(e,r,i){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===i?r.pt.k:r.ks.k,this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length;this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=n,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[t.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=i,o.prototype.setVValue=r,o.prototype.addEffect=a,s.prototype.getValue=i,s.prototype.interpolateShape=e,s.prototype.setVValue=r,s.prototype.addEffect=a;var l=function(){var e=roundCorner;function t(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],n=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,o=3!==this.d,a=this.v;a.v[0][0]=t,a.v[0][1]=n-i,a.v[1][0]=o?t+r:t-r,a.v[1][1]=n,a.v[2][0]=t,a.v[2][1]=n+i,a.v[3][0]=o?t-r:t+r,a.v[3][1]=n,a.i[0][0]=o?t-r*e:t+r*e,a.i[0][1]=n-i,a.i[1][0]=o?t+r:t-r,a.i[1][1]=n-i*e,a.i[2][0]=o?t+r*e:t-r*e,a.i[2][1]=n+i,a.i[3][0]=o?t-r:t+r,a.i[3][1]=n+i*e,a.o[0][0]=o?t+r*e:t-r*e,a.o[0][1]=n-i,a.o[1][0]=o?t+r:t-r,a.o[1][1]=n+i*e,a.o[2][0]=o?t-r*e:t+r*e,a.o[2][1]=n+i,a.o[3][0]=o?t-r:t+r,a.o[3][1]=n-i*e}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,n,r,i=2*Math.floor(this.pt.v),o=2*Math.PI/i,a=!0,s=this.or.v,l=this.ir.v,c=this.os.v,u=this.is.v,h=2*Math.PI*s/(2*i),d=2*Math.PI*l/(2*i),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<i;e+=1){n=a?c:u,r=a?h:d;var m=(t=a?s:l)*Math.cos(p),v=t*Math.sin(p),g=0===m&&0===v?0:v/Math.sqrt(m*m+v*v),y=0===m&&0===v?0:-m/Math.sqrt(m*m+v*v);m+=+this.p.v[0],v+=+this.p.v[1],this.v.setTripleAt(m,v,m-g*r*n*f,v-y*r*n*f,m+g*r*n*f,v+y*r*n*f,e,!0),a=!a,p+=o*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),n=2*Math.PI/t,r=this.or.v,i=this.os.v,o=2*Math.PI*r/(4*t),a=-Math.PI/2,s=3===this.data.d?-1:1;for(a+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=r*Math.cos(a),c=r*Math.sin(a),u=0===l&&0===c?0:c/Math.sqrt(l*l+c*c),h=0===l&&0===c?0:-l/Math.sqrt(l*l+c*c);l+=+this.p.v[0],c+=+this.p.v[1],this.v.setTripleAt(l,c,l-u*o*i*s,c-h*o*i*s,l+u*o*i*s,c+h*o*i*s,e,!0),a+=n*s}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],n=this.s.v[0]/2,r=this.s.v[1]/2,i=bm_min(n,r,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+n,t-r+i,e+n,t-r+i,e+n,t-r+o,0,!0),this.v.setTripleAt(e+n,t+r-i,e+n,t+r-o,e+n,t+r-i,1,!0),0!==i?(this.v.setTripleAt(e+n-i,t+r,e+n-i,t+r,e+n-o,t+r,2,!0),this.v.setTripleAt(e-n+i,t+r,e-n+o,t+r,e-n+i,t+r,3,!0),this.v.setTripleAt(e-n,t+r-i,e-n,t+r-i,e-n,t+r-o,4,!0),this.v.setTripleAt(e-n,t-r+i,e-n,t-r+o,e-n,t-r+i,5,!0),this.v.setTripleAt(e-n+i,t-r,e-n+i,t-r,e-n+o,t-r,6,!0),this.v.setTripleAt(e+n-i,t-r,e+n-o,t-r,e+n-i,t-r,7,!0)):(this.v.setTripleAt(e-n,t+r,e-n+o,t+r,e-n,t+r,2),this.v.setTripleAt(e-n,t-r,e-n,t-r+o,e-n,t-r,3))):(this.v.setTripleAt(e+n,t-r+i,e+n,t-r+o,e+n,t-r+i,0,!0),0!==i?(this.v.setTripleAt(e+n-i,t-r,e+n-i,t-r,e+n-o,t-r,1,!0),this.v.setTripleAt(e-n+i,t-r,e-n+o,t-r,e-n+i,t-r,2,!0),this.v.setTripleAt(e-n,t-r+i,e-n,t-r+i,e-n,t-r+o,3,!0),this.v.setTripleAt(e-n,t+r-i,e-n,t+r-o,e-n,t+r-i,4,!0),this.v.setTripleAt(e-n+i,t+r,e-n+i,t+r,e-n+o,t+r,5,!0),this.v.setTripleAt(e+n-i,t+r,e+n-o,t+r,e+n-i,t+r,6,!0),this.v.setTripleAt(e+n,t+r-i,e+n,t+r-i,e+n,t+r-o,7,!0)):(this.v.setTripleAt(e-n,t-r,e-n+o,t-r,e-n,t-r,1,!0),this.v.setTripleAt(e-n,t+r,e-n,t+r-o,e-n,t+r,2,!0),this.v.setTripleAt(e+n,t+r,e+n-o,t+r,e+n,t+r,3,!0)))},getValue:function(e){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],e),e}();var h={getShapeProp:function(e,t,n){var r;return 3===n||4===n?r=(3===n?t.pt:t.ks).k.length?new s(e,t,n):new o(e,t,n):5===n?r=new u(e,t):6===n?r=new l(e,t):7===n&&(r=new c(e,t)),r.k&&e.addDynamicProperty(r),r},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return s}};return h}(),ShapeModifiers=function(){var e={},t={};return e.registerModifier=function(e,n){t[e]||(t[e]=n)},e.getModifier=function(e,n,r){return new t[e](n,r)},e}();function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,n,r){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);var i,o,a=t.length||0;for(i=0;i<a;i+=1)o=PropertyFactory.getProp(e,t[i].v,0,0,this),this.k=o.k||this.k,this.dataProps[i]={n:t[i].n,p:o};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,n){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var r=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,n,r,i){var o=[];t<=1?o.push({s:e,e:t}):e>=1?o.push({s:e-1,e:t-1}):(o.push({s:e,e:1}),o.push({s:0,e:t-1}));var a,s,l=[],c=o.length;for(a=0;a<c;a+=1){var u,h;if((s=o[a]).e*i<r||s.s*i>r+n);else u=s.s*i<=r?0:(s.s*i-r)/n,h=s.e*i>=r+n?1:(s.e*i-r)/n,l.push([u,h])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,n=e.length;for(t=0;t<n;t+=1)segments_length_pool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,n,r;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=(this.s.v>1?1:this.s.v<0?0:this.s.v)+i)>(n=(this.e.v>1?1:this.e.v<0?0:this.e.v)+i)){var o=t;t=n,n=o}t=1e-4*Math.round(1e4*t),n=1e-4*Math.round(1e4*n),this.sValue=t,this.eValue=n}else t=this.sValue,n=this.eValue;var a,s,l,c,u,h,d=this.shapes.length,p=0;if(n===t)for(a=0;a<d;a+=1)this.shapes[a].localShapeCollection.releaseShapes(),this.shapes[a].shape._mdf=!0,this.shapes[a].shape.paths=this.shapes[a].localShapeCollection;else if(1===n&&0===t||0===n&&1===t){if(this._mdf)for(a=0;a<d;a+=1)this.shapes[a].pathsData.length=0,this.shapes[a].shape._mdf=!0}else{var f,m,v=[];for(a=0;a<d;a+=1)if((f=this.shapes[a]).shape._mdf||this._mdf||e||2===this.m){if(l=(r=f.shape.paths)._length,h=0,!f.shape._mdf&&f.pathsData.length)h=f.totalShapeLength;else{for(c=this.releasePathsData(f.pathsData),s=0;s<l;s+=1)u=bez.getSegmentsLength(r.shapes[s]),c.push(u),h+=u.totalLength;f.totalShapeLength=h,f.pathsData=c}p+=h,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var g,y=t,_=n,b=0;for(a=d-1;a>=0;a-=1)if((f=this.shapes[a]).shape._mdf){for((m=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(g=this.calculateShapeEdges(t,n,f.totalShapeLength,b,p),b+=f.totalShapeLength):g=[[y,_]],l=g.length,s=0;s<l;s+=1){y=g[s][0],_=g[s][1],v.length=0,_<=1?v.push({s:f.totalShapeLength*y,e:f.totalShapeLength*_}):y>=1?v.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(_-1)}):(v.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),v.push({s:0,e:f.totalShapeLength*(_-1)}));var w=this.addShapes(f,v[0]);if(v[0].s!==v[0].e){if(v.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var x=w.pop();this.addPaths(w,m),w=this.addShapes(f,v[1],x)}else this.addPaths(w,m),w=this.addShapes(f,v[1]);this.addPaths(w,m)}}f.shape.paths=m}}},TrimModifier.prototype.addPaths=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,n,r,i,o,a){i.setXYAt(t[0],t[1],"o",o),i.setXYAt(n[0],n[1],"i",o+1),a&&i.setXYAt(e[0],e[1],"v",o),i.setXYAt(r[0],r[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,n,r){t.setXYAt(e[1],e[5],"o",n),t.setXYAt(e[2],e[6],"i",n+1),r&&t.setXYAt(e[0],e[4],"v",n),t.setXYAt(e[3],e[7],"v",n+1)},TrimModifier.prototype.addShapes=function(e,t,n){var r,i,o,a,s,l,c,u,h=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,m=[],v=!0;for(n?(s=n._length,u=n._length):(n=shape_pool.newElement(),s=0,u=0),m.push(n),r=0;r<p;r+=1){for(l=h[r].lengths,n.c=d[r].c,o=d[r].c?l.length:l.length+1,i=1;i<o;i+=1)if(f+(a=l[i-1]).addedLength<t.s)f+=a.addedLength,n.c=!1;else{if(f>t.e){n.c=!1;break}t.s<=f&&t.e>=f+a.addedLength?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[i],d[r].v[i],n,s,v),v=!1):(c=bez.getNewSegment(d[r].v[i-1],d[r].v[i],d[r].o[i-1],d[r].i[i],(t.s-f)/a.addedLength,(t.e-f)/a.addedLength,l[i-1]),this.addSegmentFromArray(c,n,s,v),v=!1,n.c=!1),f+=a.addedLength,s+=1}if(d[r].c&&l.length){if(a=l[i-1],f<=t.e){var g=l[i-1].addedLength;t.s<=f&&t.e>=f+g?(this.addSegment(d[r].v[i-1],d[r].o[i-1],d[r].i[0],d[r].v[0],n,s,v),v=!1):(c=bez.getNewSegment(d[r].v[i-1],d[r].v[0],d[r].o[i-1],d[r].i[0],(t.s-f)/g,(t.e-f)/g,l[i-1]),this.addSegmentFromArray(c,n,s,v),v=!1,n.c=!1)}else n.c=!1;f+=a.addedLength,s+=1}if(n._length&&(n.setXYAt(n.v[u][0],n.v[u][1],"i",u),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),f>t.e)break;r<p-1&&(n=shape_pool.newElement(),v=!0,m.push(n),s=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var n=shape_pool.newElement();n.c=e.c;var r,i,o,a,s,l,c,u,h,d,p,f,m,v=e._length,g=0;for(r=0;r<v;r+=1)i=e.v[r],a=e.o[r],o=e.i[r],i[0]===a[0]&&i[1]===a[1]&&i[0]===o[0]&&i[1]===o[1]?0!==r&&r!==v-1||e.c?(s=0===r?e.v[v-1]:e.v[r-1],c=(l=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(l/2,t)/l:0,u=f=i[0]+(s[0]-i[0])*c,h=m=i[1]-(i[1]-s[1])*c,d=u-(u-i[0])*roundCorner,p=h-(h-i[1])*roundCorner,n.setTripleAt(u,h,d,p,f,m,g),g+=1,s=r===v-1?e.v[0]:e.v[r+1],c=(l=Math.sqrt(Math.pow(i[0]-s[0],2)+Math.pow(i[1]-s[1],2)))?Math.min(l/2,t)/l:0,u=d=i[0]+(s[0]-i[0])*c,h=p=i[1]+(s[1]-i[1])*c,f=u-(u-i[0])*roundCorner,m=h-(h-i[1])*roundCorner,n.setTripleAt(u,h,d,p,f,m,g),g+=1):(n.setTripleAt(i[0],i[1],a[0],a[1],o[0],o[1],g),g+=1):(n.setTripleAt(e.v[r][0],e.v[r][1],e.o[r][0],e.o[r][1],e.i[r][0],e.i[r][1],g),g+=1);return n},RoundCornersModifier.prototype.processShapes=function(e){var t,n,r,i,o,a,s=this.shapes.length,l=this.rd.v;if(0!==l)for(n=0;n<s;n+=1){if((o=this.shapes[n]).shape.paths,a=o.localShapeCollection,o.shape._mdf||this._mdf||e)for(a.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,i=o.shape.paths._length,r=0;r<i;r+=1)a.addShape(this.processPath(t[r],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,n,r,i,o){var a=o?-1:1,s=r.s.v[0]+(1-r.s.v[0])*(1-i),l=r.s.v[1]+(1-r.s.v[1])*(1-i);e.translate(r.p.v[0]*a*i,r.p.v[1]*a*i,r.p.v[2]),t.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),t.rotate(-r.r.v*a*i),t.translate(r.a.v[0],r.a.v[1],r.a.v[2]),n.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),n.scale(o?1/s:s,o?1/l:l),n.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(e,t,n,r){this.elem=e,this.arr=t,this.pos=n,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[n]);for(;n>0;)n-=1,this._elements.unshift(t[n]),1;this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){e.length;var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,n,r,i,o;if(this._mdf||e){var a,s=Math.ceil(this.c.v);if(this._groups.length<s){for(;this._groups.length<s;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes()}for(o=0,r=0;r<=this._groups.length-1;r+=1)a=o<s,this._groups[r]._render=a,this.changeGroupRender(this._groups[r].it,a),o+=1;this._currentCopies=s;var c=this.o.v,u=c%1,h=c>0?Math.floor(c):Math.ceil(c),d=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,f=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,v,g=0;if(c>0){for(;g<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),g+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),g+=u)}else if(c<0){for(;g>h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),g-=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),g-=u)}for(r=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(v=(n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==g){for((0!==r&&1===i||r!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),m=0;m<v;m+=1)n[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<v;m+=1)n[m]=this.matrix.props[m];g+=1,o-=1,r+=i}}else for(o=this._currentCopies,r=0,i=1;o;)n=(t=this.elemsData[r].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,o-=1,r+=i},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,n=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<n;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var n=0,r=this.o.length/2;n<r;){if(Math.abs(e[4*n]-e[4*t+2*n])>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,n,r,i=4*this.data.p;for(t=0;t<i;t+=1)n=t%4==0?100:255,r=Math.round(this.prop.v[t]*n),this.c[t]!==r&&(this.c[t]=r,this._cmdf=!e);if(this.o.length)for(i=this.prop.v.length,t=4*this.data.p;t<i;t+=1)n=t%2==0?100:1,r=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==r&&(this.o[t-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,n,r){if(0===t)return"";var i,o=e.o,a=e.i,s=e.v,l=" M"+r.applyToPointStringified(s[0][0],s[0][1]);for(i=1;i<t;i+=1)l+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(a[i][0],a[i][1])+" "+r.applyToPointStringified(s[i][0],s[i][1]);return n&&t&&(l+=" C"+r.applyToPointStringified(o[i-1][0],o[i-1][1])+" "+r.applyToPointStringified(a[0][0],a[0][1])+" "+r.applyToPointStringified(s[0][0],s[0][1]),l+="z"),l},ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(t){var n=function(e,t,n){var r="";if(e.e)r=e.p;else if(t){var i=e.p;-1!==i.indexOf("images/")&&(i=i.split("/")[1]),r=t+i}else r=n,r+=e.u?e.u:"",r+=e.p;return r}(t,this.assetsPath,this.path),r=createTag("img");r.crossOrigin="anonymous",r.addEventListener("load",this._imageLoaded.bind(this),!1),r.addEventListener("error",function(){i.img=e,this._imageLoaded()}.bind(this),!1),r.src=n;var i={img:r,assetData:t};return i}function r(e,t){this.imagesLoadedCb=t;var n,r=e.length;for(n=0;n<r;n+=1)e[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(e[n])))}function i(e){this.path=e||""}function o(e){this.assetsPath=e||""}function a(e){for(var t=0,n=this.images.length;t<n;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}}function s(){this.imagesLoadedCb=null,this.images.length=0}function l(){return this.totalImages===this.loadedAssets}return function(){this.loadAssets=r,this.setAssetsPath=o,this.setPath=i,this.loaded=l,this.destroy=s,this.getImage=a,this._createImageData=n,this._imageLoaded=t,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}}(),featureSupport=function(){var e={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),e}(),filtersFactory=function(){var e={};return e.createFilter=function(e){var t=createNS("filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t},e.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},e}(),assetLoader=function(){function e(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):void 0}return{load:function(t,n,r){var i,o=new XMLHttpRequest;o.open("GET",t,!0);try{o.responseType="json"}catch(e){}o.send(),o.onreadystatechange=function(){if(4==o.readyState)if(200==o.status)i=e(o),n(i);else try{i=e(o),n(i)}catch(e){r&&r(e)}}}}}();function TextAnimatorProperty(e,t,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}function TextAnimatorDataProperty(e,t,n){var r={propType:!1},i=PropertyFactory.getProp,o=t.a;this.a={r:o.r?i(e,o.r,0,degToRads,n):r,rx:o.rx?i(e,o.rx,0,degToRads,n):r,ry:o.ry?i(e,o.ry,0,degToRads,n):r,sk:o.sk?i(e,o.sk,0,degToRads,n):r,sa:o.sa?i(e,o.sa,0,degToRads,n):r,s:o.s?i(e,o.s,1,.01,n):r,a:o.a?i(e,o.a,1,0,n):r,o:o.o?i(e,o.o,0,.01,n):r,p:o.p?i(e,o.p,1,0,n):r,sw:o.sw?i(e,o.sw,0,0,n):r,sc:o.sc?i(e,o.sc,1,0,n):r,fc:o.fc?i(e,o.fc,1,0,n):r,fh:o.fh?i(e,o.fh,0,0,n):r,fs:o.fs?i(e,o.fs,0,.01,n):r,fb:o.fb?i(e,o.fb,0,.01,n):r,t:o.t?i(e,o.t,0,0,n):r},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,n),this.s.t=t.s.t}function LetterProps(e,t,n,r,i,o){this.o=e,this.sw=t,this.sc=n,this.fc=r,this.m=i,this.p=o,this._mdf={o:!0,sw:!!t,sc:!!n,fc:!!r,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,n=this._textData.a.length,r=PropertyFactory.getProp;for(e=0;e<n;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var n,r,i,o,a,s,l,c,u,h,d,p,f,m,v,g,y,_,b,w=this._moreOptions.alignment.v,x=this._animatorsData,S=this._textData,k=this.mHelper,A=this._renderType,E=this.renderedLetters.length,C=(this.data,e.l);if(this._hasMaskedPath){if(b=this._pathData.m,!this._pathData.n||this._pathData._mdf){var T,M=b.v;for(this._pathData.r&&(M=M.reverse()),a={tLength:0,segments:[]},o=M._length-1,g=0,i=0;i<o;i+=1)T=bez.buildBezierData(M.v[i],M.v[i+1],[M.o[i][0]-M.v[i][0],M.o[i][1]-M.v[i][1]],[M.i[i+1][0]-M.v[i+1][0],M.i[i+1][1]-M.v[i+1][1]]),a.tLength+=T.segmentLength,a.segments.push(T),g+=T.segmentLength;i=o,b.v.c&&(T=bez.buildBezierData(M.v[i],M.v[0],[M.o[i][0]-M.v[i][0],M.o[i][1]-M.v[i][1]],[M.i[0][0]-M.v[0][0],M.i[0][1]-M.v[0][1]]),a.tLength+=T.segmentLength,a.segments.push(T),g+=T.segmentLength),this._pathData.pi=a}if(a=this._pathData.pi,s=this._pathData.f.v,d=0,h=1,c=0,u=!0,m=a.segments,s<0&&b.v.c)for(a.tLength<Math.abs(s)&&(s=-Math.abs(s)%a.tLength),h=(f=m[d=m.length-1].points).length-1;s<0;)s+=f[h].partialLength,(h-=1)<0&&(h=(f=m[d-=1].points).length-1);p=(f=m[d].points)[h-1],v=(l=f[h]).partialLength}o=C.length,n=0,r=0;var D,L,P,R,I=1.2*e.finalSize*.714,O=!0;P=x.length;var F,B,N,j,z,V,U,H,G,q,W,Y,X,Q=-1,K=s,J=d,Z=h,$=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var ne=0,re=0,ie=2===e.j?-.5:-1,oe=0,ae=!0;for(i=0;i<o;i+=1)if(C[i].n){for(ne&&(ne+=re);oe<i;)C[oe].animatorJustifyOffset=ne,oe+=1;ne=0,ae=!0}else{for(L=0;L<P;L+=1)(D=x[L].a).t.propType&&(ae&&2===e.j&&(re+=D.t.v*ie),(F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars)).length?ne+=D.t.v*F[0]*ie:ne+=D.t.v*F*ie);ae=!1}for(ne&&(ne+=re);oe<i;)C[oe].animatorJustifyOffset=ne,oe+=1}for(i=0;i<o;i+=1){if(k.reset(),z=1,C[i].n)n=0,r+=e.yOffset,r+=O?1:0,s=K,O=!1,0,this._hasMaskedPath&&(h=Z,p=(f=m[d=J].points)[h-1],v=(l=f[h]).partialLength,c=0),X=q=Y=ee="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if($!==C[i].line){switch(e.j){case 1:s+=g-e.lineWidths[C[i].line];break;case 2:s+=(g-e.lineWidths[C[i].line])/2}$=C[i].line}Q!==C[i].ind&&(C[Q]&&(s+=C[Q].extra),s+=C[i].an/2,Q=C[i].ind),s+=w[0]*C[i].an/200;var se=0;for(L=0;L<P;L+=1)(D=x[L].a).p.propType&&((F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars)).length?se+=D.p.v[0]*F[0]:se+=D.p.v[0]*F),D.a.propType&&((F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars)).length?se+=D.a.v[0]*F[0]:se+=D.a.v[0]*F);for(u=!0;u;)c+v>=s+se||!f?(y=(s+se-c)/l.partialLength,N=p.point[0]+(l.point[0]-p.point[0])*y,j=p.point[1]+(l.point[1]-p.point[1])*y,k.translate(-w[0]*C[i].an/200,-w[1]*I/100),u=!1):f&&(c+=l.partialLength,(h+=1)>=f.length&&(h=0,m[d+=1]?f=m[d].points:b.v.c?(h=0,f=m[d=0].points):(c-=l.partialLength,f=null)),f&&(p=l,v=(l=f[h]).partialLength));B=C[i].an/2-C[i].add,k.translate(-B,0,0)}else B=C[i].an/2-C[i].add,k.translate(-B,0,0),k.translate(-w[0]*C[i].an/200,-w[1]*I/100,0);for(C[i].l/2,L=0;L<P;L+=1)(D=x[L].a).t.propType&&(F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars),0===n&&0===e.j||(this._hasMaskedPath?F.length?s+=D.t.v*F[0]:s+=D.t.v*F:F.length?n+=D.t.v*F[0]:n+=D.t.v*F));for(C[i].l/2,e.strokeWidthAnim&&(U=e.sw||0),e.strokeColorAnim&&(V=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(H=[e.fc[0],e.fc[1],e.fc[2]]),L=0;L<P;L+=1)(D=x[L].a).a.propType&&((F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars)).length?k.translate(-D.a.v[0]*F[0],-D.a.v[1]*F[1],D.a.v[2]*F[2]):k.translate(-D.a.v[0]*F,-D.a.v[1]*F,D.a.v[2]*F));for(L=0;L<P;L+=1)(D=x[L].a).s.propType&&((F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars)).length?k.scale(1+(D.s.v[0]-1)*F[0],1+(D.s.v[1]-1)*F[1],1):k.scale(1+(D.s.v[0]-1)*F,1+(D.s.v[1]-1)*F,1));for(L=0;L<P;L+=1){if(D=x[L].a,F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars),D.sk.propType&&(F.length?k.skewFromAxis(-D.sk.v*F[0],D.sa.v*F[1]):k.skewFromAxis(-D.sk.v*F,D.sa.v*F)),D.r.propType&&(F.length?k.rotateZ(-D.r.v*F[2]):k.rotateZ(-D.r.v*F)),D.ry.propType&&(F.length?k.rotateY(D.ry.v*F[1]):k.rotateY(D.ry.v*F)),D.rx.propType&&(F.length?k.rotateX(D.rx.v*F[0]):k.rotateX(D.rx.v*F)),D.o.propType&&(F.length?z+=(D.o.v*F[0]-z)*F[0]:z+=(D.o.v*F-z)*F),e.strokeWidthAnim&&D.sw.propType&&(F.length?U+=D.sw.v*F[0]:U+=D.sw.v*F),e.strokeColorAnim&&D.sc.propType)for(G=0;G<3;G+=1)F.length?V[G]=V[G]+(D.sc.v[G]-V[G])*F[0]:V[G]=V[G]+(D.sc.v[G]-V[G])*F;if(e.fillColorAnim&&e.fc){if(D.fc.propType)for(G=0;G<3;G+=1)F.length?H[G]=H[G]+(D.fc.v[G]-H[G])*F[0]:H[G]=H[G]+(D.fc.v[G]-H[G])*F;D.fh.propType&&(H=F.length?addHueToRGB(H,D.fh.v*F[0]):addHueToRGB(H,D.fh.v*F)),D.fs.propType&&(H=F.length?addSaturationToRGB(H,D.fs.v*F[0]):addSaturationToRGB(H,D.fs.v*F)),D.fb.propType&&(H=F.length?addBrightnessToRGB(H,D.fb.v*F[0]):addBrightnessToRGB(H,D.fb.v*F))}}for(L=0;L<P;L+=1)(D=x[L].a).p.propType&&(F=x[L].s.getMult(C[i].anIndexes[L],S.a[L].s.totalChars),this._hasMaskedPath?F.length?k.translate(0,D.p.v[1]*F[0],-D.p.v[2]*F[1]):k.translate(0,D.p.v[1]*F,-D.p.v[2]*F):F.length?k.translate(D.p.v[0]*F[0],D.p.v[1]*F[1],-D.p.v[2]*F[2]):k.translate(D.p.v[0]*F,D.p.v[1]*F,-D.p.v[2]*F));if(e.strokeWidthAnim&&(q=U<0?0:U),e.strokeColorAnim&&(W="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),e.fillColorAnim&&e.fc&&(Y="rgb("+Math.round(255*H[0])+","+Math.round(255*H[1])+","+Math.round(255*H[2])+")"),this._hasMaskedPath){if(k.translate(0,-e.ls),k.translate(0,w[1]*I/100+r,0),S.p.p){_=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(_)/Math.PI;l.point[0]<p.point[0]&&(le+=180),k.rotate(-le*Math.PI/180)}k.translate(N,j,0),s-=w[0]*C[i].an/200,C[i+1]&&Q!==C[i+1].ind&&(s+=C[i].an/2,s+=e.tr/1e3*e.finalSize)}else{switch(k.translate(n,r,0),e.ps&&k.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:k.translate(C[i].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[i].line]),0,0);break;case 2:k.translate(C[i].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[C[i].line])/2,0,0)}k.translate(0,-e.ls),k.translate(B,0,0),k.translate(w[0]*C[i].an/200,w[1]*I/100,0),n+=C[i].l+e.tr/1e3*e.finalSize}"html"===A?ee=k.toCSS():"svg"===A?ee=k.to2dCSS():te=[k.props[0],k.props[1],k.props[2],k.props[3],k.props[4],k.props[5],k.props[6],k.props[7],k.props[8],k.props[9],k.props[10],k.props[11],k.props[12],k.props[13],k.props[14],k.props[15]],X=z}E<=i?(R=new LetterProps(X,q,W,Y,ee,te),this.renderedLetters.push(R),E+=1,this.lettersChangedFlag=!0):(R=this.renderedLetters[i],this.lettersChangedFlag=R.update(X,q,W,Y,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,n,r,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var a=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,a=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,a=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,a=!0),this.fc!==r&&(this.fc=r,this._mdf.fc=!0,a=!0),this.m!==i&&(this.m=i,this._mdf.m=!0,a=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,this._mdf.p=!0,a=!0),a},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,n=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;var r,i=this.effectsSequence.length,o=e||this.data.d.k[this.keysIndex].s;for(r=0;r<i;r+=1)o=n!==this.keysIndex?this.effectsSequence[r](o,o.t):this.effectsSequence[r](this.currentData,o.t);t!==o&&this.setCurrentData(o),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,n=0,r=e.length;n<=r-1&&(e[n].s,!(n===r-1||e[n+1].t>t));)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,n=FontManager.getCombinedCharacterCodes(),r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i),-1!==n.indexOf(t)?r[r.length-1]+=e.charAt(i):t>=55296&&t<=56319&&(t=e.charCodeAt(i+1))>=56320&&t<=57343?(r.push(e.substr(i,2)),++i):r.push(e.charAt(i)),i+=1;return r},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,n,r,i,o,a,s,l=this.elem.globalData.fontManager,c=this.data,u=[],h=0,d=c.m.g,p=0,f=0,m=0,v=[],g=0,y=0,_=l.getFontByName(e.f),b=0,w=_.fStyle?_.fStyle.split(" "):[],x="normal",S="normal";for(n=w.length,t=0;t<n;t+=1)switch(w[t].toLowerCase()){case"italic":S="italic";break;case"bold":x="700";break;case"black":x="900";break;case"medium":x="500";break;case"regular":case"normal":x="400";break;case"light":case"thin":x="200"}e.fWeight=_.fWeight||x,e.fStyle=S,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),n=e.finalText.length,e.finalLineHeight=e.lh;var k,A=e.tr/1e3*e.finalSize;if(e.sz)for(var E,C,T=!0,M=e.sz[0],D=e.sz[1];T;){E=0,g=0,n=(C=this.buildFinalText(e.t)).length,A=e.tr/1e3*e.finalSize;var L=-1;for(t=0;t<n;t+=1)k=C[t].charCodeAt(0),r=!1," "===C[t]?L=t:13!==k&&3!==k||(g=0,r=!0,E+=e.finalLineHeight||1.2*e.finalSize),l.chars?(s=l.getCharData(C[t],_.fStyle,_.fFamily),b=r?0:s.w*e.finalSize/100):b=l.measureText(C[t],e.f,e.finalSize),g+b>M&&" "!==C[t]?(-1===L?n+=1:t=L,E+=e.finalLineHeight||1.2*e.finalSize,C.splice(t,L===t?1:0,"\r"),L=-1,g=0):(g+=b,g+=A);E+=_.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&D<E?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=C,n=e.finalText.length,T=!1)}g=-A,b=0;var P,R=0;for(t=0;t<n;t+=1)if(r=!1,k=(P=e.finalText[t]).charCodeAt(0)," "===P?i="":13===k||3===k?(R=0,v.push(g),y=g>y?g:y,g=-2*A,i="",r=!0,m+=1):i=e.finalText[t],l.chars?(s=l.getCharData(P,_.fStyle,l.getFontByName(e.f).fFamily),b=r?0:s.w*e.finalSize/100):b=l.measureText(i,e.f,e.finalSize)," "===P?R+=b+A:(g+=b+A+R,R=0),u.push({l:b,an:b,add:p,n:r,anIndexes:[],val:i,line:m,animatorJustifyOffset:0}),2==d){if(p+=b,""===i||""===i||t===n-1){for(""!==i&&""!==i||(p-=b);f<=t;)u[f].an=p,u[f].ind=h,u[f].extra=b,f+=1;h+=1,p=0}}else if(3==d){if(p+=b,""===i||t===n-1){for(""===i&&(p-=b);f<=t;)u[f].an=p,u[f].ind=h,u[f].extra=b,f+=1;p=0,h+=1}}else u[h].ind=h,u[h].extra=0,h+=1;if(e.l=u,y=g>y?g:y,v.push(g),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=v;var I,O,F=c.a;a=F.length;var B,N,j=[];for(o=0;o<a;o+=1){for((I=F[o]).a.sc&&(e.strokeColorAnim=!0),I.a.sw&&(e.strokeWidthAnim=!0),(I.a.fc||I.a.fh||I.a.fs||I.a.fb)&&(e.fillColorAnim=!0),N=0,B=I.s.b,t=0;t<n;t+=1)(O=u[t]).anIndexes[o]=N,(1==B&&""!==O.val||2==B&&""!==O.val&&""!==O.val||3==B&&(O.n||""==O.val||t==n-1)||4==B&&(O.n||t==n-1))&&(1===I.s.rn&&j.push(N),N+=1);c.a[o].s.totalChars=N;var z,V=-1;if(1===I.s.rn)for(t=0;t<n;t+=1)V!=(O=u[t]).anIndexes[o]&&(V=O.anIndexes[o],z=j.splice(Math.floor(Math.random()*j.length),1)[0]),O.anIndexes[o]=z}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=_.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var n=this.copyData({},this.data.d.k[t].s);n=this.copyData(n,e),this.data.d.k[t].s=n,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,n=Math.floor;function r(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return r.prototype={getMult:function(r){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var i=0,o=0,a=1,s=1;this.ne.v>0?i=this.ne.v/100:o=-this.ne.v/100,this.xe.v>0?a=1-this.xe.v/100:s=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(i,o,a,s).get,c=0,u=this.finalS,h=this.finalE,d=this.data.sh;if(2===d)c=l(c=h===u?r>=h?1:0:e(0,t(.5/(h-u)+(r-u)/(h-u),1)));else if(3===d)c=l(c=h===u?r>=h?0:1:1-e(0,t(.5/(h-u)+(r-u)/(h-u),1)));else if(4===d)h===u?c=0:(c=e(0,t(.5/(h-u)+(r-u)/(h-u),1)))<.5?c*=2:c=1-2*(c-.5),c=l(c);else if(5===d){if(h===u)c=0;else{var p=h-u,f=-p/2+(r=t(e(0,r+.5-u),h-u)),m=p/2;c=Math.sqrt(1-f*f/(m*m))}c=l(c)}else 6===d?(h===u?c=0:(r=t(e(0,r+.5-u),h-u),c=(1+Math.cos(Math.PI+2*Math.PI*r/(h-u)))/2),c=l(c)):(r>=n(u)&&(c=e(0,t(r-u<0?t(h,1)-(u-r):h-r,1))),c=l(c));return c*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/t,r=this.s.v/t+n,i=this.e.v/t+n;if(r>i){var o=r;r=i,i=o}this.finalS=r,this.finalE=i}},extendPrototype([DynamicPropertyContainer],r),{getTextSelectorProp:function(e,t,n){return new r(e,t,n)}}}(),pool_factory=function(e,t,n,r){var i=0,o=e,a=createSizedArray(o);function s(){return i?a[i-=1]:t()}return{newElement:s,release:function(e){i===o&&(a=pooling.double(a),o*=2),n&&n(e),a[i]=e,i+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},point_pool=pool_factory(8,(function(){return createTypedArray("float32",2)})),shape_pool=(factory=pool_factory(4,(function(){return new ShapePath}),(function(e){var t,n=e._length;for(t=0;t<n;t+=1)point_pool.release(e.v[t]),point_pool.release(e.i[t]),point_pool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),factory.clone=function(e){var t,n=factory.newElement(),r=void 0===e._length?e.v.length:e._length;for(n.setLength(r),n.c=e.c,t=0;t<r;t+=1)n.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return n},factory),factory,shapeCollection_pool=function(){var e={newShapeCollection:function(){var e;e=t?r[t-=1]:new ShapeCollection;return e},release:function(e){var i,o=e._length;for(i=0;i<o;i+=1)shape_pool.release(e.shapes[i]);e._length=0,t===n&&(r=pooling.double(r),n*=2);r[t]=e,t+=1}},t=0,n=4,r=createSizedArray(n);return e}(),segments_length_pool=pool_factory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,n=e.lengths.length;for(t=0;t<n;t+=1)bezier_length_pool.release(e.lengths[t]);e.lengths.length=0})),bezier_length_pool=pool_factory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}));function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(t&&t.title){var r=createNS("title"),i=createElementID();r.setAttribute("id",i),r.textContent=t.title,this.svgElement.appendChild(r),n+=i}if(t&&t.description){var o=createNS("desc"),a=createElementID();o.setAttribute("id",a),o.textContent=t.description,this.svgElement.appendChild(o),n+=" "+a}n&&this.svgElement.setAttribute("aria-labelledby",n);var s=createNS("defs");this.svgElement.appendChild(s);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable},this.globalData={_mdf:!1,frameNum:-1,defs:s,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!t||!1!==t.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,n){this.data=e,this.element=t,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,i=this.globalData.defs,o=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(o),this.solidPath="";var a,s,l,c,u,h,d,p=this.masksProperties,f=0,m=[],v=createElementID(),g="clipPath",y="clip-path";for(r=0;r<o;r++)if(("a"!==p[r].mode&&"n"!==p[r].mode||p[r].inv||100!==p[r].o.k||p[r].o.x)&&(g="mask",y="mask"),"s"!=p[r].mode&&"i"!=p[r].mode||0!==f?c=null:((c=createNS("rect")).setAttribute("fill","#ffffff"),c.setAttribute("width",this.element.comp.data.w||0),c.setAttribute("height",this.element.comp.data.h||0),m.push(c)),a=createNS("path"),"n"!=p[r].mode){var _;if(f+=1,a.setAttribute("fill","s"===p[r].mode?"#000000":"#ffffff"),a.setAttribute("clip-rule","nonzero"),0!==p[r].x.k?(g="mask",y="mask",d=PropertyFactory.getProp(this.element,p[r].x,0,null,this.element),_=createElementID(),(u=createNS("filter")).setAttribute("id",_),(h=createNS("feMorphology")).setAttribute("operator","erode"),h.setAttribute("in","SourceGraphic"),h.setAttribute("radius","0"),u.appendChild(h),i.appendChild(u),a.setAttribute("stroke","s"===p[r].mode?"#000000":"#ffffff")):(h=null,d=null),this.storedData[r]={elem:a,x:d,expan:h,lastPath:"",lastOperator:"",filterId:_,lastRadius:0},"i"==p[r].mode){l=m.length;var b=createNS("g");for(s=0;s<l;s+=1)b.appendChild(m[s]);var w=createNS("mask");w.setAttribute("mask-type","alpha"),w.setAttribute("id",v+"_"+f),w.appendChild(a),i.appendChild(w),b.setAttribute("mask","url("+locationHref+"#"+v+"_"+f+")"),m.length=0,m.push(b)}else m.push(a);p[r].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[r]={elem:a,lastPath:"",op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),invRect:c},this.viewData[r].prop.k||this.drawPath(p[r],this.viewData[r].prop.v,this.viewData[r])}else this.viewData[r]={op:PropertyFactory.getProp(this.element,p[r].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[r],3),elem:a,lastPath:""},i.appendChild(a);for(this.maskElement=createNS(g),o=m.length,r=0;r<o;r+=1)this.maskElement.appendChild(m[r]);f>0&&(this.maskElement.setAttribute("id",v),this.element.maskedElement.setAttribute(y,"url("+locationHref+"#"+v+")"),i.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,n){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=n,this.lvl=t,this._isAnimated=!!n.k;for(var r=0,i=e.length;r<i;){if(e[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(e,t,n){this.transform={mProps:e,op:t,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=n}function SVGGradientFillStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,n)}function SVGGradientStrokeStyleData(e,t,n){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,n),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,n,r=this.layers.length;for(this.completeLayers=!0,t=r-1;t>=0;t--)this.elements[t]||(n=this.layers[t]).ip-n.st<=e-this.layers[t].st&&n.op-n.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 13:return this.createCamera(e)}return this.createNull(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,n,r=e.length,i=this.layers.length;for(t=0;t<r;t+=1)for(n=0;n<i;){if(this.layers[n].id==e[t].id){this.layers[n]=e[t];break}n+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,n){for(var r=this.elements,i=this.layers,o=0,a=i.length;o<a;)i[o].ind==t&&(r[o]&&!0!==r[o]?(n.push(r[o]),r[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(e,i[o].parent,n):e.setHierarchy(n)):(this.buildItem(o),this.addPendingElement(e))),o+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length;for(t=0;t<n;t+=1)if(e[t].xt){var r=this.createComp(e[t]);r.initExpressions(),this.globalData.projectInterface.registerComposition(r)}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var n=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",e.w),r.setAttribute("height",e.h),r.setAttribute("x",0),r.setAttribute("y",0);var i=createElementID();n.setAttribute("id",i),n.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+i+")"),t.appendChild(n),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){t[e]=!0;var n=this.createItem(this.layers[e]);t[e]=n,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?n.setMatte(t[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(n)))}},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,n=this.elements.length;t<n;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=n-1;t>=0;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<n;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){for(var r,i=0;i<t;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(n,r):this.layerElement.appendChild(n)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){if(1!==e[0]||0!==e[1]||0!==e[4]||1!==e[5]||0!==e[12]||0!==e[13])if(this.renderConfig.clearCanvas){this.transformMat.cloneFromProps(e);var t=this.contextData.cTr.props;this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}else this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n,r=this.contextData.saved[this.contextData.cArrPos];for(n=0;n<16;n+=1)r[n]=t[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var t,n=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props;for(t=0;t<16;t+=1)r[t]=n[t];this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13]),n=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=n,this.globalData.currentGlobalAlpha!==n&&(this.canvasContext.globalAlpha=n,this.globalData.currentGlobalAlpha=n)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,n,r;if(this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var i=this.renderConfig.preserveAspectRatio.split(" "),o=i[1]||"meet",a=i[0]||"xMidYMid",s=a.substr(0,4),l=a.substr(4);n=e/t,(r=this.transformCanvas.w/this.transformCanvas.h)>n&&"meet"===o||r<n&&"slice"===o?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===s&&(r<n&&"meet"===o||r>n&&"slice"===o)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===s&&(r<n&&"meet"===o||r>n&&"slice"===o)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===l&&(r>n&&"meet"===o||r<n&&"slice"===o)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===l&&(r>n&&"meet"===o||r<n&&"slice"===o)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var n,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),n=0;n<r;n++)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(e-this.layers[n].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!=this.layers[e].ty){var n=this.createItem(this.layers[e],this,this.globalData);t[e]=n,n.initExpressions()}},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){this.pendingElements.pop().checkParenting()}},HybridRenderer.prototype.appendElementInPos=function(e,t){var n=e.getBaseElement();if(n){var r=this.layers[t];if(r.ddd&&this.supports3d)this.addTo3dContainer(n,t);else if(this.threeDElements)this.addTo3dContainer(n,t);else{for(var i,o,a=0;a<t;)this.elements[a]&&!0!==this.elements[a]&&this.elements[a].getBaseElement&&(o=this.elements[a],i=(this.layers[a].ddd?this.getThreeDContainerByPos(a):o.getBaseElement())||i),a+=1;i?r.ddd&&this.supports3d||this.layerElement.insertBefore(n,i):r.ddd&&this.supports3d||this.layerElement.appendChild(n)}}},HybridRenderer.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextElement(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,n=this.threeDElements.length;t<n;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}},HybridRenderer.prototype.createThreeDContainer=function(e,t){var n=createTag("div");styleDiv(n);var r=createTag("div");styleDiv(r),"3d"===t&&(n.style.width=this.globalData.compSize.w+"px",n.style.height=this.globalData.compSize.h+"px",n.style.transformOrigin=n.style.mozTransformOrigin=n.style.webkitTransformOrigin="50% 50%",r.style.transform=r.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),n.appendChild(r);var i={container:r,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(i),i},HybridRenderer.prototype.build3dContainers=function(){var e,t,n=this.layers.length,r="";for(e=0;e<n;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==r&&(r="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==r&&(r="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(n=this.threeDElements.length)-1;e>=0;e--)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var n=0,r=this.threeDElements.length;n<r;){if(t<=this.threeDElements[n].endPos){for(var i,o=this.threeDElements[n].startPos;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[n].container.insertBefore(e,i):this.threeDElements[n].container.appendChild(e);break}n+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),n=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",this.resizerElem=t,styleDiv(t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),n.appendChild(t),t.style.overflow="hidden";var r=createNS("svg");r.setAttribute("width","1"),r.setAttribute("height","1"),styleDiv(r),this.resizerElem.appendChild(r);var i=createNS("defs");r.appendChild(i),this.data=e,this.setupGlobalData(e,r),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e++)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,n,r,i=this.animationItem.wrapper.offsetWidth,o=this.animationItem.wrapper.offsetHeight,a=i/o;this.globalData.compSize.w/this.globalData.compSize.h>a?(e=i/this.globalData.compSize.w,t=i/this.globalData.compSize.w,n=0,r=(o-this.globalData.compSize.h*(i/this.globalData.compSize.w))/2):(e=o/this.globalData.compSize.h,t=o/this.globalData.compSize.h,n=(i-this.globalData.compSize.w*(o/this.globalData.compSize.h))/2,r=0),this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+n+","+r+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,n=this.globalData.compSize.h,r=this.threeDElements.length;for(e=0;e<r;e+=1)this.threeDElements[e].perspectiveElem.style.perspective=this.threeDElements[e].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(n,2))+"px"}},HybridRenderer.prototype.searchExtraCompositions=function(e){var t,n=e.length,r=createTag("div");for(t=0;t<n;t+=1)if(e[t].xt){var i=this.createComp(e[t],r,this.globalData.comp,null);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,n=this.element.finalTransform.mat,r=this.masksProperties.length;for(t=0;t<r;t++)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",n.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var i=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[t].filterId+")")),i.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,e+=" h-"+this.globalData.compSize.w,e+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,n){var r,i,o=" M"+t.v[0][0]+","+t.v[0][1];for(i=t._length,r=1;r<i;r+=1)o+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[r][0]+","+t.i[r][1]+" "+t.v[r][0]+","+t.v[r][1];if(t.c&&i>1&&(o+=" C"+t.o[r-1][0]+","+t.o[r-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),n.lastPath!==o){var a="";n.elem&&(t.c&&(a=e.inv?this.solidPath+o:o),n.elem.setAttribute("d",a)),n.lastPath=o}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var n,r=this.dynamicProperties.length;for(n=0;n<r;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,n=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;n<r;){if(this.hierarchy[n].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}n+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),n=0;n<r;n+=1)e=this.hierarchy[n].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var n=!0,r=this.comp;n;)r.finalTransform?(r.data.hasMask&&t.splice(0,0,r.finalTransform),r=r.comp):n=!1;var i,o,a=t.length;for(i=0;i<a;i+=1)o=t[i].mat.applyToPointArray(0,0,0),e=[e[0]-o[0],e[1]-o[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,n){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,t),this.setGradientOpacity(t,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var n=createElementID(),r=createNS(1===t.t?"linearGradient":"radialGradient");r.setAttribute("id",n),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");var i,o,a,s=[];for(a=4*t.g.p,o=0;o<a;o+=4)i=createNS("stop"),r.appendChild(i),s.push(i);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+n+")"),this.gf=r,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var n,r,i,o=createNS("mask"),a=createNS("path");o.appendChild(a);var s=createElementID(),l=createElementID();o.setAttribute("id",l);var c=createNS(1===e.t?"linearGradient":"radialGradient");c.setAttribute("id",s),c.setAttribute("spreadMethod","pad"),c.setAttribute("gradientUnits","userSpaceOnUse"),i=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var u=this.stops;for(r=4*e.g.p;r<i;r+=2)(n=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),c.appendChild(n),u.push(n);a.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=c,this.ms=o,this.ost=u,this.maskId=l,t.msElem=a}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function n(e,t,n){(n||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(n||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function r(n,r,i){var o,a,s,l,c,u,h,d,p,f,m,v=r.styles.length,g=r.lvl;for(u=0;u<v;u+=1){if(l=r.sh._mdf||i,r.styles[u].lvl<g){for(d=t.reset(),f=g-r.styles[u].lvl,m=r.transformers.length-1;!l&&f>0;)l=r.transformers[m].mProps._mdf||l,f--,m--;if(l)for(f=g-r.styles[u].lvl,m=r.transformers.length-1;f>0;)p=r.transformers[m].mProps.v.props,d.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),f--,m--}else d=e;if(a=(h=r.sh.paths)._length,l){for(s="",o=0;o<a;o+=1)(c=h.shapes[o])&&c._length&&(s+=buildShapeString(c,c._length,c.c,d));r.caches[u]=s}else s=r.caches[u];r.styles[u].d+=!0===n.hd?"":s,r.styles[u]._mdf=l||r.styles[u]._mdf}}function i(e,t,n){var r=t.style;(t.c._mdf||n)&&r.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("fill-opacity",t.o.v)}function o(e,t,n){a(e,t,n),s(e,t,n)}function a(e,t,n){var r,i,o,a,s,l=t.gf,c=t.g._hasOpacity,u=t.s.v,h=t.e.v;if(t.o._mdf||n){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||n){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,u[0]),l.setAttribute(f,u[1]),c&&!t.g._collapsable&&(t.of.setAttribute(p,u[0]),t.of.setAttribute(f,u[1]))}if(t.g._cmdf||n){r=t.cst;var m=t.g.c;for(o=r.length,i=0;i<o;i+=1)(a=r[i]).setAttribute("offset",m[4*i]+"%"),a.setAttribute("stop-color","rgb("+m[4*i+1]+","+m[4*i+2]+","+m[4*i+3]+")")}if(c&&(t.g._omdf||n)){var v=t.g.o;for(o=(r=t.g._collapsable?t.cst:t.ost).length,i=0;i<o;i+=1)a=r[i],t.g._collapsable||a.setAttribute("offset",v[2*i]+"%"),a.setAttribute("stop-opacity",v[2*i+1])}if(1===e.t)(t.e._mdf||n)&&(l.setAttribute("x2",h[0]),l.setAttribute("y2",h[1]),c&&!t.g._collapsable&&(t.of.setAttribute("x2",h[0]),t.of.setAttribute("y2",h[1])));else if((t.s._mdf||t.e._mdf||n)&&(s=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),l.setAttribute("r",s),c&&!t.g._collapsable&&t.of.setAttribute("r",s)),t.e._mdf||t.h._mdf||t.a._mdf||n){s||(s=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)));var g=Math.atan2(h[1]-u[1],h[0]-u[0]),y=s*(t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v),_=Math.cos(g+t.a.v)*y+u[0],b=Math.sin(g+t.a.v)*y+u[1];l.setAttribute("fx",_),l.setAttribute("fy",b),c&&!t.g._collapsable&&(t.of.setAttribute("fx",_),t.of.setAttribute("fy",b))}}function s(e,t,n){var r=t.style,i=t.d;i&&(i._mdf||n)&&i.dashStr&&(r.pElem.setAttribute("stroke-dasharray",i.dashStr),r.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),t.c&&(t.c._mdf||n)&&r.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n)&&r.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||n)&&(r.pElem.setAttribute("stroke-width",t.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){e.ty;switch(e.ty){case"fl":return i;case"gf":return a;case"gs":return o;case"st":return s;case"sh":case"el":case"rc":case"sr":return r;case"tr":return n}}}}();function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,n,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;"rc"==t.ty?i=5:"el"==t.ty?i=6:"sr"==t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);var o,a,s=n.length;for(o=0;o<s;o+=1)n[o].closed||(a={transforms:r.addTransformSequence(n[o].transforms),trNodes:[]},this.styledShapes.push(a),n[o].elements.push(a))}function BaseElement(){}function NullElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initFrame(),this.initTransform(e,t,n),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,n){this.initElement(e,t,n)}function SVGCompElement(e,t,n){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextElement(e,t,n){this.textSpans=[],this.renderType="svg",this.initElement(e,t,n)}function SVGShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,n),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n),(n=createNS("feColorMatrix")).setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),e.appendChild(n),this.matrixFilter=n,100!==t.effectElements[2].p.v||t.effectElements[2].p.k){var r,i=createNS("feMerge");e.appendChild(i),(r=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),i.appendChild(r),(r=createNS("feMergeNode")).setAttribute("in","f2"),i.appendChild(r)}}function SVGFillFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(n),this.matrixFilter=n}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");e.appendChild(n),this.feGaussianBlur=n}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),e.appendChild(n);var r=createNS("feComponentTransfer");r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),this.matrixFilter=r;var i=createNS("feFuncR");i.setAttribute("type","table"),r.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),r.appendChild(o),this.feFuncG=o;var a=createNS("feFuncB");a.setAttribute("type","table"),r.appendChild(a),this.feFuncB=a}function SVGProLevelsFilter(e,t){this.filterManager=t;var n=this.filterManager.effectElements,r=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",r)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",r)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",r)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",r)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),r=createNS("feComponentTransfer")),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&(r.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(r),this.feFuncRComposed=this.createFeFunc("feFuncR",r),this.feFuncGComposed=this.createFeFunc("feFuncG",r),this.feFuncBComposed=this.createFeFunc("feFuncB",r))}function SVGDropShadowEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","400%"),e.setAttribute("height","400%"),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("in","SourceAlpha"),n.setAttribute("result","drop_shadow_1"),n.setAttribute("stdDeviation","0"),this.feGaussianBlur=n,e.appendChild(n);var r=createNS("feOffset");r.setAttribute("dx","25"),r.setAttribute("dy","0"),r.setAttribute("in","drop_shadow_1"),r.setAttribute("result","drop_shadow_2"),this.feOffset=r,e.appendChild(r);var i=createNS("feFlood");i.setAttribute("flood-color","#00ff00"),i.setAttribute("flood-opacity","1"),i.setAttribute("result","drop_shadow_3"),this.feFlood=i,e.appendChild(i);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),e.appendChild(o);var a,s=createNS("feMerge");e.appendChild(s),a=createNS("feMergeNode"),s.appendChild(a),(a=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=a,this.feMerge=s,this.originalNodeAdded=!1,s.appendChild(a)}ShapeTransformManager.prototype={addTransformSequence:function(e){var t,n=e.length,r="_";for(t=0;t<n;t+=1)r+=e[t].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(e,t){for(var n,r=0,i=e.transforms.length,o=t;r<i&&!t;){if(e.transforms[r].transform.mProps._mdf){o=!0;break}r+=1}if(o)for(e.finalTransform.reset(),r=i-1;r>=0;r-=1)n=e.transforms[r].transform.mProps.v.props,e.finalTransform.transform(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]);e._mdf=o},processSequences:function(e){var t,n=this.sequenceList.length;for(t=0;t<n;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,n){this.globalData=t,this.comp=n,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,n,r=null;if(this.data.td){if(3==this.data.td||1==this.data.td){var i=createNS("mask");i.setAttribute("id",this.layerId),i.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),i.appendChild(this.layerElement),r=i,this.globalData.defs.appendChild(i),featureSupport.maskType||1!=this.data.td||(i.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),r=n,i.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+e+")"))}else if(2==this.data.td){var o=createNS("mask");o.setAttribute("id",this.layerId),o.setAttribute("mask-type","alpha");var a=createNS("g");o.appendChild(a),e=createElementID(),t=filtersFactory.createFilter(e);var s=createNS("feComponentTransfer");s.setAttribute("in","SourceGraphic"),t.appendChild(s);var l=createNS("feFuncA");l.setAttribute("type","table"),l.setAttribute("tableValues","1.0 0.0"),s.appendChild(l),this.globalData.defs.appendChild(t);var c=createNS("rect");c.setAttribute("width",this.comp.data.w),c.setAttribute("height",this.comp.data.h),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("fill","#ffffff"),c.setAttribute("opacity","0"),a.setAttribute("filter","url("+locationHref+"#"+e+")"),a.appendChild(c),a.appendChild(this.layerElement),r=a,featureSupport.maskType||(o.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),a.appendChild(c),n.appendChild(this.layerElement),r=n,a.appendChild(n)),this.globalData.defs.appendChild(o)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var u=createNS("clipPath"),h=createNS("path");h.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var d=createElementID();if(u.setAttribute("id",d),u.appendChild(h),this.globalData.defs.appendChild(u),this.checkMasks()){var p=createNS("g");p.setAttribute("clip-path","url("+locationHref+"#"+d+")"),p.appendChild(this.layerElement),this.transformedElement=p,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+d+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){var t,n=this.shapeModifiers.length;for(t=0;t<n;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0;e-=1)this.shapeModifiers[e].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,n=0,r=t.length;n<r;){if(t[n].elem===e)return t[n].pos;n+=1}return 0},addProcessedElement:function(e,t){for(var n=this.processedElements,r=n.length;r;)if(n[r-=1].elem===e)return void(n[r].pos=t);n.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,n),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){var n,r,i=t.length,o="";for(n=0;n<i;n+=1)r=t[n].ks.k,o+=buildShapeString(r,r.i.length,!0,e);return o},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,n,r,i){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[n])/2,0,0)}t.translate(r,i,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initTransform(e,t,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var n,r=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=r-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(e){for(var t=0,n=e.length,r=[],i="";t<n;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(r.push(i),i=""):i+=e[t],t+=1;return r.push(i),r},SVGTextElement.prototype.buildNewText=function(){var e,t,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var r=this.globalData.fontManager.getFontByName(n.f);if(r.fClass)this.layerElement.setAttribute("class",r.fClass);else{this.layerElement.setAttribute("font-family",r.fFamily);var i=n.fWeight,o=n.fStyle;this.layerElement.setAttribute("font-style",o),this.layerElement.setAttribute("font-weight",i)}this.layerElement.setAttribute("aria-label",n.t);var a,s=n.l||[],l=!!this.globalData.fontManager.chars;t=s.length;var c,u=this.mHelper,h="",d=this.data.singleShape,p=0,f=0,m=!0,v=n.tr/1e3*n.finalSize;if(!d||l||n.sz){var g,y,_=this.textSpans.length;for(e=0;e<t;e+=1)l&&d&&0!==e||(a=_>e?this.textSpans[e]:createNS(l?"path":"text"),_<=e&&(a.setAttribute("stroke-linecap","butt"),a.setAttribute("stroke-linejoin","round"),a.setAttribute("stroke-miterlimit","4"),this.textSpans[e]=a,this.layerElement.appendChild(a)),a.style.display="inherit"),u.reset(),u.scale(n.finalSize/100,n.finalSize/100),d&&(s[e].n&&(p=-v,f+=n.yOffset,f+=m?1:0,m=!1),this.applyTextPropertiesToMatrix(n,u,s[e].line,p,f),p+=s[e].l||0,p+=v),l?(c=(g=(y=this.globalData.fontManager.getCharData(n.finalText[e],r.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily))&&y.data||{}).shapes?g.shapes[0].it:[],d?h+=this.createPathShape(u,c):a.setAttribute("d",this.createPathShape(u,c))):(d&&a.setAttribute("transform","translate("+u.props[12]+","+u.props[13]+")"),a.textContent=s[e].val,a.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));d&&a&&a.setAttribute("d",h)}else{var b=this.textContainer,w="start";switch(n.j){case 1:w="end";break;case 2:w="middle"}b.setAttribute("text-anchor",w),b.setAttribute("letter-spacing",v);var x=this.buildTextContents(n.finalText);for(t=x.length,f=n.ps?n.ps[1]+n.ascent:0,e=0;e<t;e+=1)(a=this.textSpans[e]||createNS("tspan")).textContent=x[e],a.setAttribute("x",0),a.setAttribute("y",f),a.style.display="inherit",b.appendChild(a),this.textSpans[e]=a,f+=n.finalLineHeight;this.layerElement.appendChild(b)}for(;e<this.textSpans.length;)this.textSpans[e].style.display="none",e+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(e){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var e,t;this._sizeChanged=!0;var n,r,i=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=o.length,e=0;e<t;e+=1)o[e].n||(n=i[e],r=this.textSpans[e],n._mdf.m&&r.setAttribute("transform",n.m),n._mdf.o&&r.setAttribute("opacity",n.o),n._mdf.sw&&r.setAttribute("stroke-width",n.sw),n._mdf.sc&&r.setAttribute("stroke",n.sc),n._mdf.fc&&r.setAttribute("fill",n.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,n,r,i=this.shapes.length,o=this.stylesList.length,a=[],s=!1;for(n=0;n<o;n+=1){for(r=this.stylesList[n],s=!1,a.length=0,e=0;e<i;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(a.push(t),s=t._isAnimated||s);a.length>1&&s&&this.setShapesAsAnimated(a)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var n,r=new SVGStyleData(e,t),i=r.pElem;if("st"===e.ty)n=new SVGStrokeStyleData(this,e,r);else if("fl"===e.ty)n=new SVGFillStyleData(this,e,r);else if("gf"===e.ty||"gs"===e.ty){n=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,r),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),i.setAttribute("mask","url("+locationHref+"#"+n.maskId+")"))}return"st"!==e.ty&&"gs"!==e.ty||(i.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),i.setAttribute("fill-opacity","0"),1===e.lj&&i.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&i.setAttribute("fill-rule","evenodd"),e.ln&&i.setAttribute("id",e.ln),e.cl&&i.setAttribute("class",e.cl),e.bm&&(i.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(r),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var n=TransformPropertyFactory.getTransformProperty(this,e,this),r=new SVGTransformData(n,n.o,t);return this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createShapeElement=function(e,t,n){var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7);var i=new SVGShapeData(t,n,ShapePropertyFactory.getShapeProp(this,e,r,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var n=0,r=this.animatedContents.length;n<r;){if(this.animatedContents[n].element===t)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,n=e.styles,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||n.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,n,r,i,o,a){var s,l,c,u,h,d,p=[].concat(o),f=e.length-1,m=[],v=[];for(s=f;s>=0;s-=1){if((d=this.searchProcessedElement(e[s]))?t[s]=n[d-1]:e[s]._render=a,"fl"==e[s].ty||"st"==e[s].ty||"gf"==e[s].ty||"gs"==e[s].ty)d?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],i),e[s]._render&&r.appendChild(t[s].style.pElem),m.push(t[s].style);else if("gr"==e[s].ty){if(d)for(c=t[s].it.length,l=0;l<c;l+=1)t[s].prevViewData[l]=t[s].it[l];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,t[s].gr,i+1,p,a),e[s]._render&&r.appendChild(t[s].gr)}else"tr"==e[s].ty?(d||(t[s]=this.createTransformElement(e[s],r)),u=t[s].transform,p.push(u)):"sh"==e[s].ty||"rc"==e[s].ty||"el"==e[s].ty||"sr"==e[s].ty?(d||(t[s]=this.createShapeElement(e[s],p,i)),this.setElementStyles(t[s])):"tm"==e[s].ty||"rd"==e[s].ty||"ms"==e[s].ty?(d?(h=t[s]).closed=!1:((h=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=h,this.shapeModifiers.push(h)),v.push(h)):"rp"==e[s].ty&&(d?(h=t[s]).closed=!0:(h=ShapeModifiers.getModifier(e[s].ty),t[s]=h,h.init(this,e,s,t),this.shapeModifiers.push(h),a=!1),v.push(h));this.addProcessedElement(e[s],s+1)}for(f=m.length,s=0;s<f;s+=1)m[s].closed=!0;for(f=v.length,s=0;s<f;s+=1)v[s].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,n=this.animatedContents.length;for(e=0;e<n;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",n[0]-t[0]+" 0 0 0 "+t[0]+" "+(n[1]-t[1])+" 0 0 0 "+t[1]+" "+(n[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+n+" 0")}},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=3==n?0:t,i=2==n?0:t;this.feGaussianBlur.setAttribute("stdDeviation",r+" "+i);var o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",o)}},SVGStrokeEffect.prototype.initialize=function(){var e,t,n,r,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,n=0):r=(n=this.filterManager.effectElements[0].p.v-1)+1,(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);n<r;n+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:n});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),a=createElementID();o.setAttribute("id",a),o.setAttribute("mask-type","alpha"),o.appendChild(t),this.elem.globalData.defs.appendChild(o);var s=createNS("g");for(s.setAttribute("mask","url("+locationHref+"#"+a+")");i[0];)s.appendChild(i[0]);this.elem.layerElement.appendChild(s),this.masker=o,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,n,r,i=this.paths.length;for(t=0;t<i;t+=1)if(-1!==this.paths[t].m&&(n=this.elem.maskManager.viewData[this.paths[t].m],r=this.paths[t].p,(e||this.filterManager._mdf||n.prop._mdf)&&r.setAttribute("d",n.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||n.prop._mdf)){var o;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var a=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,s=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=r.getTotalLength();o="0 0 0 "+l*a+" ";var c,u=l*(s-a),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,d=Math.floor(u/h);for(c=0;c<d;c+=1)o+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";o+="0 "+10*l+" 0 0"}else o="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",o)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*p[0])+","+bm_floor(255*p[1])+","+bm_floor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,r=this.filterManager.effectElements[2].p.v,i=r[0]+" "+n[0]+" "+t[0],o=r[1]+" "+n[1]+" "+t[1],a=r[2]+" "+n[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",a)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var n=createNS(e);return n.setAttribute("type","table"),t.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(e,t,n,r,i){for(var o,a,s=0,l=Math.min(e,t),c=Math.max(e,t),u=Array.call(null,{length:256}),h=0,d=i-r,p=t-e;s<=256;)a=(o=s/256)<=l?p<0?i:r:o>=c?p<0?r:i:r+d*Math.pow((o-e)/p,1/n),u[h++]=a,s+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,n=this.filterManager.effectElements;this.feFuncRComposed&&(e||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(t=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(t=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(t=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(t=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(t=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,r=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=n*Math.cos(r),o=n*Math.sin(r);this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,n){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}function SVGEffects(e){var t,n,r=e.data.ef?e.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i),a=0;for(this.filters=[],t=0;t<r;t+=1)n=null,20===e.data.ef[t].ty?(a+=1,n=new SVGTintFilter(o,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(a+=1,n=new SVGFillFilter(o,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?n=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(a+=1,n=new SVGTritoneFilter(o,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(a+=1,n=new SVGProLevelsFilter(o,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(a+=1,n=new SVGDropShadowEffect(o,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?n=new SVGMatte3Effect(o,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(a+=1,n=new SVGGaussianBlurEffect(o,e.effectsManager.effectElements[t])),n&&this.filters.push(n);a&&(e.globalData.defs.appendChild(o),e.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var e;for(this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getImage(this.assetData),this.initElement(e,t,n)}function CVCompElement(e,t,n){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,r=this.masksProperties.length,i=!1;for(n=0;n<r;n++)"n"!==this.masksProperties[n].mode&&(i=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=i,i&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,n)}function CVSolidElement(e,t,n){this.initElement(e,t,n)}function CVTextElement(e,t,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,n)}function CVEffects(){}function HBaseElement(e,t,n){}function HSolidElement(e,t,n){this.initElement(e,t,n)}function HCompElement(e,t,n){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,n),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,n){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,n)}function HImageElement(e,t,n){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,n)}function HCameraElement(e,t,n){this.initFrame(),this.initBaseData(e,t,n),this.initHierarchy();var r=PropertyFactory.getProp;if(this.pe=r(this,e.pe,0,0,this),e.ks.p.s?(this.px=r(this,e.ks.p.x,1,0,this),this.py=r(this,e.ks.p.y,1,0,this),this.pz=r(this,e.ks.p.z,1,0,this)):this.p=r(this,e.ks.p,1,0,this),e.ks.a&&(this.a=r(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var i,o=e.ks.or.k.length;for(i=0;i<o;i+=1)e.ks.or.k[i].to=null,e.ks.or.k[i].ti=null}this.or=r(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=r(this,e.ks.rx,0,degToRads,this),this.ry=r(this,e.ks.ry,0,degToRads,this),this.rz=r(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,n=_svgMatteSymbols.length;t<n;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var n=e.layerElement.parentNode;if(n){for(var r,i=n.children,o=0,a=i.length;o<a&&i[o]!==e.layerElement;)o+=1;o<=a-2&&(r=i[o+1]);var s=createNS("use");s.setAttribute("href","#"+t),r?n.insertBefore(s,r):n.appendChild(s)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var n=createElementID(),r=createNS("mask");r.setAttribute("id",t.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var i=e.globalData.defs;i.appendChild(r);var o=createNS("symbol");o.setAttribute("id",n),this.replaceInParent(t,n),o.appendChild(t.layerElement),i.appendChild(o);var a=createNS("use");a.setAttribute("href","#"+n),r.appendChild(a),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,n=0,r=t.length;n<r;)t[n]&&t[n].data.ind===e&&this.setElementAsMask(this.elem,t[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){var t,n=this.filters.length;for(t=0;t<n;t+=1)this.filters[t].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);var n=0;for(n=this._length;n<e;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!this.hidden&&!this.data.hd){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var e=0===this.data.ty;this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,n,r=e.getContext("2d"),i=this.img.width,o=this.img.height,a=i/o,s=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;a>s&&"xMidYMid slice"===l||a<s&&"xMidYMid slice"!==l?t=(n=o)*s:n=(t=i)/s,r.drawImage(this.img,(i-t)/2,(o-n)/2,t,n,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(e){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,n,r,i=this.element.finalTransform.mat,o=this.element.canvasContext,a=this.masksProperties.length;for(o.beginPath(),e=0;e<a;e++)if("n"!==this.masksProperties[e].mode){this.masksProperties[e].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),r=this.viewData[e].v,t=i.applyToPointArray(r.v[0][0],r.v[0][1],0),o.moveTo(t[0],t[1]);var s,l=r._length;for(s=1;s<l;s++)n=i.applyToTriplePoints(r.o[s-1],r.i[s],r.v[s]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);n=i.applyToTriplePoints(r.o[s-1],r.i[0],r.v[0]),o.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},r={};if("fl"==e.ty||"st"==e.ty?(r.c=PropertyFactory.getProp(this,e.c,1,255,this),r.c.k||(n.co="rgb("+bm_floor(r.c.v[0])+","+bm_floor(r.c.v[1])+","+bm_floor(r.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(r.s=PropertyFactory.getProp(this,e.s,1,null,this),r.e=PropertyFactory.getProp(this,e.e,1,null,this),r.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,e.g,this)),r.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"==e.ty||"gs"==e.ty){if(n.lc=this.lcEnum[e.lc]||"round",n.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(n.ml=e.ml),r.w=PropertyFactory.getProp(this,e.w,0,null,this),r.w.k||(n.wi=r.w.v),e.d){var i=new DashProperty(this,e.d,"canvas",this);r.d=i,r.d.k||(n.da=r.d.dashArray,n.do=r.d.dashoffset[0])}}else n.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(n),r.style=n,r},CVShapeElement.prototype.createGroupElement=function(e){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,n=this.stylesList.length;for(t=0;t<n;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,n=e.length;for(t=0;t<n;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,n,r,i){var o,a,s,l,c,u,h=e.length-1,d=[],p=[],f=[].concat(i);for(o=h;o>=0;o-=1){if((l=this.searchProcessedElement(e[o]))?t[o]=n[l-1]:e[o]._shouldRender=r,"fl"==e[o].ty||"st"==e[o].ty||"gf"==e[o].ty||"gs"==e[o].ty)l?t[o].style.closed=!1:t[o]=this.createStyleElement(e[o],f),d.push(t[o].style);else if("gr"==e[o].ty){if(l)for(s=t[o].it.length,a=0;a<s;a+=1)t[o].prevViewData[a]=t[o].it[a];else t[o]=this.createGroupElement(e[o]);this.searchShapes(e[o].it,t[o].it,t[o].prevViewData,r,f)}else"tr"==e[o].ty?(l||(u=this.createTransformElement(e[o]),t[o]=u),f.push(t[o]),this.addTransformToStyleList(t[o])):"sh"==e[o].ty||"rc"==e[o].ty||"el"==e[o].ty||"sr"==e[o].ty?l||(t[o]=this.createShapeElement(e[o])):"tm"==e[o].ty||"rd"==e[o].ty?(l?(c=t[o]).closed=!1:((c=ShapeModifiers.getModifier(e[o].ty)).init(this,e[o]),t[o]=c,this.shapeModifiers.push(c)),p.push(c)):"rp"==e[o].ty&&(l?(c=t[o]).closed=!0:(c=ShapeModifiers.getModifier(e[o].ty),t[o]=c,c.init(this,e,o,t),this.shapeModifiers.push(c),r=!1),p.push(c));this.addProcessedElement(e[o],o+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),h=p.length,o=0;o<h;o+=1)p[o].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,n,r,i,o,a,s,l,c=this.stylesList.length,u=this.globalData.renderer,h=this.globalData.canvasContext;for(e=0;e<c;e+=1)if(("st"!==(s=(l=this.stylesList[e]).type)&&"gs"!==s||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(u.save(),o=l.elements,"st"===s||"gs"===s?(h.strokeStyle="st"===s?l.co:l.grd,h.lineWidth=l.wi,h.lineCap=l.lc,h.lineJoin=l.lj,h.miterLimit=l.ml||0):h.fillStyle="fl"===s?l.co:l.grd,u.ctxOpacity(l.coOp),"st"!==s&&"gs"!==s&&h.beginPath(),u.ctxTransform(l.preTransforms.finalTransform.props),n=o.length,t=0;t<n;t+=1){for("st"!==s&&"gs"!==s||(h.beginPath(),l.da&&(h.setLineDash(l.da),h.lineDashOffset=l.do)),i=(a=o[t].trNodes).length,r=0;r<i;r+=1)"m"==a[r].t?h.moveTo(a[r].p[0],a[r].p[1]):"c"==a[r].t?h.bezierCurveTo(a[r].pts[0],a[r].pts[1],a[r].pts[2],a[r].pts[3],a[r].pts[4],a[r].pts[5]):h.closePath();"st"!==s&&"gs"!==s||(h.stroke(),l.da&&h.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&h.fill(l.r),u.restore()}},CVShapeElement.prototype.renderShape=function(e,t,n,r){var i,o;for(o=e,i=t.length-1;i>=0;i-=1)"tr"==t[i].ty?(o=n[i].transform,this.renderShapeTransform(e,o)):"sh"==t[i].ty||"el"==t[i].ty||"rc"==t[i].ty||"sr"==t[i].ty?this.renderPath(t[i],n[i]):"fl"==t[i].ty?this.renderFill(t[i],n[i],o):"st"==t[i].ty?this.renderStroke(t[i],n[i],o):"gf"==t[i].ty||"gs"==t[i].ty?this.renderGradientFill(t[i],n[i],o):"gr"==t[i].ty?this.renderShape(o,t[i].it,n[i].it):t[i].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var n,r,i,o=e.trNodes,a=t.paths,s=a._length;o.length=0;var l=e.transforms.finalTransform;for(i=0;i<s;i+=1){var c=a.shapes[i];if(c&&c.v){for(r=c._length,n=1;n<r;n+=1)1===n&&o.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),o.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[n],c.v[n])});1===r&&o.push({t:"m",p:l.applyToPointArray(c.v[0][0],c.v[0][1],0)}),c.c&&r&&(o.push({t:"c",pts:l.applyToTriplePoints(c.o[n-1],c.i[0],c.v[0])}),o.push({t:"z"}))}}e.trNodes=o}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var n,r=t.styledShapes.length;for(n=0;n<r;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,n){var r=t.style;(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,n){var r=t.style;if(!r.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var i=this.globalData.canvasContext,o=t.s.v,a=t.e.v;if(1===e.t)d=i.createLinearGradient(o[0],o[1],a[0],a[1]);else var s=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)),l=Math.atan2(a[1]-o[1],a[0]-o[0]),c=s*(t.h.v>=1?.99:t.h.v<=-1?-.99:t.h.v),u=Math.cos(l+t.a.v)*c+o[0],h=Math.sin(l+t.a.v)*c+o[1],d=i.createRadialGradient(u,h,0,o[0],o[1],s);var p,f=e.g.p,m=t.g.c,v=1;for(p=0;p<f;p+=1)t.g._hasOpacity&&t.g._collapsable&&(v=t.g.o[2*p+1]),d.addColorStop(m[4*p]/100,"rgba("+m[4*p+1]+","+m[4*p+2]+","+m[4*p+3]+","+v+")");r.grd=d}r.coOp=t.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(e,t,n){var r=t.style,i=t.d;i&&(i._mdf||this._isFirstFrame)&&(r.da=i.dashArray,r.do=i.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||n._opMdf||this._isFirstFrame)&&(r.coOp=t.o.v*n.opacity),(t.w._mdf||this._isFirstFrame)&&(r.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var n=!1;e.sc&&(n=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var r,i,o=this.globalData.fontManager.getFontByName(e.f),a=e.l,s=this.mHelper;this.stroke=n,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,i=e.finalText.length;var l,c,u,h,d,p,f,m,v,g,y=this.data.singleShape,_=e.tr/1e3*e.finalSize,b=0,w=0,x=!0,S=0;for(r=0;r<i;r+=1){for(c=(l=this.globalData.fontManager.getCharData(e.finalText[r],o.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&l.data||{},s.reset(),y&&a[r].n&&(b=-_,w+=e.yOffset,w+=x?1:0,x=!1),f=(d=c.shapes?c.shapes[0].it:[]).length,s.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,s,a[r].line,b,w),v=createSizedArray(f),p=0;p<f;p+=1){for(h=d[p].ks.k.i.length,m=d[p].ks.k,g=[],u=1;u<h;u+=1)1==u&&g.push(s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),g.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[u][0],m.i[u][1],0),s.applyToY(m.i[u][0],m.i[u][1],0),s.applyToX(m.v[u][0],m.v[u][1],0),s.applyToY(m.v[u][0],m.v[u][1],0));g.push(s.applyToX(m.o[u-1][0],m.o[u-1][1],0),s.applyToY(m.o[u-1][0],m.o[u-1][1],0),s.applyToX(m.i[0][0],m.i[0][1],0),s.applyToY(m.i[0][0],m.i[0][1],0),s.applyToX(m.v[0][0],m.v[0][1],0),s.applyToY(m.v[0][0],m.v[0][1],0)),v[p]=g}y&&(b+=a[r].l,b+=_),this.textSpans[S]?this.textSpans[S].elem=v:this.textSpans[S]={elem:v},S+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,n,r,i,o,a=this.canvasContext;this.finalTransform.mat.props;a.font=this.values.fValue,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var s,l=this.textAnimator.renderedLetters,c=this.textProperty.currentData.l;t=c.length;var u,h,d=null,p=null,f=null;for(e=0;e<t;e+=1)if(!c[e].n){if((s=l[e])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?d!==s.fc&&(d=s.fc,a.fillStyle=s.fc):d!==this.values.fill&&(d=this.values.fill,a.fillStyle=this.values.fill),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(h=u[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?f!==s.sw&&(f=s.sw,a.lineWidth=s.sw):f!==this.values.sWidth&&(f=this.values.sWidth,a.lineWidth=this.values.sWidth),s&&s.sc?p!==s.sc&&(p=s.sc,a.strokeStyle=s.sc):p!==this.values.stroke&&(p=this.values.stroke,a.strokeStyle=this.values.stroke),r=(u=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),n=0;n<r;n+=1)for(o=(h=u[n]).length,this.globalData.canvasContext.moveTo(h[0],h[1]),i=2;i<o;i+=6)this.globalData.canvasContext.bezierCurveTo(h[i],h[i+1],h[i+2],h[i+3],h[i+4],h[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var n,r=0;r<t;)this.elements[r]&&this.elements[r].getBaseElement&&(n=this.elements[r].getBaseElement()),r+=1;n?this.layerElement.insertBefore(e,n):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var n,r,i,o,a,s=e.sh.v,l=e.transformers,c=s._length;if(!(c<=1)){for(n=0;n<c-1;n+=1)r=this.getTransformedPoint(l,s.v[n]),i=this.getTransformedPoint(l,s.o[n]),o=this.getTransformedPoint(l,s.i[n+1]),a=this.getTransformedPoint(l,s.v[n+1]),this.checkBounds(r,i,o,a,t);s.c&&(r=this.getTransformedPoint(l,s.v[n]),i=this.getTransformedPoint(l,s.o[n]),o=this.getTransformedPoint(l,s.i[0]),a=this.getTransformedPoint(l,s.v[0]),this.checkBounds(r,i,o,a,t))}},HShapeElement.prototype.checkBounds=function(e,t,n,r,i){this.getBoundsOfCurve(e,t,n,r);var o=this.shapeBoundingBox;i.x=bm_min(o.left,i.x),i.xMax=bm_max(o.right,i.xMax),i.y=bm_min(o.top,i.y),i.yMax=bm_max(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,n,r){for(var i,o,a,s,l,c,u,h=[[e[0],r[0]],[e[1],r[1]]],d=0;d<2;++d)if(o=6*e[d]-12*t[d]+6*n[d],i=-3*e[d]+9*t[d]-9*n[d]+3*r[d],a=3*t[d]-3*e[d],o|=0,a|=0,0!==(i|=0))(l=o*o-4*a*i)<0||(0<(c=(-o+bm_sqrt(l))/(2*i))&&c<1&&h[d].push(this.calculateF(c,e,t,n,r,d)),0<(u=(-o-bm_sqrt(l))/(2*i))&&u<1&&h[d].push(this.calculateF(u,e,t,n,r,d)));else{if(0===o)continue;0<(s=-a/o)&&s<1&&h[d].push(this.calculateF(s,e,t,n,r,d))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1])},HShapeElement.prototype.calculateF=function(e,t,n,r,i,o){return bm_pow(1-e,3)*t[o]+3*bm_pow(1-e,2)*e*n[o]+3*(1-e)*bm_pow(e,2)*r[o]+bm_pow(e,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it&&this.calculateBoundingBox(e[n].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var n=!1;this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),n=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),n=!0),(n||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y)&&(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var n,r,i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var o=e.fWeight,a=e.fStyle;t.fontStyle=a,t.fontWeight=o}var s,l,c,u=e.l;r=u.length;var h,d=this.mHelper,p="",f=0;for(n=0;n<r;n+=1){if(this.globalData.fontManager.chars?(this.textPaths[f]?s=this.textPaths[f]:((s=createNS("path")).setAttribute("stroke-linecap","butt"),s.setAttribute("stroke-linejoin","round"),s.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[f]?c=(l=this.textSpans[f]).children[0]:((l=createTag("div")).style.lineHeight=0,(c=createNS("svg")).appendChild(s),styleDiv(l)))):this.isMasked?s=this.textPaths[f]?this.textPaths[f]:createNS("text"):this.textSpans[f]?(l=this.textSpans[f],s=this.textPaths[f]):(styleDiv(l=createTag("span")),styleDiv(s=createTag("span")),l.appendChild(s)),this.globalData.fontManager.chars){var m,v=this.globalData.fontManager.getCharData(e.finalText[n],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(m=v?v.data:null,d.reset(),m&&m.shapes&&(h=m.shapes[0].it,d.scale(e.finalSize/100,e.finalSize/100),p=this.createPathShape(d,h),s.setAttribute("d",p)),this.isMasked)this.innerElem.appendChild(s);else{if(this.innerElem.appendChild(l),m&&m.shapes){document.body.appendChild(c);var g=c.getBBox();c.setAttribute("width",g.width+2),c.setAttribute("height",g.height+2),c.setAttribute("viewBox",g.x-1+" "+(g.y-1)+" "+(g.width+2)+" "+(g.height+2)),c.style.transform=c.style.webkitTransform="translate("+(g.x-1)+"px,"+(g.y-1)+"px)",u[n].yOffset=g.y-1}else c.setAttribute("width",1),c.setAttribute("height",1);l.appendChild(c)}}else s.textContent=u[n].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(l),s.style.transform=s.style.webkitTransform="translate3d(0,"+-e.finalSize/1.2+"px,0)");this.isMasked?this.textSpans[f]=s:this.textSpans[f]=l,this.textSpans[f].style.display="block",this.textPaths[f]=s,f+=1}for(;f<this.textSpans.length;)this.textSpans[f].style.display="none",f+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var e,t,n,r,i,o=0,a=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;for(t=s.length,e=0;e<t;e+=1)s[e].n?o+=1:(r=this.textSpans[e],i=this.textPaths[e],n=a[o],o+=1,n._mdf.m&&(this.isMasked?r.setAttribute("transform",n.m):r.style.transform=r.style.webkitTransform=n.m),r.style.opacity=n.o,n.sw&&n._mdf.sw&&i.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&i.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(i.setAttribute("fill",n.fc),i.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var l=this.innerElem.getBBox();this.currentBBox.w!==l.width&&(this.currentBBox.w=l.width,this.svgElement.setAttribute("width",l.width)),this.currentBBox.h!==l.height&&(this.currentBBox.h=l.height,this.svgElement.setAttribute("height",l.height));this.currentBBox.w===l.width+2&&this.currentBBox.h===l.height+2&&this.currentBBox.x===l.x-1&&this.currentBBox.y===l.y-1||(this.currentBBox.w=l.width+2,this.currentBBox.h=l.height+2,this.currentBBox.x=l.x-1,this.currentBBox.y=l.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)"3d"===(t=this.comp.threeDElements[e]).type&&(t.perspectiveElem.style.perspective=t.perspectiveElem.style.webkitPerspective=this.pe.v+"px",t.container.style.transformOrigin=t.container.style.mozTransformOrigin=t.container.style.webkitTransformOrigin="0px 0px 0px",t.perspectiveElem.style.transform=t.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,n=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)n=this.hierarchy[e].finalTransform.mProp._mdf||n;if(n||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var r=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var i;i=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var o=Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2)+Math.pow(i[2],2)),a=[i[0]/o,i[1]/o,i[2]/o],s=Math.sqrt(a[2]*a[2]+a[0]*a[0]),l=Math.atan2(a[1],s),c=Math.atan2(a[0],-a[2]);this.mat.rotateY(c).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var u=!this._prevMat.equals(this.mat);if((u||this.pe._mdf)&&this.comp.threeDElements){var h;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)"3d"===(h=this.comp.threeDElements[e]).type&&(u&&(h.container.style.transform=h.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(h.perspectiveElem.style.perspective=h.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=function(){var e={},t=[],n=0,r=0,i=0,o=!0,a=!1;function s(e){for(var n=0,i=e.target;n<r;)t[n].animation===i&&(t.splice(n,1),n-=1,r-=1,i.isPaused||u()),n+=1}function l(e,n){if(!e)return null;for(var i=0;i<r;){if(t[i].elem==e&&null!==t[i].elem)return t[i].animation;i+=1}var o=new AnimationItem;return h(o,e),o.setData(e,n),o}function c(){i+=1,f()}function u(){i-=1}function h(e,n){e.addEventListener("destroy",s),e.addEventListener("_active",c),e.addEventListener("_idle",u),t.push({elem:n,animation:e}),r+=1}function d(e){var s,l=e-n;for(s=0;s<r;s+=1)t[s].animation.advanceTime(l);n=e,i&&!a?window.requestAnimationFrame(d):o=!0}function p(e){n=e,window.requestAnimationFrame(d)}function f(){!a&&i&&o&&(window.requestAnimationFrame(p),o=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return h(t,null),t.setParams(e),t},e.setSpeed=function(e,n){var i;for(i=0;i<r;i+=1)t[i].animation.setSpeed(e,n)},e.setDirection=function(e,n){var i;for(i=0;i<r;i+=1)t[i].animation.setDirection(e,n)},e.play=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.play(e)},e.pause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.pause(e)},e.stop=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.stop(e)},e.togglePause=function(e){var n;for(n=0;n<r;n+=1)t[n].animation.togglePause(e)},e.searchAnimations=function(e,t,n){var r,i=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),o=i.length;for(r=0;r<o;r+=1)n&&i[r].setAttribute("data-bm-type",n),l(i[r],e);if(t&&0===o){n||(n="svg");var a=document.getElementsByTagName("body")[0];a.innerHTML="";var s=createTag("div");s.style.width="100%",s.style.height="100%",s.setAttribute("data-bm-type",n),a.appendChild(s),l(s,e)}},e.resize=function(){var e;for(e=0;e<r;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,n,i){var o;for(o=0;o<r;o+=1)t[o].animation.goToAndStop(e,n,i)},e.destroy=function(e){var n;for(n=r-1;n>=0;n-=1)t[n].animation.destroy(e)},e.freeze=function(){a=!0},e.unfreeze=function(){a=!1,f()},e.getRegisteredAnimations=function(){var e,n=t.length,r=[];for(e=0;e<n;e+=1)r.push(t[e].animation);return r},e}(),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||(!1===e.loop?this.loop=!1:!0===e.loop?this.loop=!0:this.loop=parseInt(e.loop)),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,e.animationData?this.configAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(e,t){var n={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},r=e.attributes;n.path=r.getNamedItem("data-animation-path")?r.getNamedItem("data-animation-path").value:r.getNamedItem("data-bm-path")?r.getNamedItem("data-bm-path").value:r.getNamedItem("bm-path")?r.getNamedItem("bm-path").value:"",n.animType=r.getNamedItem("data-anim-type")?r.getNamedItem("data-anim-type").value:r.getNamedItem("data-bm-type")?r.getNamedItem("data-bm-type").value:r.getNamedItem("bm-type")?r.getNamedItem("bm-type").value:r.getNamedItem("data-bm-renderer")?r.getNamedItem("data-bm-renderer").value:r.getNamedItem("bm-renderer")?r.getNamedItem("bm-renderer").value:"canvas";var i=r.getNamedItem("data-anim-loop")?r.getNamedItem("data-anim-loop").value:r.getNamedItem("data-bm-loop")?r.getNamedItem("data-bm-loop").value:r.getNamedItem("bm-loop")?r.getNamedItem("bm-loop").value:"";""===i||(n.loop="false"!==i&&("true"===i||parseInt(i)));var o=r.getNamedItem("data-anim-autoplay")?r.getNamedItem("data-anim-autoplay").value:r.getNamedItem("data-bm-autoplay")?r.getNamedItem("data-bm-autoplay").value:!r.getNamedItem("bm-autoplay")||r.getNamedItem("bm-autoplay").value;n.autoplay="false"!==o,n.name=r.getNamedItem("data-name")?r.getNamedItem("data-name").value:r.getNamedItem("data-bm-name")?r.getNamedItem("data-bm-name").value:r.getNamedItem("bm-name")?r.getNamedItem("bm-name").value:"","false"===(r.getNamedItem("data-anim-prerender")?r.getNamedItem("data-anim-prerender").value:r.getNamedItem("data-bm-prerender")?r.getNamedItem("data-bm-prerender").value:r.getNamedItem("bm-prerender")?r.getNamedItem("bm-prerender").value:"")&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,n,r=this.animationData.layers,i=r.length,o=e.layers,a=o.length;for(n=0;n<a;n+=1)for(t=0;t<i;){if(r[t].id==o[n].id){r[t]=o[n];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(i=e.assets.length,t=0;t<i;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.subframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(e,t,n){n&&this.name!=n||(t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,n){this.goToAndStop(e,t,n),this.play()},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,n=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(n=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(n=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),n&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?n=e:this.currentRawFrame+this.firstFrame>t&&(n=t-e)),this.firstFrame=e,this.timeCompleted=this.totalFrames=t-e,-1!==n&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==typeof e[0]){var n,r=e.length;for(n=0;n<r;n+=1)this.segments.push(e[n])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),t=this.assetsPath+n}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,n=this.assets.length;t<n;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=function(){var e={};return e.initExpressions=function(e){var t=0,n=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0===(t-=1)&&function(){var e,t=n.length;for(e=0;e<t;e+=1)n[e].release();n.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===n.indexOf(e)&&n.push(e)}},e}();expressionsPlugin=Expressions;var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=typeof e;if("number"===t||"boolean"===t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){var n,r=e.length,i=[];for(n=0;n<r;n+=1)i[n]=-e[n];return i}return e.propType?e.v:void 0}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var n=typeof e,r=typeof t;if("string"===n||"string"===r)return e+t;if(isNumerable(n,e)&&isNumerable(r,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]=e[0]+t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,o=e.length,a=t.length,s=[];i<o||i<a;)("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?s[i]=e[i]+t[i]:s[i]=void 0===t[i]?e[i]:e[i]||t[i],i+=1;return s}return 0}var add=sum;function sub(e,t){var n=typeof e,r=typeof t;if(isNumerable(n,e)&&isNumerable(r,t))return"string"===n&&(e=parseInt(e)),"string"===r&&(t=parseInt(t)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(r,t))return(e=e.slice(0))[0]=e[0]-t,e;if(isNumerable(n,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,o=e.length,a=t.length,s=[];i<o||i<a;)("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?s[i]=e[i]-t[i]:s[i]=void 0===t[i]?e[i]:e[i]||t[i],i+=1;return s}return 0}function mul(e,t){var n,r,i,o=typeof e,a=typeof t;if(isNumerable(o,e)&&isNumerable(a,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=e[r]*t;return n}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=e*t[r];return n}return 0}function div(e,t){var n,r,i,o=typeof e,a=typeof t;if(isNumerable(o,e)&&isNumerable(a,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(a,t)){for(i=e.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=e[r]/t;return n}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(i=t.length,n=createTypedArray("float32",i),r=0;r<i;r+=1)n[r]=e/t[r];return n}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,n){if(t>n){var r=n;n=t,t=r}return Math.min(Math.max(e,t),n)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var n,r=Math.min(e.length,t.length),i=0;for(n=0;n<r;n+=1)i+=Math.pow(t[n]-e[n],2);return Math.sqrt(i)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,n,r=e[0],i=e[1],o=e[2],a=Math.max(r,i,o),s=Math.min(r,i,o),l=(a+s)/2;if(a==s)t=n=0;else{var c=a-s;switch(n=l>.5?c/(2-a-s):c/(a+s),a){case r:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-r)/c+2;break;case o:t=(r-i)/c+4}t/=6}return[t,n,l,e[3]]}function hue2rgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslToRgb(e){var t,n,r,i=e[0],o=e[1],a=e[2];if(0===o)t=n=r=a;else{var s=a<.5?a*(1+o):a+o-a*o,l=2*a-s;t=hue2rgb(l,s,i+1/3),n=hue2rgb(l,s,i),r=hue2rgb(l,s,i-1/3)}return[t,n,r,e[3]]}function linear(e,t,n,r,i){if(void 0!==r&&void 0!==i||(r=t,i=n,t=0,n=1),n<t){var o=n;n=t,t=o}if(e<=t)return r;if(e>=n)return i;var a=n===t?0:(e-t)/(n-t);if(!r.length)return r+(i-r)*a;var s,l=r.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=r[s]+(i[s]-r[s])*a;return c}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var n,r=t.length;e||(e=createTypedArray("float32",r));var i=createTypedArray("float32",r),o=BMMath.random();for(n=0;n<r;n+=1)i[n]=e[n]+o*(t[n]-e[n]);return i}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,n,r){var i,o=e.length,a=shape_pool.newElement();a.setPathData(!!r,o);var s,l,c=[0,0];for(i=0;i<o;i+=1)s=t&&t[i]?t[i]:c,l=n&&n[i]?n[i]:c,a.setTripleAt(e[i][0],e[i][1],l[0]+e[i][0],l[1]+e[i][1],s[0]+e[i][0],s[1]+e[i][1],i,!0);return a}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf){var i,len=data.xf.length;for(i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())")}var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var n,r,i=this.pv.length?this.pv.length:1,o=createTypedArray("float32",i);var a=Math.floor(5*time);for(n=0,r=0;n<a;){for(r=0;r<i;r+=1)o[r]+=-t+2*t*BMMath.random();n+=1}var s=5*time,l=s-Math.floor(s),c=createTypedArray("float32",i);if(i>1){for(r=0;r<i;r+=1)c[r]=this.pv[r]+o[r]+(-t+2*t*BMMath.random())*l;return c}return this.pv+o[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],r=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads;return[-Math.atan2(n[1],n[2])/degToRads,r,0]}function easeOut(e,t,n,r,i){return applyEase(easeOutBez,e,t,n,r,i)}function easeIn(e,t,n,r,i){return applyEase(easeInBez,e,t,n,r,i)}function ease(e,t,n,r,i){return applyEase(easeInOutBez,e,t,n,r,i)}function applyEase(e,t,n,r,i,o){void 0===i?(i=n,o=r):t=(t-n)/(r-n);var a=e(t=t>1?1:t<0?0:t);if($bm_isInstanceOfArray(i)){var s,l=i.length,c=createTypedArray("float32",l);for(s=0;s<l;s+=1)c[s]=(o[s]-i[s])*a+i[s];return c}return(o-i)*a+i}function nearestKey(e){var t,n,r,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(n=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)n=1,r=data.k[0].t;else{for(t=0;t<i-1;t+=1){if(e===data.k[t].t){n=t+1,r=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(n=t+2,r=data.k[t+1].t):(n=t+1,r=data.k[t].t);break}}-1===n&&(n=t+1,r=data.k[t].t)}else n=0,r=0;var o={};return o.index=n,o.time=r/elem.comp.globalData.frameRate,o}function key(e){var t,n,r;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var i=data.k[e].hasOwnProperty("s")?data.k[e].s:data.k[e-1].e;for(r=i.length,n=0;n<r;n+=1)t[n]=i[n],t.value[n]=i[n];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return e||0===e||(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,n){t.x&&(n.k=!0,n.x=!0,n.initiateExpression=ExpressionManager.initiateExpression,n.effectsSequence.push(n.initiateExpression(e,t,n).bind(n)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),n=this.getValueAtTime(e+-.01),r=0;if(t.length){var i;for(i=0;i<t.length;i+=1)r+=Math.pow(n[i]-t[i],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,n,r=this.getValueAtTime(e),i=this.getValueAtTime(e+-.001);if(r.length)for(t=createTypedArray("float32",r.length),n=0;n<r.length;n+=1)t[n]=(i[n]-r[n])/-.001;else t=(i-r)/-.001;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};!function(){function e(e,t,n){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var r,i,o,a,s,l=this.comp.renderedFrame,c=this.keyframes,u=c[c.length-1].t;if(l<=u)return this.pv;if(n?i=u-(r=t?Math.abs(u-elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>c.length-1)&&(t=c.length-1),r=u-(i=c[c.length-1-t].t)),"pingpong"===e){if(Math.floor((l-i)/r)%2!=0)return this.getValueAtTime((r-(l-i)%r+i)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0),f=Math.floor((l-i)/r);if(this.pv.length){for(a=(s=new Array(h.length)).length,o=0;o<a;o+=1)s[o]=(d[o]-h[o])*f+p[o];return s}return(d-h)*f+p}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*((l-u)/this.comp.globalData.frameRate)/5e-4;return s}return m+(l-u)/.001*(m-v)}}return this.getValueAtTime(((l-i)%r+i)/this.comp.globalData.frameRate,0)}function t(e,t,n){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var r,i,o,a,s,l=this.comp.renderedFrame,c=this.keyframes,u=c[0].t;if(l>=u)return this.pv;if(n?i=u+(r=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>c.length-1)&&(t=c.length-1),r=(i=c[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/r)%2==0)return this.getValueAtTime(((u-l)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(i/this.comp.globalData.frameRate,0),p=this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-l)/r)+1;if(this.pv.length){for(a=(s=new Array(h.length)).length,o=0;o<a;o+=1)s[o]=p[o]-(d[o]-h[o])*f;return s}return p-(d-h)*f}if("continue"===e){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),v=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(a=(s=new Array(m.length)).length,o=0;o<a;o+=1)s[o]=m[o]+(m[o]-v[o])*(u-l)/.001;return s}return m+(m-v)*(u-l)/.001}}return this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0)}function n(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var n,r,i=this.comp.renderedFrame/this.comp.globalData.frameRate,o=i-e,a=t>1?(i+e-o)/(t-1):1,s=0,l=0;for(n=this.pv.length?createTypedArray("float32",this.pv.length):0;s<t;){if(r=this.getValueAtTime(o+s*a),this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]+=r[l];else n+=r;s+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)n[l]/=t;else n/=t;return n}function r(e){console.warn("Transform at time not supported")}function i(e){}var o=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,n){var a=o(e,t,n);return a.dynamicProperties.length?a.getValueAtTime=r.bind(a):a.getValueAtTime=i.bind(a),a.setGroupProperty=expressionHelpers.setGroupProperty,a};var a=PropertyFactory.getProp;PropertyFactory.getProp=function(r,i,o,s,l){var c=a(r,i,o,s,l);c.kf?c.getValueAtTime=expressionHelpers.getValueAtTime.bind(c):c.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(c),c.setGroupProperty=expressionHelpers.setGroupProperty,c.loopOut=e,c.loopIn=t,c.smooth=n,c.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(c),c.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(c),c.numKeys=1===i.a?i.k.length:0,c.propertyIndex=i.ix;var u=0;return 0!==o&&(u=createTypedArray("float32",1===i.a?i.k[0].s.length:i.k.length)),c._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:u},expressionHelpers.searchExpressions(r,i,c),c.k&&l.addDynamicProperty(c),c};var s=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function c(){}c.prototype={vertices:function(e,t){this.k&&this.getValue();var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0));var r,i=n._length,o=n[e],a=n.v,s=createSizedArray(i);for(r=0;r<i;r+=1)s[r]="i"===e||"o"===e?[o[r][0]-a[r][0],o[r][1]-a[r][1]]:[o[r][0],o[r][1]];return s},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var n=this.v;void 0!==t&&(n=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(n));for(var r,i=this._segmentsLength,o=i.lengths,a=i.totalLength*e,s=0,l=o.length,c=0;s<l;){if(c+o[s].addedLength>a){var u=s,h=n.c&&s===l-1?0:s+1,d=(a-c)/o[s].addedLength;r=bez.getPointInSegment(n.v[u],n.v[h],n.o[u],n.i[h],d,o[s]);break}c+=o[s].addedLength,s+=1}return r||(r=n.c?[n.v[0][0],n.v[0][1]]:[n.v[n._length-1][0],n.v[n._length-1][1]]),r},vectorOnPath:function(e,t,n){e=1==e?this.v.c?0:.999:e;var r=this.pointOnPath(e,t),i=this.pointOnPath(e+.001,t),o=i[0]-r[0],a=i[1]-r[1],s=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));return 0===s?[0,0]:"tangent"===n?[o/s,a/s]:[-a/s,o/s]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([c],s),extendPrototype([c],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var u=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,n,r,i){var o=u(e,t,n,r,i);return o.propertyIndex=t.ix,o.lock=!1,3===n?expressionHelpers.searchExpressions(e,t.pt,o):4===n&&expressionHelpers.searchExpressions(e,t.ks,o),o.k&&e.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(e,t){var n=this.calculateExpression(t);if(e.t!==n){var r={};return this.copyData(r,e),r.t=n.toString(),r.__complete=!1,r}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(){function e(e,h,d){var p,f=[],m=e?e.length:0;for(p=0;p<m;p+=1)"gr"==e[p].ty?f.push(t(e[p],h[p],d)):"fl"==e[p].ty?f.push(n(e[p],h[p],d)):"st"==e[p].ty?f.push(r(e[p],h[p],d)):"tm"==e[p].ty?f.push(i(e[p],h[p],d)):"tr"==e[p].ty||("el"==e[p].ty?f.push(o(e[p],h[p],d)):"sr"==e[p].ty?f.push(a(e[p],h[p],d)):"sh"==e[p].ty?f.push(u(e[p],h[p],d)):"rc"==e[p].ty?f.push(s(e[p],h[p],d)):"rd"==e[p].ty?f.push(l(e[p],h[p],d)):"rp"==e[p].ty&&f.push(c(e[p],h[p],d)));return f}function t(t,n,r){var i=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return i.content;default:return i.transform}};i.propertyGroup=function(e){return 1===e?i:r(e-1)};var o=function(t,n,r){var i,o=function(e){for(var t=0,n=i.length;t<n;){if(i[t]._name===e||i[t].mn===e||i[t].propertyIndex===e||i[t].ix===e||i[t].ind===e)return i[t];t+=1}if("number"==typeof e)return i[e-1]};return o.propertyGroup=function(e){return 1===e?o:r(e-1)},i=e(t.it,n.it,o.propertyGroup),o.numProperties=i.length,o.propertyIndex=t.cix,o._name=t.nm,o}(t,n,i.propertyGroup),a=function(e,t,n){function r(e){return 1==e?i:n(--e)}t.transform.mProps.o.setGroupProperty(r),t.transform.mProps.p.setGroupProperty(r),t.transform.mProps.a.setGroupProperty(r),t.transform.mProps.s.setGroupProperty(r),t.transform.mProps.r.setGroupProperty(r),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(r),t.transform.mProps.sa.setGroupProperty(r));function i(t){return e.a.ix===t||"Anchor Point"===t?i.anchorPoint:e.o.ix===t||"Opacity"===t?i.opacity:e.p.ix===t||"Position"===t?i.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?i.rotation:e.s.ix===t||"Scale"===t?i.scale:e.sk&&e.sk.ix===t||"Skew"===t?i.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?i.skewAxis:void 0}return t.transform.op.setGroupProperty(r),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),i.ty="tr",i.mn=e.mn,i.propertyGroup=n,i}(t.it[t.it.length-1],n.it[n.it.length-1],i.propertyGroup);return i.content=o,i.transform=a,Object.defineProperty(i,"_name",{get:function(){return t.nm}}),i.numProperties=t.np,i.propertyIndex=t.ix,i.nm=t.nm,i.mn=t.mn,i}function n(e,t,n){function r(e){return"Color"===e||"color"===e?r.color:"Opacity"===e||"opacity"===e?r.opacity:void 0}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(n),t.o.setGroupProperty(n),r}function r(e,t,n){function r(e){return 1===e?ob:n(e-1)}function i(e){return 1===e?l:r(e-1)}function o(n){Object.defineProperty(l,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)})}var a,s=e.d?e.d.length:0,l={};for(a=0;a<s;a+=1)o(a),t.d.dataProps[a].p.setGroupProperty(i);function c(e){return"Color"===e||"color"===e?c.color:"Opacity"===e||"opacity"===e?c.opacity:"Stroke Width"===e||"stroke width"===e?c.strokeWidth:void 0}return Object.defineProperties(c,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(r),t.o.setGroupProperty(r),t.w.setGroupProperty(r),c}function i(e,t,n){function r(e){return 1==e?i:n(--e)}function i(t){return t===e.e.ix||"End"===t||"end"===t?i.end:t===e.s.ix?i.start:t===e.o.ix?i.offset:void 0}return i.propertyIndex=e.ix,t.s.setGroupProperty(r),t.e.setGroupProperty(r),t.o.setGroupProperty(r),i.propertyIndex=e.ix,i.propertyGroup=n,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),i.mn=e.mn,i}function o(e,t,n){function r(e){return 1==e?o:n(--e)}o.propertyIndex=e.ix;var i="tm"===t.sh.ty?t.sh.prop:t.sh;function o(t){return e.p.ix===t?o.position:e.s.ix===t?o.size:void 0}return i.s.setGroupProperty(r),i.p.setGroupProperty(r),Object.defineProperties(o,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:e.nm}}),o.mn=e.mn,o}function a(e,t,n){function r(e){return 1==e?o:n(--e)}var i="tm"===t.sh.ty?t.sh.prop:t.sh;function o(t){return e.p.ix===t?o.position:e.r.ix===t?o.rotation:e.pt.ix===t?o.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?o.outerRadius:e.os.ix===t?o.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?o.innerRoundness:void 0:o.innerRadius}return o.propertyIndex=e.ix,i.or.setGroupProperty(r),i.os.setGroupProperty(r),i.pt.setGroupProperty(r),i.p.setGroupProperty(r),i.r.setGroupProperty(r),e.ir&&(i.ir.setGroupProperty(r),i.is.setGroupProperty(r)),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:e.nm}}),o.mn=e.mn,o}function s(e,t,n){function r(e){return 1==e?o:n(--e)}var i="tm"===t.sh.ty?t.sh.prop:t.sh;function o(t){return e.p.ix===t?o.position:e.r.ix===t?o.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?o.size:void 0}return o.propertyIndex=e.ix,i.p.setGroupProperty(r),i.s.setGroupProperty(r),i.r.setGroupProperty(r),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:e.nm}}),o.mn=e.mn,o}function l(e,t,n){var r=t;function i(t){if(e.r.ix===t||"Round Corners 1"===t)return i.radius}return i.propertyIndex=e.ix,r.rd.setGroupProperty((function(e){return 1==e?i:n(--e)})),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(r.rd)},_name:{value:e.nm}}),i.mn=e.mn,i}function c(e,t,n){function r(e){return 1==e?o:n(--e)}var i=t;function o(t){return e.c.ix===t||"Copies"===t?o.copies:e.o.ix===t||"Offset"===t?o.offset:void 0}return o.propertyIndex=e.ix,i.c.setGroupProperty(r),i.o.setGroupProperty(r),Object.defineProperties(o,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:e.nm}}),o.mn=e.mn,o}function u(e,t,n){var r=t.sh;function i(e){if("Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e)return i.path}return r.setGroupProperty((function(e){return 1==e?i:n(--e)})),Object.defineProperties(i,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn}}),i}return function(t,n,r){var i;function o(e){if("number"==typeof e)return i[e-1];for(var t=0,n=i.length;t<n;){if(i[t]._name===e)return i[t];t+=1}}return o.propertyGroup=r,i=e(t,n,o),o.numProperties=i.length,o}}(),TextExpressionInterface=function(e){var t;function n(){}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var n=e.textProperty.currentData.t;return void 0!==n&&(e.textProperty.currentData.t=void 0,(t=new String(n)).value=n||new String(n)),t}}),n},LayerExpressionInterface=function(){function e(e,t){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(n);return n.applyToPointArray(e[0],e[1],e[2]||0)}return n.applyToPointArray(e[0],e[1],e[2]||0)}function t(e,t){var n=new Matrix;if(n.reset(),this._elem.finalTransform.mProp.applyToMatrix(n),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(n);return n.inversePoint(e)}return n.inversePoint(e)}function n(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var n,r=this._elem.hierarchy.length;for(n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function r(){return[1,1,1,1]}return function(i){var o;function a(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return a.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return o;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return a.effect}}a.toWorld=e,a.fromWorld=t,a.toComp=e,a.fromComp=n,a.sampleImage=r,a.sourceRectAtTime=i.sourceRectAtTime.bind(i),a._elem=i;var s=getDescriptor(o=TransformExpressionInterface(i.finalTransform.mProp),"anchorPoint");return Object.defineProperties(a,{hasParent:{get:function(){return i.hierarchy.length}},parent:{get:function(){return i.hierarchy[0].layerInterface}},rotation:getDescriptor(o,"rotation"),scale:getDescriptor(o,"scale"),position:getDescriptor(o,"position"),opacity:getDescriptor(o,"opacity"),anchorPoint:s,anchor_point:s,transform:{get:function(){return o}},active:{get:function(){return i.isInRange}}}),a.startTime=i.data.st,a.index=i.data.ind,a.source=i.data.refId,a.height=0===i.data.ty?i.data.h:100,a.width=0===i.data.ty?i.data.w:100,a.inPoint=i.data.ip/i.comp.globalData.frameRate,a.outPoint=i.data.op/i.comp.globalData.frameRate,a._name=i.data.nm,a.registerMaskInterface=function(e){a.mask=new MaskManagerInterface(e,i)},a.registerEffectsInterface=function(e){a.effect=e},a}}(),CompExpressionInterface=function(e){function t(t){for(var n=0,r=e.layers.length;n<r;){if(e.layers[n].nm===t||e.layers[n].ind===t)return e.elements[n].layerInterface;n+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t},TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity}}if(Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p)var n=ExpressionPropertyInterface(e.p);return Object.defineProperty(t,"position",{get:function(){return e.p?n():[e.px.v,e.py.v,e.pz?e.pz.v:0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,n=this.compositions.length;t<n;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),EffectsExpressionInterface=function(){function e(n,r,i,o){var a,s=[],l=n.ef.length;for(a=0;a<l;a+=1)5===n.ef[a].ty?s.push(e(n.ef[a],r.effectElements[a],r.effectElements[a].propertyGroup,o)):s.push(t(r.effectElements[a],n.ef[a].ty,o,c));function c(e){return 1===e?u:i(e-1)}var u=function(e){for(var t=n.ef,r=0,i=t.length;r<i;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return 5===t[r].ty?s[r]:s[r]();r+=1}return s[0]()};return u.propertyGroup=c,"ADBE Color Control"===n.mn&&Object.defineProperty(u,"color",{get:function(){return s[0]()}}),Object.defineProperty(u,"numProperties",{get:function(){return n.np}}),u.active=u.enabled=0!==n.en,u}function t(e,t,n,r){var i=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(r),function(){return 10===t?n.comp.compInterface(e.p.v):i()}}return{createEffectsInterface:function(t,n){if(t.effectsManager){var r,i=[],o=t.data.ef,a=t.effectsManager.effectElements.length;for(r=0;r<a;r+=1)i.push(e(o[r],t.effectsManager.effectElements[r],n,t));return function(e){for(var n=t.data.ef||[],r=0,o=n.length;r<o;){if(e===n[r].nm||e===n[r].mn||e===n[r].ix)return i[r];r+=1}}}}}}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}});return function(t,n){var r,i=createSizedArray(t.viewData.length),o=t.viewData.length;for(r=0;r<o;r+=1)i[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<o;){if(t.masksProperties[r].nm===e)return i[r];r+=1}}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function n(e,t,n){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(r){if(e.numKeys){var i="";i="s"in t.keyframes[r-1]?t.keyframes[r-1].s:"e"in t.keyframes[r-2]?t.keyframes[r-2].e:t.keyframes[r-2].s;var o="unidimensional"===n?new Number(i):Object.assign({},i);return o.time=t.keyframes[r-1].t/t.elem.comp.globalData.frameRate,o}return 0},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function r(){return e}return function(i){return i?"unidimensional"===i.propType?function(t){t&&"pv"in t||(t=e);var r=1/t.mult,i=t.pv*r,o=new Number(i);return o.value=i,n(o,t,"unidimensional"),function(){return t.k&&t.getValue(),i=t.v*r,o.value!==i&&((o=new Number(i)).value=i,n(o,t,"unidimensional")),o}}(i):function(e){e&&"pv"in e||(e=t);var r=1/e.mult,i=e.pv.length,o=createTypedArray("float32",i),a=createTypedArray("float32",i);return o.value=a,n(o,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<i;t+=1)o[t]=a[t]=e.v[t]*r;return o}}(i):r}}(),TextExpressionSelectorProp,propertyGetTextProp;function SliderEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function AngleEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function ColorEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function PointEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,1,0,n)}function LayerIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function MaskIndexEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function CheckboxEffect(e,t,n){this.p=PropertyFactory.getProp(t,e.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(e,t){var n=e.ef||[];this.effectElements=[];var r,i,o=n.length;for(r=0;r<o;r++)i=new GroupEffect(n[r],t),this.effectElements.push(i)}function GroupEffect(e,t){this.init(e,t)}TextExpressionSelectorProp=function(){function e(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}return function(t,n){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=n.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,n,this),this.getMult=e,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty}}(),propertyGetTextProp=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(e,t,n){return 1===t.t?new TextExpressionSelectorProp(e,t,n):propertyGetTextProp(e,t,n)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var n,r,i=this.data.ef.length,o=this.data.ef;for(n=0;n<i;n+=1){switch(r=null,o[n].ty){case 0:r=new SliderEffect(o[n],t,this);break;case 1:r=new AngleEffect(o[n],t,this);break;case 2:r=new ColorEffect(o[n],t,this);break;case 3:r=new PointEffect(o[n],t,this);break;case 4:case 7:r=new CheckboxEffect(o[n],t,this);break;case 10:r=new LayerIndexEffect(o[n],t,this);break;case 11:r=new MaskIndexEffect(o[n],t,this);break;case 5:r=new EffectsManager(o[n],t,this);break;default:r=new NoValueEffect(o[n],t,this)}r&&this.effectElements.push(r)}};var lottie={},_isFrozen=!1;function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&e>1&&(defaultCurveSegments=e);roundValues(!(defaultCurveSegments>=50))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(decodeURIComponent(r[0])==e)return decodeURIComponent(r[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.6.2";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="";if(standalone){var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"";renderer=getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);return lottie}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.anim_menu_stack={v:"5.5.8",fr:60,ip:0,op:61,w:16,h:16,nm:"menu-burger-icon  w/ hover",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.8],y:[1]},o:{x:[.2],y:[0]},t:37,s:[0],e:[-45]},{t:52}],ix:10},p:{a:1,k:[{i:{x:.8,y:1},o:{x:.2,y:0},t:30,s:[8.001,1.999,0],e:[8.001,8,0],to:[0,1,0],ti:[0,-1,0]},{t:45}],ix:2},a:{a:0,k:[8.001,.999,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[3.999,1.001],[8.001,1.001],[8.001,-1.001],[3.999,-1.001]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0]],o:[[0,0]],v:[[3.999,-.999]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8.001,1.001],[.999,1.001],[.999,-1.001],[-8.001,-1.001]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.004000000393,.008000000785,.008000000785,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[8,1],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:61,st:30,bm:0},{ddd:0,ind:2,ty:4,nm:"2",sr:1,ks:{o:{a:1,k:[{i:{x:[.8],y:[1]},o:{x:[.2],y:[0]},t:30,s:[100],e:[0]},{t:45}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[8,8,0],ix:2},a:{a:0,k:[8,7,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8,1.001],[8,1.001],[8,-1.001],[-8,-1.001]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.004000000393,.008000000785,.008000000785,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[8,7],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:45,st:30,bm:0},{ddd:0,ind:3,ty:4,nm:"3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.8],y:[1]},o:{x:[.2],y:[0]},t:37,s:[0],e:[45]},{t:52}],ix:10},p:{a:1,k:[{i:{x:.8,y:1},o:{x:.2,y:0},t:30,s:[8,14,0],e:[8,8,0],to:[0,-1,0],ti:[0,1,0]},{t:45}],ix:2},a:{a:0,k:[8,13,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8,1],[8,1],[8,-1],[-8,-1]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.004000000393,.008000000785,.008000000785,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[8,13],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:30,op:61,st:30,bm:0},{ddd:0,ind:4,ty:4,nm:"6",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.4,y:0},t:0,s:[8.001,1.999,0],e:[-8.062,2.001,0],to:[0,0,0],ti:[0,0,0]},{t:9,s:[-8.062,2.001,0],h:1},{i:{x:.3,y:1},o:{x:.4,y:0},t:11,s:[24.063,2,0],e:[8.001,1.999,0],to:[0,0,0],ti:[0,0,0]},{t:22}],ix:2},a:{a:0,k:[8.001,.999,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[3.999,1.001],[8.001,1.001],[8.001,-1.001],[3.999,-1.001]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0]],o:[[0,0]],v:[[3.999,-.999]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8.001,1.001],[.999,1.001],[.999,-1.001],[-8.001,-1.001]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.004000000393,.008000000785,.008000000785,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[8,1],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30,st:30,bm:0},{ddd:0,ind:5,ty:4,nm:"5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.4,y:0},t:5,s:[8,8,0],e:[-8.062,8.002,0],to:[0,0,0],ti:[0,0,0]},{t:14,s:[-8.062,8.002,0],h:1},{i:{x:.3,y:1},o:{x:.4,y:0},t:16,s:[24.062,8.001,0],e:[8,8,0],to:[0,0,0],ti:[0,0,0]},{t:26}],ix:2},a:{a:0,k:[8,7,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8,1.001],[8,1.001],[8,-1.001],[-8,-1.001]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.004000000393,.008000000785,.008000000785,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[8,7],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30,st:35,bm:0},{ddd:0,ind:6,ty:4,nm:"4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.833,y:.833},o:{x:.4,y:0},t:8,s:[8,14,0],e:[-8.062,14.001,0],to:[0,0,0],ti:[0,0,0]},{t:17,s:[-8.062,14.001,0],h:1},{i:{x:.3,y:1},o:{x:.4,y:0},t:19,s:[24.062,14.001,0],e:[8,14,0],to:[0,0,0],ti:[0,0,0]},{t:29}],ix:2},a:{a:0,k:[8,13,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-8,1],[8,1],[8,-1],[-8,-1]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[.004000000393,.008000000785,.008000000785,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[8,13],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:30,st:38,bm:0}],markers:[{tm:30,cm:"",dr:0}]},t.anim_hero_scroll={v:"5.4.3",fr:60,ip:0,op:91,w:4,h:80,nm:"scrolley",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"scrolley 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2.5,27,0],ix:2},a:{a:0,k:[1,477,0],ix:1},s:{a:0,k:[100,80,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1,444],[1,543.125]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:8},bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[],o:[],v:[],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.33],y:[0]},n:["0p4_1_0p33_0"],t:18,s:[0],e:[100]},{t:60}],ix:1},e:{a:1,k:[{i:{x:[.4],y:[1]},o:{x:[.33],y:[0]},n:["0p4_1_0p33_0"],t:0,s:[0],e:[100]},{t:38}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:8},bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:91,st:-180,bm:0},{ddd:0,ind:2,ty:4,nm:"scrolley 2",sr:1,ks:{o:{a:0,k:25,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2.5,27,0],ix:2},a:{a:0,k:[1,477,0],ix:1},s:{a:0,k:[100,80,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1,444],[1,543.125]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:8},bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[1,0,0,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[],o:[],v:[],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:0,k:100,ix:1},e:{a:0,k:0,ix:2},o:{a:0,k:0,ix:3},m:1,ix:3,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:4,ml2:{a:0,k:4,ix:8},bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:91,st:-180,bm:0}],markers:[]},t.form_submit_loader={v:"5.5.9",fr:60,ip:0,op:60,w:50,h:50,nm:"16. Preloader simple",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"halves",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.5],y:[1]},o:{x:[.5],y:[0]},t:0,s:[0],e:[180]},{t:60}],ix:10},p:{a:0,k:[25,25,0],ix:2},a:{a:0,k:[16.5,16.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-8.836],[-8.836,0]],o:[[-8.836,0],[0,8.837],[0,0]],v:[[8,-16],[-8,0],[8,16]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[0,0],[0,8.837],[8.837,0]],o:[[8.837,0],[0,-8.836],[0,0]],v:[[8,16],[24,0],[8,-16]],c:!1},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.999999940162,.999999940162,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[8.5,16.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.5],y:[1]},o:{x:[.5],y:[0]},t:0,s:[100],e:[0]},{t:30}],ix:1},e:{a:1,k:[{i:{x:[.5],y:[1]},o:{x:[.5],y:[0]},t:30,s:[100],e:[0]},{t:60}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:121,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"solid-bg",sr:1,ks:{o:{a:0,k:30,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[25,25,0],ix:2},a:{a:0,k:[16.5,16.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,-8.836],[-8.836,0]],o:[[-8.836,0],[0,8.837],[0,0]],v:[[8,-16],[-8,0],[8,16]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.999999940162,.999999940162,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[8.5,16.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,8.837],[8.837,0]],o:[[8.837,0],[0,-8.836],[0,0]],v:[[-8,16],[8,0],[-8,-16]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.999999940162,.999999940162,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:1,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[24.5,16.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1}],ip:0,op:600,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"logo",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[25,25,0],ix:2},a:{a:0,k:[11.51,15.171,0],ix:1},s:{a:0,k:[50,50,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[.192,1.578],[.774,2.12],[1.39,2.227],[-.2,.144],[-.362,.504],[.714,2.143],[2.307,.491],[.776,.003],[0,0],[0,0],[0,0],[0,0],[.695,-.365],[0,0],[0,0],[0,0],[0,.205],[0,0],[-.789,.088],[-.72,.137],[-.737,.335],[0,0],[-.343,-.951],[.007,-1.723],[.171,-.091],[0,0],[0,0]],o:[[-.108,-.032],[-.081,-.662],[-.887,-2.429],[.213,-.134],[1.111,-.794],[1.535,-2.134],[-.878,-2.63],[-.621,-.133],[0,0],[0,0],[.749,.455],[0,0],[0,.205],[0,0],[0,0],[0,0],[-.714,-.384],[0,0],[.451,-.028],[.903,-.1],[1.012,-.192],[0,0],[.638,1.167],[.766,2.131],[-.008,2.351],[0,0],[0,0],[0,0]],v:[[6.361,12.501],[5.588,10.731],[4.147,5.128],[1.184,-.805],[1.719,-1.163],[4.158,-3.538],[5.325,-10.475],[.285,-14.957],[-2.127,-15.171],[-11.416,-15.171],[-11.416,-15.003],[-10.746,-13.206],[-10.746,10.817],[-11.51,12.501],[-11.51,12.669],[-7.253,12.669],[-7.253,12.501],[-8.014,10.817],[-8.014,1.483],[-6.011,1.313],[-3.655,.964],[-.351,-.017],[-.334,.012],[1.316,3.661],[2.495,9.413],[.818,12.501],[.818,12.669],[6.361,12.669]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[4.382,-1.297],[.538,-.023],[0,0],[0,0],[0,0],[-.278,-.055],[-.516,-.425],[.018,-2.092]],o:[[-1.314,.388],[0,0],[0,0],[0,0],[.217,0],[.496,.073],[.826,.683],[-.034,3.598]],v:[[-4.155,-.811],[-8.014,-.231],[-8.014,-13.6],[-2.585,-13.6],[-2.001,-13.59],[-.885,-13.528],[.808,-12.828],[2.354,-8.768]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[-.773,.086],[-.476,.077],[0,0],[.262,.591],[.411,-.018],[0,0],[.888,-.117],[0,0],[.68,-.358],[0,0],[0,0],[0,0],[0,.201],[0,0]],o:[[.574,-.065],[0,0],[-.158,-.436],[-1.156,.224],[0,0],[-.821,.21],[0,0],[0,.201],[0,0],[0,0],[0,0],[-.7,-.375],[0,0],[.442,-.028]],v:[[-.614,4.074],[.941,3.863],[.919,3.803],[.272,2.215],[-2.578,2.561],[-2.578,1.151],[-5.256,1.637],[-5.256,13.355],[-6.003,15.005],[-6.003,15.171],[-1.831,15.171],[-1.831,15.005],[-2.578,13.355],[-2.578,4.24]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[.187,1.545],[.759,2.077],[1.362,2.183],[-.196,.141],[-.355,.495],[.7,2.1],[2.259,.481],[.149,.021],[-.161,-.486],[-.054,-.242],[-.047,-.041],[.019,-2.05],[3.115,-1.495],[-.282,-.652],[-.276,.125],[0,0],[-.335,-.931],[.007,-1.69],[.167,-.089],[0,0],[0,0],[0,0]],o:[[-.08,-.65],[-.869,-2.382],[.208,-.13],[1.089,-.779],[1.504,-2.09],[-.86,-2.578],[-.123,-.026],[.222,.406],[.078,.232],[.05,.035],[.81,.669],[-.027,3.014],[.323,.601],[.435,-.137],[0,0],[.625,1.144],[.751,2.088],[-.007,2.302],[0,0],[0,0],[0,0],[-.106,-.032]],v:[[10.754,13.305],[9.34,7.814],[6.437,1.997],[6.961,1.647],[9.351,-.681],[10.494,-7.478],[5.557,-11.871],[5.147,-11.943],[5.724,-10.607],[5.921,-9.896],[6.068,-9.784],[7.582,-5.805],[2.937,1.333],[3.83,3.176],[4.933,2.771],[4.95,2.798],[6.565,6.375],[7.721,12.012],[6.078,15.005],[6.078,15.17],[11.51,15.17],[11.51,15.005]],c:!0},ix:2},nm:"Path 4",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[.31,.376],[0,0],[0,0],[0,0],[0,0],[-.297,.089],[-.519,.247],[0,0],[0,0]],o:[[0,0],[0,0],[.733,.445],[0,0],[.348,-.065],[.614,-.18],[0,0],[0,0],[-.178,-.658]],v:[[.96,-12.08],[-5.912,-12.08],[-5.912,-11.915],[-5.256,-10.155],[-5.256,-.985],[-4.275,-1.215],[-2.578,-1.86],[-2.578,-10.54],[1.724,-10.54]],c:!0},ix:2},nm:"Path 5",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[11.51,15.171],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:9,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:1200,st:0,bm:0}],markers:[]},t.anim_toggle_dark={v:"5.5.9",fr:30,ip:0,op:9,w:48,h:24,nm:"17. Toggle - Dark",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Dot",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.545,y:1},o:{x:.668,y:0},t:0,s:[12,12,0],e:[36,12,0],to:[3.023,0,0],ti:[-.977,0,0]},{t:8}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.6,.6,.6],y:[1,1,1]},o:{x:[.7,.7,.7],y:[0,0,0]},t:0,s:[100,100,100],e:[130,100,100]},{i:{x:[.6,.6,.6],y:[1,1,1]},o:{x:[.7,.7,.7],y:[0,0,0]},t:4,s:[130,100,100],e:[100,100,100]},{t:8}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[16,16],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:1,k:[{i:{x:[.6],y:[1]},o:{x:[.7],y:[0]},t:0,s:[.411764711142,.411764711142,.411764711142,1],e:[.42745098039215684,.18823529411764706,.6549019607843137,1]},{t:8}],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:9,st:-7,bm:0},{ddd:0,ind:2,ty:4,nm:"Border",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[24,12,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"rc",d:1,s:{a:0,k:[46,22],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:0,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"rd",nm:"Round Corners 1",r:{a:0,k:12,ix:1},ix:2,mn:"ADBE Vector Filter - RC",hd:!1},{ty:"st",c:{a:0,k:[.411764711142,.411764711142,.411764711142,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:9,st:-7,bm:0}],markers:[]},t.anim_toggle_light={v:"5.5.9",fr:30,ip:0,op:9,w:48,h:24,nm:"17. Toggle - Light",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Dot",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.6,y:1},o:{x:.7,y:0},t:0,s:[12,12,0],e:[36,12,0],to:[4,0,0],ti:[-4,0,0]},{t:8}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.6,.6,.6],y:[1,1,1]},o:{x:[.7,.7,.7],y:[0,0,0]},t:0,s:[100,100,100],e:[130,100,100]},{i:{x:[.6,.6,.6],y:[1,1,1]},o:{x:[.7,.7,.7],y:[0,0,0]},t:4,s:[130,100,100],e:[100,100,100]},{t:8}],ix:6}},ao:0,shapes:[{d:1,ty:"el",s:{a:0,k:[16,16],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"fl",c:{a:1,k:[{i:{x:[.6],y:[1]},o:{x:[.7],y:[0]},t:0,s:[.411764711142,.411764711142,.411764711142,1],e:[.42745098039215684,.18823529411764706,.6549019607843137,1]},{t:8}],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1}],ip:0,op:9,st:-7,bm:0},{ddd:0,ind:2,ty:4,nm:"Border",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[24,12,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"rc",d:1,s:{a:0,k:[46,22],ix:2},p:{a:0,k:[0,0],ix:3},r:{a:0,k:0,ix:4},nm:"Rectangle Path 1",mn:"ADBE Vector Shape - Rect",hd:!1},{ty:"rd",nm:"Round Corners 1",r:{a:0,k:12,ix:1},ix:2,mn:"ADBE Vector Filter - RC",hd:!1},{ty:"st",c:{a:0,k:[.866666674614,.866666674614,.866666674614,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1}],ip:0,op:9,st:-7,bm:0}],markers:[]},t.anim_request_callback={v:"5.5.7",meta:{g:"LottieFiles AE 0.1.20",a:"",k:"",d:"",tc:""},fr:29.9700012207031,ip:0,op:60.0000024438501,w:99,h:99,nm:"04. Request a call",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[49.5,49.5,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"fl",c:{a:0,k:[.137254901961,.137254901961,.137254901961,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:270.000010997325,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"RR_Request_A_Call_Back-stage2 Outlines",parent:5,sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[0,3.5,0],ix:2},a:{a:0,k:[49.5,49.5,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[2.118,-7.299],[3.618,-5.807],[-1.156,-1.055],[5.214,-1.055],[5.214,1.055],[-1.156,1.055],[3.618,5.805],[2.118,7.299],[-5.214,-.001],[-4.465,-.747],[-3.715,-1.492]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:36,s:[100]},{t:38.0000015477717,s:[0]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"fl",c:{a:0,k:[.666999966491,.57599995931,.426999978458,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[47.31,55.26],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"arrow head",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,-4.73],[0,0],[4.705,0],[0,0]],o:[[0,0],[4.729,0],[0,0],[0,4.704],[0,0],[0,0]],v:[[-2.457,-8.841],[1.216,-8.841],[9.779,-.277],[9.779,.323],[1.261,8.841],[-9.779,8.841]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:29,s:[100]},{t:36.0000014663101,s:[0]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.666999966491,.57599995931,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[58.105,64.101],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Arrow line",np:3,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[47.186,30.71],[52.873,30.71]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:19,s:[50]},{t:20.0000008146167,s:[0]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.666999966491,.57599995931,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Top Speaker",np:3,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[37.116,67.004],[45.201,67.004]],c:!1},ix:2,x:"var $bm_rt;n$bm_rt = content('Phone Bottom 1').content('Path 1').path;"},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:27,s:[0]},{t:29.0000011811942,s:[100]}],ix:1},e:{a:0,k:0,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.666999966491,.57599995931,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Phone Bottom 1",np:3,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[37.116,35.24],[62.944,35.24]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{t:22.0000008960784,s:[0]}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[100]},{t:22.0000008960784,s:[100]}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.666999966491,.57599995931,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Phone top 1",np:3,cix:2,bm:0,ix:5,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[1.97,0],[0,0],[0,0],[0,0],[0,-2.296],[0,0],[0,0],[0,0],[-2.123,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,-2.296],[0,0],[0,0],[0,0],[-1.97,0],[0,0],[0,0],[0,0],[0,2.474],[0,0],[0,0],[0,0]],v:[[12.914,2.063],[12.914,-.422],[12.914,-19.08],[12.914,-19.286],[9.345,-23.443],[9.167,-23.443],[-9.168,-23.443],[-9.346,-23.443],[-12.914,-19.286],[-12.914,-19.08],[-12.914,-.422],[-12.914,18.964],[-9.069,23.443],[-2.356,23.443],[2.355,23.443]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{t:30.0000012219251,s:[100]}],ix:1},e:{a:0,k:0,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1},{ty:"st",c:{a:0,k:[.666999966491,.57599995931,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[50.03,49.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Phone",np:3,cix:2,bm:0,ix:6,mn:"ADBE Vector Group",hd:!1}],ip:0,op:270.000010997325,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"CIRCLE R L",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[49.913,49.758,0],ix:2},a:{a:0,k:[68.663,70.758,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,26.511],[26.51,0],[0,-26.51],[-26.51,0]],o:[[0,-26.51],[-26.51,0],[0,26.511],[26.51,0]],v:[[48,0],[0,-48],[-48,0],[0,48]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.705999995213,.603999956916,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[68.663,70.758],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.3],y:[1]},o:{x:[.7],y:[0]},t:10,s:[100]},{t:40.0000016292334,s:[49]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:-90,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:10.0000004073083,op:95.0000038694293,st:5.00000020365417,bm:0},{ddd:0,ind:4,ty:4,nm:"CIRCLE R",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[49.913,49.758,0],ix:2},a:{a:0,k:[68.663,70.758,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,-26.51],[26.51,0],[0,26.511],[-26.51,0]],o:[[0,26.511],[-26.51,0],[0,-26.51],[26.51,0]],v:[[48,0],[0,48],[-48,0],[0,-48]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[.705999995213,.603999956916,.426999978458,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[68.663,70.758],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 4",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.3],y:[1]},o:{x:[.7],y:[0]},t:10,s:[100]},{t:40.0000016292334,s:[49]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:90,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:10.0000004073083,op:95.0000038694293,st:5.00000020365417,bm:0},{ddd:0,ind:5,ty:3,nm:"Pull",sr:1,ks:{o:{a:0,k:0,ix:11},r:{a:0,k:0,ix:10},p:{a:1,k:[{i:{x:.3,y:1},o:{x:.7,y:0},t:0,s:[49.5,125,0],to:[0,-13,0],ti:[0,13,0]},{t:30.0000012219251,s:[49.5,47,0]}],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,ip:0,op:90.0000036657751,st:0,bm:0}],markers:[]},t.anim_search={v:"5.5.7",meta:{g:"LottieFiles AE 0.1.20",a:"",k:"",d:"",tc:""},fr:60,ip:0,op:31,w:16,h:16,nm:"search-icon",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"search icon Outlines",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.6],y:[1]},o:{x:[.4],y:[0]},t:4,s:[0]},{t:30,s:[360]}],ix:10},p:{a:0,k:[6,6,0],ix:2},a:{a:0,k:[6,6,0],ix:1},s:{a:1,k:[{i:{x:[.3,.3,.3],y:[1,1,1]},o:{x:[.4,.4,.4],y:[0,0,0]},t:4,s:[100,100,100]},{i:{x:[.3,.3,.3],y:[1,1,1]},o:{x:[.4,.4,.4],y:[0,0,0]},t:17,s:[75,75,100]},{t:30,s:[100,100,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,2.761],[2.762,0],[0,-2.761],[-2.762,0]],o:[[0,-2.761],[-2.762,0],[0,2.761],[2.762,0]],v:[[5,0],[0,-5],[-5,0],[0,5]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,d:[{n:"d",nm:"dash",v:{a:0,k:28,ix:1}},{n:"o",nm:"offset",v:{a:0,k:0,ix:7}}],nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[6,6],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:600,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"handle",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[8,8,0],ix:2},a:{a:0,k:[8,8,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[2.732,2.732],[-2.732,-2.732]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:1,lj:1,ml:10,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[12.267,12.268],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:5,s:[100]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:24,s:[100]},{t:30,s:[0]}],ix:1},e:{a:0,k:100,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:600,st:0,bm:0}],markers:[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(118),i=n(218);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(i.a)()(r.a.apply(void 0,e))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(224),i=n(115),o=n(77),a=n(79),s=n(225),l=n(226),c=n(163),u=function(e){if(e&&"function"==typeof e[a.a])return u=e,function(e){var t=u[a.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Object(s.a)(e))return Object(r.a)(e);if(Object(l.a)(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,i.a),e};if(e&&"function"==typeof e[o.a])return t=e,function(e){for(var n=t[o.a]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,u,h=Object(c.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+h+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,t,n){"use strict";function r(e){setTimeout((function(){throw e}),0)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r,i,o;i=[t],void 0===(o="function"==typeof(r=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}function i(e){return l.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))}function o(e){var t=e||window.event;return!!i(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)}function a(){setTimeout((function(){void 0!==d&&(document.body.style.paddingRight=d,d=void 0),void 0!==h&&(document.body.style.overflow=h,h=void 0)}))}var s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),l=[],c=!1,u=-1,h=void 0,d=void 0;e.disableBodyScroll=function(e,r){if(s){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!l.some((function(t){return t.targetElement===e}))){var a={targetElement:e,options:r||{}};l=[].concat(t(l),[a]),e.ontouchstart=function(e){1===e.targetTouches.length&&(u=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,a,s;1===t.targetTouches.length&&(r=e,s=(n=t).targetTouches[0].clientY-u,i(n.target)||(r&&0===r.scrollTop&&0<s||(a=r)&&a.scrollHeight-a.scrollTop<=a.clientHeight&&s<0?o(n):n.stopPropagation()))},c||(document.addEventListener("touchmove",o,n?{passive:!1}:void 0),c=!0)}}else{f=r,setTimeout((function(){if(void 0===d){var e=!!f&&!0===f.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(d=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===h&&(h=document.body.style.overflow,document.body.style.overflow="hidden")}));var p={targetElement:e,options:r||{}};l=[].concat(t(l),[p])}var f},e.clearAllBodyScrollLocks=function(){s?(l.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),c&&(document.removeEventListener("touchmove",o,n?{passive:!1}:void 0),c=!1),l=[],u=-1):(a(),l=[])},e.enableBodyScroll=function(e){if(s){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,l=l.filter((function(t){return t.targetElement!==e})),c&&0===l.length&&(document.removeEventListener("touchmove",o,n?{passive:!1}:void 0),c=!1)}else(l=l.filter((function(t){return t.targetElement!==e}))).length||a()}})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=n(493),l=n(494),c=n(495),u=n(496);function h(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function d(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function p(e,t){return t.decode?l(e):e}function f(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function m(e){var t=(e=f(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function v(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){h((t=i({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var n=function(e){var t=void 0;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return function(t,n,r){var i="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!i&&p(n,e).includes(e.arrayFormatSeparator);n=o?p(n,e):n;var a=i||o?n.split(e.arrayFormatSeparator).map((function(t){return p(t,e)})):null===n?n:p(n,e);r[t]=a};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;var s=!0,l=!1,u=void 0;try{for(var d,f=e.split("&")[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var m=d.value;if(""!==m){var g=c(t.decode?m.replace(/\+/g," "):m,"="),y=r(g,2),_=y[0];A=void 0===(A=y[1])?null:["comma","separator"].includes(t.arrayFormat)?A:p(A,t),n(p(_,t),A,a)}}}catch(e){l=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(l)throw u}}var b=!0,w=!1,x=void 0;try{for(var S,k=Object.keys(a)[Symbol.iterator]();!(b=(S=k.next()).done);b=!0){var A;_=S.value;if("object"===(void 0===(A=a[_])?"undefined":o(A))&&null!==A){var E=!0,C=!1,T=void 0;try{for(var M,D=Object.keys(A)[Symbol.iterator]();!(E=(M=D.next()).done);E=!0){var L=M.value;A[L]=v(A[L],t)}}catch(e){C=!0,T=e}finally{try{!E&&D.return&&D.return()}finally{if(C)throw T}}}else a[_]=v(A,t)}}catch(e){w=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(w)throw x}}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((function(e,t){var n=a[t];return Boolean(n)&&"object"===(void 0===n?"undefined":o(n))&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===(void 0===t?"undefined":o(t))?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))}t.extract=m,t.parse=g,t.stringify=function(e,t){if(!e)return"";h((t=i({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);var n=function(n){return t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n]},r=function(e){switch(e.arrayFormat){case"index":return function(t){return function(n,r){var i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[d(t,e),"[",i,"]"].join("")]:[[d(t,e),"[",d(i,e),"]=",d(r,e)].join("")])}};case"bracket":return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[[d(t,e),"[]"].join("")]:[[d(t,e),"[]=",d(r,e)].join("")])}};case"comma":case"separator":return function(t){return function(n,r){return null==r||0===r.length?n:0===n.length?[[d(t,e),"=",d(r,e)].join("")]:[[n,d(r,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(n,r){return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:[].concat(a(n),null===r?[d(t,e)]:[[d(t,e),"=",d(r,e)].join("")])}}}}(t),o={},s=!0,l=!1,c=void 0;try{for(var u,p=Object.keys(e)[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var f=u.value;n(f)||(o[f]=e[f])}}catch(e){l=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(l)throw c}}var m=Object.keys(o);return!1!==t.sort&&m.sort(t.sort),m.map((function(n){var i=e[n];return void 0===i?"":null===i?d(n,t):Array.isArray(i)?i.reduce(r(n),[]).join("&"):d(n,t)+"="+d(i,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=i({decode:!0},t);var n=c(e,"#"),o=r(n,2),a=o[0],s=o[1];return i({url:a.split("?")[0]||"",query:g(m(e),t)},t&&t.parseFragmentIdentifier&&s?{fragmentIdentifier:p(s,t)}:{})},t.stringifyUrl=function(e,n){n=i({encode:!0,strict:!0},n);var r=f(e.url).split("?")[0]||"",o=t.extract(e.url),a=t.parse(o,{sort:!1}),s=i(a,e.query),l=t.stringify(s,n);l&&(l="?"+l);var c=function(e){var t="",n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c="#"+d(e.fragmentIdentifier,n)),""+r+l+c},t.pick=function(e,n,r){r=i({parseFragmentIdentifier:!0},r);var o=t.parseUrl(e,r),a=o.url,s=o.query,l=o.fragmentIdentifier;return t.stringifyUrl({url:a,query:u(s,n),fragmentIdentifier:l},r)},t.exclude=function(e,n,r){var i=Array.isArray(n)?function(e){return!n.includes(e)}:function(e,t){return!n(e,t)};return t.pick(e,i,r)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(33),i=n(92),o=n(165);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(r.a)(n)?(e.pop(),Object(o.a)(e,n)):Object(i.a)(e)}},function(e,t,n){var r=n(12),i=n(9).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){t.f=n(13)},function(e,t,n){var r=n(97)("keys"),i=n(52);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(9).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(12),i=n(11),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(34)(Function.call,n(37).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){var r=n(12),i=n(124).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(36),i=n(43);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(36),i=n(43);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(53),i=n(1),o=n(25),a=n(29),s=n(71),l=n(182),c=n(69),u=n(58),h=n(13)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,f,m,v,g){l(n,t,f);var y,_,b,w=function(e){if(!d&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",S="values"==m,k=!1,A=e.prototype,E=A[h]||A["@@iterator"]||m&&A[m],C=E||w(m),T=m?S?w("entries"):C:void 0,M="Array"==t&&A.entries||E;if(M&&(b=u(M.call(new e)))!==Object.prototype&&b.next&&(c(b,x,!0),r||"function"==typeof b[h]||a(b,h,p)),S&&E&&"values"!==E.name&&(k=!0,C=function(){return E.call(this)}),r&&!g||!d&&!k&&A[h]||a(A,h,C),s[t]=C,s[x]=p,m)if(y={values:S?C:w("values"),keys:v?C:w("keys"),entries:T},g)for(_ in y)_ in A||o(A,_,y[_]);else i(i.P+i.F*(d||k),t,y);return y}},function(e,t,n){var r=n(133),i=n(43);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(12),i=n(42),o=n(13)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(13)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(71),i=n(13)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(20),i=n(51);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(83),i=n(13)("iterator"),o=n(71);e.exports=n(16).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(22),i=n(55),o=n(15);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(59),i=n(187),o=n(71),a=n(30);e.exports=n(131)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r,i,o=n(102),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,r,i,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(t=l.lastIndex),r=a.call(l,e),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=l},function(e,t,n){"use strict";var r=n(130)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r,i,o,a=n(34),s=n(176),l=n(123),c=n(119),u=n(9),h=u.process,d=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,v=0,g={},y=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete g[e]},"process"==n(42)(h)?r=function(e){h.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:f?(o=(i=new f).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){"use strict";var r=n(9),i=n(19),o=n(53),a=n(108),s=n(29),l=n(74),c=n(10),u=n(73),h=n(36),d=n(15),p=n(195),f=n(57).f,m=n(20).f,v=n(138),g=n(69),y=r.ArrayBuffer,_=r.DataView,b=r.Math,w=r.RangeError,x=r.Infinity,S=y,k=b.abs,A=b.pow,E=b.floor,C=b.log,T=b.LN2,M=i?"_b":"buffer",D=i?"_l":"byteLength",L=i?"_o":"byteOffset";function P(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?A(2,-24)-A(2,-77):0,h=0,d=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===x?(i=e!=e?1:0,r=l):(r=E(C(e)/T),e*(o=A(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?u/o:u*A(2,1-c))*o>=2&&(r++,o/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*o-1)*A(2,t),r+=c):(i=e*A(2,c-1)*A(2,t),r=0));t>=8;a[h++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[h++]=255&r,r/=256,s-=8);return a[--h]|=128*d,a}function R(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[l],l--,s-=8);if(0===u)u=1-a;else{if(u===o)return r?NaN:c?-x:x;r+=A(2,t),u-=a}return(c?-1:1)*r*A(2,u-t)}function I(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function O(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function N(e){return P(e,52,8)}function j(e){return P(e,23,4)}function z(e,t,n){m(e.prototype,t,{get:function(){return this[n]}})}function V(e,t,n,r){var i=p(+n);if(i+t>e[D])throw w("Wrong index!");var o=e[M]._b,a=i+e[L],s=o.slice(a,a+t);return r?s:s.reverse()}function U(e,t,n,r,i,o){var a=p(+n);if(a+t>e[D])throw w("Wrong index!");for(var s=e[M]._b,l=a+e[L],c=r(+i),u=0;u<t;u++)s[l+u]=c[o?u:t-u-1]}if(a.ABV){if(!c((function(){y(1)}))||!c((function(){new y(-1)}))||c((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var H,G=(y=function(e){return u(this,y),new S(p(e))}).prototype=S.prototype,q=f(S),W=0;q.length>W;)(H=q[W++])in y||s(y,H,S[H]);o||(G.constructor=y)}var Y=new _(new y(2)),X=_.prototype.setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||l(_.prototype,{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else y=function(e){u(this,y,"ArrayBuffer");var t=p(e);this._b=v.call(new Array(t),0),this[D]=t},_=function(e,t,n){u(this,_,"DataView"),u(e,y,"DataView");var r=e[D],i=h(t);if(i<0||i>r)throw w("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw w("Wrong length!");this[M]=e,this[L]=i,this[D]=n},i&&(z(y,"byteLength","_l"),z(_,"buffer","_b"),z(_,"byteLength","_l"),z(_,"byteOffset","_o")),l(_.prototype,{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return I(V(this,4,e,arguments[1]))},getUint32:function(e){return I(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return R(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return R(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){U(this,1,e,O,t)},setUint8:function(e,t){U(this,1,e,O,t)},setInt16:function(e,t){U(this,2,e,F,t,arguments[2])},setUint16:function(e,t){U(this,2,e,F,t,arguments[2])},setInt32:function(e,t){U(this,4,e,B,t,arguments[2])},setUint32:function(e,t){U(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){U(this,4,e,j,t,arguments[2])},setFloat64:function(e,t){U(this,8,e,N,t,arguments[2])}});g(y,"ArrayBuffer"),g(_,"DataView"),s(_.prototype,a.VIEW,!0),t.ArrayBuffer=y,t.DataView=_},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(200)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n,r){t()?n.call(r):setTimeout((function(){e(t,n,r)}),750)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(63);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return 0===e.length?r.a:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d}));var r=n(2),i=1,o=function(){return Promise.resolve()}(),a={};function s(e){return e in a&&(delete a[e],!0)}var l=function(e){var t=i++;return a[t]=!0,o.then((function(){return s(t)&&e()})),t},c=function(e){s(e)},u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=l(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(c(n),t.scheduled=void 0)},t}(n(95).a),h=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n(93).a))(u),d=h},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warn=function(e){console.error("[Glide warn]: "+e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"Observable",(function(){return r.a})),n.d(t,"ConnectableObservable",(function(){return i.a})),n.d(t,"GroupedObservable",(function(){return o.a})),n.d(t,"observable",(function(){return a.a})),n.d(t,"Subject",(function(){return s.a})),n.d(t,"BehaviorSubject",(function(){return l.a})),n.d(t,"ReplaySubject",(function(){return c.a})),n.d(t,"AsyncSubject",(function(){return u.a})),n.d(t,"asap",(function(){return h.a})),n.d(t,"asapScheduler",(function(){return h.b})),n.d(t,"async",(function(){return d.a})),n.d(t,"asyncScheduler",(function(){return d.b})),n.d(t,"queue",(function(){return p.a})),n.d(t,"queueScheduler",(function(){return p.b})),n.d(t,"animationFrame",(function(){return _})),n.d(t,"animationFrameScheduler",(function(){return y})),n.d(t,"VirtualTimeScheduler",(function(){return b})),n.d(t,"VirtualAction",(function(){return w})),n.d(t,"Scheduler",(function(){return x.a})),n.d(t,"Subscription",(function(){return S.a})),n.d(t,"Subscriber",(function(){return k.a})),n.d(t,"Notification",(function(){return A.a})),n.d(t,"NotificationKind",(function(){return A.b})),n.d(t,"pipe",(function(){return E.a})),n.d(t,"noop",(function(){return C.a})),n.d(t,"identity",(function(){return T.a})),n.d(t,"isObservable",(function(){return M})),n.d(t,"ArgumentOutOfRangeError",(function(){return D.a})),n.d(t,"EmptyError",(function(){return L.a})),n.d(t,"ObjectUnsubscribedError",(function(){return P.a})),n.d(t,"UnsubscriptionError",(function(){return R.a})),n.d(t,"TimeoutError",(function(){return I.a})),n.d(t,"bindCallback",(function(){return j})),n.d(t,"bindNodeCallback",(function(){return U})),n.d(t,"combineLatest",(function(){return W.b})),n.d(t,"concat",(function(){return Y.a})),n.d(t,"defer",(function(){return X.a})),n.d(t,"empty",(function(){return Q.b})),n.d(t,"forkJoin",(function(){return Z})),n.d(t,"from",(function(){return J.a})),n.d(t,"fromEvent",(function(){return te})),n.d(t,"fromEventPattern",(function(){return ne})),n.d(t,"generate",(function(){return re})),n.d(t,"iif",(function(){return oe})),n.d(t,"interval",(function(){return se})),n.d(t,"merge",(function(){return ce.a})),n.d(t,"never",(function(){return he})),n.d(t,"of",(function(){return de.a})),n.d(t,"onErrorResumeNext",(function(){return pe})),n.d(t,"pairs",(function(){return fe})),n.d(t,"partition",(function(){return _e})),n.d(t,"race",(function(){return be.a})),n.d(t,"range",(function(){return we})),n.d(t,"throwError",(function(){return Se.a})),n.d(t,"timer",(function(){return ke.a})),n.d(t,"using",(function(){return Ae})),n.d(t,"zip",(function(){return Ee.b})),n.d(t,"scheduled",(function(){return Ce.a})),n.d(t,"EMPTY",(function(){return Q.a})),n.d(t,"NEVER",(function(){return ue})),n.d(t,"config",(function(){return Te.a}));var r=n(8),i=n(214),o=n(208),a=n(79),s=n(21),l=n(215),c=n(157),u=n(94),h=n(149),d=n(23),p=n(206),f=n(2),m=n(95),v=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return f.a(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(m.a),g=n(93),y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f.a(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(g.a))(v),_=y,b=function(e){function t(t,n){void 0===t&&(t=w),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return f.a(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(g.a),w=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return f.a(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(m.a),x=n(207),S=n(17),k=n(4),A=n(68),E=n(148),C=n(78),T=n(63);function M(e){return!!e&&(e instanceof r.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var D=n(86),L=n(90),P=n(80),R=n(151),I=n(217),O=n(31),F=n(164),B=n(24),N=n(33);function j(e,t,n){if(t){if(!Object(N.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return j(e,n).apply(void 0,r).pipe(Object(O.a)((function(e){return Object(B.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o,a=this,s={context:a,subject:o,callbackFunc:e,scheduler:n};return new r.a((function(r){if(n){var i={args:t,subscriber:r,params:s};return n.schedule(z,0,i)}if(!o){o=new u.a;try{e.apply(a,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(e){Object(F.a)(o)?o.error(e):console.warn(e)}}return o.subscribe(r)}))}}function z(e){var t=this,n=e.args,r=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,l=i.subject;if(!l){l=i.subject=new u.a;try{o.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(s.schedule(V,0,{value:r,subject:l}))}]))}catch(e){l.error(e)}}this.add(l.subscribe(r))}function V(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function U(e,t,n){if(t){if(!Object(N.a)(t))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return U(e,n).apply(void 0,r).pipe(Object(O.a)((function(e){return Object(B.a)(e)?t.apply(void 0,e):t(e)})))};n=t}return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var o={subject:void 0,args:t,callbackFunc:e,scheduler:n,context:this};return new r.a((function(r){var i=o.context,a=o.subject;if(n)return n.schedule(H,0,{params:o,subscriber:r,context:i});if(!a){a=o.subject=new u.a;try{e.apply(i,t.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?a.error(n):(a.next(e.length<=1?e[0]:e),a.complete())}]))}catch(e){Object(F.a)(a)?a.error(e):console.warn(e)}}return a.subscribe(r)}))}}function H(e){var t=this,n=e.params,r=e.subscriber,i=e.context,o=n.callbackFunc,a=n.args,s=n.scheduler,l=n.subject;if(!l){l=n.subject=new u.a;try{o.apply(i,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(s.schedule(q,0,{err:r,subject:l}));else{var i=e.length<=1?e[0]:e;t.add(s.schedule(G,0,{value:i,subject:l}))}}]))}catch(e){this.add(s.schedule(q,0,{err:e,subject:l}))}}this.add(l.subscribe(r))}function G(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function q(e){var t=e.err;e.subject.error(t)}var W=n(159),Y=n(113),X=n(161),Q=n(40),K=n(163),J=n(41);function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if(Object(B.a)(n))return $(n,null);if(Object(K.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return $(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var i=e.pop();return $(e=1===e.length&&Object(B.a)(e[0])?e[0]:e,null).pipe(Object(O.a)((function(e){return i.apply(void 0,e)})))}return $(e,null)}function $(e,t){return new r.a((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var l=Object(J.a)(e[s]),c=!1;n.add(l.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},l=0;l<r;l++)s(l);else n.complete()}))}var ee=n(87);function te(e,t,n,i){return Object(ee.a)(n)&&(i=n,n=void 0),i?te(e,t,n).pipe(Object(O.a)((function(e){return Object(B.a)(e)?i.apply(void 0,e):i(e)}))):new r.a((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,r),a=function(){return l.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,h=t.length;u<h;u++)e(t[u],n,r,i,o)}i.add(a)}(e,t,(function(e){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(e)}),r,n)}))}function ne(e,t,n){return n?ne(e,t).pipe(Object(O.a)((function(e){return Object(B.a)(e)?n.apply(void 0,e):n(e)}))):new r.a((function(n){var r,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{r=e(i)}catch(e){return void n.error(e)}if(Object(ee.a)(t))return function(){return t(i,r)}}))}function re(e,t,n,i,o){var a,s;if(1==arguments.length){var l=e;s=l.initialState,t=l.condition,n=l.iterate,a=l.resultSelector||T.a,o=l.scheduler}else void 0===i||Object(N.a)(i)?(s=e,a=T.a,o=i):(s=e,a=i);return new r.a((function(e){var r=s;if(o)return o.schedule(ie,0,{subscriber:e,iterate:n,condition:t,resultSelector:a,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(t){return void e.error(t)}if(!i){e.complete();break}}var l=void 0;try{l=a(r)}catch(t){return void e.error(t)}if(e.next(l),e.closed)break;try{r=n(r)}catch(t){return void e.error(t)}}}))}function ie(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void t.error(e)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(e){return void t.error(e)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(e){return void t.error(e)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}function oe(e,t,n){return void 0===t&&(t=Q.a),void 0===n&&(n=Q.a),Object(X.a)((function(){return e()?t:n}))}var ae=n(96);function se(e,t){return void 0===e&&(e=0),void 0===t&&(t=d.a),(!Object(ae.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=d.a),new r.a((function(n){return n.add(t.schedule(le,e,{subscriber:n,counter:0,period:e})),n}))}function le(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var ce=n(219),ue=new r.a(C.a);function he(){return ue}var de=n(118);function pe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return Q.a;var n=e[0],i=e.slice(1);return 1===e.length&&Object(B.a)(n)?pe.apply(void 0,n):new r.a((function(e){var t=function(){return e.add(pe.apply(void 0,i).subscribe(e))};return Object(J.a)(n).subscribe({next:function(t){e.next(t)},error:t,complete:t})}))}function fe(e,t){return t?new r.a((function(n){var r=Object.keys(e),i=new S.a;return i.add(t.schedule(me,0,{keys:r,index:0,subscriber:n,subscription:i,obj:e})),i})):new r.a((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))}function me(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var a=t[n];r.next([a,o[a]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var ve=n(227),ge=n(114),ye=n(67);function _e(e,t,n){return[Object(ye.a)(t,n)(new r.a(Object(ge.a)(e))),Object(ye.a)(Object(ve.a)(t,n))(new r.a(Object(ge.a)(e)))]}var be=n(220);function we(e,t,n){return void 0===e&&(e=0),new r.a((function(r){void 0===t&&(t=e,e=0);var i=0,o=e;if(n)return n.schedule(xe,0,{index:i,count:t,start:e,subscriber:r});for(;;){if(i++>=t){r.complete();break}if(r.next(o++),r.closed)break}}))}function xe(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var Se=n(158),ke=n(221);function Ae(e,t){return new r.a((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var o=(i?Object(J.a)(i):Q.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var Ee=n(162),Ce=n(222),Te=n(50)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLocale=function(){return RegExp("/en_GB/").test(window.location.href)?{locale:"en_GB",entity:"Rolls-Royce Motor Cars Limited",phone:"+44 (0)1243 525700",email:"enquiries@rolls-roycemotorcars.com"}:{locale:"en_US",entity:" Rolls-Royce Motor Cars NA LLC",phone:"+1 877 877 3735",email:"customer.relations@rolls-roycemotorcarsna.com"}},t.getActiveLocale=function(){var e=window.location.href.match(r);return e?e[0]:"en_GB"},t.replace_locale_in_path_with=function(e,t){return e.replace(r,t)};var r=/\b[a-zA-Z]{2}_[a-zA-Z]{2}\b/;t.locale_language_map={en_GB:"iti__gb",en_US:"iti__us",ja_JP:"iti__jp",ru_RU:"iti__ru",ko_KR:"iti__kr",de_DE:"iti__de",cs_CZ:"iti__cz",uk_UA:"iti__ua",tr_TR:"iti__tr",az_AZ:"iti__az",pl_PL:"iti__pl",zh_CN:"iti__cn",zh_TW:"iti__tw"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return be}));var r,i,o,a,s,l,c,u,h=n(3),d={},p=180/Math.PI,f=Math.PI/180,m=Math.atan2,v=/([A-Z])/g,g=/(left|right|width|margin|padding|x)/i,y=/[\s,\(]\S/,_={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},b=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},w=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},x=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},S=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},k=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},A=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},E=function(e,t,n){return e.style[t]=n},C=function(e,t,n){return e.style.setProperty(t,n)},T=function(e,t,n){return e._gsap[t]=n},M=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},D=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},L=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},P="transform",R=P+"Origin",I=function e(t,n){var r=this,i=this.target,o=i.style,a=i._gsap;if(t in d&&o){if(this.tfm=this.tfm||{},"transform"===t)return _.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(~(t=_[t]||t).indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=Z(i,e)})):this.tfm[t]=a.x?a[t]:Z(i,t),t===R&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(P)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(R,n,"")),t=P}(o||n)&&this.props.push(t,n,o[t])},O=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},F=function(){var e,t,n=this.props,r=this.target,i=r.style,o=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(v,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=c())&&e.isStart||i[P]||(O(i),o.zOrigin&&i[R]&&(i[R]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},B=function(e,t){var n={target:e,props:[],revert:F,save:I};return e._gsap||h.W.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},N=function(e,t){var n=i.createElementNS?i.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):i.createElement(e);return n&&n.style?n:i.createElement(e)},j=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(v,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,V(n)||n,1)||""},z="O,Moz,ms,Ms,Webkit".split(","),V=function(e,t,n){var r=(t||s).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(z[i]+e in r););return i<0?null:(3===i?"ms":i>=0?z[i]:"")+e},U=function(){"undefined"!=typeof window&&window.document&&(r=window,i=r.document,o=i.documentElement,s=N("div")||{style:{}},N("div"),P=V(P),R=P+"Origin",s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",u=!!V("perspective"),c=h.W.core.reverting,a=1)},H=function e(t){var n,r=N("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,s=this.style.cssText;if(o.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),o.removeChild(r),this.style.cssText=s,n},G=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},q=function(e){var t;try{t=e.getBBox()}catch(n){t=H.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===H||(t=H.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+G(e,["x","cx","x1"])||0,y:+G(e,["y","cy","y1"])||0,width:0,height:0}},W=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!q(e))},Y=function(e,t){if(t){var n,r=e.style;t in d&&t!==R&&(t=P),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(v,"-$1").toLowerCase())):r.removeAttribute(t)}},X=function(e,t,n,r,i,o){var a=new h.n(e._pt,t,n,0,1,o?A:k);return e._pt=a,a.b=r,a.e=i,e._props.push(n),a},Q={deg:1,rad:1,turn:1},K={grid:1,flex:1},J=function e(t,n,r,o){var a,l,c,u,p=parseFloat(r)||0,f=(r+"").trim().substr((p+"").length)||"px",m=s.style,v=g.test(n),y="svg"===t.tagName.toLowerCase(),_=(y?"client":"offset")+(v?"Width":"Height"),b="px"===o,w="%"===o;if(o===f||!p||Q[o]||Q[f])return p;if("px"!==f&&!b&&(p=e(t,n,r,"px")),u=t.getCTM&&W(t),(w||"%"===f)&&(d[n]||~n.indexOf("adius")))return a=u?t.getBBox()[v?"width":"height"]:t[_],Object(h.P)(w?p/a*100:p/100*a);if(m[v?"width":"height"]=100+(b?f:o),l=~n.indexOf("adius")||"em"===o&&t.appendChild&&!y?t:t.parentNode,u&&(l=(t.ownerSVGElement||{}).parentNode),l&&l!==i&&l.appendChild||(l=i.body),(c=l._gsap)&&w&&c.width&&v&&c.time===h.R.time&&!c.uncache)return Object(h.P)(p/c.width*100);if(!w||"height"!==n&&"width"!==n)(w||"%"===f)&&!K[j(l,"display")]&&(m.position=j(t,"position")),l===t&&(m.position="static"),l.appendChild(s),a=s[_],l.removeChild(s),m.position="absolute";else{var x=t.style[n];t.style[n]=100+o,a=t[_],x?t.style[n]=x:Y(t,n)}return v&&w&&((c=Object(h.C)(l)).time=h.R.time,c.width=l[_]),Object(h.P)(b?a*p/100:a&&p?100/a*p:0)},Z=function(e,t,n,r){var i;return a||U(),t in _&&"transform"!==t&&~(t=_[t]).indexOf(",")&&(t=t.split(",")[0]),d[t]&&"transform"!==t?(i=ce(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:ue(j(e,R))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=ne[t]&&ne[t](e,t,n)||j(e,t)||Object(h.D)(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?J(e,t,i,n)+n:i},$=function(e,t,n,r){if(!n||"none"===n){var i=V(t,e,1),o=i&&j(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=j(e,"borderTopColor"))}var a,s,l,c,u,d,p,f,m,v,g,y=new h.n(this._pt,e.style,t,0,1,h.N),_=0,b=0;if(y.b=n,y.e=r,n+="","auto"===(r+="")&&(d=e.style[t],e.style[t]=r,r=j(e,t)||r,d?e.style[t]=d:Y(e,t)),a=[n,r],Object(h.z)(a),r=a[1],l=(n=a[0]).match(h.J)||[],(r.match(h.J)||[]).length){for(;s=h.J.exec(r);)p=s[0],m=r.substring(_,s.index),u?u=(u+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(u=1),p!==(d=l[b++]||"")&&(c=parseFloat(d)||0,g=d.substr((c+"").length),"="===p.charAt(1)&&(p=Object(h.K)(c,p)+g),f=parseFloat(p),v=p.substr((f+"").length),_=h.J.lastIndex-v.length,v||(v=v||h.A.units[t]||g,_===r.length&&(r+=v,y.e+=v)),g!==v&&(c=J(e,t,d,v)||0),y._pt={_next:y._pt,p:m||1===b?m:",",s:c,c:f-c,m:u&&u<4||"zIndex"===t?Math.round:0});y.c=_<r.length?r.substring(_,r.length):""}else y.r="display"===t&&"none"===r?A:k;return h.M.test(r)&&(y.e=0),this._pt=y,y},ee={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},te=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,a=o.style,s=t.u,l=o._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],d[n]&&(r=1,n="transformOrigin"===n?R:P),Y(o,n);r&&(Y(o,P),l&&(l.svg&&o.removeAttribute("transform"),ce(o,1),l.uncache=1,O(a)))}},ne={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new h.n(e._pt,t,n,0,0,te);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},re=[1,0,0,1,0,0],ie={},oe=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},ae=function(e){var t=j(e,P);return oe(t)?re:t.substr(7).match(h.I).map(h.P)},se=function(e,t){var n,r,i,a,s=e._gsap||Object(h.C)(e),l=e.style,c=ae(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(c=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?re:c:(c!==re||e.offsetParent||e===o||s.svg||(i=l.display,l.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,o.appendChild(e)),c=ae(e),i?l.display=i:Y(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):o.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},le=function(e,t,n,r,i,o){var a,s,l,c=e._gsap,u=i||se(e,!0),h=c.xOrigin||0,d=c.yOrigin||0,p=c.xOffset||0,f=c.yOffset||0,m=u[0],v=u[1],g=u[2],y=u[3],_=u[4],b=u[5],w=t.split(" "),x=parseFloat(w[0])||0,S=parseFloat(w[1])||0;n?u!==re&&(s=m*y-v*g)&&(l=x*(-v/s)+S*(m/s)-(m*b-v*_)/s,x=x*(y/s)+S*(-g/s)+(g*b-y*_)/s,S=l):(x=(a=q(e)).x+(~w[0].indexOf("%")?x/100*a.width:x),S=a.y+(~(w[1]||w[0]).indexOf("%")?S/100*a.height:S)),r||!1!==r&&c.smooth?(_=x-h,b=S-d,c.xOffset=p+(_*m+b*g)-_,c.yOffset=f+(_*v+b*y)-b):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=S,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[R]="0px 0px",o&&(X(o,c,"xOrigin",h,x),X(o,c,"yOrigin",d,S),X(o,c,"xOffset",p,c.xOffset),X(o,c,"yOffset",f,c.yOffset)),e.setAttribute("data-svg-origin",x+" "+S)},ce=function(e,t){var n=e._gsap||new h.g(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,a,s,l,c,d,v,g,y,_,b,w,x,S,k,A,E,C,T,M,D,L,I,O,F,B,N,z,V,U,H=e.style,G=n.scaleX<0,q=getComputedStyle(e),Y=j(e,R)||"0";return r=i=o=l=c=d=v=g=y=0,a=s=1,n.svg=!(!e.getCTM||!W(e)),q.translate&&("none"===q.translate&&"none"===q.scale&&"none"===q.rotate||(H[P]=("none"!==q.translate?"translate3d("+(q.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==q.rotate?"rotate("+q.rotate+") ":"")+("none"!==q.scale?"scale("+q.scale.split(" ").join(",")+") ":"")+("none"!==q[P]?q[P]:"")),H.scale=H.rotate=H.translate="none"),w=se(e,n.svg),n.svg&&(n.uncache?(I=e.getBBox(),Y=n.xOrigin-I.x+"px "+(n.yOrigin-I.y)+"px",L=""):L=!t&&e.getAttribute("data-svg-origin"),le(e,L||Y,!!L||n.originIsAbsolute,!1!==n.smooth,w)),_=n.xOrigin||0,b=n.yOrigin||0,w!==re&&(A=w[0],E=w[1],C=w[2],T=w[3],r=M=w[4],i=D=w[5],6===w.length?(a=Math.sqrt(A*A+E*E),s=Math.sqrt(T*T+C*C),l=A||E?m(E,A)*p:0,(v=C||T?m(C,T)*p+l:0)&&(s*=Math.abs(Math.cos(v*f))),n.svg&&(r-=_-(_*A+b*C),i-=b-(_*E+b*T))):(U=w[6],z=w[7],F=w[8],B=w[9],N=w[10],V=w[11],r=w[12],i=w[13],o=w[14],c=(x=m(U,N))*p,x&&(L=M*(S=Math.cos(-x))+F*(k=Math.sin(-x)),I=D*S+B*k,O=U*S+N*k,F=M*-k+F*S,B=D*-k+B*S,N=U*-k+N*S,V=z*-k+V*S,M=L,D=I,U=O),d=(x=m(-C,N))*p,x&&(S=Math.cos(-x),V=T*(k=Math.sin(-x))+V*S,A=L=A*S-F*k,E=I=E*S-B*k,C=O=C*S-N*k),l=(x=m(E,A))*p,x&&(L=A*(S=Math.cos(x))+E*(k=Math.sin(x)),I=M*S+D*k,E=E*S-A*k,D=D*S-M*k,A=L,M=I),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,d=180-d),a=Object(h.P)(Math.sqrt(A*A+E*E+C*C)),s=Object(h.P)(Math.sqrt(D*D+U*U)),x=m(M,D),v=Math.abs(x)>2e-4?x*p:0,y=V?1/(V<0?-V:V):0),n.svg&&(L=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!oe(j(e,P)),L&&e.setAttribute("transform",L))),Math.abs(v)>90&&Math.abs(v)<270&&(G?(a*=-1,v+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,v+=v<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+"px",n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=Object(h.P)(a),n.scaleY=Object(h.P)(s),n.rotation=Object(h.P)(l)+"deg",n.rotationX=Object(h.P)(c)+"deg",n.rotationY=Object(h.P)(d)+"deg",n.skewX=v+"deg",n.skewY=g+"deg",n.transformPerspective=y+"px",(n.zOrigin=parseFloat(Y.split(" ")[2])||!t&&n.zOrigin||0)&&(H[R]=ue(Y)),n.xOffset=n.yOffset=0,n.force3D=h.A.force3D,n.renderTransform=n.svg?fe:u?pe:de,n.uncache=0,n},ue=function(e){return(e=e.split(" "))[0]+" "+e[1]},he=function(e,t,n){var r=Object(h.V)(t);return Object(h.P)(parseFloat(t)+parseFloat(J(e,"x",n+"px",r)))+r},de=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,pe(e,t)},pe=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,a=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,v=n.transformPerspective,g=n.force3D,y=n.target,_=n.zOrigin,b="",w="auto"===g&&e&&1!==e||!0===g;if(_&&("0deg"!==u||"0deg"!==c)){var x,S=parseFloat(c)*f,k=Math.sin(S),A=Math.cos(S);S=parseFloat(u)*f,x=Math.cos(S),o=he(y,o,k*x*-_),a=he(y,a,-Math.sin(S)*-_),s=he(y,s,A*x*-_+_)}"0px"!==v&&(b+="perspective("+v+") "),(r||i)&&(b+="translate("+r+"%, "+i+"%) "),(w||"0px"!==o||"0px"!==a||"0px"!==s)&&(b+="0px"!==s||w?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+") "),"0deg"!==l&&(b+="rotate("+l+") "),"0deg"!==c&&(b+="rotateY("+c+") "),"0deg"!==u&&(b+="rotateX("+u+") "),"0deg"===h&&"0deg"===d||(b+="skew("+h+", "+d+") "),1===p&&1===m||(b+="scale("+p+", "+m+") "),y.style[P]=b||"translate(0, 0)"},fe=function(e,t){var n,r,i,o,a,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,d=s.y,p=s.rotation,m=s.skewX,v=s.skewY,g=s.scaleX,y=s.scaleY,_=s.target,b=s.xOrigin,w=s.yOrigin,x=s.xOffset,S=s.yOffset,k=s.forceCSS,A=parseFloat(u),E=parseFloat(d);p=parseFloat(p),m=parseFloat(m),(v=parseFloat(v))&&(m+=v=parseFloat(v),p+=v),p||m?(p*=f,m*=f,n=Math.cos(p)*g,r=Math.sin(p)*g,i=Math.sin(p-m)*-y,o=Math.cos(p-m)*y,m&&(v*=f,a=Math.tan(m-v),i*=a=Math.sqrt(1+a*a),o*=a,v&&(a=Math.tan(v),n*=a=Math.sqrt(1+a*a),r*=a)),n=Object(h.P)(n),r=Object(h.P)(r),i=Object(h.P)(i),o=Object(h.P)(o)):(n=g,o=y,r=i=0),(A&&!~(u+"").indexOf("px")||E&&!~(d+"").indexOf("px"))&&(A=J(_,"x",u,"px"),E=J(_,"y",d,"px")),(b||w||x||S)&&(A=Object(h.P)(A+b-(b*n+w*i)+x),E=Object(h.P)(E+w-(b*r+w*o)+S)),(l||c)&&(a=_.getBBox(),A=Object(h.P)(A+l/100*a.width),E=Object(h.P)(E+c/100*a.height)),a="matrix("+n+","+r+","+i+","+o+","+A+","+E+")",_.setAttribute("transform",a),k&&(_.style[P]=a)},me=function(e,t,n,r,i){var o,a,s=Object(h.F)(i),l=parseFloat(i)*(s&&~i.indexOf("rad")?p:1)-r,c=r+l+"deg";return s&&("short"===(o=i.split("_")[1])&&(l%=360)!==l%180&&(l+=l<0?360:-360),"cw"===o&&l<0?l=(l+36e9)%360-360*~~(l/360):"ccw"===o&&l>0&&(l=(l-36e9)%360-360*~~(l/360))),e._pt=a=new h.n(e._pt,t,n,r,l,w),a.e=c,a.u="deg",e._props.push(n),a},ve=function(e,t){for(var n in t)e[n]=t[n];return e},ge=function(e,t,n){var r,i,o,a,s,l,c,u=ve({},n._gsap),p=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),p[P]=t,r=ce(n,1),Y(n,P),n.setAttribute("transform",o)):(o=getComputedStyle(n)[P],p[P]=t,r=ce(n,1),p[P]=o),d)(o=u[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=Object(h.V)(o)!==(c=Object(h.V)(a))?J(n,i,o,c):parseFloat(o),l=parseFloat(a),e._pt=new h.n(e._pt,r,i,s,l-s,b),e._pt.u=c||0,e._props.push(i));ve(r,u)};
/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/Object(h.B)("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",o="Left",a=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return t<2?e+n:"border"+n+e}));ne[t>1?"border"+e:e]=function(e,t,n,r,i){var o,s;if(arguments.length<4)return o=a.map((function(t){return Z(e,t,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach((function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,s,i)}}));var ye,_e,be={name:"css",register:U,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,s,l,c,u,p,f,m,v,g,w,k,A,E,C,T,M,D,L,I,O=this._props,F=e.style,N=n.vars.startAt;for(f in a||U(),this.styles=this.styles||B(e),T=this.styles.props,this.tween=n,t)if("autoRound"!==f&&(s=t[f],!h.L[f]||!Object(h.x)(f,t,n,r,e,i)))if(u=typeof s,p=ne[f],"function"===u&&(u=typeof(s=s.call(n,r,e,i))),"string"===u&&~s.indexOf("random(")&&(s=Object(h.O)(s)),p)p(this,e,f,s,n)&&(C=1);else if("--"===f.substr(0,2))o=(getComputedStyle(e).getPropertyValue(f)+"").trim(),s+="",h.y.lastIndex=0,h.y.test(o)||(m=Object(h.V)(o),v=Object(h.V)(s)),v?m!==v&&(o=J(e,f,o,v)+v):m&&(s+=m),this.add(F,"setProperty",o,s,r,i,0,0,f),O.push(f),T.push(f,0,F[f]);else if("undefined"!==u){if(N&&f in N?(o="function"==typeof N[f]?N[f].call(n,r,e,i):N[f],Object(h.F)(o)&&~o.indexOf("random(")&&(o=Object(h.O)(o)),Object(h.V)(o+"")||"auto"===o||(o+=h.A.units[f]||Object(h.V)(Z(e,f))||""),"="===(o+"").charAt(1)&&(o=Z(e,f))):o=Z(e,f),c=parseFloat(o),(g="string"===u&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),l=parseFloat(s),f in _&&("autoAlpha"===f&&(1===c&&"hidden"===Z(e,"visibility")&&l&&(c=0),T.push("visibility",0,F.visibility),X(this,F,"visibility",c?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==f&&"transform"!==f&&~(f=_[f]).indexOf(",")&&(f=f.split(",")[0])),w=f in d)if(this.styles.save(f),k||((A=e._gsap).renderTransform&&!t.parseTransform||ce(e,t.parseTransform),E=!1!==t.smoothOrigin&&A.smooth,(k=this._pt=new h.n(this._pt,F,P,0,1,A.renderTransform,A,0,-1)).dep=1),"scale"===f)this._pt=new h.n(this._pt,A,"scaleY",A.scaleY,(g?Object(h.K)(A.scaleY,g+l):l)-A.scaleY||0,b),this._pt.u=0,O.push("scaleY",f),f+="X";else{if("transformOrigin"===f){T.push(R,0,F[R]),D=void 0,L=void 0,I=void 0,D=(M=s).split(" "),L=D[0],I=D[1]||"50%","top"!==L&&"bottom"!==L&&"left"!==I&&"right"!==I||(M=L,L=I,I=M),D[0]=ee[L]||L,D[1]=ee[I]||I,s=D.join(" "),A.svg?le(e,s,0,E,0,this):((v=parseFloat(s.split(" ")[2])||0)!==A.zOrigin&&X(this,A,"zOrigin",A.zOrigin,v),X(this,F,f,ue(o),ue(s)));continue}if("svgOrigin"===f){le(e,s,1,E,0,this);continue}if(f in ie){me(this,A,f,c,g?Object(h.K)(c,g+s):s);continue}if("smoothOrigin"===f){X(this,A,"smooth",A.smooth,s);continue}if("force3D"===f){A[f]=s;continue}if("transform"===f){ge(this,s,e);continue}}else f in F||(f=V(f)||f);if(w||(l||0===l)&&(c||0===c)&&!y.test(s)&&f in F)l||(l=0),(m=(o+"").substr((c+"").length))!==(v=Object(h.V)(s)||(f in h.A.units?h.A.units[f]:m))&&(c=J(e,f,o,v)),this._pt=new h.n(this._pt,w?A:F,f,c,(g?Object(h.K)(c,g+l):l)-c,w||"px"!==v&&"zIndex"!==f||!1===t.autoRound?b:S),this._pt.u=v||0,m!==v&&"%"!==v&&(this._pt.b=o,this._pt.r=x);else if(f in F)$.call(this,e,f,o,g?g+s:s);else if(f in e)this.add(e,f,o||e[f],g?g+s:s,r,i);else if("parseTransform"!==f){Object(h.H)(f,s);continue}w||(f in F?T.push(f,0,F[f]):T.push(f,1,o||e[f])),O.push(f)}C&&Object(h.Q)(this)},render:function(e,t){if(t.tween._time||!c())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Z,aliases:_,getSetter:function(e,t,n){var r=_[t];return r&&r.indexOf(",")<0&&(t=r),t in d&&t!==R&&(e._gsap.x||Z(e,"x"))?n&&l===n?"scale"===t?M:T:(l=n||{})&&("scale"===t?D:L):e.style&&!Object(h.G)(e.style[t])?E:~t.indexOf("-")?C:Object(h.E)(e,t)},core:{_removeProperty:Y,_getMatrix:se}};h.W.utils.checkPrefix=V,h.W.core.getStyleSaver=B,ye="rotation,rotationX,rotationY,skewX,skewY",_e=Object(h.B)("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ye+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){d[e]=1})),Object(h.B)(ye,(function(e){h.A.units[e]="deg",ie[e]=1})),_[_e[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+ye,Object(h.B)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");_[t[1]]=_e[t[0]]})),Object(h.B)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){h.A.units[e]="px"})),h.W.registerPlugin(be)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),i=n(4);function o(){return function(e){return e.lift(new a(e))}}var a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),i=n(21),o=n(206),a=n(17),s=n(216),l=n(80),c=n(223),u=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(t,e),t.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new h(this._getNow(),t)),this._trimBufferThenGetEvents()),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new l.a;if(this.isStopped||this.hasError?t=a.a.EMPTY:(this.observers.push(e),t=new c.a(this,e)),i&&e.add(e=new s.a(e,i)),n)for(var u=0;u<o&&!e.closed;u++)e.next(r[u]);else for(u=0;u<o&&!e.closed;u++)e.next(r[u].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.a).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.a),h=function(){return function(e,t){this.time=e,this.value=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(8);function i(e,t){return t?new r.a((function(n){return t.schedule(o,0,{error:e,subscriber:n})})):new r.a((function(t){return t.error(e)}))}function o(e){var t=e.error;e.subscriber.error(t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var r=n(2),i=n(33),o=n(24),a=n(66),s=n(49),l=n(92),c={};function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return Object(i.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(o.a)(e[0])&&(e=e[0]),Object(l.a)(e,r).lift(new h(n))}var h=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.resultSelector))},e}(),d=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(t,e),t.prototype._next=function(e){this.values.push(c),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],o=this.toRespond?i===c?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(91),i=n(63);function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.b)(i.a,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(8),i=n(41),o=n(40);function a(e){return new r.a((function(t){var n;try{n=e()}catch(e){return void t.error(e)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(t)}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(2),i=n(92),o=n(24),a=n(4),s=n(77),l=n(6);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(i.a)(e,void 0).lift(new u(n))}var u=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}(),h=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return r.a(t,e),t.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new p(e)):"function"==typeof e[s.a]?t.push(new d(e[s.a]())):t.push(new f(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++){if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return}var i=!1,o=[];for(r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(a.a),d=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},e}(),p=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[s.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),f=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(t,e),t.prototype[s.a]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e){this.buffer.push(e),this.parent.checkIterators()},t.prototype.subscribe=function(){return Object(l.c)(this.observable,new l.a(this))},t}(l.b)},function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);function i(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.a?i:null}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),i=n(17);function o(e,t){return new r.a((function(n){var r=new i.a,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(50),i=n(115),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},function(e,t,n){"use strict";(function(e){function r(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,i=r.messageId,o=r.action,a=r.data;try{"registerModule"===o&&function n(r,i){var o=r.id,a=r.name,s=r.dependencies;void 0===s&&(s=[]);var l=r.init;void 0===l&&(l=function(){});var c=r.getTransferables;if(void 0===c&&(c=null),!e[o])try{s=s.map((function(t){return t&&t.isWorkerModule&&(n(t,(function(e){if(e instanceof Error)throw e})),t=e[t.id].value),t})),l=t("<"+a+">.init",l),c&&(c=t("<"+a+">.getTransferables",c));var u=null;"function"==typeof l?u=l.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[o]={id:o,value:u,getTransferables:c},i(u)}catch(e){e&&e.noLog||console.error(e),i(e)}}(a,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===o&&function(t,n){var r,i=t.id,o=t.args;e[i]&&"function"==typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var a=(r=e[i]).value.apply(r,o);a&&"function"==typeof a.then?a.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(a)}catch(e){n(e)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}(a,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:i,success:!1,error:e.stack})}}))}n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var i=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return i=function(){return e},e},o=0,a=0,s=!1,l=Object.create(null),c=Object.create(null),u=Object.create(null);function h(e){if(!(e&&"function"==typeof e.init||s))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId;if(!i())return function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var i=Promise.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return i},i},t}(e);null==a&&(a="#default");var l="workerModule"+ ++o,u=e.name||l,d=null;function m(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!d){d=f(a,"registerModule",m.workerModuleData);var n=function(){d=null,c[a].delete(n)};(c[a]||(c[a]=new Set)).add(n)}return d.then((function(t){if(t.isCallable)return f(a,"callModule",{id:l,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(s=!0,e=h({workerId:a,name:"<"+u+"> function dependency: "+e.name,init:"function(){return (\n"+p(e)+"\n)}"}),s=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),m.workerModuleData={isWorkerModule:!0,id:l,name:u,dependencies:t,init:p(n),getTransferables:r&&p(r)},m}function d(e){c[e]&&c[e].forEach((function(e){e()})),l[e]&&(l[e].terminate(),delete l[e])}function p(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function f(e,t,n){return new Promise((function(i,o){var s=++a;u[s]=function(e){e.success?i(e.result):o(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=l[e];if(!t){var n=p(r);(t=l[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=u[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete u[n],r(t)}}return t}(e).postMessage({messageId:s,action:t,data:n})}))}}).call(this,n(448))},function(e,t,n){e.exports=!n(19)&&!n(10)((function(){return 7!=Object.defineProperty(n(119)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(9),i=n(16),o=n(53),a=n(120),s=n(20).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(28),i=n(30),o=n(98)(!1),a=n(121)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(20),i=n(11),o=n(54);e.exports=n(19)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(30),i=n(57).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(19),i=n(54),o=n(99),a=n(82),s=n(22),l=n(81),c=Object.assign;e.exports=!c||n(10)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,h=o.f,d=a.f;c>u;)for(var p,f=l(arguments[u++]),m=h?i(f).concat(h(f)):i(f),v=m.length,g=0;v>g;)p=m[g++],r&&!d.call(f,p)||(n[p]=f[p]);return n}:c},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(35),i=n(12),o=n(176),a=[].slice,s={},l=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?l(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(9).parseInt,i=n(70).trim,o=n(125),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(9).parseFloat,i=n(70).trim;e.exports=1/r(n(125)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(42);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(12),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){"use strict";var r=n(56),i=n(51),o=n(69),a={};n(29)(a,n(13)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(11);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(326);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(35),i=n(22),o=n(81),a=n(15);e.exports=function(e,t,n,s,l){r(t);var c=i(e),u=o(c),h=a(c.length),d=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(d in u){s=u[d],d+=p;break}if(d+=p,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=p)d in u&&(s=t(s,u[d],d,c));return s}},function(e,t,n){"use strict";var r=n(22),i=n(55),o=n(15);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),l=i(t,a),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?a:i(c,a))-l,a-s),h=1;for(l<s&&s<l+u&&(h=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){"use strict";var r=n(140);n(1)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){n(19)&&"g"!=/./g.flags&&n(20).f(RegExp.prototype,"flags",{configurable:!0,get:n(102)})},function(e,t,n){"use strict";var r,i,o,a,s=n(53),l=n(9),c=n(34),u=n(83),h=n(1),d=n(12),p=n(35),f=n(73),m=n(105),v=n(84),g=n(142).set,y=n(346)(),_=n(191),b=n(347),w=n(106),x=n(192),S=l.TypeError,k=l.process,A=k&&k.versions,E=A&&A.v8||"",C=l.Promise,T="process"==u(k),M=function(){},D=i=_.f,L=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[n(13)("species")]=function(e){e(M,M)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),P=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,s=i?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(i||(2==e._h&&F(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?c(S("Promise-chain cycle")):(o=P(n))?o.call(n,l,c):l(n)):c(r)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)}))}},I=function(e){g.call(l,(function(){var t,n,r,i=e._v,o=O(e);if(o&&(t=b((function(){T?k.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=T||O(e)?2:1),e._a=void 0,o&&t.e)throw t.v}))},O=function(e){return 1!==e._h&&0===(e._a||e._c).length},F=function(e){g.call(l,(function(){var t;T?k.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=P(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(N,r,1),c(B,r,1))}catch(e){B.call(r,e)}})):(n._v=e,n._s=1,R(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};L||(C=function(e){f(this,C,"Promise","_h"),p(e),r.call(this);try{e(c(N,this,1),c(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(74)(C.prototype,{then:function(e,t){var n=D(v(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(N,e,1),this.reject=c(B,e,1)},_.f=D=function(e){return e===C||e===a?new o(e):i(e)}),h(h.G+h.W+h.F*!L,{Promise:C}),n(69)(C,"Promise"),n(72)("Promise"),a=n(16).Promise,h(h.S+h.F*!L,"Promise",{reject:function(e){var t=D(this);return(0,t.reject)(e),t.promise}}),h(h.S+h.F*(s||!L),"Promise",{resolve:function(e){return x(s&&this===a?C:this,e)}}),h(h.S+h.F*!(L&&n(101)((function(e){C.all(e).catch(M)}))),"Promise",{all:function(e){var t=this,n=D(t),r=n.resolve,i=n.reject,o=b((function(){var n=[],o=0,a=1;m(e,!1,(function(e){var s=o++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),i)})),--a||r(n)}));return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=D(t),r=n.reject,i=b((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(35);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(11),i=n(12),o=n(191);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(20).f,i=n(56),o=n(74),a=n(34),s=n(73),l=n(105),c=n(131),u=n(187),h=n(72),d=n(19),p=n(48).fastKey,f=n(60),m=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&l(r,n,e[c],e)}));return o(u.prototype,{clear:function(){for(var e=f(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=f(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(e){f(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(f(this,t),e)}}),d&&r(u.prototype,"size",{get:function(){return f(this,t)[m]}}),u},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=f(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))}),n?"entries":"values",!n,!0),h(t)}}},function(e,t,n){"use strict";var r=n(74),i=n(48).getWeak,o=n(11),a=n(12),s=n(73),l=n(105),c=n(39),u=n(28),h=n(60),d=c(5),p=c(6),f=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},g=function(e,t){return d(e.a,(function(e){return e[0]===t}))};v.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=f++,e._l=void 0,null!=r&&l(r,n,e[o],e)}));return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(h(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?m(h(this,t)).has(e):n&&u(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){var r=n(36),i=n(15);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(57),i=n(99),o=n(11),a=n(9).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(15),i=n(127),o=n(43);e.exports=function(e,t,n,a){var s=String(o(e)),l=s.length,c=void 0===n?" ":String(n),u=r(t);if(u<=l||""==c)return s;var h=u-l,d=i.call(c,Math.ceil(h/c.length));return d.length>h&&(d=d.slice(0,h)),a?d+s:s+d}},function(e,t,n){var r=n(19),i=n(54),o=n(30),a=n(82).f;e.exports=function(e){return function(t){for(var n,s=o(t),l=i(s),c=l.length,u=0,h=[];c>u;)n=l[u++],r&&!a.call(s,n)||h.push(e?[n,s[n]]:s[n]);return h}}},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dealerService=t.DealerPreference=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=t.DealerPreference=function(){function e(){s(this,e),this.preference={}}return i(e,[{key:"set_name",value:function(e){this.preference.name=e}},{key:"get_name",value:function(){return this.preference.name}},{key:"set_trading_name",value:function(e){this.preference.trading_name=e}},{key:"get_trading_name",value:function(){return this.preference.trading_name}},{key:"set_english_name",value:function(e){this.preference.english_name=e}},{key:"get_english_name",value:function(){return this.preference.english_name}},{key:"set_number",value:function(e){this.preference.number=e}},{key:"get_number",value:function(){return this.preference.number}},{key:"set_href",value:function(e){this.preference.href=e}},{key:"get_href",value:function(){return this.preference.href}},{key:"set_from_string",value:function(e){var t={};try{if(null===(t=JSON.parse(e)))return}catch(e){return}var n=t,r=n.href,i=n.number,o=n.name,a=n.trading_name;this.set_href(r),this.set_number(i),this.set_name(o),this.set_trading_name(a)}},{key:"to_string",value:function(){return JSON.stringify(this.preference)}}]),e}(),c=function(){function e(){s(this,e),this.list_removed_dealer_numbers=["39795","36823"]}return i(e,[{key:"is_removed_dealer",value:function(e){var t=e.get_number();return!!t&&this.list_removed_dealer_numbers.indexOf(t)>-1}}],[{key:"is_removed",value:function(t){return(new e).is_removed_dealer(t)}}]),e}(),u=function(){function e(){var t=this;s(this,e),a.default.sub_epaas.subscribe({next:function(e){var n=e.epaas;t.epaas=n,t.initialise_dealer_preference()}})}return i(e,[{key:"is_epaas_available",value:function(){return!!this.epaas}},{key:"is_epaas_unavailable",value:function(){return!this.is_epaas_available()}},{key:"check_use_allowed",value:function(){this.is_epaas_available()?this.use_allowed=this.epaas.isUsageAllowed("rrmc-dealer"):this.use_allowed=!1}},{key:"is_use_allowed",value:function(){return this.use_allowed}},{key:"is_use_not_allowed",value:function(){return!this.is_use_allowed()}},{key:"read_persistence",value:function(){return this.epaas.getPersistence("rrmc-dealer")}},{key:"set_persistence",value:function(e){return this.epaas.setPersistence("rrmc-dealer",e)}},{key:"set_preference",value:function(e){this.preference=e}},{key:"get_preference",value:function(){return this.preference}},{key:"is_preference_set",value:function(){return!!this.get_preference()}},{key:"read_dealer_preference",value:function(){var e=new l;e.set_from_string(this.read_persistence()),c.is_removed(e)&&(e=new l),this.set_preference(e)}},{key:"store_dealer_preference",value:function(){this.check_use_allowed(),this.is_use_not_allowed()||this.set_persistence(this.preference.to_string())}},{key:"publish_preference",value:function(){a.default.sub_preferred_dealer.next(this.get_preference())}},{key:"initialise_dealer_preference",value:function(){this.check_use_allowed(),this.is_use_not_allowed()||(this.is_preference_set()?this.store_dealer_preference():(this.read_dealer_preference(),this.publish_preference()))}},{key:"select_dealer",value:function(e){this.set_preference(e),this.store_dealer_preference()}},{key:"subscribe",value:function(e){return a.default.sub_preferred_dealer.subscribe({next:e})}},{key:"get_current_preferred_dealer",value:function(){if(this.check_use_allowed(),this.is_use_not_allowed())return new l;var e=new l;return e.set_from_string(this.read_persistence()),e}},{key:"is_dealer_page",value:function(){return window.rrmc_is_dealer_page}},{key:"get_current_page_dealer_info_obj",value:function(e){return window.rrmc_dealer_info[e]}}]),e}();t.dealerService=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(65);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.listeners=t}return r(e,[{key:"on",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,i.isString)(e)&&(e=[e]);for(var o=0;o<e.length;o++)this.listeners[e[o]]=n,t.addEventListenerRR(e[o],this.listeners[e[o]],r)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,i.isString)(e)&&(e=[e]);for(var r=0;r<e.length;r++)t.removeEventListenerRR(e[r],this.listeners[e[r]],n)}},{key:"destroy",value:function(){delete this.listeners}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a};var r,i=n(14),o=(r=i)&&r.__esModule?r:{default:r};var a=!1;document.addEventListenerRR("touchstart",(function e(){a=!0,document.removeEventListenerRR("touchstart",e),o.default.sub_touch_update.next(!0)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reach_overlay_container_type=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"local",t=document.querySelector(".rrmc-page-overlay-container-"+e),n=t?t.querySelector(".overlay-"+e):null;return{overlay_container:t,overlay_container_wrapper:n}},t.reach_overlay_container_list=function(e){if(!e||!e.children)return null;var t=e.children.item(0);if(!t||!t.children)return null;var n=t.children.item(0);if(!n||!n.children)return null;return n.children.item(0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function i(e){for(var t=/\{\{([^}]+)\}\}/g,n=[],r=t.exec(e);null!=r;)n.push(r[1]),r=t.exec(e);return n}function o(e,t,n){var r=new RegExp("{{"+t+"}}","g");return e.replace(r,n||"")}t.getInjections=i,t.inject=o,t.applyInjectionToElement=function(e,t){i(e.innerHTML).forEach((function(n){var i=n.split(":"),a=r(i,2),s=a[0],l='<span class="rrmc-embedded-icon" style="color: '+a[1]+'">'+t[s]+"</span>";e.innerHTML=o(e.innerHTML,n,l),e.style.visibility="visible"}))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var r=n(2),i=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.a(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(95).a),o=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t}(n(93).a))(i),a=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var r=n(2),i=n(4),o=n(17),a=n(8),s=n(21);function l(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}}var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),u=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.keySelector=n,a.elementSelector=r,a.durationSelector=i,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return r.a(t,e),t.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(e){this.error(e)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,n.set(t,i);var o=new d(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new d(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new h(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.a),h=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.a(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.a),d=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(t,e),t.prototype._subscribe=function(e){var t=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(a.a),p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.a(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e,t,n,r){e[t]=new i(n),r&&e[t].subscribe(r,e)};var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=t.value,this.behsub=t}return r(e,[{key:"subscribe",value:function(e,t){var n=this;this.subscription=this.behsub.subscribe({next:function(r){n._value=r,e.call(t,r)}})}},{key:"value",value:function(){return this._value}},{key:"unsub",value:function(){this.subscription.unsubscribe()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=t-n,i=r/2,o=n/2,a=e-n/2,s=t/2,l=n/2,c=n/2+i,u=l,h=e-(n/2+i),d=t-n/2,p=Math.PI*r/4;return{w:e,h:t,diameter:r,radius:i,middle_left:o,middle_right:a,middle_vertical:s,arc_top_left_y:l,arc_top_left_x:c,arc_top_right_y:u,arc_top_right_x:h,arc_bottom_y:d,dash_length:4*p+2*(e-r)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeEntry=function(e){var t=(new DOMParser).parseFromString(e.value,"text/html");return t.body?t.body.textContent:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Valid=void 0;var r=n(64),i=n(466),o=n(551),a=n(552),s=n(211),l=n(154),c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,u=t.Valid=function(){return{validateTextInput:function(e){var t=!0;return e.classList.contains("js-rrmc-required-true")&&(0==e.value.trim().length?($(e).css("border-bottom","2px solid #f94564"),$(e).next("span.rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("This field is required.")),t=!1):($(e).next("span.rrmc-form-label-error").addClass("-hidden"),t=!0,$(e).css("border-bottom","2px solid #676776"))),t},validatePhoneInput:function(e,t){var n=!0,i=t.querySelector(".iti__selected-flag").getAttribute("min-length")?t.querySelector(".iti__selected-flag").getAttribute("min-length"):4;return e.value.trim().length>0&&e.value.trim().length<i?($(e).css("border-bottom","2px solid #f94564"),$(e).next("span.rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("This field is required.")),n=!1):e.classList.contains("js-rrmc-required-true")&&(e.value.trim().length<i?($(e).css("border-bottom","2px solid #f94564"),$(e).next("span.rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("This field is required.")),n=!1):($(e).next("span.rrmc-form-label-error").addClass("-hidden"),n=!0)),n},validateEmailInput:function(e){var t=!0;if(0!=e.classList.contains("js-rrmc-required-true"))return 0==e.value.trim().length?($(e).css("border-bottom","2px solid #f94564"),$(e).next("span.rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("This field is required.")),t=!1):c.test(e.value)?($(e).next("span.rrmc-form-label-error").addClass("-hidden"),t=!0):($(e).css("border-bottom","2px solid #f94564"),$(e).next("span.rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("Please enter a valid email address")),t=!1),t},validateCheckboxFieldInput:function(e){var t=!0,n=$(e).find(".rrmc-form-checkbox-list");($(e).hasClass("js-rrmc-model-brochure")&&Array.from(n).forEach((function(e){$(e).find(".rrmc-form-checkbox-input").is(":checked")?($(e).next("span.rrmc-form-label-error").addClass("-hidden"),t=!0):($(e).next(".rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("Please select at least one item.")),t=!1)})),$(e).hasClass("js-rrmc-whisper-checkbox"))&&($('input[name="whisperCheckBox"]').is(":checked")?($(".rrmc-whisper-checkbox-label-error").addClass("-hidden"),t=!0):($(".rrmc-whisper-checkbox-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("This field is required.")),t=!1));return t},validateSalutation:function(e){var t=!0;return $(e).children("option:selected").val()?($(e).parent().next("span.rrmc-form-label-error").addClass("-hidden"),t=!0):($(e).next(".select-custom").css("border-bottom","2px solid #f94564"),$(e).parent().next("span.rrmc-form-label-error").removeClass("-hidden").html((0,r.getI18nComponent)("This field is required.")),t=!1),t},loadOthers:function(e){var t=this,n=e.querySelectorAll(".js-rrmc-form-input"),r=e.querySelector("form"),c=r?r.id:"",u=!0;Array.from(n).forEach((function(e){!function(e,t){return"text"==e.type&&"vin"==e.name&&t===i.WhispersReferralFormId}(e,c)?"phone"==e.name?(e.value=(0,s.escapeEntry)(e),t.validatePhoneInput(e,r)||(u=!1)):"text"==e.type?(e.value=(0,s.escapeEntry)(e),t.validateTextInput(e)||(u=!1)):"email"==e.type?t.validateEmailInput(e)||(u=!1):"checkbox"==e.dataset.type?t.validateCheckboxFieldInput(e)||(u=!1):"salutation"==e.name||"localisedDealer"==e.name||"selectMyEvent"==e.name||"selectMyEventOption"==e.name?t.validateSalutation(e)||(u=!1):"checkbox"==e.type&&(t.validateCheckboxFieldInput(e)||(u=!1)):t.validateEmailInput(e)||(u=!1)}));var h=window.location.href,d=(0,l.getActiveLocale)(),p=("join-waiting-list"===c||"keep-me-informed-rr25"===c)&&"en_US"===d;if(-1===h.indexOf("boutique/my-list")&&!p){var f=new o.MarketingOptionsValidator(r);f.validate(),f.areThereErrors()&&(u=!1)}if("keep-me-informed-rr25"===c&&"en_US"!==d){var m=new a.MarketingOptionsValidatorRR25(r);m.validate(),!m.areThereErrors()&&m.isThereMarketingAcceptance()||(u=!1)}return u}}};t.default=new u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsPassive=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0}});window.addEventListenerRR("testPassive",null,t),window.removeEventListenerRR("testPassive",null,t)}catch(e){console.log(e)}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(2),i=n(21),o=n(8),a=n(4),s=n(17),l=n(156),c=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new s.a).add(this.source.subscribe(new h(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.a.EMPTY)),e},t.prototype.refCount=function(){return Object(l.a)()(this)},t}(o.a),u=function(){var e=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.a(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);a.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(21),o=n(80),a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l}));var r=n(2),i=n(4),o=n(68);function a(e,t){return void 0===t&&(t=0),function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))},e}(),l=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.a(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.a.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.a.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},t}(i.a),c=function(){return function(e,t){this.notification=e,this.destination=t}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(160);function i(){return Object(r.a)(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),i=n(33),o=n(160),a=n(92);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,s=null,l=e[e.length-1];return Object(i.a)(l)?(s=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===s&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(n)(Object(a.a)(e,s))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),i=n(24),o=n(92),a=n(66),s=n(49);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new c)}var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(s.a)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(t)},t}(a.a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(8),i=n(23),o=n(96),a=n(33);function s(e,t,n){void 0===e&&(e=0);var s=-1;return Object(o.a)(t)?s=Number(t)<1?1:Number(t):Object(a.a)(t)&&(n=t),Object(a.a)(n)||(n=i.a),new r.a((function(t){var r=Object(o.a)(e)?e:+e-n.now();return n.schedule(l,r,{index:0,period:s,subscriber:t})}))}function l(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),i=n(17),o=n(79);var a=n(165),s=n(77);var l=n(226),c=n(225);function u(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.a]}(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){var i=e[o.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Object(l.a)(e))return function(e,t){return new r.a((function(n){var r=new i.a;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Object(c.a)(e))return Object(a.a)(e,t);if(function(e){return e&&"function"==typeof e[s.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(t.schedule((function(){r=e[s.a](),o.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),o}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),i=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(17).a)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}},function(e,t,n){"use strict";t.a=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))}},function(e,t,n){"use strict";function r(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}r.prototype=Error.prototype,t.a=function(e){var t=this;return new t((function(n,i){if(!e||void 0===e.length)return i(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return i();for(var a=[],s=0;s<o.length;s++)try{t.resolve(o[s]).then(n).catch((function(e){a.push(e),a.length===o.length&&i(new r(a,"All promises were rejected"))}))}catch(e){i(e)}}))}},function(e,t,n){"use strict";(function(e){function r(){return e._babelPolyfill||"undefined"!=typeof window&&window._babelPolyfill?null:n(232)}Object.defineProperty(t,"__esModule",{value:!0}),t.idempotentBabelPolyfill=r,t.default=void 0;var i=r();t.default=i}).call(this,n(88))},function(e,t,n){"use strict";n(233);var r,i=(r=n(405))&&r.__esModule?r:{default:r};i.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),i.default._babelPolyfill=!0},function(e,t,n){"use strict";n(234),n(377),n(379),n(382),n(384),n(386),n(388),n(390),n(392),n(394),n(396),n(398),n(400),n(404)},function(e,t,n){n(235),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(316),n(317),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(139),n(340),n(188),n(341),n(189),n(342),n(343),n(344),n(345),n(190),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),e.exports=n(16)},function(e,t,n){"use strict";var r=n(9),i=n(28),o=n(19),a=n(1),s=n(25),l=n(48).KEY,c=n(10),u=n(97),h=n(69),d=n(52),p=n(13),f=n(120),m=n(169),v=n(237),g=n(100),y=n(11),_=n(12),b=n(22),w=n(30),x=n(47),S=n(51),k=n(56),A=n(172),E=n(37),C=n(99),T=n(20),M=n(54),D=E.f,L=T.f,P=A.f,R=r.Symbol,I=r.JSON,O=I&&I.stringify,F=p("_hidden"),B=p("toPrimitive"),N={}.propertyIsEnumerable,j=u("symbol-registry"),z=u("symbols"),V=u("op-symbols"),U=Object.prototype,H="function"==typeof R&&!!C.f,G=r.QObject,q=!G||!G.prototype||!G.prototype.findChild,W=o&&c((function(){return 7!=k(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=D(U,t);r&&delete U[t],L(e,t,n),r&&e!==U&&L(U,t,r)}:L,Y=function(e){var t=z[e]=k(R.prototype);return t._k=e,t},X=H&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},Q=function(e,t,n){return e===U&&Q(V,t,n),y(e),t=x(t,!0),y(n),i(z,t)?(n.enumerable?(i(e,F)&&e[F][t]&&(e[F][t]=!1),n=k(n,{enumerable:S(0,!1)})):(i(e,F)||L(e,F,S(1,{})),e[F][t]=!0),W(e,t,n)):L(e,t,n)},K=function(e,t){y(e);for(var n,r=v(t=w(t)),i=0,o=r.length;o>i;)Q(e,n=r[i++],t[n]);return e},J=function(e){var t=N.call(this,e=x(e,!0));return!(this===U&&i(z,e)&&!i(V,e))&&(!(t||!i(this,e)||!i(z,e)||i(this,F)&&this[F][e])||t)},Z=function(e,t){if(e=w(e),t=x(t,!0),e!==U||!i(z,t)||i(V,t)){var n=D(e,t);return!n||!i(z,t)||i(e,F)&&e[F][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=P(w(e)),r=[],o=0;n.length>o;)i(z,t=n[o++])||t==F||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===U,r=P(n?V:w(e)),o=[],a=0;r.length>a;)!i(z,t=r[a++])||n&&!i(U,t)||o.push(z[t]);return o};H||(s((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(V,n),i(this,F)&&i(this[F],e)&&(this[F][e]=!1),W(this,e,S(1,n))};return o&&q&&W(U,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",(function(){return this._k})),E.f=Z,T.f=Q,n(57).f=A.f=$,n(82).f=J,C.f=ee,o&&!n(53)&&s(U,"propertyIsEnumerable",J,!0),f.f=function(e){return Y(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:R});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=M(p.store),ie=0;re.length>ie;)m(re[ie++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=R(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?k(e):K(k(e),t)},defineProperty:Q,defineProperties:K,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var oe=c((function(){C.f(1)}));a(a.S+a.F*oe,"Object",{getOwnPropertySymbols:function(e){return C.f(b(e))}}),I&&a(a.S+a.F*(!H||c((function(){var e=R();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||void 0!==e)&&!X(e))return g(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,O.apply(I,r)}}),R.prototype[B]||n(29)(R.prototype,B,R.prototype.valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(e,t,n){e.exports=n(97)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(54),i=n(99),o=n(82);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),l=o.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(1);r(r.S,"Object",{create:n(56)})},function(e,t,n){var r=n(1);r(r.S+r.F*!n(19),"Object",{defineProperty:n(20).f})},function(e,t,n){var r=n(1);r(r.S+r.F*!n(19),"Object",{defineProperties:n(171)})},function(e,t,n){var r=n(30),i=n(37).f;n(38)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))},function(e,t,n){var r=n(22),i=n(58);n(38)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))},function(e,t,n){var r=n(22),i=n(54);n(38)("keys",(function(){return function(e){return i(r(e))}}))},function(e,t,n){n(38)("getOwnPropertyNames",(function(){return n(172).f}))},function(e,t,n){var r=n(12),i=n(48).onFreeze;n(38)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(12),i=n(48).onFreeze;n(38)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(12),i=n(48).onFreeze;n(38)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))},function(e,t,n){var r=n(12);n(38)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(12);n(38)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(12);n(38)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},function(e,t,n){var r=n(1);r(r.S+r.F,"Object",{assign:n(173)})},function(e,t,n){var r=n(1);r(r.S,"Object",{is:n(174)})},function(e,t,n){var r=n(1);r(r.S,"Object",{setPrototypeOf:n(124).set})},function(e,t,n){"use strict";var r=n(83),i={};i[n(13)("toStringTag")]="z",i+""!="[object z]"&&n(25)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(1);r(r.P,"Function",{bind:n(175)})},function(e,t,n){var r=n(20).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(19)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(12),i=n(58),o=n(13)("hasInstance"),a=Function.prototype;o in a||n(20).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(1),i=n(177);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(1),i=n(178);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(9),i=n(28),o=n(42),a=n(126),s=n(47),l=n(10),c=n(57).f,u=n(37).f,h=n(20).f,d=n(70).trim,p=r.Number,f=p,m=p.prototype,v="Number"==o(n(56)(m)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,l=t.slice(2),c=0,u=l.length;c<u;c++)if((a=l.charCodeAt(c))<48||a>i)return NaN;return parseInt(l,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?l((function(){m.valueOf.call(n)})):"Number"!=o(n))?a(new f(y(t)),n,p):y(t)};for(var _,b=n(19)?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(f,_=b[w])&&!i(p,_)&&h(p,_,u(f,_));p.prototype=m,m.constructor=p,n(25)(r,"Number",p)}},function(e,t,n){"use strict";var r=n(1),i=n(36),o=n(179),a=n(127),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],u="Number.toFixed: incorrect invocation!",h=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=l(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=l(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},f=function(e,t,n){return 0===t?n:t%2==1?f(e,t-1,n*e):f(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(10)((function(){s.call({})}))),"Number",{toFixed:function(e){var t,n,r,s,l=o(this,u),c=i(e),m="",v="0";if(c<0||c>20)throw RangeError(u);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*f(2,69,1))-69)<0?l*f(2,-t,1):l/f(2,t,1),n*=4503599627370496,(t=52-t)>0){for(h(0,n),r=c;r>=7;)h(1e7,0),r-=7;for(h(f(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),h(1,1),d(2),v=p()}else h(0,n),h(1<<-t,0),v=p()+a.call("0",c);return v=c>0?m+((s=v.length)<=c?"0."+a.call("0",c-s)+v:v.slice(0,s-c)+"."+v.slice(s-c)):m+v}})},function(e,t,n){"use strict";var r=n(1),i=n(10),o=n(179),a=1..toPrecision;r(r.P+r.F*(i((function(){return"1"!==a.call(1,void 0)}))||!i((function(){a.call({})}))),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(1);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(1),i=n(9).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(1);r(r.S,"Number",{isInteger:n(180)})},function(e,t,n){var r=n(1);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(1),i=n(180),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(1);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(1);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(1),i=n(178);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(1),i=n(177);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(1),i=n(181),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(1),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(1),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(1),i=n(128);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(1);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(1),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(1),i=n(129);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(1);r(r.S,"Math",{fround:n(280)})},function(e,t,n){var r=n(128),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),l=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<l?c*(i/l/a+1/o-1/o)*l*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var r=n(1),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,l=0;a<s;)l<(n=i(arguments[a++]))?(o=o*(r=l/n)*r+1,l=n):o+=n>0?(r=n/l)*r:n;return l===1/0?1/0:l*Math.sqrt(o)}})},function(e,t,n){var r=n(1),i=Math.imul;r(r.S+r.F*n(10)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(1);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(1);r(r.S,"Math",{log1p:n(181)})},function(e,t,n){var r=n(1);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(1);r(r.S,"Math",{sign:n(128)})},function(e,t,n){var r=n(1),i=n(129),o=Math.exp;r(r.S+r.F*n(10)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(1),i=n(129),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(1);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(1),i=n(55),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(1),i=n(30),o=n(15);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(70)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,n){"use strict";var r=n(130)(!0);n(131)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){"use strict";var r=n(1),i=n(130)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(1),i=n(15),o=n(132),a="".endsWith;r(r.P+r.F*n(134)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),l=String(e);return a?a.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){"use strict";var r=n(1),i=n(132);r(r.P+r.F*n(134)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(1);r(r.P,"String",{repeat:n(127)})},function(e,t,n){"use strict";var r=n(1),i=n(15),o=n(132),a="".startsWith;r(r.P+r.F*n(134)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return a?a.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(26)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){"use strict";n(26)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){"use strict";n(26)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){"use strict";n(26)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){"use strict";n(26)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){"use strict";n(26)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){"use strict";n(26)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){"use strict";n(26)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){"use strict";n(26)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){"use strict";n(26)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){"use strict";n(26)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){"use strict";n(26)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){"use strict";n(26)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var r=n(1);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(1),i=n(22),o=n(47);r(r.P+r.F*n(10)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(1),i=n(315);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(10),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!r((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(25)(r,"toString",(function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"}))},function(e,t,n){var r=n(13)("toPrimitive"),i=Date.prototype;r in i||n(29)(i,r,n(318))},function(e,t,n){"use strict";var r=n(11),i=n(47);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(1);r(r.S,"Array",{isArray:n(100)})},function(e,t,n){"use strict";var r=n(34),i=n(1),o=n(22),a=n(183),s=n(135),l=n(15),c=n(136),u=n(137);i(i.S+i.F*!n(101)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,h,d=o(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,v=void 0!==m,g=0,y=u(d);if(v&&(m=r(m,f>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=l(d.length));t>g;g++)c(n,g,v?m(d[g],g):d[g]);else for(h=y.call(d),n=new p;!(i=h.next()).done;g++)c(n,g,v?a(h,m,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(1),i=n(136);r(r.S+r.F*n(10)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(1),i=n(30),o=[].join;r(r.P+r.F*(n(81)!=Object||!n(32)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(1),i=n(123),o=n(42),a=n(55),s=n(15),l=[].slice;r(r.P+r.F*n(10)((function(){i&&l.call(i)})),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return l.call(this,e,t);for(var i=a(e,n),c=a(t,n),u=s(c-i),h=new Array(u),d=0;d<u;d++)h[d]="String"==r?this.charAt(i+d):this[i+d];return h}})},function(e,t,n){"use strict";var r=n(1),i=n(35),o=n(22),a=n(10),s=[].sort,l=[1,2,3];r(r.P+r.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(32)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(1),i=n(39)(0),o=n(32)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(12),i=n(100),o=n(13)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(1),i=n(39)(1);r(r.P+r.F*!n(32)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(1),i=n(39)(2);r(r.P+r.F*!n(32)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(1),i=n(39)(3);r(r.P+r.F*!n(32)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(1),i=n(39)(4);r(r.P+r.F*!n(32)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(1),i=n(185);r(r.P+r.F*!n(32)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(1),i=n(185);r(r.P+r.F*!n(32)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(1),i=n(98)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(32)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(1),i=n(30),o=n(36),a=n(15),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(32)(s)),"Array",{lastIndexOf:function(e){if(l)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(1);r(r.P,"Array",{copyWithin:n(186)}),n(59)("copyWithin")},function(e,t,n){var r=n(1);r(r.P,"Array",{fill:n(138)}),n(59)("fill")},function(e,t,n){"use strict";var r=n(1),i=n(39)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(59)("find")},function(e,t,n){"use strict";var r=n(1),i=n(39)(6),o="findIndex",a=!0;o in[]&&Array(1)[o]((function(){a=!1})),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(59)(o)},function(e,t,n){n(72)("Array")},function(e,t,n){var r=n(9),i=n(126),o=n(20).f,a=n(57).f,s=n(133),l=n(102),c=r.RegExp,u=c,h=c.prototype,d=/a/g,p=/a/g,f=new c(d)!==d;if(n(19)&&(!f||n(10)((function(){return p[n(13)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(f?new u(r&&!o?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&o?l.call(e):t),n?this:h,c)};for(var m=function(e){e in c||o(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=a(u),g=0;v.length>g;)m(v[g++]);h.constructor=c,c.prototype=h,n(25)(r,"RegExp",c)}n(72)("RegExp")},function(e,t,n){"use strict";n(189);var r=n(11),i=n(102),o=n(19),a=/./.toString,s=function(e){n(25)(RegExp.prototype,"toString",e,!0)};n(10)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(141),a=n(103);n(104)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var l=r(e),c=String(this);if(!l.global)return a(l,c);var u=l.unicode;l.lastIndex=0;for(var h,d=[],p=0;null!==(h=a(l,c));){var f=String(h[0]);d[p]=f,""===f&&(l.lastIndex=o(c,i(l.lastIndex),u)),p++}return 0===p?null:d}]}))},function(e,t,n){"use strict";var r=n(11),i=n(22),o=n(15),a=n(36),s=n(141),l=n(103),c=Math.max,u=Math.min,h=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(104)("replace",2,(function(e,t,n,f){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=f(n,e,this,t);if(i.done)return i.value;var h=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var v=h.global;if(v){var g=h.unicode;h.lastIndex=0}for(var y=[];;){var _=l(h,d);if(null===_)break;if(y.push(_),!v)break;""===String(_[0])&&(h.lastIndex=s(d,o(h.lastIndex),g))}for(var b,w="",x=0,S=0;S<y.length;S++){_=y[S];for(var k=String(_[0]),A=c(u(a(_.index),d.length),0),E=[],C=1;C<_.length;C++)E.push(void 0===(b=_[C])?b:String(b));var T=_.groups;if(p){var M=[k].concat(E,A,d);void 0!==T&&M.push(T);var D=String(t.apply(void 0,M))}else D=m(k,d,A,E,T,t);A>=x&&(w+=d.slice(x,A)+D,x=A+k.length)}return w+d.slice(x)}];function m(e,t,r,o,a,s){var l=r+e.length,c=o.length,u=p;return void 0!==a&&(a=i(a),u=d),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var d=h(u/10);return 0===d?n:d<=c?void 0===o[d-1]?i.charAt(1):o[d-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},function(e,t,n){"use strict";var r=n(11),i=n(174),o=n(103);n(104)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var s=r(e),l=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var u=o(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},function(e,t,n){"use strict";var r=n(133),i=n(11),o=n(84),a=n(141),s=n(15),l=n(103),c=n(140),u=n(10),h=Math.min,d=[].push,p="length",f=!u((function(){RegExp(4294967295,"y")}));n(104)("split",2,(function(e,t,n,u){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||".".split(/()()/)[p]>1||"".split(/.?/)[p]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,s,l=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,f=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,u+"g");(o=c.call(m,i))&&!((a=m.lastIndex)>h&&(l.push(i.slice(h,o.index)),o[p]>1&&o.index<i[p]&&d.apply(l,o.slice(1)),s=o[0][p],h=a,l[p]>=f));)m.lastIndex===o.index&&m.lastIndex++;return h===i[p]?!s&&m.test("")||l.push(""):l.push(i.slice(h)),l[p]>f?l.slice(0,f):l}:"0".split(void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):m.call(String(i),n,r)},function(e,t){var r=u(m,e,this,t,m!==n);if(r.done)return r.value;var c=i(e),d=String(this),p=o(c,RegExp),v=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"y":"g"),y=new p(f?c:"^(?:"+c.source+")",g),_=void 0===t?4294967295:t>>>0;if(0===_)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var b=0,w=0,x=[];w<d.length;){y.lastIndex=f?w:0;var S,k=l(y,f?d:d.slice(w));if(null===k||(S=h(s(y.lastIndex+(f?0:w)),d.length))===b)w=a(d,w,v);else{if(x.push(d.slice(b,w)),x.length===_)return x;for(var A=1;A<=k.length-1;A++)if(x.push(k[A]),x.length===_)return x;w=b=S}}return x.push(d.slice(b)),x}]}))},function(e,t,n){var r=n(9),i=n(142).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(42)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){i.call(r,c)};else{var h=!0,d=document.createTextNode("");new o(c).observe(d,{characterData:!0}),n=function(){d.data=h=!h}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(193),i=n(60);e.exports=n(107)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(193),i=n(60);e.exports=n(107)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(9),o=n(39)(0),a=n(25),s=n(48),l=n(173),c=n(194),u=n(12),h=n(60),d=n(60),p=!i.ActiveXObject&&"ActiveXObject"in i,f=s.getWeak,m=Object.isExtensible,v=c.ufstore,g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(e){if(u(e)){var t=f(e);return!0===t?v(h(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return c.def(h(this,"WeakMap"),e,t)}},_=e.exports=n(107)("WeakMap",g,y,c,!0,!0);d&&p&&(l((r=c.getConstructor(g,"WeakMap")).prototype,y),s.NEED=!0,o(["delete","has","get","set"],(function(e){var t=_.prototype,n=t[e];a(t,e,(function(t,i){if(u(t)&&!m(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)}))})))},function(e,t,n){"use strict";var r=n(194),i=n(60);n(107)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(1),i=n(108),o=n(143),a=n(11),s=n(55),l=n(15),c=n(12),u=n(9).ArrayBuffer,h=n(84),d=o.ArrayBuffer,p=o.DataView,f=i.ABV&&u.isView,m=d.prototype.slice,v=i.VIEW;r(r.G+r.W+r.F*(u!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return f&&f(e)||c(e)&&v in e}}),r(r.P+r.U+r.F*n(10)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(h(this,d))(l(i-r)),c=new p(this),u=new p(o),f=0;r<i;)u.setUint8(f++,c.getUint8(r++));return o}}),n(72)("ArrayBuffer")},function(e,t,n){var r=n(1);r(r.G+r.W+r.F*!n(108).ABV,{DataView:n(143).DataView})},function(e,t,n){n(44)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){n(44)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(44)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(1),i=n(35),o=n(11),a=(n(9).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(10)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),l=o(n);return a?a(r,t,l):s.call(r,t,l)}})},function(e,t,n){var r=n(1),i=n(56),o=n(35),a=n(11),s=n(12),l=n(10),c=n(175),u=(n(9).Reflect||{}).construct,h=l((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),d=!l((function(){u((function(){}))}));r(r.S+r.F*(h||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!h)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var l=n.prototype,p=i(s(l)?l:Object.prototype),f=Function.apply.call(e,p,t);return s(f)?f:p}})},function(e,t,n){var r=n(20),i=n(1),o=n(11),a=n(47);i(i.S+i.F*n(10)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(1),i=n(37).f,o=n(11);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(1),i=n(11),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(182)(o,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(37),i=n(58),o=n(28),a=n(1),s=n(12),l=n(11);a(a.S,"Reflect",{get:function e(t,n){var a,c,u=arguments.length<3?t:arguments[2];return l(t)===u?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(u):void 0:s(c=i(t))?e(c,n,u):void 0}})},function(e,t,n){var r=n(37),i=n(1),o=n(11);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(1),i=n(58),o=n(11);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(1);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(1),i=n(11),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(1);r(r.S,"Reflect",{ownKeys:n(196)})},function(e,t,n){var r=n(1),i=n(11),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(20),i=n(37),o=n(58),a=n(28),s=n(1),l=n(51),c=n(11),u=n(12);s(s.S,"Reflect",{set:function e(t,n,s){var h,d,p=arguments.length<4?t:arguments[3],f=i.f(c(t),n);if(!f){if(u(d=o(t)))return e(d,n,s,p);f=l(0)}if(a(f,"value")){if(!1===f.writable||!u(p))return!1;if(h=i.f(p,n)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,r.f(p,n,h)}else r.f(p,n,l(0,s));return!0}return void 0!==f.set&&(f.set.call(p,s),!0)}})},function(e,t,n){var r=n(1),i=n(124);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){n(378),e.exports=n(16).Array.includes},function(e,t,n){"use strict";var r=n(1),i=n(98)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(59)("includes")},function(e,t,n){n(380),e.exports=n(16).Array.flatMap},function(e,t,n){"use strict";var r=n(1),i=n(381),o=n(22),a=n(15),s=n(35),l=n(184);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=l(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(59)("flatMap")},function(e,t,n){"use strict";var r=n(100),i=n(12),o=n(15),a=n(34),s=n(13)("isConcatSpreadable");e.exports=function e(t,n,l,c,u,h,d,p){for(var f,m,v=u,g=0,y=!!d&&a(d,p,3);g<c;){if(g in l){if(f=y?y(l[g],g,n):l[g],m=!1,i(f)&&(m=void 0!==(m=f[s])?!!m:r(f)),m&&h>0)v=e(t,n,f,o(f.length),v,h-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=f}v++}g++}return v}},function(e,t,n){n(383),e.exports=n(16).String.padStart},function(e,t,n){"use strict";var r=n(1),i=n(197),o=n(106),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){n(385),e.exports=n(16).String.padEnd},function(e,t,n){"use strict";var r=n(1),i=n(197),o=n(106),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){n(387),e.exports=n(16).String.trimLeft},function(e,t,n){"use strict";n(70)("trimLeft",(function(e){return function(){return e(this,1)}}),"trimStart")},function(e,t,n){n(389),e.exports=n(16).String.trimRight},function(e,t,n){"use strict";n(70)("trimRight",(function(e){return function(){return e(this,2)}}),"trimEnd")},function(e,t,n){n(391),e.exports=n(120).f("asyncIterator")},function(e,t,n){n(169)("asyncIterator")},function(e,t,n){n(393),e.exports=n(16).Object.getOwnPropertyDescriptors},function(e,t,n){var r=n(1),i=n(196),o=n(30),a=n(37),s=n(136);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),l=a.f,c=i(r),u={},h=0;c.length>h;)void 0!==(n=l(r,t=c[h++]))&&s(u,t,n);return u}})},function(e,t,n){n(395),e.exports=n(16).Object.values},function(e,t,n){var r=n(1),i=n(198)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){n(397),e.exports=n(16).Object.entries},function(e,t,n){var r=n(1),i=n(198)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";n(190),n(399),e.exports=n(16).Promise.finally},function(e,t,n){"use strict";var r=n(1),i=n(16),o=n(9),a=n(84),s=n(192);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){n(401),n(402),n(403),e.exports=n(16)},function(e,t,n){var r=n(9),i=n(1),o=n(106),a=[].slice,s=/MSIE .\./.test(o),l=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(e,t,n){var r=n(1),i=n(142);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(139),i=n(54),o=n(25),a=n(9),s=n(29),l=n(71),c=n(13),u=c("iterator"),h=c("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(p),m=0;m<f.length;m++){var v,g=f[m],y=p[g],_=a[g],b=_&&_.prototype;if(b&&(b[u]||s(b,u,d),b[h]||s(b,h,g),l[g]=d,y))for(v in r)b[v]||o(b,v,r[v],!0)}},function(e,t,n){(function(t){!function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=m;var u={},h={};h[o]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(E([])));p&&p!==n&&r.call(p,o)&&(h=p);var f=_.prototype=g.prototype=Object.create(h);y.prototype=f.constructor=_,_.constructor=y,_[s]=y.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(f),e},c.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[a]=function(){return this},c.AsyncIterator=w,c.async=function(e,t,n,r){var i=new w(m(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(f),f[s]="Generator",f[o]=function(){return this},f.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=E,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}}}function m(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=v(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function v(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function g(){}function y(){}function _(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){function n(t,i,o,a){var s=v(e[t],e,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):Promise.resolve(c).then((function(e){l.value=e,o(l)}),a)}a(s.arg)}var i;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(e,t){function r(){return new Promise((function(r,i){n(e,t,r,i)}))}return i=i?i.then(r,r):r()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=v(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(88))},function(e,t,n){n(406),e.exports=n(199).global},function(e,t,n){var r=n(407);r(r.G,{global:n(144)})},function(e,t,n){var r=n(144),i=n(199),o=n(408),a=n(410),s=n(417),l=function(e,t,n){var c,u,h,d=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,v=e&l.B,g=e&l.W,y=p?i:i[t]||(i[t]={}),_=y.prototype,b=p?r:f?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(u=!d&&b&&void 0!==b[c])&&s(y,c)||(h=u?b[c]:n[c],y[c]=p&&"function"!=typeof b[c]?n[c]:v&&u?o(h,r):g&&b[c]==h?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(h):m&&"function"==typeof h?o(Function.call,h):h,m&&((y.virtual||(y.virtual={}))[c]=h,e&l.R&&_&&!_[c]&&a(_,c,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){var r=n(409);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(411),i=n(416);e.exports=n(146)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(412),i=n(413),o=n(415),a=Object.defineProperty;t.f=n(146)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(145);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(146)&&!n(200)((function(){return 7!=Object.defineProperty(n(414)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(145),i=n(144).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(145);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.componentDEVagency="AKQA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MODEL_LABEL="modelLabel",t.SUBMODELS="subModels",t.MARKETING_TITLE="marketingTitle",t.NOTES="notes",t.COLOR="color"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(153);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_columns=this.container.querySelector(".rrmc-toggle-columns"),this.theme=this.container.getAttribute("data-theme"),this.flag_checked=this.container.hasAttribute("data-checked"),this.is_checked=this.flag_checked,this.subs={},this.subs.click=new i.Subject,this.unsubs={},this.on_click=function(){n.is_checked?n.switch_off():n.switch_on(),n.subs.click.next(n.is_checked)}}return r(e,[{key:"addEventListener",value:function(e,t){var n=this;this.unsubs[e]||(this.unsubs[e]={}),this.unsubs[e][t]=this.subs[e].subscribe({next:function(e){return t(e,n.container)}})}},{key:"removeEventListener",value:function(e,t){this.unsubs[e]&&this.unsubs[e][t]&&this.unsubs[e][t].unsubscribe()}},{key:"switch_on",value:function(){this.is_checked=!0,this.container.classList.add("rrmc-toggle-checked")}},{key:"switch_off",value:function(){this.is_checked=!1,this.container.classList.remove("rrmc-toggle-checked")}},{key:"switch_toggle",value:function(){this.is_checked?this.switch_off():this.switch_on()}},{key:"is_on",value:function(){return this.is_checked}},{key:"select",value:function(e,t){this.is_checked!==e&&(e?this.switch_on():this.switch_off()),t&&this.subs.click.next(this.is_checked)}},{key:"load",value:function(){this.elm_columns.addEventListenerRR("click",this.on_click)}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=Object.keys(this.subs)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.subs[o].complete()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.elm_columns.removeEventListenerRR("click",this.on_click)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=n(153),a=n(422),s=n(45),l=n(64);var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dropdown=t,this.dropdownContainer=this.dropdown.querySelector(".rrmc-accessory-dropdown--container"),this.customSelector=this.dropdown.querySelector(".rrmc-accessory-dropdown--custom-select"),this.dropdownListWrapper=this.customSelector.querySelector(".rrmc-accessory-dropdown--custom-select-list"),this.dropdownEntries=this.dropdownListWrapper.querySelectorAll(".rrmc-accessory-dropdown--select-option"),this.dropdownColors=this.dropdownListWrapper.querySelectorAll(".rrmc-accessory-dropdown--color-disk"),this.dropdownType=this.dropdown.dataset.dropdownType,this.dropdownStatus=this.dropdown.dataset.dropdownStatus,this.htmlSelector=this.dropdown.querySelector(".rrmc-accessory-dropdown--select"),this.visibleSelector=this.dropdown.querySelector(".rrmc-accessory-dropdown--value"),this.dropdownLabel=this.dropdown.querySelector(".rrmc-accessory-dropdown--label"),this.dropdownSvg=this.dropdown.querySelector(".rrmc-accessory-dropdown--icon"),this.max_height=(0,s.is_tablet_portrait_down)()?150:260,this.subs={},this.subs.open=new o.Subject,this.subs.close=new o.Subject,this.subs.select=new o.Subject,this.unsubs={},this.returnFieldValue=function(){return{label:n.dropdownLabel.getAttribute("data-key-label"),value:n.htmlSelector.value}},this.updateDropdown=function(e){var t=e.currentTarget,r=t.innerText;if(r!==n.visibleSelector.innerText){var i=t.getAttribute("data-dropdown-value");n.htmlSelector.value=i,n.visibleSelector.innerText=r,"small"!==n.dropdownLabel.getAttribute("data-label-pos")&&(0,a.animateLabelSelect)("small",n.dropdownLabel,"dropdown",n.visibleSelector),n.subs.select.next(i),n.closeDropdown(),"color"===n.dropdownType&&n.SvgToColor(t.nextElementSibling.style.backgroundColor)}else n.closeDropdown()},this.handleDropdown=function(){"closed"===n.dropdownStatus?(n.subs.open.next(),n.openDropdown()):(n.subs.close.next(),n.closeDropdown())},this.triggerCloseDropdown=function(e){n.dropdown.contains(e.target)||(n.closeDropdown(),document.removeEventListenerRR("click",n.triggerCloseDropdown))}}return r(e,[{key:"preselect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.htmlSelector.value=e,this.visibleSelector.innerText=(0,l.getI18nComponent)(e),"color"!==this.dropdownType||n)"color"===this.dropdownType&&this.SvgToColor(n);else{var r=this.dropdownListWrapper.querySelector('span[data-value="'+e+'"]').style.backgroundColor;this.SvgToColor(r)}(0,a.animateLabelSelect)("small",this.dropdownLabel,"dropdown",this.visibleSelector),this.subs.select.next(e),t&&(this.dropdownContainer.classList.add("rrmc-dropdown--disabled"),this.dropdownContainer.removeEventListener("click",this.handleDropdown))}},{key:"addEventListener",value:function(e,t){this.unsubs[e]||(this.unsubs[e]={}),this.unsubs[e][t]=this.subs[e].subscribe({next:t})}},{key:"removeEventListener",value:function(e,t){this.unsubs[e]&&this.unsubs[e][t]&&this.unsubs[e][t].unsubscribe()}},{key:"updateDropdownStatus",value:function(e){this.dropdown.setAttribute("data-dropdown-status",e),this.dropdownStatus=this.dropdown.getAttribute("data-dropdown-status")}},{key:"returnDropdownStatus",value:function(){return this.dropdownStatus}},{key:"SvgToColor",value:function(e){this.dropdownSvg.classList.contains("rrmc-accessory-dropdown--icon-color-chosen")||(this.dropdownSvg.classList.remove("rrmc-accessory-dropdown--icon-color"),this.dropdownSvg.classList.add("rrmc-accessory-dropdown--icon-color-chosen")),this.dropdownSvg.style.backgroundColor=e}},{key:"openDropdown",value:function(){document.addEventListenerRR("click",this.triggerCloseDropdown),this.updateDropdownStatus("open"),this.revealDropdownItems(this.dropdownEntries);var e=this.dropdownEntries.length>2?20:0;this.customSelector.style.visibility="visible",i.TweenMax.to(this.customSelector,.5,{height:52*this.dropdownEntries.length-e<this.max_height?52*this.dropdownEntries.length-e:this.max_height,autoRound:!1,ease:i.Linear.easeNone,delay:.33}),"color"!==this.dropdownType?i.TweenMax.to(this.dropdownSvg,.33,{rotation:180,ease:i.Linear.easeNone}):this.revealDropdownItems(this.dropdownColors)}},{key:"closeDropdown",value:function(){var e=this;document.removeEventListener("click",this.triggerCloseDropdown),this.reverseDropdownItems(this.dropdownEntries),"color"===this.dropdownType&&this.reverseDropdownItems(this.dropdownColors);i.TweenMax.to(this.customSelector,.5,{height:0,autoRound:!1,ease:i.Linear.easeNone,delay:.33,onComplete:function(){e.updateDropdownStatus("closed"),e.customSelector.style.visibility="hidden",e.customSelector.scrollTop=0,e.resetDropdownAnim(e.dropdownEntries),"color"===e.dropdownType&&e.resetDropdownAnim(e.dropdownColors)}}),"color"!==this.dropdownType&&i.TweenMax.to(this.dropdownSvg,.33,{rotation:0,ease:i.Linear.easeNone})}},{key:"initListeners",value:function(){var e=this;this.dropdownContainer.addEventListener("click",this.handleDropdown),[].slice.call(this.dropdownEntries).forEach((function(t){t.addEventListener("click",e.updateDropdown)}))}},{key:"destroy",value:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(this.subs)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.subs[a].complete()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.dropdownContainer.removeEventListener("click",this.handleDropdown),[].slice.call(this.dropdownEntries).forEach((function(t){t.removeEventListener("click",e.updateDropdown)}))}},{key:"load",value:function(){this.initListeners()}},{key:"revealDropdownItems",value:function(e){this.forwardTl=i.gsap.timeline();this.forwardTl.add("start").staggerTo(e,.25,{opacity:1,y:0,delay:.5},.1,"start")}},{key:"reverseDropdownItems",value:function(e){this.reverseTl=i.gsap.timeline();this.reverseTl.add("start").staggerTo(e,.25,{opacity:0,y:-10,delay:.25},.1,"start")}},{key:"resetDropdownAnim",value:function(e){i.TweenMax.set(e,{clearProps:"opacity,transform"})}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animateLabelSelect=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(t.getAttribute("data-label-size")===e)return;var a={};"dropdown"===n?(a.scale="small"===e?.8:1,a.align="small"===e?"-10%":"0%",a.pos="small"===e?-10:0,(0,r.is_ie11)()&&(a.pos="small"===e?-20:0)):"textfield"===n&&(a.scale="small"===e?.8:1,a.align="small"===e?"-10%":"0%",a.pos="small"===e?-10:0,(0,r.is_ie11)()&&(a.align=0,a.pos="small"===e?-10:0));var s=new i.TimelineLite;"dropdown"===n?(s.addLabel("start").set(t,{position:"absolute"}).to(t,.5,{y:a.pos,x:a.align,scale:a.scale},"start"),s.to(o,.5,{opacity:"small"===e?1:0,y:6},"start")):"textfield"===n&&s.addLabel("start").set(t,{position:"absolute"}).to(t,.5,{y:a.pos,x:a.align,scale:a.scale},"start");t.setAttribute("data-label-size",e)};var r=n(85),i=n(7)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(500);var i=L(n(424)),o=L(n(425)),a=L(n(427)),s=L(n(429)),l=L(n(430)),c=L(n(431)),u=L(n(432)),h=L(n(433)),d=L(n(434)),p=L(n(435)),f=L(n(436)),m=L(n(437)),v=L(n(438)),g=L(n(439)),y=L(n(440)),_=L(n(511)),b=L(n(512)),w=L(n(441)),x=L(n(513)),S=L(n(14)),k=n(116),A=L(n(203)),E=L(n(442)),C=L(n(46)),T=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),M=n(7),D=n(27);function L(e){return e&&e.__esModule?e:{default:e}}var P=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.carousel=this.container.querySelector(".rrmc-cc-carousel-images"),this.settingPipsStyle=this.carousel.getAttribute("data-pips-style"),this.settingPipsMobileStyle=this.carousel.getAttribute("data-pips-mobile-style"),this.flagPipsVisible=this.carousel.hasAttribute("data-pips-visible"),this.flagAutoplayEnabled=this.carousel.hasAttribute("data-autoplay-enabled"),this.settingAutoplayDelay=parseFloat(this.carousel.getAttribute("data-autoplay-delay")),this.flagZoomEnabled=this.carousel.hasAttribute("data-zoom-enabled"),this.flagFullWidth=this.carousel.hasAttribute("data-is-full-width"),this.bibsContainer=null,this.peekLeft=null,this.peekRight=null,this.slides=this.container.querySelectorAll(".rrmc-cc-carousel-slide"),this.caption_container=this.container.querySelector(".js-rrmc-cc-captions"),this.caption_container&&(this.captions=this.caption_container.querySelectorAll(".rrmc-cc-carousel-caption")),this.caption_current=0,this.carousel_paused=!this.flagAutoplayEnabled,this.swipe_start=!1,this.swipe_move=!1,this.on_zoom_over=function(){S.default.sub_cursor.next(["scale","enter","add"])},this.on_zoom_out=function(){S.default.sub_cursor.next(["scale","leave"])},this.on_zoom_click=function(e){if(!n.swipe_move){n.glideCarousel.pause(),n.carousel_paused=!0;var t=e.currentTarget,r=(new DOMParser).parseFromString('<div class="rrmc-zoom-overlay">\n              <div class="rrmc-zoom-overlay-position">\n              </div>\n          </div>',"text/html").body.firstChild,i=r.querySelector(".rrmc-zoom-overlay-position"),o=t.getBoundingClientRect(),a=t.cloneNode(!0);a.querySelector(".rrmc-image-aspect-img").setAttribute("sizes","150vw"),i.appendChild(a),document.body.appendChild(r),(0,A.default)()?r.style.overflow="scroll":r.style.overflow="hidden";var s=1.5*Math.max(window.innerWidth,window.innerHeight)+(window.innerWidth<window.innerHeight?500:0),l=o.width/s;M.TweenLite.set(i,{width:s,scale:l,x:o.x,y:o.y});var c=i.offsetHeight,u=-(s-window.innerWidth)/2,h=-(c-window.innerHeight)/2,d=2*-u,p=2*-h;(new M.TimelineLite).add((function(){(0,k.disableBodyScroll)(r)})).to(i,.5,{scale:1,x:u,y:h},"+=.5").add((function(){var e=function(){};(0,A.default)()&&(M.TweenLite.set(i,{x:0,y:0}),M.TweenLite.set(r,{scrollLeft:-u,scrollTop:-h})),S.default.sub_cursor.next(["scale","leave"]),S.default.sub_cursor.next(["scale","enter","cross"]),(0,A.default)()||(e=function(e){var t=e.clientX,n=e.clientY,r=t/2/(window.innerWidth/2),o=n/2/(window.innerHeight/2),a=r*d+0,s=o*p+0;M.TweenLite.to(i,.2,{x:-a,y:-s})}),T.fireCustomEvent({event:"carouselOpen",eventCategory:"Carousel",eventAction:"Open",eventLabel:"classic carousel"});var t=function t(){n.glideCarousel.play(),n.carousel_paused=!1,(0,A.default)()||window.removeEventListenerRR("mousemove",e),r.removeEventListenerRR("click",t),window.removeEventListenerRR("resize",t),S.default.sub_cursor.next(["scale","leave"]),(0,A.default)()&&(M.TweenLite.set(i,{x:-r.scrollLeft,y:-r.scrollTop}),M.TweenLite.set(r,{scrollLeft:0,scrollTop:0})),(new M.TimelineLite).to(i,.5,{scale:l,x:o.x,y:o.y}).add((function(){(0,k.enableBodyScroll)(r),document.body.removeChild(r)})),T.fireCustomEvent({event:"carouselClose",eventCategory:"Carousel",eventAction:"Close",eventLabel:"classic carousel"})};(0,A.default)()||window.addEventListenerRR("mousemove",e),r.addEventListenerRR("click",t),window.addEventListenerRR("resize",t)}))}},this.flagZoomEnabled&&(this.slides_zoom=this.container.querySelectorAll(".js-cc-slide-zoom"),this.enableZoom()),this.js_video_class="js-cc-slide-video",this.slides_video=this.container.querySelectorAll("."+this.js_video_class),this.enableVideo(),this.clear_navigation_events=function(){n.bibsContainer.removeEventListenerRR("click",n.bibsClickHandler),n.peekLeft.removeEventListenerRR("click",n.peekLeftClickHandler),n.peekRight.removeEventListenerRR("click",n.peekRightClickHandler)},this.init=function(e){var t=n.gaps_peeks(),r=t.gap,S=t.peek;n.bibsContainer=n.container.querySelector(".rrmc-cc-carousel-bullets"),n.peekLeft=n.carousel.querySelector(".rrmc-cc-carousel-peek-controls-left"),n.peekRight=n.carousel.querySelector(".rrmc-cc-carousel-peek-controls-right"),n.glideCarousel=new i.default(n.carousel,{type:"carousel",perView:1,focusAt:"center",peek:S,startAt:e||0,gap:r,animationDuration:1e3,animationTimingFunc:"cubic-bezier(.64,.55,.34,.98)",autoplay:!!n.flagAutoplayEnabled&&1e3*n.settingAutoplayDelay,hoverpause:!1,bibsContainer:n.container.querySelectorAll(".rrmc-cc-carousel-bullets"),bibsColour:"light"===n.settingPipsStyle?"ffffff":"000000",bibsMobileColour:"light"===n.settingPipsMobileStyle?"ffffff":"000000"}),n.glideCarousel.on("run.before",(function(e){var t=e.direction;if(">"==t){var r=n.caption_current+1>=n.slides.length?0:n.caption_current+1;n.caption_next=r}else if("<"==t){var i=n.caption_current-1<0?n.slides.length-1:n.caption_current-1;n.caption_next=i}else if("="==t){var o=e.steps;n.caption_next=o}n.transition_caption(),n.video_stop()})),n.glideCarousel.on("run.after",(function(){n.caption_current=n.caption_next,n.video_init_slide()})),n.glideCarousel.on("mount.after",(function(){n.reveal(),n.polyfill_slide_images()})),n.glideCarousel.on("swipe.start",(function(){n.swipe_start=!0})),n.glideCarousel.on("swipe.move",(function(){n.swipe_move=!0,T.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Swipe",eventLabel:"classic carousel"})})),n.glideCarousel.on("swipe.end",(function(){setTimeout((function(){n.swipe_start=!1,n.swipe_move=!1}),200)})),n.glideCarousel.on("resize",(function(){n.polyfill_slide_images()})),n.glideCarousel.on("autoplay.start",(function(){n.carousel_paused&&setTimeout((function(){n.glideCarousel.pause()}),200)})),n.glideCarousel.on("autoplay.stop",(function(){}));var k={Html:s.default,Translate:l.default,Transition:c.default,Direction:u.default,Peek:h.default,Sizes:n.flagFullWidth?w.default:b.default,Gaps:d.default,Move:p.default,Clones:f.default,Resize:m.default,Build:v.default,Run:g.default,Swipe:o.default,Autoplay:y.default,PeekControls:x.default};n.flagPipsVisible&&(k.Bibs=a.default),n.flagFullWidth||(k.Scale=_.default),n.glideCarousel.mount(k),n.init_captions(),n.video_init_slide(),n.bibsContainer.addEventListenerRR("click",n.bibsClickHandler),n.peekLeft.addEventListenerRR("click",n.peekLeftClickHandler),n.peekRight.addEventListenerRR("click",n.peekRightClickHandler)},this.bc_init_proc=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.dispose_snippet(),T.tronVideoTimeProgressReset(n),n.glideCarousel.pause(),n.carousel_paused=!0,n.bc_init=!0;for(var r=e,i=r.querySelector(".video-js"),o=document.createElement("video-js"),a=0;a<i.attributes.length;++a)o.setAttribute(i.attributes.item(a).name,i.attributes.item(a).value);i.parentNode.appendChild(o),n.local_player=bc(o),n.local_player.reloadSourceOnError({errorInterval:5}),n.local_player.play(),n.local_icon=e.icon_animator,n.elm_image_aspect=r.querySelector(".js-rrmc-image-aspect-scale"),(new M.TimelineLite).set(n.elm_image_aspect,{display:"none"}),t&&(n.elm_full_video_player=o.querySelector("video.vjs-tech"),n.elm_full_video_controls=o.querySelector(".vjs-control-bar"),n.elm_full_video_player.addEventListenerRR("mouseover",n.on_full_mouseover),n.elm_full_video_player.addEventListenerRR("mouseleave",n.on_full_mouseleave),n.elm_full_video_controls.addEventListenerRR("mouseover",n.on_controls_mouseover),n.elm_full_video_controls.addEventListenerRR("mouseleave",n.on_controls_mouseleave),n.local_player.on("useractive",(function(){n.is_fullscreen&&n.on_full_mouseover()})),n.local_player.on("userinactive",(function(){n.is_fullscreen&&(S.default.sub_cursor.next(["scale","leave"]),n.on_full_mouseleave())})),n.local_player.on("fullscreenchange",(function(){n.local_player.isFullscreen()?(n.is_fullscreen=!0,S.default.sub_cursor.next({action:"fullscreen_enter",elm:o})):(n.is_fullscreen=!1,S.default.sub_cursor.next({action:"fullscreen_leave",elm:o}))})),n.local_player.on("play",(function(){T.tronVideoEvents.videoStarted(T.getBrightcoveProps(n.local_player)),n.over_controls?n.full_video_hover="pause":"pause"!==n.full_video_hover&&(S.default.sub_cursor.next(["scale","enter","pause"]),n.full_video_hover="pause")})),n.local_player.on("pause",(function(){T.tronVideoEvents.videoStopped(T.getBrightcoveProps(n.local_player)),n.over_controls?n.full_video_hover="play":"play"!==n.full_video_hover&&(S.default.sub_cursor.next(["scale","enter","play"]),n.full_video_hover="play")})),n.local_player.on("ended",(function(){T.tronVideoEvents.videoEnded(T.getBrightcoveProps(n.local_player))})),n.local_player.on("timeupdate",(function(){T.tronVideoTimeProgressEvent(n,n.local_player)})))},this.bibsClickHandler=function(){T.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Bib Click "+(parseInt(n.caption_next)+1),eventLabel:"classic carousel"})},this.peekLeftClickHandler=function(){T.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Peek Left Click",eventLabel:"classic carousel"})},this.peekRightClickHandler=function(){T.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Peek Right Click",eventLabel:"classic carousel"})},this.update=function(){var e=n.gaps_peeks(),t=e.gap,r=e.peek;n.glideCarousel.update({gap:t,peek:r})},this.on_play_when_ready=function(){n.snippet_video&&(n.snippet_video.removeEventListenerRR("loadedmetadata",n.on_play_when_ready),n.snippet_video.play())}}var t,n;return r(e,[{key:"video_init_slide",value:function(){var e=this;this.current_video_slide=this.slides.item(this.glideCarousel.index);var t=this.current_video_slide.querySelector(".rrmc-cc-carousel-slide-width-force");if(t.classList.contains(this.js_video_class)){var n=t.hasAttribute("data-autoplay"),r=t.hasAttribute("data-controls");if(n||(r=!0),n)this.bc_init_proc(t,r);else{var i=this.current_video_slide.querySelector(".rrmc-cc-video-snippet-container").getAttribute("data-snippet");this.snippet_init=!1,this.on_mouseover_video_snippet=function(){(0,A.default)()||(e.snippet_init?e.snippet_video.play():(e.snippet_init=!0,e.snippet_video=e.make_video_snippet(i),e.snippet_container=e.current_video_slide.querySelector(".rrmc-cc-video-snippet-container"),e.snippet_container.appendChild(e.snippet_video),M.TweenLite.to(e.current_video_slide.querySelector(".rrmc-image-aspect-img"),.5,{opacity:0}),e.snippet_video.addEventListenerRR("loadedmetadata",e.on_play_when_ready),e.snippet_video.readyState>=2&&(e.snippet_video.removeEventListenerRR("loadedmetadata",e.on_play_when_ready),e.snippet_video.play())))},this.on_mouseleave_video_snippet=function(){(0,A.default)()||e.snippet_init&&e.snippet_video.pause()},this.current_video_slide.addEventListenerRR("mouseover",this.on_mouseover_video_snippet),this.current_video_slide.addEventListenerRR("mouseleave",this.on_mouseleave_video_snippet)}}}},{key:"make_video_snippet",value:function(e){var t=document.createElement("video");return t.src=e,t.className="rrmc-video-player-snippet",t.setAttribute("playsinline",""),t.setAttribute("muted",""),t.setAttribute("loop",""),t.setAttribute("type","video/mp4"),t.setAttribute("preload","metadata"),t}},{key:"enableVideo",value:function(){var e=this;[].slice.call(this.slides_video).forEach((function(t){var n=t.hasAttribute("data-autoplay"),r=t.hasAttribute("data-controls");n||(r=!0),r&&(t.icon_animator=new E.default({c:t.querySelector(".rrmc-video-play-button"),c_border:t.querySelector(".rrmc-cursor-border"),c_icon:t.querySelector(".rrmc-cursor-icon")},{change_document:!1}),t.addEventListenerRR("mouseover",(function(){e.bc_init||(S.default.sub_cursor.next(["scale","enter","play"]),t.icon_animator.animate(["scale_strong","leave"]))})),t.addEventListenerRR("mouseleave",(function(){e.bc_init||(S.default.sub_cursor.next(["scale","leave"]),t.icon_animator.animate(["scale","enter","play"]))})),t.addEventListenerRR("click",(function(){e.bc_init||e.swipe_move||e.bc_init_proc(t,r)})))})),this.first_play_transition=!0,this.over_controls=!1,this.on_full_mouseover=function(){e.first_play_transition?e.first_play_transition=!1:S.default.sub_cursor.next(["scale","enter",e.full_video_hover])},this.on_full_mouseleave=function(){S.default.sub_cursor.next(["scale","leave"])},this.on_controls_mouseover=function(){e.over_controls=!0},this.on_controls_mouseleave=function(){e.over_controls=!1}}},{key:"video_stop",value:function(){var e=this;this.bc_init&&(new M.TimelineLite).set(this.elm_image_aspect,{display:"block"}).to(this.elm_image_aspect,.5,{opacity:1}).add((function(){e.local_player.dispose()})).add((function(){e.bc_init=!1})).add((function(){e.local_icon&&e.local_icon.animate(["scale","enter","play"])})).add((function(){e.glideCarousel.play(),e.carousel_paused=!1})),this.dispose_snippet()}},{key:"dispose_snippet",value:function(){var e=this;this.snippet_container&&(new M.TimelineLite).to(this.current_video_slide.querySelector(".rrmc-image-aspect-img"),.35,{opacity:1}).add((function(){e.on_mouseover_video_snippet&&(e.current_video_slide.removeEventListenerRR("mouseover",e.on_mouseover_video_snippet),e.current_video_slide.removeEventListenerRR("mouseleave",e.on_mouseleave_video_snippet),e.on_mouseover_video_snippet=null),e.snippet_video.removeAttribute("src"),e.snippet_video.load(),setTimeout((function(){e.snippet_container.removeChild(e.snippet_video),e.snippet_container=null}),50)}))}},{key:"destroyZoom",value:function(){var e=this;this.flagZoomEnabled&&[].slice.call(this.slides_zoom).forEach((function(t){t.removeEventListenerRR("mouseover",e.on_zoom_over),t.removeEventListenerRR("mouseleave",e.on_zoom_out),t.removeEventListenerRR("click",e.on_zoom_click)}))}},{key:"enableZoom",value:function(){var e=this;[].slice.call(this.slides_zoom).forEach((function(t){t.addEventListenerRR("mouseover",e.on_zoom_over),t.addEventListenerRR("mouseleave",e.on_zoom_out),t.addEventListenerRR("click",e.on_zoom_click)}))}},{key:"reveal",value:function(){M.TweenLite.to(this.carousel,1.5,{opacity:1})}},{key:"transition_caption",value:function(){if(this.caption_container){var e=this.captions.item(this.caption_current),t=this.captions.item(this.caption_next);M.TweenLite.killTweensOf(e),M.TweenLite.killTweensOf(t),(new M.TimelineLite).addLabel("start").fromTo(e,.7,{opacity:1},{opacity:0,ease:M.Linear.easeNone}).fromTo(t,.7,{opacity:0},{opacity:1,ease:M.Linear.easeNone},"start+=.9")}}},{key:"clear_caption_styles",value:function(){void 0!==this.captions&&[].slice.call(this.captions).forEach((function(e){M.TweenLite.killTweensOf(e),M.TweenLite.set(e,{clearProps:"opacity"})}))}},{key:"init_captions",value:function(){this.caption_container&&M.TweenLite.set(this.captions.item(this.caption_current),{opacity:1})}},{key:"gaps_peeks",value:function(){if(this.flagFullWidth)return{gap:0,peek:0};var e=window.innerWidth;return{gap:0,peek:e<768?0:(e-(e<1440?10*((e-208)/12)+144:1072))/2}}},{key:"polyfill_slide_images",value:function(){"objectFit"in document.documentElement.style==!1&&(0,C.default)(this.carousel.querySelectorAll(".rrmc-image-aspect-img"))}},{key:"load",value:(t=regeneratorRuntime.mark((function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.activeIndex,e.next=3,this.loadImgs();case 3:e.sent&&(this.init(t),window.addEventListenerRR("resize",this.update));case 5:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return n.apply(this,arguments)})},{key:"loadImgs",value:function(){var e=this;return new Promise((function(t){var n=e.container.querySelectorAll(".rrmc-image-aspect-img"),r=n[n.length-1];[].slice.call(n).forEach((function(e,i){(0,D.srcsetLazyLoaderPlain)(e,(function(){n[i]===r&&t(!0)}))}))}))}},{key:"destroy",value:function(){this.destroyZoom(),this.clear_navigation_events(),window.removeEventListenerRR("resize",this.update),this.glideCarousel.destroy(),this.clear_caption_styles()}}]),e}();t.default=P,document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-cc-carousel");[].slice.call(e).forEach((function(e){new P(e).load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(501)),o=n(152),a=n(502),s=n(61),l=n(65),c=u(n(503));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,e),this._c={},this._t=[],this._e=new c.default,this.disabled=!1,this.selector=t,this.settings=(0,s.mergeOptions)(i.default,n),this.index=this.settings.startAt}return r(e,[{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._e.emit("mount.before"),(0,l.isObject)(e)?this._c=(0,a.mount)(this,e,this._e):(0,o.warn)("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,l.isArray)(e)?this._t=e:(0,o.warn)("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.settings=(0,s.mergeOptions)(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"resize",value:function(){this._c.Sizes.setupSlides(),this._c.Sizes.setupWrapper()}},{key:"go",value:function(e){return this._c.Run.make(e),this}},{key:"move",value:function(e){return this._c.Transition.disable(),this._c.Move.make(e),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(e,t){return this._e.on(e,t),this}},{key:"isType",value:function(e){return this.settings.type===e}},{key:"settings",get:function(){return this._o},set:function(e){(0,l.isObject)(e)?this._o=e:(0,o.warn)("Options must be an `object` instance.")}},{key:"index",get:function(){return this._i},set:function(e){this._i=(0,l.toInt)(e)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(e){this._d=!!e}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s=new a.default,d=0,p=0,f=0,m=!1,v=!!o.default&&{passive:!1},g=!1,y={mount:function(){this.bindSwipeStart(),this.bindSwipeMove(),this.bindSwipeEnd()},start:function(t){if(!m&&!e.disabled){this.disable();var r=this.touches(t);d=null,p=(0,i.toInt)(r.pageX),f=(0,i.toInt)(r.pageY),g=!0,n.emit("swipe.start")}},move:function(r){if(!e.disabled&&g){var o=e.settings,a=o.touchAngle,s=o.touchRatio,l=o.classes,c=this.touches(r),u=(0,i.toInt)(c.pageX)-p,h=(0,i.toInt)(c.pageY)-f,m=Math.abs(u<<2),v=Math.abs(h<<2),y=Math.sqrt(m+v),_=Math.sqrt(v);if(!(180*(d=Math.asin(_/y))/Math.PI<a))return!1;r.preventDefault(),r.stopPropagation(),t.Move.make(u*(0,i.toFloat)(s)),t.Html.root.classList.add(l.dragging),n.emit("swipe.move")}},end:function(r){if(!e.disabled&&g){var o=e.settings,a=this.touches(r),s=this.threshold(r),l=a.pageX-p,c=180*d/Math.PI,u=Math.round(l/t.Sizes.slideWidth);this.enable(),l>s&&c<o.touchAngle?(o.perTouch&&(u=Math.min(u,(0,i.toInt)(o.perTouch))),t.Direction.is("rtl")&&(u=-u),t.Run.make(t.Direction.resolve("<"+u))):l<-s&&c<o.touchAngle?(o.perTouch&&(u=Math.max(u,-(0,i.toInt)(o.perTouch))),t.Direction.is("rtl")&&(u=-u),t.Run.make(t.Direction.resolve(">"+u))):t.Move.make(),t.Html.root.classList.remove(o.classes.dragging),g=!1,n.emit("swipe.end")}},bindSwipeStart:function(){var n=this,r=e.settings;r.swipeThreshold&&s.on(l[0],t.Html.wrapper,(function(e){n.start(e)}),v),r.dragThreshold&&s.on(l[1],t.Html.wrapper,(function(e){n.start(e)}),v)},unbindSwipeStart:function(){s.off(l[0],t.Html.wrapper,v),s.off(l[1],t.Html.wrapper,v)},bindSwipeMove:function(){var n=this;s.on(c,t.Html.wrapper,(0,r.throttle)((function(e){n.move(e)}),e.settings.throttle),v)},unbindSwipeMove:function(){s.off(c,t.Html.wrapper,v)},bindSwipeEnd:function(){var e=this;s.on(u,t.Html.wrapper,(function(t){e.end(t)}))},unbindSwipeEnd:function(){s.off(u,t.Html.wrapper)},touches:function(e){return h.indexOf(e.type)>-1?e:e.touches[0]||e.changedTouches[0]},threshold:function(t){var n=e.settings;return h.indexOf(t.type)>-1?n.dragThreshold:n.swipeThreshold},enable:function(){return m=!1,t.Transition.enable(),this},disable:function(){return m=!0,t.Transition.disable(),this}};return n.on("build.after",(function(){t.Html.root.classList.add(e.settings.classes.swipeable)})),n.on("destroy",(function(){y.unbindSwipeStart(),y.unbindSwipeMove(),y.unbindSwipeEnd(),s.destroy()})),y};var r=n(426),i=n(65),o=s(n(457)),a=s(n(202));function s(e){return e&&e.__esModule?e:{default:e}}var l=["touchstart","mousedown"],c=["touchmove","mousemove"],u=["touchend","touchcancel","mouseup","mouseleave"],h=["mousedown","mousemove","mouseup","mouseleave"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){var i=void 0,o=void 0,a=void 0,s=void 0,l=0;n||(n={});var c=function(){l=!1===n.leading?0:(0,r.now)(),i=null,s=e.apply(o,a),i||(o=a=null)},u=function(){var u=(0,r.now)();l||!1!==n.leading||(l=u);var h=t-(u-l);return o=this,a=arguments,h<=0||h>t?(i&&(clearTimeout(i),i=null),l=u,s=e.apply(o,a),i||(o=a=null)):i||!1===n.trailing||(i=setTimeout(c,h)),s};return u.cancel=function(){clearTimeout(i),l=0,i=o=a=null},u};var r=n(504)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var u=new c.default,d=!!o.default&&{passive:!0},p={mount:function(){this._n=t.Html.root.querySelectorAll(h),this._c=e.settings.bibsContainer,this.bibsColour=(0,l.is_mobile)()&&e.settings.bibsMobileColour?e.settings.bibsMobileColour:e.settings.bibsColour,this.addBindings(),this.bullet_progress=[],this.addSvg()},addSvg:function(){var e=this._c.item(0).children;this.bullet_progress=[];for(var t=0;t<e.length;++t){var n=this.load_rounded_square(e.item(t));this.bullet_progress.push(n)}},removeSvg:function(){for(var e=0;e<this.bullet_progress.length;++e)this.bullet_progress[e].destroy()},load_rounded_square:function(t){var n=t.getBoundingClientRect(),r=n.width,i=n.height,o=(0,a.default)(r,i,1.5),l='\n          <svg class="rrmc-button-svg-anim" width="'+r+'" height="'+i+'" viewBox="0 0 '+r+" "+i+'" xmlns="http://www.w3.org/2000/svg">\n          '+this.makeSvgPaths(o,"#"+this.bibsColour)+"\n          </svg>\n      ",c=document.createRange().createContextualFragment(l);t.appendChild(c);var u=t.querySelector(".rrmc-button-svg-anim-path"),h=t.querySelector(".rrmc-button-svg-anim-scale"),d=t.querySelector(".rrmc-button-svg-anim-circle");return{start:function(){if(s.TweenLite.killTweensOf(h),s.TweenLite.killTweensOf(u),s.TweenLite.killTweensOf(d),e.settings.autoplay)s.TweenLite.set(h,{transform:"matrix(1,0,0,1,0,0)"}),s.TweenLite.set(u,{strokeDashoffset:"-"+o.dash_length}),s.TweenLite.to(u,e.settings.autoplay/1e3,{strokeDashoffset:"-"+2*o.dash_length,autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.to(d,.4,{opacity:1,attr:{r:r/8},autoRound:!1,ease:s.Linear.easeNone});else{var t=r/2-r/2*.4;s.TweenLite.set(d,{opacity:1,attr:{r:r/8},autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.set(u,{strokeDashoffset:"-"+2*o.dash_length}),s.TweenLite.set(h,{transform:"matrix(0.4,0,0,0.4,"+t+","+t+")",autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.to(h,.4,{transform:"matrix(1,0,0,1,0,0)",autoRound:!1,ease:s.Linear.easeNone})}},stop:function(){s.TweenLite.killTweensOf(u),s.TweenLite.killTweensOf(h),s.TweenLite.killTweensOf(d);var e=r/2-r/2*.4;s.TweenLite.to(h,.4,{transform:"matrix(0.4,0,0,0.4,"+e+","+e+")",autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.set(u,{strokeDashoffset:"-"+(o.dash_length-1),delay:.4}),s.TweenLite.to(d,.4,{opacity:.5,attr:{r:r/5},autoRound:!1,ease:s.Linear.easeNone})},destroy:function(){t.removeChild(t.querySelector(".rrmc-button-svg-anim"))}}},makeSvgPaths:function(e,t){return'\n            <circle class="rrmc-button-svg-anim-circle"\n              opacity=".5"\n              cx="'+e.w/2+'" cy="'+e.w/2+'" fill="'+t+'" r="'+e.w/5+'"/>\n            <g class="rrmc-button-svg-anim-scale" transform="">\n              <path class="rrmc-button-svg-anim-path" d="\n                       M '+e.middle_left+" "+e.middle_vertical+"\n                       A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_left_x+" "+e.arc_top_left_y+"\n                       L "+e.arc_top_right_x+" "+e.arc_top_right_y+"\n                       A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_right+" "+e.middle_vertical+"\n                       A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_right_x+" "+e.arc_bottom_y+"\n                       L "+e.arc_top_left_x+" "+e.arc_bottom_y+"\n                       A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_left+" "+e.middle_vertical+'\n                       "\n                    stroke-dasharray="'+e.dash_length+" "+e.dash_length+'"\n                    stroke-dashoffset="'+Math.ceil(-e.dash_length)+'"\n                    stroke="'+t+'" stroke-width="1.5"\n                    stroke-linecap="square" stroke-linejoin="round"\n                    fill="transparent"></path>\n            </g>\n   '},setActive:function(){for(var e=0;e<this._n.length;e++)this.addClass(this._n[e].children)},removeActive:function(){for(var e=0;e<this._n.length;e++)this.removeClass(this._n[e].children)},addClass:function(t){var n=e.settings,i=t[e.index];i&&(i.classList.add(n.classes.activeNav),(0,r.siblings)(i).forEach((function(e){e.classList.remove(n.classes.activeNav)})))},removeClass:function(t){var n=t[e.index];n&&n.classList.remove(e.settings.classes.activeNav)},addBindings:function(){for(var e=0;e<this._c.length;e++)this.bind(this._c[e].children)},removeBindings:function(){for(var e=0;e<this._c.length;e++)this.unbind(this._c[e].children)},bind:function(e){for(var t=0;t<e.length;t++)u.on("click",e[t],this.click),u.on("touchstart",e[t],this.click,d)},unbind:function(e){for(var t=0;t<e.length;t++)u.off(["click","touchstart"],e[t])},click:function(e){e.preventDefault(),t.Run.make(t.Direction.resolve(e.currentTarget.getAttribute("data-glide-dir")))}};return(0,i.define)(p,"items",{get:function(){return p._c}}),n.on("run.before",(function(n){var r=n.direction,i=e.index;p.bullet_progress[i].stop();var o=null;if(">"==r){var a=e.index+1;o=a>=t.Run.length+1?0:a}else if("<"==r){var s=e.index-1;o=s<0?t.Run.length:s}else if("="==r){o=n.steps}p.bullet_progress[o].start()})),n.on("mount.after",(function(){p.bullet_progress[0].start()})),n.on("autoplay.hoverpause",(function(){var t=e.index;p.bullet_progress[t].stop()})),n.on("autoplay.hoverstart",(function(){var t=e.index;p.bullet_progress[t].start()})),n.on(["mount.after","move.after"],(function(){p.setActive()})),n.on("destroy",(function(){p.removeBindings(),p.removeActive(),u.destroy(),p.removeSvg()})),p};var r=n(428),i=n(61),o=u(n(457)),a=u(n(210)),s=n(7),l=n(45),c=u(n(202));function u(e){return e&&e.__esModule?e:{default:e}}var h='[data-glide-el="controls[nav]"]'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.siblings=function(e){if(e&&e.parentNode){for(var t=e.parentNode.firstChild,n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}return[]},t.exist=function(e){if(e&&e instanceof window.HTMLElement)return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={mount:function(){this.root=e.selector,this.track=this.root.querySelector(s),this.slides=Array.prototype.slice.call(this.wrapper.children).filter((function(t){return!t.classList.contains(e.settings.classes.cloneSlide)}))}};return(0,o.define)(t,"root",{get:function(){return t._r},set:function(e){(0,a.isString)(e)&&(e=document.querySelector(e)),(0,i.exist)(e)?t._r=e:(0,r.warn)("Root element must be a existing Html node")}}),(0,o.define)(t,"track",{get:function(){return t._t},set:function(e){(0,i.exist)(e)?t._t=e:(0,r.warn)("Could not find track element. Please use "+s+" attribute.")}}),(0,o.define)(t,"wrapper",{get:function(){return t.track.children[0]}}),t};var r=n(152),i=n(428),o=n(61),a=n(65),s='[data-glide-el="track"]'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r={set:function(n){var r=(0,o.default)(e,t).mutate(n);t.Html.wrapper.style.transform="translate3d("+-1*r+"px, 0px, 0px)"},remove:function(){t.Html.wrapper.style.transform=""}};return n.on("move",(function(i){var o=t.Gaps.value,a=t.Sizes.length,s=t.Sizes.slideWidth;if(e.isType("carousel")&&t.Run.isOffset("<")){t.Transition.after((function(){n.emit("translate.jump");var e=s*(a-1);n.emit("translate.move",e),r.set(e)}));var l=-s-o*a;return n.emit("translate.move",l),r.set(l)}if(e.isType("carousel")&&t.Run.isOffset(">")){t.Transition.after((function(){n.emit("translate.jump");n.emit("translate.move",0),r.set(0)}));var c=s*a+o*a;return n.emit("translate.move",c),r.set(c)}return n.emit("translate.move",i.movement),r.set(i.movement)})),n.on("destroy",(function(){r.remove()})),r};var r,i=n(505),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=!1,o={compose:function(t){var n=e.settings;return i?t+" 0ms "+n.animationTimingFunc:t+" "+this.duration+"ms "+n.animationTimingFunc},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";t.Html.wrapper.style.transition=this.compose(e)},remove:function(){t.Html.wrapper.style.transition=""},after:function(e){setTimeout((function(){e()}),this.duration)},enable:function(){i=!1,this.set()},disable:function(){i=!0,this.set()}};return(0,r.define)(o,"duration",{get:function(){var n=e.settings;return e.isType("slider")&&t.Run.offset?n.rewindDuration:n.animationDuration}}),n.on("move",(function(){o.set()})),n.on(["build.before","resize","translate.jump"],(function(){o.disable()})),n.on("run",(function(){o.enable()})),n.on("destroy",(function(){o.remove()})),o};var r=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s={mount:function(){this.value=e.settings.direction},resolve:function(e){var t=e.slice(0,1);return this.is("rtl")?e.split(t).join(a[t]):e},is:function(e){return this.value===e},addClass:function(){t.Html.root.classList.add(e.settings.classes.direction[this.value])},removeClass:function(){t.Html.root.classList.remove(e.settings.classes.direction[this.value])}};return(0,i.define)(s,"value",{get:function(){return s._v},set:function(e){o.indexOf(e)>-1?s._v=e:(0,r.warn)("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],(function(){s.removeClass()})),n.on("update",(function(){s.mount()})),n.on(["build.before","update"],(function(){s.addClass()})),s};var r=n(152),i=n(61),o=["ltr","rtl"],a={">":"<","<":">","=":"="}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o={mount:function(){this.value=e.settings.peek}};return(0,r.define)(o,"value",{get:function(){return o._v},set:function(e){(0,i.isObject)(e)?(e.before=(0,i.toInt)(e.before),e.after=(0,i.toInt)(e.after)):e=(0,i.toInt)(e),o._v=e}}),(0,r.define)(o,"reductor",{get:function(){var t=o.value,n=e.settings.perView;return(0,i.isObject)(t)?t.before/n+t.after/n:2*t/n}}),n.on(["resize","update"],(function(){o.mount()})),o};var r=n(61),i=n(65)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s={apply:function(e){for(var n=0,r=e.length;n<r;n++){var i=e[n].style,o=t.Direction.value;i[a[o][0]]=0!==n?this.value/2+"px":"",n!==e.length-1?i[a[o][1]]=this.value/2+"px":i[a[o][1]]=""}},remove:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t].style;r.marginLeft="",r.marginRight=""}}};return(0,i.define)(s,"value",{get:function(){return(0,r.toInt)(e.settings.gap)}}),(0,i.define)(s,"grow",{get:function(){return s.value*(t.Sizes.length-1)}}),(0,i.define)(s,"reductor",{get:function(){var t=e.settings.perView;return s.value*(t-1)/t}}),n.on(["build.after","update"],(0,o.throttle)((function(){s.apply(t.Html.wrapper.children)}),30)),n.on("destroy",(function(){s.remove(t.Html.wrapper.children)})),s};var r=n(65),i=n(61),o=n(426),a={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o={mount:function(){this._o=0},make:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=r,n.emit("move",{movement:this.value}),t.Transition.after((function(){n.emit("move.after",{movement:e.value})}))}};return(0,r.define)(o,"offset",{get:function(){return o._o},set:function(e){o._o=(0,i.isUndefined)(e)?0:(0,i.toInt)(e)}}),(0,r.define)(o,"translate",{get:function(){return t.Sizes.slideWidth*e.index}}),(0,r.define)(o,"value",{get:function(){var e=this.offset,n=this.translate;return t.Direction.is("rtl")?n+e:n-e}}),n.on(["build.before","run"],(function(){o.make()})),o};var r=n(61),i=n(65)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i={mount:function(){this.items=[],e.isType("carousel")&&(this.items=this.collect())},collect:function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.Html.slides,i=e.settings,o=i.perView,a=i.classes,s=+!!e.settings.peek,l=o+s,c=r.slice(0,l),u=r.slice(-l),h=0;h<Math.max(1,Math.floor(o/r.length));h++){for(var d=0;d<c.length;d++){var p=c[d].cloneNode(!0);p.classList.add(a.cloneSlide),n.push(p)}for(var f=0;f<u.length;f++){var m=u[f].cloneNode(!0);m.classList.add(a.cloneSlide),n.unshift(m)}}return n},append:function(){for(var e=this.items,n=t.Html,r=n.wrapper,i=n.slides,o=Math.floor(e.length/2),a=e.slice(0,o).reverse(),s=e.slice(o,e.length),l=t.Sizes.slideWidth+"px",c=0;c<s.length;c++)r.appendChild(s[c]);for(var u=0;u<a.length;u++)r.insertBefore(a[u],i[0]);for(var h=0;h<e.length;h++)e[h].style.width=l},remove:function(){for(var e=this.items,n=0;n<e.length;n++)t.Html.wrapper.removeChild(e[n])}};return(0,r.define)(i,"grow",{get:function(){return(t.Sizes.slideWidth+t.Gaps.value)*i.items.length}}),n.on("update",(function(){i.remove(),i.mount(),i.append()})),n.on("build.before",(function(){e.isType("carousel")&&i.append()})),n.on("destroy",(function(){i.remove()})),i};var r=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=new a.default,o={mount:function(){this.bind()},bind:function(){r.on("resize",window,(0,i.throttle)((function(){n.emit("resize")}),e.settings.throttle))},unbind:function(){r.off("resize",window)}};return n.on("destroy",(function(){o.unbind(),r.destroy()})),o};var r,i=n(426),o=n(202),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i={mount:function(){n.emit("build.before"),this.typeClass(),this.activeClass(),n.emit("build.after")},typeClass:function(){t.Html.root.classList.add(e.settings.classes[e.settings.type])},activeClass:function(){var n=e.settings.classes,i=t.Html.slides[e.index];i&&(i.classList.add(n.activeSlide),(0,r.siblings)(i).forEach((function(e){e.classList.remove(n.activeSlide)})))},removeClasses:function(){var n=e.settings.classes;t.Html.root.classList.remove(n[e.settings.type]),t.Html.slides.forEach((function(e){e.classList.remove(n.activeSlide)}))}};return n.on(["destroy","update"],(function(){i.removeClasses()})),n.on(["resize","update"],(function(){i.mount()})),n.on("move.after",(function(){i.activeClass()})),i};var r=n(428)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a={mount:function(){this._o=!1},make:function(r){var i=this;e.disabled||(e.disable(),this.move=r,n.emit("run.before",this.move),this.calculate(),n.emit("run",this.move),t.Transition.after((function(){i.isStart()&&n.emit("run.start",i.move),i.isEnd()&&n.emit("run.end",i.move),(i.isOffset("<")||i.isOffset(">"))&&(i._o=!1,n.emit("run.offset",i.move)),n.emit("run.after",i.move),e.enable()})))},calculate:function(){var t=this.move,n=this.length,i=t.steps,a=t.direction,s=(0,o.isNumber)((0,o.toInt)(i))&&0!==(0,o.toInt)(i);switch(a){case">":">"===i?e.index=n:this.isEnd()?e.isType("slider")&&!e.settings.rewind||(this._o=!0,e.index=0):s?e.index+=Math.min(n-e.index,-(0,o.toInt)(i)):e.index++;break;case"<":"<"===i?e.index=0:this.isStart()?e.isType("slider")&&!e.settings.rewind||(this._o=!0,e.index=n):s?e.index-=Math.min(e.index,(0,o.toInt)(i)):e.index--;break;case"=":e.index=i;break;default:(0,r.warn)("Invalid direction pattern ["+a+i+"] has been used")}},isStart:function(){return 0===e.index},isEnd:function(){return e.index===this.length},isOffset:function(e){return this._o&&this.move.direction===e}};return(0,i.define)(a,"move",{get:function(){return this._m},set:function(e){var t=e.substr(1);this._m={direction:e.substr(0,1),steps:t?(0,o.toInt)(t)?(0,o.toInt)(t):t:0}}}),(0,i.define)(a,"length",{get:function(){var n=e.settings,r=t.Html.slides.length;return e.isType("slider")&&"center"!==n.focusAt&&n.bound?r-1-((0,o.toInt)(n.perView)-1)+(0,o.toInt)(n.focusAt):r-1}}),(0,i.define)(a,"offset",{get:function(){return this._o}}),a};var r=n(152),i=n(61),o=n(65)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=new s.default,a={mount:function(){this.start(),e.settings.hoverpause&&this.bind()},start:function(){var r=this;e.settings.autoplay&&(n.emit("autoplay.start"),(0,o.isUndefined)(this._i)&&(this._i=setInterval((function(){r.stop(),t.Run.make(">"),r.start()}),this.time)))},stop:function(){n.emit("autoplay.stop"),this._i=clearInterval(this._i)},bind:function(){var e=this;r.on("mouseover",t.Html.root,(function(){n.emit("autoplay.hoverpause"),e.stop()})),r.on("mouseout",t.Html.root,(function(){n.emit("autoplay.hoverstart"),e.start()}))},unbind:function(){r.off(["mouseover","mouseout"],t.Html.root)}};return(0,i.define)(a,"time",{get:function(){var n=t.Html.slides[e.index].getAttribute("data-glide-autoplay");return n?(0,o.toInt)(n):(0,o.toInt)(e.settings.autoplay)}}),n.on(["destroy","update"],(function(){a.unbind()})),n.on(["run.before","pause","destroy","swipe.start","update"],(function(){a.stop()})),n.on(["run.after","play","swipe.end"],(function(){a.start()})),n.on("update",(function(){a.mount()})),n.on("destroy",(function(){r.destroy()})),a};var r,i=n(61),o=n(65),a=n(202),s=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i={setupSlides:function(){for(var e=this.slideWidth+"px",n=t.Html.slides,r=0;r<n.length;r++)n[r].style.width=e},setupWrapper:function(){t.Html.wrapper.style.width=this.wrapperSize+"px"},remove:function(){for(var e=t.Html.slides,n=0;n<e.length;n++)e[n].style.width="";t.Html.wrapper.style.width=""}};return(0,r.define)(i,"length",{get:function(){return t.Html.slides.length}}),(0,r.define)(i,"width",{get:function(){return t.Html.root.offsetWidth}}),(0,r.define)(i,"wrapperSize",{get:function(){return i.slideWidth*i.length+t.Gaps.grow+t.Clones.grow}}),(0,r.define)(i,"slideWidth",{get:function(){return i.width/e.settings.perView-t.Peek.reductor-t.Gaps.reductor}}),n.on(["build.before","resize","update"],(function(){i.setupSlides(),i.setupWrapper()})),n.on("destroy",(function(){i.remove()})),i};var r=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(this,e),this.cursor=t,this.type_current="default",this.icon_current=null,this.action_queue=[],this.animation_active=!1,this.current_icon=null;var o={change_document:!0};this.options=i(o,r),this.states={default_system:{enter:function(){return new Promise((function(e){n.setBodyStyleCursor(null),n.cursor.c.style.display="none",n.cursor.c_icon.className="rrmc-cursor-icon",e()}))},leave:function(){return Promise.resolve()}},default:{enter:function(){return new Promise((function(e){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),a.TweenLite.set([n.cursor.c_border,n.cursor.c_icon],{scale:.05}),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:.3},"start").to(n.cursor.c_border,.1,{borderWidth:4,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:.3},"start").add(e)}))},leave:function(){return Promise.resolve()}},scale:{enter:function(e){return new Promise((function(t){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),n.cursor.c_icon.classList.add(e),n.current_icon=e,a.TweenLite.set([n.cursor.c_border,n.cursor.c_icon],{scale:.2}),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:1},"start").to(n.cursor.c_border,.1,{borderWidth:1,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:1},"start").add(t)}))},leave:function(){return new Promise((function(e){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:.3},"start").to(n.cursor.c_border,.1,{borderWidth:4,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:.3},"start").add(e)}))}},scale_cta:{enter:function(){return new Promise((function(e){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:.7},"start").to(n.cursor.c_border,.1,{borderWidth:2,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:.7},"start").add(e)}))},leave:function(){return Promise.resolve()}},scale_strong:{enter:function(){return Promise.resolve()},leave:function(){return new Promise((function(e){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:.3},"start").to(n.cursor.c_border,.1,{borderWidth:4,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:.3},"start").add((function(){n.cursor.c.style.display="none"})).add(e)}))}},scale_large:{enter:function(e){return new Promise((function(t){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),n.cursor.c_icon.classList.add(e),n.current_icon=e,a.TweenLite.set([n.cursor.c_border,n.cursor.c_icon],{scale:.2}),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:2.717391},"start").to(n.cursor.c_border,.1,{borderWidth:1,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:1},"start").add(t)}))},leave:function(){return new Promise((function(e){n.cursor.c.style.display="block",n.setBodyStyleCursor("none"),n.cursor.c_icon.classList.remove(n.current_icon),(new a.TimelineLite).addLabel("start").to(n.cursor.c_border,.1,{scale:.3},"start").to(n.cursor.c_border,.1,{borderWidth:4,autoRound:!1},"start").to(n.cursor.c_icon,.1,{scale:.3},"start").add(e)}))}}}}return o(e,[{key:"setBodyStyleCursor",value:function(e){this.options.change_document&&(document.body.style.cursor=e)}},{key:"animate",value:function(e){var t=this,n=r(e,3),i=n[0],o=n[1],a=n[2];this.states[i][o](a).then((function(){t.type_current=i,t.icon_current=a,t.animation_active=!1,t.process_queue()}))}},{key:"process_queue",value:function(){if(!this.animation_active&&this.action_queue.length>0){this.animation_active=!0;var e=this.action_queue.pop();this.animate(e)}}},{key:"queue",value:function(e){this.action_queue=[e],this.process_queue()}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.for_every_model=function(e,t){for(var n={},r=0;r<e.length;++r){var i=e[r].modelLabel;n[i]||(n[i]=[]),n[i].push(r)}var o=function(r){t(e.filter((function(e,t){return n[r].indexOf(t)>-1})))},a=!0,s=!1,l=void 0;try{for(var c,u=Object.keys(n)[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;o(h)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}},t.condense_wheelbases=function(e){var t="subModels",n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[0][t][Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.push(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var c=n.length,u=!0,h=!0,d=!1,p=void 0;try{for(var f,m=e[Symbol.iterator]();!(h=(f=m.next()).done);h=!0){var v=f.value;v[t].length!==c&&(u=!1);var g=!0,y=!1,_=void 0;try{for(var b,w=v[t][Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var x=b.value;-1===n.indexOf(x)&&(u=!1)}}catch(e){y=!0,_=e}finally{try{!g&&w.return&&w.return()}finally{if(y)throw _}}if(!u)break}}catch(e){d=!0,p=e}finally{try{!h&&m.return&&m.return()}finally{if(d)throw p}}if(!0===u)for(var S=0;S<e.length;++S)e[S][t]=["standard"]},t.p=function e(t,n,r,i,o){var a={},s=r.filter((function(e){return i.indexOf(e.id)>-1})),l=o.shift(),c=!0,u=!1,h=void 0;try{for(var d,p=s[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value,m=f[l.name];if(Array.isArray(m)){var v=!0,g=!1,y=void 0;try{for(var _,b=m[Symbol.iterator]();!(v=(_=b.next()).done);v=!0){var w=_.value;a[l.title(w)]||(a[l.title(w)]=[]),a[l.title(w)].push(f.id)}}catch(e){g=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(g)throw y}}}else a[l.title(m)]||(a[l.title(m)]=[]),a[l.title(m)].push(f.id)}}catch(e){u=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(u)throw h}}Object.defineProperty(n,"label",{value:l.label,enumerable:!1}),Object.defineProperty(n,"fieldType",{value:l.name,enumerable:!1});var x=!0,S=!1,k=void 0;try{for(var A,E=Object.keys(a)[Symbol.iterator]();!(x=(A=E.next()).done);x=!0){var C=A.value;n[C]={},t[C]={label:l.label,field:l.name}}}catch(e){S=!0,k=e}finally{try{!x&&E.return&&E.return()}finally{if(S)throw k}}if(o.length>0){var T=!0,M=!1,D=void 0;try{for(var L,P=Object.keys(a)[Symbol.iterator]();!(T=(L=P.next()).done);T=!0){var R=L.value;e(t,n[R],r,a[R],o.slice())}}catch(e){M=!0,D=e}finally{try{!T&&P.return&&P.return()}finally{if(M)throw D}}}else{var I=!0,O=!1,F=void 0;try{for(var B,N=Object.keys(a)[Symbol.iterator]();!(I=(B=N.next()).done);I=!0){var j=B.value;n[j]=a[j]}}catch(e){O=!0,F=e}finally{try{!I&&N.return&&N.return()}finally{if(O)throw F}}}},t.sort_obj_keys_alphabetically=function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),t},t.sort_obj_vals_alphabetically=function(e){var t=1;"-"===e[0]&&(t=-1,e=e.substr(1));return function(n,r){return-1==t?r[e].localeCompare(n[e]):n[e].localeCompare(r[e])}},t.append_filter=function(e,t,n){var r=function(e){return e};"color"===t&&(r=function(e){return e.name});e.push({name:t,label:n,title:r})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(517);var i=l(n(75)),o=n(7),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),s=l(n(117));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=(0,i.default)(t),this.$accordion_tab=this.$container.find(".rrmc-accordion-tab"),this.$accordion_deeplinks=(0,i.default)(document).find("[data-accordion-target]"),this.clickHandler=function(e){var t=(0,i.default)(e.currentTarget);n.triggerAccordion(t)},this.deeplinkHandler=function(e){e.preventDefault(),e.stopPropagation();var t=n.$container.find("[data-accordion-id="+e.target.getAttribute("data-accordion-target")+"]");t.hasClass("active")||n.triggerAccordion(t);var r=t.offset().top;o.TweenLite.to(window,.66,{scrollTo:{y:r-60,autoKill:!1}})}}return r(e,[{key:"toggleLinkId",value:function(e){var t=e.attr("data-tracking-linkid");e.attr("data-tracking-linkid",t.match(/open content$/)?t.replace(/open content$/,"close content"):t.replace(/close content$/,"open content"))}},{key:"triggerAccordion",value:function(e){e.siblings(".rrmc-accordion-body").slideToggle(),e.toggleClass("active"),this.toggleLinkId(e);var t=e.hasClass("active")?"Expand -":"Collapse -";a.fireTronActivityClickEvent(),a.fireCustomEvent({event:"accordionClick",eventCategory:"Engagement",eventAction:"Accordion",eventLabel:t+" "+e.get(0).innerText.toLowerCase()})}},{key:"load",value:function(){this.$accordion_tab.on("click",this.clickHandler),this.$accordion_deeplinks.on("click",this.deeplinkHandler);var e=s.default.parse(location.search);if(e.accordionId){var t=e.accordionId,n=this.$container.find("[data-accordion-id="+t+"]");n.hasClass("active")||this.triggerAccordion(n);var r=n.offset().top;setTimeout((function(){o.TweenLite.to(window,.66,{scrollTo:{y:r-60,autoKill:!1}})}),1e3)}}},{key:"destroy",value:function(){this.$accordion_tab.off("click",this.clickHandler)}}]),e}();t.default=c,document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-accordion");[].slice.call(e).forEach((function(e){new c(e).load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.nodesThatLazyResize=[]}return r(e,[{key:"register",value:function(e){this.nodesThatLazyResize.add(e)}},{key:"listenToBodyResize",value:function(e){var t=new ResizeObserver(e);return t.observe(document.querySelector("body")),t}},{key:"listenToComponentResizes",value:function(e){var t=new ResizeObserver(e);return this.nodesThatLazyResize.forEach((function(e){t.observe(e)})),t}},{key:"getClosestAspectRatio",value:function(e,t){var n=e/t;return[{aspectRatio:"4:3",value:4/3},{aspectRatio:"16:9",value:16/9},{aspectRatio:"1:1",value:1},{aspectRatio:"3:4",value:3/4},{aspectRatio:"9:16",value:9/16}].reduce((function(e,t){return Math.abs(t.value-n)<Math.abs(e.value-n)?t:e})).aspectRatio}}]),e}());t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(75),a=(r=o)&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$sandbox=t,this.$selectMenu=this.$sandbox.find(".js-form-select"),this.onSelectFn=function(){},this.onCloseFn=function(){}}return i(e,[{key:"on",value:function(e,t){this.$sandbox.on(e,t)}},{key:"setOnSelect",value:function(e){return this.onSelectFn=e,this}},{key:"setOnClose",value:function(e){return this.onCloseFn=e,this}},{key:"select",value:function(e){var t=this;this.$customListItems.each((function(n,r){var i=r.getAttribute("rel");if(i===e){var o=r.innerText,a=i;t.$styledSelect.text(o),t.$selectMenu.val(a),t.$selectMenu.attr("data-preset",o),t.$selectMenu.trigger("menu:change",[o,a])}}))}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=this.$selectMenu.closest(".active-form form");n.parentFormName=r[0].id;var i=this.$selectMenu.children("option").length;this.$selectMenu.addClass("select-hidden"),this.$selectMenu.wrap('<div class="select"></div>'),this.$selectMenu.after('<div class="select-custom" id="'+this.$selectMenu[0].id+'"></div>'),this.$styledSelect=this.$selectMenu.next("div.select-custom"),this.$styledSelect.text(this.$selectMenu.children("option").eq(0).text());for(var o=(0,a.default)("<ul />",{class:"select-options"}).insertAfter(this.$styledSelect),l=0;l<i;l++)(0,a.default)("<li />",{text:this.$selectMenu.children("option").eq(l).text(),rel:this.$selectMenu.children("option").eq(l).val()}).appendTo(o);return this.$customListItems=o.children("li"),this.$customListItems.click((function(e){e.stopPropagation();var t=e.target.innerHTML,r=e.target.getAttribute("rel");n.$styledSelect.text(t),n.$selectMenu.val(r),n.$selectMenu.trigger("menu:change",[t,r]),o.hide(),(0,a.default)(".select-custom").removeClass("select-active"),e.target.innerHTML.length>0&&(0,a.default)(".select-custom").parent().next("span.rrmc-form-label-error").addClass("-hidden");var i=void 0,l=void 0,c="default";switch(void 0!==window.ctaWindowProps&&void 0!==window.ctaWindowProps.existingOwner&&(c=!0===window.ctaWindowProps.existingOwner?"owner":"prospect"),n.parentFormName){case"general-enquiry":i=c+" general enq";break;case"purchase-enquiry":i=c+" purchase enq";break;default:i=n.parentFormName}switch(n.$selectMenu.get(0).dataset.default.toLowerCase()){case"model of interest":l="field: model: "+e.target.getAttribute("rel").toLowerCase();break;default:l="field: "+n.$selectMenu.get(0).dataset.default.toLowerCase()}n.onSelectFn({eventLabel:l}),s.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:i,eventLabel:l,selectedValue:e.target.getAttribute("rel")})})),this.$styledSelect.click((function(e){e.stopPropagation();var t=(0,a.default)(this).next(n.$selectMenu),r=(0,a.default)(".select-options").not(t);r.removeClass("select-active").hide(),r.next(".select-options").hide(),(0,a.default)(this).hasClass("select-active")?((0,a.default)(this).removeClass("select-active"),o.hide(),(0,a.default)(this).text()||(0,a.default)(this).css("border-bottom","2px solid #f2f2f2")):((0,a.default)(this).next(".select-options").css({display:"block","z-index":"10"}),(0,a.default)("div.select-custom.select-active").not(t).each((function(){t.removeClass("select-active").next("ul.select-options").hide()})),(0,a.default)(this).addClass("select-active"),t.toggleClass("select-active").next("ul.select-options").show(),(0,a.default)(".rrmc-option-default").addClass("-hidden"))})),(0,a.default)(document).click((function(){if(n.$styledSelect.hasClass("select-active")){n.onCloseFn({eventLabel:"close"}),s.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:n.$styledSelect.get(0).id,eventLabel:"close"})}})),e&&this.select(t),this}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.EvergageStrategy=function(){function e(t){var n=this;o(this,e),this.experience_list=t,this.on_campaign_response=function(e){n.matchWithExperienceList(e)&&n.resolveLiveResponse(e)}}var t,n,a;return r(e,[{key:"isDefaultExperience",value:function(){return this.experience_list.isDefaultExperience()}},{key:"isCampaignObserverAvailable",value:function(){return!!window.rrmc_experiences}},{key:"makeResponse",value:function(){this.response=[]}},{key:"getResponse",value:function(){return this.response}},{key:"addToResponse",value:function(e){this.response.push(e)}},{key:"isEmptyResponse",value:function(e){return 0===e.length}},{key:"isValidResponse",value:function(e){return!this.isEmptyResponse(e)}},{key:"setResolve",value:function(e){this.wait_resolve=e}},{key:"resolveWait",value:function(){this.wait_resolve(this.getResponse())}},{key:"resolveLiveResponse",value:function(e){this.cancelWait(),this.addToResponse(e),this.resolveWait()}},{key:"timeoutIfNoResponse",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;this.timer=setTimeout((function(){e.resolveWait()}),t)}},{key:"cancelWait",value:function(){clearTimeout(this.timer)}},{key:"matchWithExperienceList",value:function(e){var t=e.campaign,n=e.experience;return this.experience_list.match({campaign:t,experience:n})}},{key:"waitForLiveCampaign",value:(a=i(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.setResolve(e),t.timeoutIfNoResponse(),window.rrmc_experiences.subscribe(t.on_campaign_response)})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"waitForLiveCampaignIfAvailable",value:(n=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.makeResponse(),this.isCampaignObserverAvailable()){e.next=3;break}return e.abrupt("return",this.getResponse());case 3:return e.next=5,this.waitForLiveCampaign();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"doesLiveCampaignMatch",value:(t=i(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDefaultExperience()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.waitForLiveCampaignIfAvailable();case 4:return t=e.sent,e.abrupt("return",this.isValidResponse(t));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"makeStrategy",value:function(t){return new e(t)}}]),e}(),t.EvergageCampaignWait=function(){function e(t){var n=this;o(this,e),this.campaign_name=t,this.on_campaign_response=function(e){n.matchCampaign(e)&&n.resolveLiveResponse(e)}}return r(e,[{key:"matchCampaign",value:function(e){return e.campaign===this.campaign_name}},{key:"makeResponse",value:function(){this.response=null}},{key:"updateResponse",value:function(e){this.response=e}},{key:"getResponse",value:function(){return this.response}},{key:"setResolve",value:function(e){this.wait_resolve=e}},{key:"resolveWait",value:function(){this.wait_resolve(this.getResponse())}},{key:"resolveLiveResponse",value:function(e){this.cancelWait(),this.updateResponse(e.experience),this.resolveWait()}},{key:"timeoutIfNoResponse",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4e3;this.timer=setTimeout((function(){e.resolveWait()}),t)}},{key:"cancelWait",value:function(){clearTimeout(this.timer)}},{key:"wait_for_experience",value:function(){var e=this;return new Promise((function(t){e.makeResponse(),e.setResolve(t),e.timeoutIfNoResponse(),window.rrmc_experiences.subscribe(e.on_campaign_response)}))}}],[{key:"makeStrategy",value:function(t){return new e(t)}}]),e}(),t.ExperienceList=function(){function e(t){o(this,e),this.experience_array=t}return r(e,[{key:"getNumberOfExperiences",value:function(){return this.experience_array.length}},{key:"isDefaultExperience",value:function(){return 0===this.getNumberOfExperiences()}},{key:"matchConfigs",value:function(e,t){return e.experience===t.experience&&e.campaign===t.campaign}},{key:"match",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.experience_array[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(this.matchConfigs(a,e))return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}}],[{key:"makeExperienceList",value:function(t){var n=[];try{n=JSON.parse(t)}catch(e){console.log(e)}return new e(n)}}]),e}()},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealCardRow=i,t.revealCards=function(e,t){var n=e.querySelectorAll('[data-row-to-animate="true"]');0===n.length&&t();[].slice.call(n).forEach((function(e){var t=e.getBoundingClientRect().top+window.pageYOffset;window.pageYOffset+window.innerHeight>t&&(e.setAttribute("data-row-to-animate",!1),i(e))}))};var r=n(7);function i(e){var t=e.querySelectorAll(".rrmc-article-tile, .rrmc-accessory-tile"),n=e.querySelectorAll(".rrmc-accessory-tile"),i=new IntersectionObserver((function(e,t){!function(e,t){[].slice.call(e).forEach((function(e){var n=e.target,i=n.querySelector(".rrmc-accessories-tile-img-wrapper-img,.rrmc-article-tile-img-wrapper img");null!=i?(i.addEventListener("load",(function(){r.gsap.timeline().to(i,.4,{opacity:1})})),i.setAttribute("srcset",i.getAttribute("data-srcset")),i.setAttribute("src",i.getAttribute("data-src")),t.unobserve(n)):t.unobserve(n)}))}(e,t)}));[].slice.call(n).forEach((function(e){i.observe(e)})),r.gsap.timeline().staggerFromTo(t,1,{opacity:0,y:"100px"},{opacity:1,y:"0"},.15)}n(109)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shadeColor=function(e,t){var n=parseInt(e.substring(1,3),16),r=parseInt(e.substring(3,5),16),i=parseInt(e.substring(5,7),16);n=parseInt(n*(100+t)/100),r=parseInt(r*(100+t)/100),i=parseInt(i*(100+t)/100),r=r<255?r:255,i=i<255?i:255;var o=1==(n=n<255?n:255).toString(16).length?"0"+n.toString(16):n.toString(16),a=1==r.toString(16).length?"0"+r.toString(16):r.toString(16),s=1==i.toString(16).length?"0"+i.toString(16):i.toString(16);return"#"+o+a+s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add_svg=function(e,t){if(!e)return;t.indexOf('id="a"')&&(t=(0,r.randomise_svg)(t,"a"));t.indexOf('id="b"')&&(t=(0,r.randomise_svg)(t,"b"));t.indexOf('id="c"')&&(t=(0,r.randomise_svg)(t,"c"));t.indexOf('id="d"')&&(t=(0,r.randomise_svg)(t,"d"));e.innerHTML=t};var r=n(110)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSvgPaths=function(e,t,n){return'\n            <path class="rrmc-initial-path" d="\n                     M '+e.middle_left+" "+e.middle_vertical+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_left_x+" "+e.arc_top_left_y+"\n                     L "+e.arc_top_right_x+" "+e.arc_top_right_y+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_right+" "+e.middle_vertical+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_right_x+" "+e.arc_bottom_y+"\n                     L "+e.arc_top_left_x+" "+e.arc_bottom_y+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_left+" "+e.middle_vertical+'\n                     "\n                  stroke="'+t+'" stroke-opacity="'+(n?1:.7)+'" stroke-width="1"\n                  stroke-linecap="square" stroke-linejoin="round"\n                  fill="transparent"></path>\n            <path class="rrmc-button-svg-anim-path" d="\n                     M '+e.middle_left+" "+e.middle_vertical+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_left_x+" "+e.arc_top_left_y+"\n                     L "+e.arc_top_right_x+" "+e.arc_top_right_y+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_right+" "+e.middle_vertical+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_right_x+" "+e.arc_bottom_y+"\n                     L "+e.arc_top_left_x+" "+e.arc_bottom_y+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_left+" "+e.middle_vertical+'\n                     "\n                  stroke-dasharray="'+e.dash_length+" "+e.dash_length+'"\n                  stroke-dashoffset="-'+e.dash_length+'"\n                  stroke="'+(n||t)+'" stroke-width="1"\n                  stroke-linecap="square" stroke-linejoin="round"\n                  fill="transparent"></path>\n   '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(497);var a=n(7),s=k(n(455)),l=k(n(46)),c=k(n(421)),u=k(n(499)),h=k(n(515)),d=k(n(516)),p=n(443),f=n(458),m=n(45),v=n(62),g=n(27),y=k(n(14)),_=n(18),b=n(204),w=n(110),x=n(64),S=n(419);function k(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t,n){if("object"!==(void 0===e?"undefined":o(e))||Array.isArray(e)){if(Array.isArray(e)){if(e[0]===t)return!0}else if("string"==typeof e&&e===t)return!0}else{var r=!0,i=!1,a=void 0;try{for(var s,l=Object.keys(e)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;if(E(e[c],t,n))return n(c),!0}}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}}}var C,T=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.dealerTable=this.sandbox.querySelector(".js-rr-dealer-table"),this.pdfDropdown=this.sandbox.querySelector(".js-rr-pdf-dropdown"),this.imgWrapperDesktop=this.sandbox.querySelector(".rrmc-accessory-hero-img-container"),this.imgWrapperMobile=this.sandbox.querySelector(".rrmc-accessory-mobile-image-container"),this.treadplate_wrapper_desktop=this.imgWrapperDesktop.querySelector(".rrmc-accessory-hero--treadplate-container"),this.treadplate_wrapper_mobile=this.imgWrapperMobile.querySelector(".rrmc-accessory-hero--treadplate-container"),this.imgWrappers=[this.imgWrapperMobile,this.imgWrapperDesktop],this.elm_dropdown_container=this.sandbox.querySelector(".rrmc-dropdown-container"),this.elm_select_button_container=this.sandbox.querySelector(".rrmc-accessory-select-button-container"),this.elm_customise_button_container=this.sandbox.querySelector(".rrmc-accessory-customise-button-container"),this.elm_select_button=this.elm_select_button_container.querySelector(".js-rrmc-lazy-load"),this.elm_customise_button=this.elm_customise_button_container.querySelector(".js-rrmc-lazy-load"),this.elm_select_button_text=this.elm_select_button.querySelector(".js-rrmc-button-text"),this.elm_select_button_icon=this.elm_select_button.querySelector(".js-rrmc-button-arrow"),this.elm_learn_more_cta=this.sandbox.querySelector(".rrmc-accessory-learn-more-cta"),this.accessory_disclaimer=this.sandbox.querySelector(".rrmc-accessory-disclaimer"),this.accessory_description=this.sandbox.querySelector(".rrmc-accessory-description"),this.learn_more_wrapper=this.sandbox.querySelector(".rrmc-accessory-learn-more-wrapper"),this.accessory_carousel_wrapper=this.sandbox.querySelector(".js-rrmc-accessory-carousel"),this.input_wrappers=[],this.bespoke_wrappers=[];var r=(0,f.make_tree)(window.rrmc_accessory.filters,window.rrmc_accessory.allVariants),o=i(r,2),s=o[0],l=o[1];this.store=s,this.dictionary=l,this.is_breakpoint=(0,m.is_tablet_portrait_down)(),this.accessory_type=window.rrmc_accessory.accessoryType,this.luggage_options=!1,this.tl_hide_bespoke_ctas={},this.scroll_to_learn_more=function(){var e=document.querySelector(".rrmc-secondary-nav--menu-wrapper").offsetHeight;n.scroll_pos=n.learn_more_wrapper.getBoundingClientRect().top+(window.pageYOffset-e),a.gsap.to(window,{duration:1,scrollTo:n.scroll_pos})},this.send_to_my_list=function(){if(n.selected_variant){n.animate_cta_text();var e={parent:window.rrmc_accessory.contentPath,id:n.selected_variant.id,bespokeFields:n.gather_bespoke_entries()},t=n.load_data.accessoryId;t?(e.accessoryId=t,y.default.sub_my_list_manager_bus.next({action:"change",data:e})):y.default.sub_my_list_manager_bus.next({action:"add",data:e}),n.selected_colour=Object.keys(n.selected_variant.color)>0?n.selected_variant.color.name:n.selected_variant.bespoke?"Bespoke":void 0;var r=(0,_.makeOptionsFromVariant)({variant:n.selected_variant,store:n.store,accessory:window.rrmc_accessory});_.tronConfiguratorEvents.conListAdd({options:r}),(0,_.fireCustomEvent)({event:"ee-addToCart",ecommerce:{add:{actionField:{list:n.product_list_name},products:[{id:window.rrmc_accessory.id,name:window.rrmc_accessory.title,category:window.rrmc_accessory.category,variant:e.id,price:"0.00",quantity:1,brand:n.selected_variant.modelLabel,dimension17:n.selected_variant.marketingTitle,dimension18:n.selected_colour}]}}})}},this.create_luggage_configurator=function(){y.default.sub_luggage_overlay.next({accessoryId:window.rrmc_accessory.id,selectedLuggage:n.selected_variant,previousLuggage:n.luggage_options});var e=document.createElement("div"),t='<div class="overlay parsys aem-GridColumn aem-GridColumn--default--12 rrmc-dynamic-overlay-parsys">\n      <div class="rrmc-dynamic-overlay rrmc-overlay-component rrmc-overlay-luggage--white"  data-overlay-name="l-luggage-overlay">\n        <div class="rrmc-overlay-nav-bar rrmc-overlay-nav-bar-light">\n          <button data-overlay-action="overlayBack" type="button"\n          class="rrmc-overlay-back-button rrmc-cta-component rrmc-button--regular-label-stroked">\n             <span class="rrmc-button-background js-rrmc-button-background"\n            data-color="#151515"></span>\n             <span class="rrmc-cta-i" data-icon="arrow-left">\n                <span class="rrmc-cta-icon-placeholder"></span>\n             </span>\n             <span class="rrmc-button-text js-rrmc-button-text">Back</span>\n          </button>\n          <button data-overlay-action="overlayClose" type="button"\n           class="rrmc-cta-component rrmc-button--regular-icon-stroked">\n          <span class="rrmc-button-background js-rrmc-button-background"\n            data-color="#151515"></span>\n            <span class="rrmc-cta-i" data-icon="close">\n                <span class="rrmc-cta-icon-placeholder"></span>\n             </span>\n            <span class="rrmc-button-text js-rrmc-button-text"></span>\n          </button>\n      </div>\n        <div class="default-overlay js-overlay rrmc-overlay-body-light">\n          <div class="js-luggage-configurator rrmc-multi-image-carousel-overlay js-rrmc-lazy-load" data-lazy-load-class="luggage-configurator-lazy-load">\n            <div class="rrmc-luggage-overlay-wrapper rrmc-component-grid-container">\n                <div class="rrmc-luggage-configurator-col-a">\n                    <h3 class="rrmc-selected-luggage-subtitle">'+(0,x.getI18nComponent)("Customise Your")+'</h3>\n                    <h2 class="rrmc-selected-luggage-title"></h2>\n                    <div class="rrmc-luggage-configurator-options-container">\n                    </div>\n                </div>\n                <div class="rrmc-luggage-configurator-col-b">\n                    <div class="rrmc-luggage-configurator-picture-wrapper">\n                      <img class="rrmc-luggage-configurator-img"\n                           src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="\n                           alt="Luggage Preview">\n                    </div>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>';e.innerHTML=t;var r=e.firstChild,i=(0,b.reach_overlay_container_type)("local").overlay_container_wrapper,o=(0,b.reach_overlay_container_list)(i);o.appendChild(r),n.elm_customise_button.removeEventListenerRR("click",n.create_luggage_configurator),y.default.sub_overlay_manager_bus.next({action:v.overlayOpen,data:{overlayName:"l-luggage-overlay",on_close_after:function(){setTimeout((function(){o.removeChild(r),n.elm_customise_button.addEventListenerRR("click",n.create_luggage_configurator)}),1e3)},on_back_after:function(){setTimeout((function(){o.removeChild(r),n.elm_customise_button.addEventListenerRR("click",n.create_luggage_configurator)}),1e3)},next_variant:n.selected_variant,done:function(e){n.load_data.variant?y.default.sub_overlay_manager_bus.next({action:v.overlayBack,data:{luggage_options:e,next_variant:n.selected_variant}}):(y.default.sub_overlay_manager_bus.next({action:v.overlayClose,data:{}}),n.luggage_options=e,n.reveal_cta(n.elm_select_button_container),n.elm_customise_button.addEventListenerRR("click",n.create_luggage_configurator)),setTimeout((function(){o.removeChild(r)}),1e3)}}})}}return r(e,[{key:"gather_bespoke_entries",value:function(){var e=[];return!1===this.luggage_options?[].slice.call(this.bespoke_wrappers).forEach((function(t){e.push(t.instance.returnFieldValue())})):e=this.luggage_options,e}},{key:"animate_cta_text",value:function(){var e=this;this.elm_select_button.removeEventListenerRR("click",this.send_to_my_list),this.elm_select_button.classList.add("static"),a.gsap.timeline().addLabel("start").to([this.elm_select_button_text,this.elm_select_button_icon],.25,{opacity:0,onComplete:function(){var t=e.elm_select_button.getAttribute("data-action-text")||""+(0,x.getI18nComponent)("Added");e.elm_select_button_text.innerHTML=t,e.elm_select_button_icon.innerHTML=w.svgElements["check-mark"]}}).to([this.elm_select_button_text,this.elm_select_button_icon],.25,{opacity:1}).to([this.elm_select_button_text,this.elm_select_button_icon],.25,{opacity:0,delay:1,onComplete:function(){e.elm_select_button_text.innerHTML=(0,x.getI18nComponent)("Save to my list"),e.elm_select_button_icon.innerHTML=w.svgElements["my-list"],a.TweenMax.set(e.elm_select_button_icon,{visibility:"visible",clearProps:"opacity"})}}).to(this.elm_select_button_text,.25,{opacity:1,onComplete:function(){e.elm_select_button.addEventListenerRR("click",e.send_to_my_list),a.TweenMax.set(e.elm_select_button_icon,{visibility:"visible",clearProps:"opacity"})}}).add((function(){e.load_data.variant&&y.default.sub_overlay_manager_bus.next({action:v.overlayClose,data:{}}),e.elm_select_button.classList.remove("static")}))}},{key:"cancel_hide_cta",value:function(e){var t=e.className;this.tl_hide_bespoke_ctas[t]&&this.tl_hide_bespoke_ctas[t].kill(),a.TweenLite.set(e,{clearProps:"all"})}},{key:"hide_cta",value:function(e){var t=e.className;this.tl_hide_bespoke_ctas[t]&&this.tl_hide_bespoke_ctas[t].kill(),this.tl_hide_bespoke_ctas[t]=a.gsap.timeline(),this.tl_hide_bespoke_ctas[t].to(e,.5,{opacity:0}).set(e,{visibility:"none",height:"0",padding:"0"})}},{key:"update_descriptions",value:function(e){var t=(0,x.getI18nComponent)(e),n=this.learn_more_wrapper.querySelector(".rrmc-long-copy-description-wrapper");if(!n.innerHTML.includes(t,0)){var r=this.learn_more_wrapper.querySelector(".rrmc-long-copy-description");this.set_marketing_description(t);var i=r.clientHeight,o={height:0};a.gsap.timeline().addLabel("start").to(r,.25,{opacity:0},"start").add((function(){r.innerHTML=t,o.height=r.clientHeight}),"start+=0.25").fromTo(n,.5,{height:i},o,"start+=1").to(r,.5,{opacity:1},"start+=1")}}},{key:"update_hero",value:function(e,t,n){var r=this.imgWrappers;[].slice.call(r).forEach((function(r){var i=r.querySelector(".rrmc-accessory-picture"),o=i.querySelector("source"),s=i.querySelector("img");if(-1===s.src.indexOf(n)){var l=o.getAttribute("srcset");s.setAttribute("data-src",n),o.setAttribute("data-webp-srcset",t),o.setAttribute("data-srcset",e);var c=1;null===l?(c=0,a.TweenLite.to(i,c,{opacity:1})):l!==t&&l!==e&&a.TweenLite.to(i,c,{opacity:0,onComplete:function(){s.removeAttribute("src"),o.removeAttribute("srcset"),(0,g.pictureLazyLoaderPlain)(i,(function(){a.TweenLite.to(i,1,{opacity:1})}))}})}}))}},{key:"render_stage",value:function(e){var t=window.rrmc_accessory.allVariants.filter((function(t){return t.id===e})).shift();if(this.selected_variant=t,void 0!==this.selected_variant.variantImage&&""!==this.selected_variant.variantImage.original?this.update_hero(this.selected_variant.variantImage.renditions,this.selected_variant.variantImage.webpRenditions,this.selected_variant.variantImage.original):this.update_hero(window.rrmc_accessory.heroImage.renditions,window.rrmc_accessory.heroImage.webpRenditions,window.rrmc_accessory.heroImage.original),this.accessory_carousel_wrapper&&this.selected_variant.carousel.items.length>0&&this.accessory_carousel.update_carousel(this.selected_variant.carousel,!1),this.learn_more_wrapper&&(this.selected_variant.marketingDescription?this.update_descriptions(this.selected_variant.marketingDescription):this.update_descriptions(window.rrmc_accessory.description)),this.selected_variant.bespoke&&"Luggage"===this.accessory_type)return this.cancel_hide_cta(this.elm_select_button_container),this.reveal_cta(this.elm_customise_button_container),void(this.luggage_options&&this.selection_order?this.reveal_cta(this.elm_select_button_container):this.hide_cta(this.elm_select_button_container));this.selected_variant.bespokeFields.length>0?(this.append_bespoke_fields(this.selected_variant.bespokeFields,this.accessory_type),this.reveal_cta(this.elm_select_button_container),this.animate_element()):(this.reveal_cta(this.elm_select_button_container),this.animate_element())}},{key:"append_bespoke_fields",value:function(e,t){var n=this;[].slice.call(e).forEach((function(e){if("text"===e.type){if("Treadplates"===t)return n.create_treadfield(e);n.create_textfield(e,!0)}else"dropdown"!==e.type&&"color"!==e.type||n.create_dropdown(e,!0)}))}},{key:"clear_bespoke",value:function(){[].slice.call(this.bespoke_wrappers).forEach((function(e){e.instance.destroy(),e.wrapper.parentNode.removeChild(e.wrapper)})),this.bespoke_wrappers=[],this.hide_cta(this.elm_customise_button_container)}},{key:"reveal_cta",value:function(e){this.cancel_hide_cta(e),a.gsap.timeline().addLabel("start").set(e,{visibility:"visible",height:"auto",clearProps:"padding"},"start").to(e,1,{opacity:1},"start+=0.5")}},{key:"is_wheelbase_selector",value:function(e){var t=["standard","extended"],n=Object.keys(e),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(t.indexOf(l)>-1)return!0}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return!1}},{key:"append_element",value:function(e){var t=this;this.elm_dropdown_container.appendChild(e),this.anim_element_list=a.gsap.timeline(),a.TweenLite.to(e,1,{opacity:1}),setTimeout((function(){return t.animate_element()}),1e3)}},{key:"get_animated_elements_height",value:function(){var e=this.elm_dropdown_container.querySelectorAll([".rrmc-dropdown-wrapper",".rrmc-textfield-wrapper",".rrmc-treadfield-wrapper"]);return[].slice.call(e).reduce((function(e,t){return e+t.getBoundingClientRect().height+15}),0)}},{key:"animate_element",value:function(){this.anim_element_list&&this.anim_element_list.kill();var e=this.get_animated_elements_height();this.anim_element_list=a.gsap.timeline(),this.anim_element_list.to(this.elm_dropdown_container,1,{height:e,ease:a.Linear.noEase,delay:.1}).set(this.elm_dropdown_container,{clearProps:"height,overflow"})}},{key:"create_treadfield",value:function(e){var t=document.createElement("div");t.classList.add("rrmc-treadfield-wrapper");var n,r,i,o=(this.selected_variant?e.value:"")||"";t.innerHTML=(r=o,i="padding-top: "+(n=e).image.height/n.image.width*100+"%",'<div class="rrmc-accessory-treadfield"\n              data-maxlength="'+n.maxLength+'"\n              data-align="'+n.align+'"\n              data-is-bespoke="true"\n              data-label="'+n.label+'">\n                <div class="rrmc-accessory-treadfield--container">\n                  <div class="rrmc-accessory-treadfield--scaler" style="'+i+'">\n                    <div class="rrmc-accessory-treadfield--aligner">\n                      <img class="rrmc-accessory-treadfield--image" src="'+n.image.original+'" alt="Treadplate">\n                      <div class="rrmc-accessory-treadfield--input-container">\n                        <input aria-label="Treadplate customisation entry" type="text" maxlength="'+n.maxLength+'"\n                        value="'+r+'"\n                        placeholder="'+n.placeholder+'" class="rrmc-accessory-treadfield--input">\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class="rrmc-accessory-treadfield--input-length">'+n.maxLength+" characters left</div>\n            </div>"),this.append_element(t);var a=new d.default(t.querySelector(".rrmc-accessory-treadfield"));a.load();var s=this.bespoke_wrappers.reduce((function(e,t){var n=t.instance.returnFieldValue();return n.label===(0,x.getI18nComponent)("Font")?n:e}),null);s&&a.set_font(s.value),this.bespoke_wrappers.push({wrapper:t,instance:a})}},{key:"create_textfield",value:function(e,t){var n=e.label,r=document.createElement("div");r.classList.add("rrmc-textfield-wrapper"),this.append_element(r),r.innerHTML=function(e,t){return'<div class="rrmc-accessory-textfield" '+(t?'data-is-bespoke="true"':'data-is-bespoke="false"')+'>\n                <div class="rrmc-accessory-textfield--container">\n                    <span class="rrmc-accessory-textfield--label">'+e+'</span>\n                    <input type="text" class="rrmc-accessory-textfield--input" name="'+e+'"/>\n                </div>\n            </div>'}((0,x.getI18nComponent)(n),t);var i=new h.default(r.querySelector(".rrmc-accessory-textfield"),e.maxLength,e.placeholder);i.load(),t?this.bespoke_wrappers.push({wrapper:r,instance:i}):this.input_wrappers.push({wrapper:r,instance:i});i.addEventListener("render",(function(e){}))}},{key:"create_dropdown",value:function(e,t){var n=this,r=void 0;if(t){var o=e.label,a=e.type,s=[],l=[];[].slice.call(e.values).forEach((function(e){s.push(e.name),l.push(e.code)})),r={label:[o],fieldType:a,values:s,codes:l}}var u=document.createElement("div");u.classList.add("rrmc-dropdown-wrapper"),this.append_element(u),u.innerHTML=function(e,t,n){var r=n?e.values:Object.keys((0,p.sort_obj_keys_alphabetically)(e)),o=n?e.codes:"",a="",s=!0,l=!1,c=void 0;try{for(var u,h=r[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;a+='<option value="'+d+'">'+d+"</option>"}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var f="",m=n?(0,x.getI18nComponent)(e.label[0]):(0,x.getI18nComponent)(e.label),v=n?e.label[0]:e.label,g=(0,x.getI18nComponent)(e.fieldType),y=function(e,t){if(f+='<li class="rrmc-accessory-dropdown--select-option '+(g===S.COLOR?"rrmc-accessory-dropdown--color":"")+'" data-dropdown-value="'+t+'">'+(0,x.getI18nComponent)(t)+"</li>",g===S.COLOR){var r=window.rrmc_accessory.allVariants.filter((function(e){return Object.values(e).includes(t)}));f+='<span data-value="'+t+'" style="background-color: '+(n?o[e]:r[0].color.code)+';" class="rrmc-accessory-dropdown--color-disk"></span>'}},_=!0,b=!1,w=void 0;try{for(var k,A=r.entries()[Symbol.iterator]();!(_=(k=A.next()).done);_=!0){var E=k.value,C=i(E,2);y(C[0],C[1])}}catch(e){b=!0,w=e}finally{try{!_&&A.return&&A.return()}finally{if(b)throw w}}return'<div class="rrmc-accessory-dropdown"\n            '+(m.toLowerCase()===(0,x.getI18nComponent)("font")?"data-font=true":"")+"\n            "+(n?'data-is-bespoke="true"':'data-is-bespoke="false"')+'\n            data-dropdown-status="closed" data-dropdown-type="'+(g===S.COLOR?"color":"default")+'">\n                <select class="rrmc-accessory-dropdown--select select-hidden">\n                    '+a+'\n                </select>\n                <div class="rrmc-accessory-dropdown--container">\n                    <span class="rrmc-accessory-dropdown--label" data-key-label="'+v+'">'+m+'</span>\n                    <span class="rrmc-accessory-dropdown--value"></span>\n                    <span class="rrmc-accessory-dropdown--icon '+(g===S.COLOR?"rrmc-accessory-dropdown--icon-color":"rrmc-accessory-dropdown--icon-default")+'"></span>\n                </div>\n                <div class="rrmc-accessory-dropdown--custom-select">\n                    <ul class="rrmc-accessory-dropdown--custom-select-list">\n                      '+f+"\n                    </ul>\n                </div>\n            </div>"}(t?r:e,this.dictionary,t);var h=new c.default(u.querySelector(".rrmc-accessory-dropdown"));h.load();if(h.addEventListener("open",(function(){[].slice.call(n.input_wrappers).forEach((function(e){e.instance!==h&&"Dropdown"===e.instance.constructor.name&&e.instance.closeDropdown()}))})),t){if(h.dropdown.getAttribute("data-font")&&h.addEventListener("select",(function(e){_.tronConfiguratorEvents.conClick({ctaTarget:e,options:[(0,_.makeOption)(A({category3:window.rrmc_accessory.category,name:window.rrmc_accessory.title},(0,_.accessoryBespokeFontToTRONProp)(),e))]});var t=n.bespoke_wrappers.reduce((function(e,t){return"Text"===t.instance.returnFieldValue().label?t.instance:e}),null);t&&t.set_font(e)})),this.selection_order){var d=e.values.reduce((function(e,t){return t.selected?t.name:e}),"");h.preselect(d,!1)}else h.preselect(e.values[0].name,!1);this.bespoke_wrappers.push({wrapper:u,instance:h})}else{var f;h.addEventListener("select",(f=this.input_wrappers.length+1,function(t){_.tronConfiguratorEvents.conClick({ctaTarget:t,options:[(0,_.makeOption)(A({category3:window.rrmc_accessory.category,name:window.rrmc_accessory.title},(0,_.accessoryFieldToTRONProp)(n.dictionary[t]?n.dictionary[t].field:""),t))]}),n.remove_leaf_inputs(f),n.create_stage(e[t])})),this.input_wrappers.push({wrapper:u,instance:h})}}},{key:"remove_leaf_inputs",value:function(e){this.clear_bespoke();var t=!0,n=!1,r=void 0;try{for(var i,o=this.input_wrappers.splice(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.instance.destroy(),this.elm_dropdown_container.removeChild(a.wrapper)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"create_checkbox",value:function(e){var t=this,n=document.createElement("div");n.classList.add("rrmc-dropdown-wrapper"),this.append_element(n),n.innerHTML='<div class="js-rrmc-toggle-lazy rrmc-toggle-theme-light"\n         data-toggle-style="primary"\n         data-theme="light">\n      <div class="rrmc-toggle-columns">\n        <div class="rrmc-toggle-anim"></div>\n        <div class="rrmc-toggle-label">\n           <span>Extended</span>\n        </div>\n      </div>\n    </div>';var r=n.querySelector(".js-rrmc-toggle-lazy"),i=new s.default(r);i.load();var o;i.addEventListener("click",(o=this.input_wrappers.length+1,function(n){var r=n?"extended":"standard";t.remove_leaf_inputs(o),t.create_stage(e[r])}));var a={wrapper:n,instance:i};return this.input_wrappers.push(a),a}},{key:"create_stage",value:function(e){if(Array.isArray(e))this.render_stage(e[0]);else if(this.selected_variant&&(this.selected_variant="",this.update_hero(window.rrmc_accessory.heroImage.renditions,window.rrmc_accessory.heroImage.original),this.learn_more_wrapper&&this.update_descriptions(window.rrmc_accessory.description),this.hide_cta(this.elm_select_button_container),this.hide_cta(this.elm_customise_button_container),this.accessory_carousel_wrapper&&this.accessory_carousel.update_carousel(window.rrmc_accessory.carousel,!0)),this.is_wheelbase_selector(e)){var t=Object.keys(e);if(1===t.length){if(this.selection_order){var n=this.input_wrappers.length-1;this.selection_order.splice(n,1)}return void this.create_stage(e[t[0]])}var r=this.create_checkbox(e);if(this.selection_order){var i=this.input_wrappers.length-1,o="extended"===this.selection_order[i];r.instance.select(o,!0)}else r.instance.select(!1,!0)}else{this.create_dropdown(e,!1);var a=Object.keys(e);if(1!==a.length||this.is_wheelbase_selector(e)){if(this.selection_order){var s=this.input_wrappers.length-1;this.input_wrappers[s].instance.preselect(this.selection_order[s])}}else this.input_wrappers[this.input_wrappers.length-1].instance.preselect(a[0],!0)}}},{key:"hide_long_desc",value:function(){this.learn_more_wrapper&&(this.learn_more_wrapper.style.display="none"),this.elm_learn_more_cta&&(this.elm_learn_more_cta.style.display="none")}},{key:"set_marketing_description",value:function(e){var t=this,n=(0,x.getI18nComponent)(e),r=document.createElement("DIV");if(r.innerHTML=n,(n=(n=(n=r.textContent||r.innerText).replace(/(\r\n|\n|\r)/gm," ")).replace(/(\. \.)/gi," ")).length<=180)return this.accessory_description.innerHTML=n,void this.hide_long_desc();var i=void 0,o=void 0;n.indexOf("")>-1?(i="",o=""):(i=" ",o="..."),n=n.substr(0,n.lastIndexOf(i,180)),n+=o,a.TweenLite.to(this.accessory_description,.25,{opacity:0,onComplete:function(){t.accessory_description.innerHTML=n,a.TweenLite.to(t.accessory_description,.25,{opacity:1,delay:.25})}})}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.elm_dropdown_container.innerHTML="",this.load_data=t,y.default.sub_epaas.subscribe({next:function(t){e.isDealer(t),(0,_.fireCustomEvent)({event:"ee-productView",ecommerce:{detail:{actionField:{list:e.product_list_name},products:[{id:window.rrmc_accessory.id,name:window.rrmc_accessory.title,category:window.rrmc_accessory.category,price:"0.00"}]}}})}}),[].slice.call(this.imgWrappers).forEach((function(e){(0,g.pictureLazyLoaderPlain)(e,(function(){a.TweenLite.to(e,1,{opacity:1})})),"objectFit"in document.documentElement.style||(0,l.default)(e)})),this.set_marketing_description(window.rrmc_accessory.description),this.accessory_carousel_wrapper&&(this.accessory_carousel=new u.default(this.accessory_carousel_wrapper),this.accessory_carousel.render_carousel(this.accessory_carousel_wrapper)),n.luggage_options?(this.luggage_options=n.luggage_options,this.load_data.variant=n.next_variant):"Luggage"===this.load_data.accessoryType&&(this.luggage_options=this.load_data.variant.bespokeFields),this.load_data.variant){var r=[];E(this.store,t.variant.id,(function(e){return r.push(e)})),this.selection_order=r.reverse()}this.create_stage(this.store),this.load_data.variant&&delete this.selection_order,this.elm_learn_more_cta&&this.elm_learn_more_cta.addEventListenerRR("click",this.scroll_to_learn_more),this.elm_select_button.addEventListenerRR("click",this.send_to_my_list),this.elm_customise_button.addEventListenerRR("click",this.create_luggage_configurator);var i=/productList=([^&]+)/;this.product_list_name=void 0,this.product_list=i.exec(window.location.search),Array.isArray(this.product_list)&&(this.product_list_name=this.product_list.length>0?decodeURIComponent(this.product_list[1]):decodeURIComponent(this.product_list[0]))}},{key:"destroy",value:function(){this.elm_select_button.removeEventListenerRR("click",this.send_to_my_list),this.elm_learn_more_cta&&this.elm_learn_more_cta.removeEventListenerRR("click",this.scroll_to_learn_more),this.elm_select_button&&this.elm_select_button.removeEventListenerRR("click",this.send_to_my_list),this.elm_customise_button&&this.elm_customise_button.removeEventListenerRR("click",this.create_luggage_configurator)}},{key:"revealTable",value:function(){this.dealerTable&&this.dealerTable.classList.add("reveal-dealer-table")}},{key:"isDealer",value:function(e){"true"===e.epaas.getPersistence("isDealer")?this.revealTable():this.dealerTable&&this.dealerTable.parentNode.removeChild(this.dealerTable)}}]),e}();t.default=T,C=document.querySelectorAll(".js-rrmc-accessory"),document.addEventListener("DOMContentLoaded",(function(){[].slice.call(C).forEach((function(e){var t=new T(e);e.data={accessoryInstance:t},t.load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(498);var i=s(n(111)),o=n(112),a=s(n(420));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.elm_anim_container=n.container.querySelector(".rrmc-toggle-anim"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"switch_on",value:function(){a.default.prototype.switch_on.call(this),this.lottie_toggle.setDirection(1),this.lottie_toggle.play()}},{key:"switch_off",value:function(){a.default.prototype.switch_off.call(this),this.lottie_toggle.setDirection(-1),this.lottie_toggle.play()}},{key:"load",value:function(){var e=this;a.default.prototype.load.call(this),this.lottie_toggle=i.default.loadAnimation({container:this.elm_anim_container,renderer:"svg",loop:!1,autoplay:!1,animationData:"light"===this.theme?o.anim_toggle_light:o.anim_toggle_dark}),this.is_checked&&this.lottie_toggle.addEventListener("DOMLoaded",(function(){e.lottie_toggle.goToAndStop(8,!0)}))}}]),t}(a.default);document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-toggle");[].slice.call(e).forEach((function(e){new l(e).load()}))})),t.default=l},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var l=o[a],c=Object.getOwnPropertyDescriptor(i,l);void 0!==c&&c.enumerable&&(n[l]=i[l])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListenerRR("testPassive",null,i),window.removeEventListenerRR("testPassive",null,i)}catch(e){}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.make_tree=function(e,t){var n=t.filter((function(e){return e.visible}));(0,r.for_every_model)(n,r.condense_wheelbases);var o=[{name:i.MODEL_LABEL,label:"Model",title:function(e){return e}},{name:i.SUBMODELS,label:"Wheelbase",title:function(e){return e}}],a=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;(0,r.append_filter)(o,h.field,h.label)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}var d={},p={};return(0,r.p)(p,d,n,n.map((function(e){return e.id})),o),[d,p]};var r=n(443),i=n(419)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealCardRow=i,t.revealCards=function(e,t){var n=e.querySelectorAll("[data-row-to-animate=true]");0===n.length&&t();[].slice.call(n).forEach((function(e){var t=e.getBoundingClientRect().top+window.pageYOffset;window.pageYOffset+window.innerHeight>t&&(e.setAttribute("data-row-to-animate",!1),i(e))}))};var r=n(7);function i(e){var t=e.querySelectorAll(".rrmc-article-tile");r.gsap.timeline().staggerFromTo(t,1,{opacity:0,y:"100px"},{opacity:1,y:"0"},.33)}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(75),s=(r=a)&&r.__esModule?r:{default:r},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),c=n(64);n(528);var u={DAWN:"dawn",GHOST:"ghost",CULLINAN:"cullinan",PHANTOM:"phantom","GHOST EXTENDED WHEELBASE":"ghost-ewb",WRAITH:"wraith","PHANTOM EXTENDED WHEELBASE":"phantom-ewb","BLACK BADGE":"black-badge","THE ACCESSORY COLLECTION":"boutique","PROVENANCE PRE-OWNED":"pre-owned","ENHANCED OWNERSHIP PROGRAMME":"ownership"},h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this._appendBrochureResponse=function(){var e="";s.default.getJSON("/bin/public/brochure",(function(t){var r=[];n.brochureData=t;var o=!0,a=!1,l=void 0;try{for(var h,d=t.entries()[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){var p=h.value,f=i(p,2),m=f[0],v=f[1],g=m;u[v.label]&&window.location.pathname.match(RegExp(u[v.label]+"(?!-ewb)"))&&(g-=100,r.push(v.label)),t[m].rank=g}}catch(e){a=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(a)throw l}}t.sort((function(e,t){return e.rank-t.rank})),e+='<div class="rrmc-brochure-heading">',e+='<h2 class="rrmc-h2 rrmc-form-title">'+(0,c.getI18nComponent)("EU tyre labels")+"</h2>",e+="</div>",e+='<div class="rrmc-brochure-wrap">',(0,s.default)(t).each((function(t,n){for(var r in e+='<div class="rrmc-brochure-elm">',e+='<div class="rrmc-brochure-elm-image-wrap">',e+='<h3 class="rrmc-h3 rrmc-brochure-title">'+n.label+"</h3>",e+='<img class="rrmc-brochure-image" src="'+n.coverImage+'" />',e+="</div>",e+='<div class="rrmc-brochure-list-wrap">',n.categories){for(var i in e+='<div class="rrmc-brochure-list-node">',e+='<h3 class="rrmc-brochure-label">'+n.categories[r].label+"</h3>",e+="<div>",n.categories[r].brochures)e+='<div class="rrmc-download-link-brochure">\n                <a href="'+n.categories[r].brochures[i].path+'" target="_blank" class="rrmc-download-link-label-brochure">'+n.categories[r].brochures[i].label+'</a>\n                <span class="rrmc-icon rrmc-download-icon"></span>\n              </div>';e+="</div>",e+="</div>"}e+="</div>",e+="</div>"})),e+="</div>",(0,s.default)(n.sandbox).fadeOut(1e3,(function(){(0,s.default)(".js-overlay").scrollTop(0),(0,s.default)(n.sandbox).parents(".brochure-list").append(e),r.forEach((function(e){if(r.indexOf(e)>-1){var t=e.toUpperCase();(0,s.default)(".rrmc-brochure-title").filter((function(){return(0,s.default)(this).text()==t})).closest(".rrmc-brochure-elm").addClass("selected-brochure")}})),(0,s.default)(".selected-brochure").last().addClass("end-selected"),(0,s.default)('<div class="rrmc-brochure-heading"><h2 class="rrmc-h2 rrmc-form-title">'+(0,c.getI18nComponent)("Other EU tyre labels")+"</h2></div>").insertAfter(".end-selected"),(0,s.default)(".rrmc-brochure-wrap .js-rrmc-button").on("click",n.on_cta_click),(0,s.default)(".rrmc-brochure-wrap .rrmc-download-link-label-brochure").on("click",n.on_download_click)}))}))},this.on_cta_click=function(e){l.fireCustomEvent({event:"rbContactAdvisorClick",eventCategory:"form",eventAction:n.formName.id,eventLabel:e.target.innerText.toLowerCase()})},this.on_download_click=function(e){var t=(0,s.default)(e.target).parents(".rrmc-brochure-elm").find(".rrmc-brochure-title").text().toLowerCase(),n=(0,s.default)(e.target).parents(".rrmc-brochure-list-node").find(".rrmc-brochure-label").text().toLowerCase(),r=e.target.innerText.toLowerCase();l.fireCustomEvent({event:"rbBrochureClick",eventCategory:"form",eventAction:"request a brochure",eventLabel:"download - "+t+" "+n+" "+r})},this.redirect_to_bespoke=function(){location.href=n.redirect_path}}return o(e,[{key:"load",value:function(){this._appendBrochureResponse()}},{key:"destroy",value:function(){(0,s.default)(this.sandbox).parents(".brochure-list").find(".rrmc-brochure-wrap,.rrmc-brochure-heading").remove()}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(547);var i=m(n(76)),o=n(7),a=n(548),s=m(n(464)),l=m(n(465)),c=n(550),u=m(n(212)),h=n(62),d=n(553),p=m(n(14)),f=n(18);function m(e){return e&&e.__esModule?e:{default:e}}function v(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var g=function(){function e(t){var n,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_header=this.container.querySelector(".js-rrmc-dealer-locator-header"),this.btn_search=this.container.querySelector(".js-rrmc-dealer-submit-location"),this.btn_locate=this.container.querySelector(".js-locate"),this.btns_search_locate_recaptcha=this.container.querySelectorAll(".js-rrmc-dealer-button-anim"),this.elm_dealer_list=this.container.querySelector(".js-rrmc-dealer-details-locations"),this.input_location_country=this.elm_header.querySelector('input[name="dealer-location-country"]'),this.input_location_city=this.elm_header.querySelector('input[name="dealer-location-city"]'),this.input_label_country=this.elm_header.querySelector(".rrmc-form-label-country"),this.input_label_city=this.elm_header.querySelector(".rrmc-form-label-city"),this.dealer_content=this.container.querySelector(".rrmc-dealer-locator-content"),this.form_location=this.elm_header.querySelector(".js-rrmc-dealer-locator-container"),this.i18n=new d.I18n(this.container),this.const_boutiqueOverlay="accessoriesRequest",this.active_split_cta_instances=[],this.selected_dealership=0,this.set_ctas_visible(),this.on_recaptcha_valid=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.unlock_request_progress(),e.next=3,i.collapse_ctas();case 3:return e.prev=3,e.next=6,i.fetch_dealers_list();case 6:return i.update_input_field_with_location(),e.next=9,i.populate_dealers_list();case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(3),console.log(e.t0),e.next=16,i.process_error();case 16:i.reset_browser_location();case 17:case"end":return e.stop()}}),e,i,[[3,11]])}))),this.on_form_submit=function(e){(0,f.fireTronActivityClickEvent)(),e&&e.preventDefault(),i.is_request_progress_active()||(i.validate_input_field_city(),i.validate_input_field_country(),i.inputCountryChecker(),i.inputCityChecker(),i.is_input_field_invalid_city()||i.is_input_field_invalid_country()||(i.lock_request_progress(),i.track_search(),i.dim_buttons(),i.recaptcha.verify()))},this.on_geolocation_invalid=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.undim_buttons();case 1:case"end":return e.stop()}}),e,i)}))),this.on_geolocation_valid=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.recaptcha.verify();case 1:case"end":return e.stop()}}),e,i)}))),this.on_locate=(n=v(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,f.fireTronActivityClickEvent)(),t&&t.preventDefault(),!i.is_request_progress_active()){e.next=4;break}return e.abrupt("return");case 4:return i.lock_request_progress(),i.dim_buttons(),i.track_locate(),e.next=9,i.request_current_location();case 9:case"end":return e.stop()}}),e,i)}))),function(e){return n.apply(this,arguments)}),this.on_input_focus_city=function(){i.is_request_progress_active()||(i.input_location_shift_label_up_city(),i.reveal_ctas())},this.on_input_focus_country=function(){i.is_request_progress_active()||(i.input_location_shift_label_up_country(),i.reveal_ctas())},this.on_input_blur_city=function(){i.is_input_location_populated_city()&&i.input_location_shift_label_down_city()},this.on_input_blur_country=function(){i.is_input_location_populated_country()&&i.input_location_shift_label_down_country()},this.store_service_request_response=function(e){i.service_request_response=e},this.get_service_request_response=function(){return i.service_request_response},this.get_city=function(){return i.get_service_request_response().query.city},this.setup_click_on_tab=function(e){i.tabs.get_tab_button(e).addEventListenerRR("click",i.on_tab_click)},this.remove_click_on_tab=function(e){i.tabs.get_tab_button(e).removeEventListenerRR("click",i.on_tab_click)},this.on_tab_click=(r=v(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,f.fireTronActivityClickEvent)(),!i.tabs.is_tab_click_locked()){e.next=3;break}return e.abrupt("return");case 3:return i.tabs.lock_tab_click(),n=t.currentTarget,i.select_dealership(i.tabs.get_button_index(n)),i.setup_navigation(),e.next=9,i.setup_tab_details();case 9:i.tabs.unlock_tab_click();case 10:case"end":return e.stop()}}),e,i)}))),function(e){return r.apply(this,arguments)}),this.on_select_dealer_default=function(e){(0,f.fireTronActivityClickEvent)();var t=e.currentTarget;t.getAttribute("data-new-tab")?window.open(t.getAttribute("data-href"),t.getAttribute("data-new-tab")):window.location.href=t.getAttribute("data-href")},this.on_select_dealer_boutique=function(e){(0,f.fireTronActivityClickEvent)();var t=e.currentTarget;p.default.sub_overlay_manager_bus.next({action:h.overlayOpen,data:{overlayName:"g-request-accessories",overlayPurpose:i.const_boutiqueOverlay,wishListProducts:i.list_products,dealership_title:t.getAttribute("data-trading-name"),dealership_number:t.getAttribute("data-number")}})},this.on_click_address=function(e){var t=e.currentTarget,n=i.get_dealer_name(t);i.track_addres(n)},this.on_click_telephone=function(e){var t=e.currentTarget,n=i.get_dealer_name(t);i.track_tel(n)}}var t,n,m,g,y,_,b,w;return r(e,[{key:"get_search_input_value",value:function(){return this.input_location_city.value+","+this.input_location_country.value}},{key:"process_error",value:(w=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reveal_ctas();case 2:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"update_input_field_with_location",value:function(){this.is_geolocation_request_type()&&this.paste_city_into_input_field()}},{key:"paste_city_into_input_field",value:function(){this.input_location_city.value=this.get_city(),this.input_location_shift_label_up_city()}},{key:"request_current_location",value:(b=v(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.geolocation_request();case 3:t=e.sent,this.set_browser_location(t),this.on_geolocation_valid(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.on_geolocation_invalid(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(){return b.apply(this,arguments)})},{key:"reset_browser_location",value:function(){delete this.browser_location}},{key:"set_browser_location",value:function(e){this.browser_location=e}},{key:"geolocation_request",value:function(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){return e(t.coords)}),(function(e){return t(e)}))}))}},{key:"validate_input_field_country",value:function(){this.input_field_valid_country=u.default.validateTextInput(this.input_location_country)}},{key:"validate_input_field_city",value:function(){this.input_field_valid_city=u.default.validateTextInput(this.input_location_city)}},{key:"inputCountryChecker",value:function(){var e=this;this.input_location_country.addEventListenerRR("input",(function(){e.validate_input_field_country()}))}},{key:"inputCityChecker",value:function(){var e=this;this.input_location_city.addEventListenerRR("input",(function(){e.validate_input_field_city()}))}},{key:"is_input_field_invalid_country",value:function(){return!this.input_field_valid_country}},{key:"is_input_field_invalid_city",value:function(){return!this.input_field_valid_city}},{key:"select_dealership",value:function(e){this.selected_dealership=e,this.tabs.set_selected_tab(e)}},{key:"fetch_dealers_list",value:(_=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.prepare_service_request_data(),e.next=3,this.send_service_request();case 3:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"send_service_request",value:(y=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send_service_request_ajax();case 2:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"send_service_request_ajax",value:function(){var e=this;return new Promise((function(t,n){$.ajax({type:"POST",url:"/bin/public/dealerlocator",data:e.get_service_request_package(),success:function(e){return t(e)},error:function(e){return n(e)}}).then(e.store_service_request_response)}))}},{key:"prepare_service_request_data",value:function(){this.reset_service_request_package(),this.set_service_request_package_location_parameter(),this.set_service_request_package_recaptcha_token()}},{key:"reset_service_request_package",value:function(){this.service_request_package={}}},{key:"set_service_request_package_recaptcha_token",value:function(){this.service_request_package["g-recaptcha-response"]=this.recaptcha.get_recaptcha_token()}},{key:"set_service_request_package_latlong",value:function(){this.service_request_package.query=this.browser_location.latitude+","+this.browser_location.longitude}},{key:"set_service_request_package_location_string",value:function(){this.service_request_package.query=this.input_location_city.value+","+this.input_location_country.value}},{key:"get_service_request_package",value:function(){return this.service_request_package}},{key:"set_service_request_package_location_parameter",value:function(){if(this.is_string_request_type())return this.set_service_request_package_location_string();this.set_service_request_package_latlong()}},{key:"is_geolocation_request_type",value:function(){return!this.is_string_request_type()}},{key:"is_string_request_type",value:function(){return!this.browser_location}},{key:"reset_html",value:function(){this.elm_dealer_list.innerHTML=""}},{key:"inject_dealers_list_html",value:function(){var e=new a.TabsGenerator(this.get_service_request_response(),this.i18n),t=new a.ListGenerator(this.get_service_request_response(),this.i18n);this.elm_dealer_list.innerHTML=e.generate()+" "+t.generate()}},{key:"get_location_address_links",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-dealer-locator--address-anchor"))}},{key:"get_location_telephone_links",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-dealer-locator--telephone-anchor"))}},{key:"get_split_locations",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-dealer-locator-location"))}},{key:"get_split_ctas",value:function(e){return[].slice.call(e.querySelectorAll(".js-dealer-locator-cta"))}},{key:"get_split_select_dealer_ctas",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-dealer-select-with-copy"))}},{key:"set_dataset_property",value:function(e,t,n){e.dataset[t]=n}},{key:"get_dataset_property",value:function(e,t){return e.dataset[t]}},{key:"set_dealer_name",value:function(e,t){this.set_dataset_property(e,"dealerName",t)}},{key:"get_dealer_name",value:function(e){return this.get_dataset_property(e,"dealerName")}},{key:"get_location_name",value:function(e){return e.getAttribute("data-dealer-name")}},{key:"init_select_dealer_listener",value:function(e){if(this.is_boutique_overlay())return e.addEventListenerRR("click",this.on_select_dealer_boutique);e.addEventListenerRR("click",this.on_select_dealer_default)}},{key:"dispose_select_dealer_listener",value:function(e){if(this.is_boutique_overlay())return e.removeEventListenerRR("click",this.on_select_dealer_boutique);e.removeEventListenerRR("click",this.on_select_dealer_default)}},{key:"init_telephone_click",value:function(e,t){this.set_dealer_name(e,t),e.addEventListenerRR("click",this.on_click_telephone)}},{key:"init_address_click",value:function(e,t){this.set_dealer_name(e,t),e.addEventListenerRR("click",this.on_click_address)}},{key:"dispose_telephone_click",value:function(e){e.removeEventListenerRR("click",this.on_click_address)}},{key:"dispose_address_click",value:function(e){e.removeEventListenerRR("click",this.on_click_telephone)}},{key:"init_contact_details_tracking",value:function(e){var t=this,n=this.get_location_telephone_links(e),r=this.get_location_address_links(e),i=this.get_location_name(e);n.forEach((function(e){return t.init_telephone_click(e,i)})),r.forEach((function(e){return t.init_address_click(e,i)}))}},{key:"dispose_contact_details_tracking",value:function(e){var t=this,n=this.get_location_telephone_links(e),r=this.get_location_address_links(e);n.forEach((function(e){return t.dispose_telephone_click(e)})),r.forEach((function(e){return t.dispose_address_click(e)}))}},{key:"init_split_ctas",value:function(e){var t=this,n=this.get_split_ctas(e);this.active_split_cta_instances=n.map((function(e){return new i.default(e)})),this.active_split_cta_instances.forEach((function(e){return e.load()})),this.active_split_select_dealer_ctas=this.get_split_select_dealer_ctas(e),this.active_split_select_dealer_ctas.forEach((function(e){return t.init_select_dealer_listener(e)})),this.active_split_locations=this.get_split_locations(e),this.active_split_locations.forEach((function(e){return t.init_contact_details_tracking(e)}))}},{key:"dispose_active_split_ctas",value:function(){var e=this;this.active_split_cta_instances.forEach((function(e){return e.destroy()})),this.active_split_select_dealer_ctas.forEach((function(t){return e.dispose_select_dealer_listener(t)})),this.active_split_locations.forEach((function(t){return e.dispose_contact_details_tracking(t)}))}},{key:"setup_navigation",value:(g=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tabs.apply_nav_button_styles(),this.tabs.apply_nav_underscore_styles();case 2:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"setup_tab_details",value:(m=v(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sections.deactivate_current_split((function(){return t.dispose_active_split_ctas()}));case 2:return this.sections.set_active_split(this.selected_dealership),e.next=5,this.sections.activate_current_split((function(e){return t.init_split_ctas(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"setup_tab_listeners",value:function(){var e=this;this.tabs&&this.tabs.forEachButton((function(t){return e.setup_click_on_tab(t)}))}},{key:"remove_tab_listeners",value:function(){var e=this;this.tabs&&this.tabs.forEachButton((function(t){return e.remove_click_on_tab(t)}))}},{key:"setup_dealer_list_listeners",value:(n=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tabs=new s.default(this.elm_dealer_list,"dealer-locator"),this.sections=new l.default(this.elm_dealer_list,"dealer-locator"),this.setup_tab_listeners();case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"populate_dealers_list",value:(t=v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.remove_tab_listeners(),this.inject_dealers_list_html(),e.next=4,this.setup_dealer_list_listeners();case 4:return this.setup_navigation(),e.next=7,this.setup_tab_details();case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"are_ctas_visible",value:function(){return this.ctas_visible}},{key:"set_ctas_visible",value:function(){this.ctas_visible=!0}},{key:"set_ctas_invisible",value:function(){this.ctas_visible=!1}},{key:"collapse_ctas",value:function(){var e=this;return this.are_ctas_visible()?(this.set_ctas_invisible(),new Promise((function(t){var n=new o.TimelineLite;n.addLabel("start"),n.set(e.btns_search_locate_recaptcha,{"pointer-events":"none"}),n.to(e.btns_search_locate_recaptcha,.6,{opacity:0},"start"),n.to(e.elm_dealer_list,.6,{y:"-270px",opacity:1}),n.add(t)}))):Promise.resolve()}},{key:"reveal_ctas",value:function(){var e=this;return this.are_ctas_visible()?Promise.resolve():(this.set_ctas_visible(),new Promise((function(t){var n=new o.TimelineLite;n.addLabel("start"),n.to(e.elm_dealer_list,.6,{y:"0px"}),n.to(e.btns_search_locate_recaptcha,.6,{opacity:1}),n.set(e.btns_search_locate_recaptcha,{"pointer-events":"auto"}),n.add(t)})))}},{key:"dim_buttons",value:function(){o.TweenLite.to(this.btns_search_locate_recaptcha,1,{opacity:.5})}},{key:"undim_buttons",value:function(){o.TweenLite.to(this.btns_search_locate_recaptcha,1,{opacity:1})}},{key:"is_input_location_populated_country",value:function(){return 0==this.input_location_country.value.length}},{key:"is_input_location_populated_city",value:function(){return 0==this.input_location_city.value.length}},{key:"input_location_shift_label_up_country",value:function(){this.input_label_country.classList.add("input-focus")}},{key:"input_location_shift_label_down_country",value:function(){this.input_label_country.classList.remove("input-focus")}},{key:"input_location_shift_label_up_city",value:function(){this.input_label_city.classList.add("input-focus")}},{key:"input_location_shift_label_down_city",value:function(){this.input_label_city.classList.remove("input-focus")}},{key:"schedule_unlock_request_progress",value:function(){var e=this;this.unlock_timeout=setTimeout((function(){return e.unlock_controls()}),5e3)}},{key:"remove_sheduled_unlock",value:function(){clearTimeout(this.unlock_timeout)}},{key:"unlock_controls",value:function(){this.is_request_progress_active()&&(this.unlock_request_progress(),this.undim_buttons(),this.recaptcha.unlock())}},{key:"lock_request_progress",value:function(){this.request_progress_active=!0,this.schedule_unlock_request_progress()}},{key:"unlock_request_progress",value:function(){this.request_progress_active=!1,this.remove_sheduled_unlock()}},{key:"is_request_progress_active",value:function(){return this.request_progress_active}},{key:"init_recaptcha",value:function(){var e=c.DealerLocatorRecaptchaConfig.make(this.on_recaptcha_valid,"dealer-recaptcha-v2");this.recaptcha=new c.DealerLocatorRecaptcha(e),this.recaptcha.init()}},{key:"init_ctas",value:function(){this.use_my_location=new i.default(this.btn_locate),this.use_my_location.load(),this.btn_locate.addEventListenerRR("click",this.on_locate),this.btn_search.addEventListenerRR("click",this.on_form_submit),this.input_location_country.addEventListenerRR("focus",this.on_input_focus_country),this.input_location_country.addEventListenerRR("blur",this.on_input_blur_country),this.input_location_city.addEventListenerRR("focus",this.on_input_focus_city),this.input_location_city.addEventListenerRR("blur",this.on_input_blur_city)}},{key:"dispose_ctas",value:function(){this.btn_locate.removeEventListenerRR("click",this.on_locate),this.btn_search.removeEventListenerRR("click",this.on_form_submit),this.input_location_country.removeEventListenerRR("focus",this.on_input_focus_country),this.input_location_country.removeEventListenerRR("blur",this.on_input_blur_country),this.input_location_city.removeEventListenerRR("focus",this.on_input_focus_city),this.input_location_city.removeEventListenerRR("blur",this.on_input_blur_city)}},{key:"init_form",value:function(){this.form_location.addEventListenerRR("submit",this.on_form_submit)}},{key:"dispose_form",value:function(){this.form_location.removeEventListenerRR("submit",this.on_form_submit)}},{key:"set_overlay_purpose",value:function(e){this.overlay_purpose=e.overlayPurpose||"default",this.form_location_id=this.overlay_purpose==this.const_boutiqueOverlay?"Wish List Checkout":"Find A Dealer",this.list_products=e.wishListProducts||void 0}},{key:"is_boutique_overlay",value:function(){return this.overlay_purpose===this.const_boutiqueOverlay}},{key:"track_close_event",value:function(){(0,f.fireCustomEvent)({event:"fadClose",eventCategory:"form",eventAction:"Find A Dealer",eventLabel:"Close"})}},{key:"track_search",value:function(){var e=this.get_search_input_value();(0,f.fireCustomEvent)({event:"fadLocationClick",eventCategory:"form",eventAction:"search",eventLabel:e})}},{key:"track_locate",value:function(){(0,f.fireCustomEvent)({event:"fadLocationClick",eventCategory:"form",eventAction:"click",eventLabel:"Use My Location"})}},{key:"track_tel",value:function(e){(0,f.fireCustomEvent)({event:"fadTelClick",eventCategory:"form",eventAction:"call",eventLabel:e})}},{key:"track_addres",value:function(e){(0,f.fireCustomEvent)({event:"fadMapClick",eventCategory:"form",eventAction:"map",eventLabel:e})}},{key:"load",value:function(e){this.set_overlay_purpose(e),this.init_recaptcha(),this.init_ctas(),this.init_form()}},{key:"destroy",value:function(){this.track_close_event(),this.recaptcha.destroy(),this.dispose_ctas(),this.dispose_form(),this.remove_tab_listeners(),this.reset_html(),this.reveal_ctas()}}]),e}();t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find-us";o(this,e),this.container=t,this.component_name=n,this.elms_nav_buttons=[].slice.call(this.container.querySelectorAll(".js-rrmc-"+this.get_component_name()+"-content--tab-button-container")),this.elms_nav_underscores=[].slice.call(this.container.querySelectorAll(".js-rrmc-"+this.get_component_name()+"-content--underscore-container")),this.const_isActiveClass="is-active",this.const_indexAttribute="data-index",this.selected_tab=0}var t,n;return r(e,[{key:"get_component_name",value:function(){return this.component_name}},{key:"set_selected_tab",value:function(e){this.selected_tab=e}},{key:"is_tab_click_locked",value:function(){return this.tab_click_lock}},{key:"lock_tab_click",value:function(){this.tab_click_lock=!0}},{key:"unlock_tab_click",value:function(){this.tab_click_lock=!1}},{key:"get_button_index",value:function(e){return e.getAttribute(this.const_indexAttribute)}},{key:"get_active_tab",value:function(){return this.elms_nav_buttons[this.selected_tab]}},{key:"get_active_underscore",value:function(){return this.elms_nav_underscores[this.selected_tab]}},{key:"get_tab_button",value:function(e){return e.querySelector(".js-rrmc-"+this.get_component_name()+"-content--tab-button")}},{key:"deactivate_a_tab",value:function(e){this.get_tab_button(e).classList.remove(this.const_isActiveClass)}},{key:"activate_a_tab",value:function(e){this.get_tab_button(e).classList.add(this.const_isActiveClass)}},{key:"deactivate_tabs",value:function(e){var t=this;e.forEach((function(e){return t.deactivate_a_tab(e)}))}},{key:"get_underscore_line",value:function(e){return e.querySelector(".js-rrmc-"+this.get_component_name()+"-content--underscore")}},{key:"deactivate_an_underscore",value:function(e){this.get_underscore_line(e).classList.remove(this.const_isActiveClass)}},{key:"activate_an_underscore",value:function(e){this.get_underscore_line(e).classList.add(this.const_isActiveClass)}},{key:"deactivate_underscores",value:function(e){var t=this;e.forEach((function(e){return t.deactivate_an_underscore(e)}))}},{key:"apply_nav_button_styles",value:(n=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.deactivate_tabs(this.elms_nav_buttons),this.activate_a_tab(this.get_active_tab());case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"apply_nav_underscore_styles",value:(t=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.deactivate_underscores(this.elms_nav_underscores),this.activate_an_underscore(this.get_active_underscore());case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"forEachButton",value:function(e){this.elms_nav_buttons.forEach((function(t){return e(t)}))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=n(85),a=n(549);function s(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t){l(this,e),this.container=t,this.attr_visible_display_rule=this.container.getAttribute("data-visible-display-rule"),this.isIE=(0,o.is_ie11)()}return r(e,[{key:"is_split_display_rule_set_explicitly",value:function(){return!!this.attr_visible_display_rule}},{key:"get_visible_value_grid",value:function(){return this.isIE?"-ms-grid":"grid"}},{key:"get_visible_value_block",value:function(){return"block"}},{key:"get_visible_split_default_value",value:function(){return this.get_visible_value_grid()}},{key:"get_display_rule_explicit",value:function(){return"block"===this.attr_visible_display_rule?this.get_visible_value_block():this.get_visible_value_grid()}},{key:"get_visible_split_display_value",value:function(){return this.is_split_display_rule_set_explicitly()?this.get_display_rule_explicit():this.get_visible_value_grid()}},{key:"get_visible_split_display_rule",value:function(){return{display:this.get_visible_split_display_value()}}}]),e}(),u=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find-us";l(this,e),this.container=t,this.component_name=n,this.elms_content_split=[].slice.call(this.container.querySelectorAll(".js-rrmc-"+this.get_component_name()+"-content--split")),this.active_split=null,this.visible_rule=new c(this.container)}var t,n;return r(e,[{key:"get_component_name",value:function(){return this.component_name}},{key:"set_active_split",value:function(e){this.active_split=e}},{key:"get_active_split_index",value:function(){return this.active_split}},{key:"get_split_elm_by_index",value:function(e){return this.elms_content_split[e]}},{key:"get_active_split_elm",value:function(){return this.get_split_elm_by_index(this.get_active_split_index())}},{key:"get_split_number",value:function(){return this.elms_content_split.length}},{key:"fix_split_height",value:function(){if(null===this.get_active_split_index())return Promise.resolve();var e=this.container.querySelector(".js-rrmc-"+this.get_component_name()+"-content--split-section"),t=this.get_active_split_container_height();i.TweenLite.to(e,.5,{height:t}),this.prev_split_container_height=t}},{key:"get_active_split_container_height",value:function(){return this.get_active_split_elm().getBoundingClientRect().height}},{key:"add_tracking_indices",value:function(){this.elms_content_split.forEach((function(e){(0,a.add_tracking_indices)({placeholder:"finduscontact",root:e})}))}},{key:"deactivate_current_split",value:(n=s(regeneratorRuntime.mark((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.get_active_split_index()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",new Promise((function(e){t.fix_split_height();var r=t.get_active_split_elm(),o=new i.TimelineLite;o.to(r,.5,{opacity:0}),o.add((function(){return n(r)})),o.set(r,{display:"none"}),o.add(e)})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"activate_current_split",value:(t=s(regeneratorRuntime.mark((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.get_active_split_index()){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",new Promise((function(e){var r=t.get_active_split_elm(),o=new i.TimelineLite;o.set(r,{opacity:0}),o.set(r,t.visible_rule.get_visible_split_display_rule()),o.add((function(){return t.fix_split_height()})),o.add((function(){return n(r)})),o.to(r,.5,{opacity:1}),o.add(e)})));case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.WhispersReferralFormId="whispers-referral"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(14)),o=n(62);n(560);var a=n(110),s=p(n(210)),l=n(452),c=n(451),u=n(453),h=n(7),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m=function(){function e(t){f(this,e),this.enquireBlock=t,this.enquireButtons=this.enquireBlock.querySelectorAll(".rrmc-enquire-block--item")}return r(e,[{key:"setUpEnquireButtons",value:function(){[].slice.call(this.enquireButtons).forEach((function(e){var t=new v(e);e.data={enquireButtonInstance:t},t.load()}))}},{key:"load",value:function(){this.setUpEnquireButtons()}},{key:"destroy",value:function(){[].slice.call(this.enquireButtons).forEach((function(e){e.data.enquireButtonInstance.destroy()}))}}]),e}(),v=function(){function e(t){f(this,e),this.enquireButton=t,this.enquireButtonArrow=this.enquireButton.querySelector(".js-rrmc-button-arrow"),this.enquireArrowWrapper=this.enquireButton.querySelector(".rrmc-button--regular-icon-stroked"),this.on_click=function(e){i.default,o.overlayOpen;var t="default",n=e.currentTarget;void 0!==window.ctaWindowProps&&void 0!==window.ctaWindowProps.existingOwner&&(t=!0===window.ctaWindowProps.existingOwner?"owner":"prospect");var r=n.dataset.action,a=n.dataset.overlay,s=void 0;if("open-default-form"===r)d.fireTronActivityClickEvent(),s=t+" "+("g-purchase-enquiry"===a?"purchase enq":"general enq"),e.preventDefault(),d.fireCustomEvent({event:"formOpen",eventCategory:"form",eventAction:s,eventLabel:"open"}),i.default.sub_overlay_manager_bus.next({action:r,data:{overlayName:a}});else if("direct-link"===r){"_blank"!==n.getAttribute("target")&&e.preventDefault();var l=n.getAttribute("href");s=t+" "+n.querySelector(".rrmc-enquire-block--text").textContent.toLowerCase(),d.fireCustomEvent({event:"formOpen",eventCategory:"form",eventAction:s,eventLabel:"click",eventCallback:function(){l&&"_blank"!==n.getAttribute("target")&&(window.location=l)},eventTimeout:2e3})}},this.setUpAnimatedArrow()}return r(e,[{key:"setUpAnimatedArrow",value:function(){var e=this.enquireButtonArrow.dataset.icon;(0,l.add_svg)(this.enquireButtonArrow,a.svgElements[e||"arrow-right"]),this.loadCircle()}},{key:"setUpEventListeners",value:function(){var e=this;setTimeout((function(){return e.enquireButton.addEventListenerRR("click",e.on_click)}),1e3)}},{key:"loadCircle",value:function(){var e=this,t=this.enquireArrowWrapper.getBoundingClientRect(),n=t.width,r=t.height,i=(0,s.default)(n,r,1),o=(0,c.shadeColor)("#6D30A7",-10),a='\n          <svg class="rrmc-button-svg-anim" width="'+n+'" height="'+r+'" viewBox="0 0 '+n+" "+r+'" xmlns="http://www.w3.org/2000/svg">\n            '+('<g transform="rotate(90 '+n/2+" "+r/2+')">')+"\n            "+(0,u.makeSvgPaths)(i,"#6D30A7",o)+"\n           </g>\n          </svg>\n      ",l=document.createRange().createContextualFragment(a);this.enquireButtonArrow.appendChild(l),this.elm_path=this.enquireButtonArrow.querySelector(".rrmc-button-svg-anim-path");var d=this.enquireButton.querySelector(".rrmc-initial-path");this.on_mouseover=function(){d.style.opacity=0,h.TweenLite.to(e.elm_path,.4,{delay:.15,strokeDashoffset:"-"+2*i.dash_length})},this.on_mouseleave=function(){d.style.opacity=1,h.TweenLite.to(e.elm_path,.4,{strokeDashoffset:"-"+i.dash_length})},this.enquireButton.addEventListenerRR("mouseenter",this.on_mouseover),this.enquireButton.addEventListenerRR("mouseleave",this.on_mouseleave),this.dispose=function(){e.enquireButton.removeEventListenerRR("click",e.on_click),e.enquireButton.removeEventListenerRR("mouseenter",e.on_mouseover),e.enquireButton.removeEventListenerRR("mouseleave",e.on_mouseleave),e.enquireButtonArrow.removeChild(e.enquireButtonArrow.querySelector(".rrmc-button-svg-anim"))}}},{key:"load",value:function(){this.setUpEventListeners()}},{key:"destroy",value:function(){this.dispose()}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-enquire-block");[].slice.call(e).forEach((function(e){var t=new m(e);e.data={enquireInstance:t}}))})),t.default=m},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"Headers",(function(){return f})),n.d(t,"Request",(function(){return w})),n.d(t,"Response",(function(){return S})),n.d(t,"DOMException",(function(){return A})),n.d(t,"fetch",(function(){return E}));var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e||{},i="URLSearchParams"in r,o="Symbol"in r&&"iterator"in Symbol,a="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,l="ArrayBuffer"in r;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=m(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(a)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,n,r,i,o=m(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8",t.readAsText(e,i),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=h(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[h(e)]},f.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},f.prototype.set=function(e,t){this.map[h(e)]=d(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},o&&(f.prototype[Symbol.iterator]=f.prototype.entries);var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",i=n.toUpperCase(),b.indexOf(i)>-1?i:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},_.call(w.prototype),_.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var k=[301,302,303,307,308];S.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var A=r.DOMException;try{new A}catch(e){(A=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),A.prototype.constructor=A}function E(e,t){return new Promise((function(n,i){var o=new w(e,t);if(o.signal&&o.signal.aborted)return i(new A("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}if(s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(e){console.warn("Response "+e.message)}}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;setTimeout((function(){n(new S(i,r))}),0)},s.onerror=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){i(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){i(new A("Aborted","AbortError"))}),0)},s.open(o.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":l&&(s.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof f||r.Headers&&t.headers instanceof r.Headers)){var u=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){u.push(h(e)),s.setRequestHeader(e,d(t.headers[e]))})),o.headers.forEach((function(e,t){-1===u.indexOf(t)&&s.setRequestHeader(t,e)}))}else o.headers.forEach((function(e,t){s.setRequestHeader(t,e)}));o.signal&&(o.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",c)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}E.polyfill=!0,r.fetch||(r.fetch=E,r.Headers=f,r.Request=w,r.Response=S)}.call(this,n(88))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(572);var o=A(n(75)),a=A(n(111)),s=A(n(117)),l=n(112),c=n(154),u=A(n(573)),h=A(n(212)),d=n(575),p=n(62),f=A(n(446)),m=A(n(576)),v=A(n(577)),g=A(n(578)),y=A(n(14)),_=n(64),b=n(579),w=n(466),x=n(580),S=n(581),k=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function A(e){return e&&e.__esModule?e:{default:e}}var E=["cullinan","ghost","ghost-extended","phantom","phantom-extended","black-badge-ghost","black-badge-cullinan"],C=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.sandbox.classList.add("active-form"),this.selectMenu=this.sandbox.querySelectorAll(".js-rrmc-selectmenu"),this.formName=this.sandbox.querySelector(".active-form form"),this.formRow=this.sandbox.querySelectorAll(".rrmc-form-input"),this.form=this.sandbox.querySelector(".rrmc-form"),this.requiredTextInput=this.sandbox.querySelectorAll(".js-rrmc-required-true"),this.legal=this.sandbox.querySelector(".rrmc-form-legal"),this.title=this.sandbox.querySelector(".rrmc-form-title"),this.titleText=this.title?this.title.textContent:"",this.sub=this.sandbox.querySelector(".rrmc-form-submit-wrap");var r=this.sandbox.getAttribute("data-redirect-path");this.redirect_path=r?(0,c.replace_locale_in_path_with)(r,(0,c.getActiveLocale)()):null,this.formType=this.form.id,this.presetModel=this.form.getAttribute("data-preset-model"),this.selectedBoxes=this.form.querySelector(".rrmc-form-checkbox-list"),this.modelsSelected=[],this.brandsSelected=[],this.isCase=this.sandbox.hasAttribute("data-case"),this.getActiveForm=function(){return document.querySelector(".active-form")},this.gatherFormData=function(e){var t=n.getActiveForm(),r=(0,o.default)(t).find('input[name="firstName"]').val(),i=(0,o.default)(".active-form form"),a={},s=t.hasAttribute("data-case");if(i.serializeArray().forEach((function(e){if("agreePhoneMarketing"===e.name)a.agreePhoneMarketing=!0;else if("agreeEmailMarketing"===e.name)a.agreeEmailMarketing=!0;else if("agreeMessengerMarketing"===e.name)a.agreeMessengerMarketing=!0;else if("agreeInCarMarketing"===e.name)a.agreeInCarMarketing=!0;else if("phone"===e.name){var t=n.form.querySelector(".iti__selected-dial-code").innerHTML;a.phone=o.default.trim(t+e.value)}else a[e.name]=o.default.trim(e.value);if(window.ctaWindowProps){var r=window.ctaWindowProps;Object.keys(r).forEach((function(e){a[e]=r[e]}))}})),!a.country&&a.phone){var l=n.form.querySelector(".iti__selected-flag").getAttribute("title");l&&(l=l.substring(0,l.indexOf(":"))),a.country=l}a["g-recaptcha-response"]=e,a.digitalLeadSource=n.sandbox.querySelector(".digitalLeadSource").innerHTML,a.digitalUID=n.sandbox.querySelector(".digitalUID").innerHTML,a.leadSource=(0,b.getLeadSource)(),a.campaignContext=n.sandbox.querySelector(".campaignContext").innerHTML,a.channel=n.getChannel(),a.deviceUrl=window.location.href.substring(0,250),a.websiteButtonLabel=n.sandbox.querySelector(".campaignContext").innerHTML,a.submissionTimestamp=Date.now(),a.dealerNumber=a.dealerNumber||n.sandbox.querySelector(".dealerNumber").innerHTML,"whispers"!=n.formType&&n.formType!=w.WhispersReferralFormId||(a.whispersAppVersion="en-US"===(0,o.default)("html").attr("lang")?"NA":"ROW"),"subscribe"!=n.formType&&"kryptos-quiz"!=n.formType||(a.subscribeCampaign=n.sandbox.querySelector(".formCampaign").innerHTML),n.localisedDealerNumber(a),n.evergageDealerNumber(a),n.populateUTM(a);var c=void 0;if(n.sandbox.querySelector("#modelOfInterest"))c=n.sandbox.querySelector("#modelOfInterest").value,a.modelOfInterest=c;else if(""!=(0,o.default)(".modelOfInterest").html())a.modelOfInterest=(0,o.default)(".modelOfInterest").html();else{var u=window.location.href.toLowerCase();E.forEach((function(e){RegExp("/"+e).test(u)&&(RegExp("phantom-extended").test(e)?e="Phantom Extended":RegExp("ghost-extended").test(e)?e="New Ghost Extended":RegExp("ghost").test(e)&&(e="New Ghost"),RegExp("black-badge-").test(e)?a.modelOfInterest=e.substring(e.lastIndexOf("-")+1)+" Black Badge":(e=e.replace(/-/g," ").replace(/^./,(function(e){return e.toUpperCase()})),a.modelOfInterest=e))}))}n.dataFieldList.isEmpty()||n.dataFieldList.forEachField((function(e){a[e.name]=e.value})),n.submitForm(a,r,s)},this.submitForm=function(e,t,r){(0,o.default)("body").append('<div class="rrmc-form-progress-loader"></div>'),n.form.classList.add("-disabled"),n.lottie_form=a.default.loadAnimation({container:document.querySelector(".rrmc-form-progress-loader"),renderer:"svg",loop:!0,autoplay:!0,animationData:l.form_submit_loader});var i=n.titleText+" Submit";window.Evergage&&window.Evergage.sendEvent({action:i,user:{attributes:{emailAddress:e.email,ownerCheck:n.ownerCheck()}}}),o.default.ajax({type:"POST",contentType:"application/x-www-form-urlencoded",data:e,url:r?"/bin/public/case":"/bin/public/lead",success:function(e){n.lottie_form.destroy(),grecaptcha.reset(window.recaptcha_widget_id),(0,o.default)(".rrmc-form-progress-loader").remove(),"request-brochure"==n.formType?n._appendBrochureResponse():n._appendSuccess(t),(0,o.default)(".js-rrmc-model-brochure .rrmc-form-checkbox-input:checked + label").each((function(e,t){n.modelsSelected.push(t.innerText.toLowerCase())})),(0,o.default)(".js-rrmc-brand-brochure .rrmc-form-checkbox-input:checked + label").each((function(e,t){n.brandsSelected.push(t.innerText.toLowerCase())})),"accessoriesRequest"==n.form_purpose?(n.analytics={event:"ee-transaction",ecommerce:{purchase:{actionField:{id:Math.random().toString(36).substr(2,5)+"."+(new Date).getTime(),revenue:0,affiliation:"Accessories"},products:n.list_products}}},k.fireCustomEvent(n.analytics),window.Evergage&&window.Evergage.sendEvent({action:"Boutique - Successful List Submission"})):(n.modelsSelected.length&&(n.analytics.modelsSelected=n.modelsSelected),n.brandsSelected.length&&(n.analytics.brandsSelected=n.brandsSelected));var r=n.getFormName(n.formName.id);k.tronFormEvents.formFinished({formType:n.formType,formName:n.titleText}),n.analytics={event:"formSubmit",eventCategory:"form",eventAction:r,eventLabel:"submit success",leadId:e.leadId},k.fireCustomEvent(n.analytics)},error:function(e){n.lottie_form.destroy(),grecaptcha.reset(window.recaptcha_widget_id),(0,o.default)(".rrmc-form-progress-loader").remove(),n._appendFailure();var t=void 0===e.responseJSON.errorMessage?"recaptcha error":e.responseJSON.errorMessage;k.fireCustomEvent({event:"formSubmit",eventCategory:"form",eventAction:n.formName.id,eventLabel:"Submit Failed: "+t})}})},this.ownerCheck=function(){return void 0!==window.ctaWindowProps&&void 0!==window.ctaWindowProps.existingOwner?!0===window.ctaWindowProps.existingOwner?"owner":"prospect":null},this.getFormName=function(e){var t=void 0,r=n.ownerCheck();switch(e){case"purchase-enquiry":t=(r?r+" ":"")+"purchase enq";break;case"general-enquiry":t=(r?r+" ":"")+"general enq";break;default:t=n.formName.id}return t},this.validateFormData=function(){var e=n.getActiveForm();if(h.default.loadOthers(e))(0,o.default)("js-rrmc-form-submit").attr("disabled",""),k.tronFormEvents.formFinishIntention({formType:n.formType,formName:n.titleText}),grecaptcha.execute(window.widget_id);else{var t=n.getFormName(n.formName.id);o.default.each((0,o.default)(".active-form .rrmc-form-label-error:not(.-hidden)"),(function(e,r){var i=(0,o.default)(r),a=i.prev().get(0),s=a?a.name:void 0;void 0===s&&a&&(s=a.querySelector("select").id),k.tronFormEvents.formValidationError(n,{formType:n.formType,formName:n.titleText,errorCode:"000",errorCause:"invalid field: "+s,errorMessage:i.text()}),k.fireCustomEvent({event:"formSubmit",eventCategory:"form",eventAction:t,eventLabel:"submit error: invalid "+s})}))}},this._appendBrochureResponse=function(){var e=[],t=[];[].forEach.call(document.querySelectorAll(".js-checkbox-input-brochure"),(function(n){n.checked?e.push(n.value.toUpperCase().replace("-"," ").replace("-"," ").replace("_","-")):t.push(n.value.toUpperCase().replace("-"," ").replace("-"," ").replace("_","-"))}));var r=e.concat(t),i=void 0;o.default.getJSON("/bin/public/brochure",(function(t){n.brochureData=t;var a=new Set(r),s=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a));s.forEach((function(e){var t=e;s.push(t)})),t.sort((function(e,t){return s.indexOf(e.label)-s.indexOf(t.label)})),i+='<div class="rrmc-brochure-wrap">',i+='<div class="rrmc-brochure-heading">',i+='<h2 class="rrmc-h2 rrmc-form-title">Requested Brochures</h2>',i+="<p>You have requested the following brochures.</p>",i+="</div>",(0,o.default)(t).each((function(e,t){for(var n in i+='<div class="rrmc-brochure-elm">',i+='<div class="rrmc-brochure-elm-image-wrap">',i+='<h3 class="rrmc-h3 rrmc-brochure-title">'+t.label+"</h3>",i+='<img class="rrmc-brochure-image" src="'+t.coverImage+'" />',i+="</div>",i+='<div class="rrmc-brochure-list-wrap">',t.categories){for(var r in i+='<div class="rrmc-brochure-list-node">',i+='<h3 class="rrmc-brochure-label">'+t.categories[n].label+"</h3>",i+="<div>",t.categories[n].brochures)i+='<div class="rrmc-download-link-brochure">\n                <a href="'+t.categories[n].brochures[r].path+'" target="_blank" class="rrmc-download-link-label-brochure">'+t.categories[n].brochures[r].label+'</a>\n                <span class="rrmc-icon rrmc-download-icon"></span>\n              </div>';i+="</div>",i+="</div>"}i+="</div>",i+="</div>"})),i+="</div>",(0,o.default)(n.sandbox).fadeOut(1e3,(function(){(0,o.default)(".js-overlay").scrollTop(0),(0,o.default)(".form").append(i),e.forEach((function(t){if(e.indexOf(t)>-1){var n=t.toUpperCase();(0,o.default)(".rrmc-brochure-title").filter((function(){return(0,o.default)(this).text()==n})).closest(".rrmc-brochure-elm").addClass("selected-brochure")}})),(0,o.default)(".selected-brochure").last().addClass("end-selected"),(0,o.default)('<div class="rrmc-brochure-heading"><h2 class="rrmc-h2 rrmc-form-title">Other Brochures</h2></div>').insertAfter(".end-selected"),(0,o.default)(".rrmc-brochure-wrap .js-rrmc-button").on("click",n.on_cta_click),(0,o.default)(".rrmc-brochure-wrap .rrmc-download-link-label-brochure").on("click",n.on_download_click)}))}))},this.on_cta_click=function(e){k.fireCustomEvent({event:"rbContactAdvisorClick",eventCategory:"form",eventAction:n.formName.id,eventLabel:e.target.innerText.toLowerCase()})},this.on_download_click=function(e){var t=(0,o.default)(e.target).parents(".rrmc-brochure-elm").find(".rrmc-brochure-title").text().toLowerCase(),n=(0,o.default)(e.target).parents(".rrmc-brochure-list-node").find(".rrmc-brochure-label").text().toLowerCase(),r=e.target.innerText.toLowerCase();k.fireCustomEvent({event:"rbBrochureClick",eventCategory:"form",eventAction:"request a brochure",eventLabel:"download - "+t+" "+n+" "+r})},this.redirect_to_bespoke=function(){location.href=n.redirect_path},this._appendSuccess=function(e){(0,o.default)(n.sandbox).fadeOut(1e3,(function(){n.form.classList.remove("-disabled"),(0,o.default)("rrmc-form-marketing-options").addClass("-hidden"),"accessoriesRequest"===n.form_purpose?(0,o.default)(".form").append((0,d.getFormComponent)("formSuccessAccessories")):(0,o.default)(".form").append((0,d.getFormComponent)("formSuccess")),(0,o.default)(".rrmc-form-success-header").html((0,_.getI18nComponent)("Thank you")+", "+e),(0,o.default)(".js-form-return-success").on("click",(function(){"accessoriesRequest"===n.form_purpose?(y.default.sub_my_list_manager_bus.next({action:"set",data:[],options:{broadcast:!1}}),setTimeout(n.redirect_to_bespoke,100)):y.default.sub_overlay_manager_bus.next({action:p.overlayClose,data:{}})}))}))},this._appendFailure=function(){n.form.classList.add("-disabled"),(0,o.default)(".form").append((0,d.getFormComponent)("formFailure")),(0,o.default)(".js-form-return").on("click",(function(){(0,o.default)(".rrmc-form-failure").remove(),n.form.classList.remove("-disabled")})),(0,o.default)("js-rrmc-form-submit").removeAttr("disabled")},this.checkboxClickHandler=function(e){if(e.stopPropagation(),e.preventDefault(),!e.target.parentNode.classList.contains("rrmc-form-checkbox-list")){var t=e.target.parentNode.querySelector('[type="checkbox"]');t.checked=!t.checked;var r=n.getFormName(n.formName.id),i=void 0;switch(t.id.toLowerCase()){case"email":i="field: marketingEmail";break;case"phone":i="field: marketingPhone";break;case"incarmarketing":i="field: marketingInCar";break;case"messengermarketing":i="field: marketingMessenger";break;default:i="field: "+t.id.toLowerCase()}(0,o.default)(e.target).closest(".rrmc-form-checkbox-list").next(".rrmc-form-label-error").addClass("-hidden"),k.tronFormEvents.formInteraction(n,{eventEffect:i,formType:n.formType,formName:n.titleText}),k.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:r,eventLabel:i})}},this.circularClickHandler=function(e){var t=e.currentTarget,r=n.getFormName(n.formName.id),i=void 0;switch(t.id.toLowerCase()){case"agreemarketing":i="field: marketingAccept";break;default:i="field: "+t.id.toLowerCase()}t.id.toLowerCase().startsWith("consent")||(0,o.default)(".rrmc-form-marketing-options").toggleClass("-hidden"),k.tronFormEvents.formInteraction(n,{eventEffect:i,formType:n.formType,formName:n.titleText}),k.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:r,eventLabel:i})},this.getChannel=function(){var e=window.location.href;return RegExp("utm_source").test(e)?location.search.split("utm_source=")[1]:RegExp("channel").test(e)?location.search.split("channel=")[1]:"not set"}}return i(e,[{key:"load",value:function(e){var t=this;"g-dealer-locator-enquire"!=e.overlayInstance&&("subscribe"===this.formType&&(0,o.default)(this.title).append((0,d.getFormComponent)("subscribeIntro")),this.dataFieldList=(0,x.FieldListFactory)(e),this.list_products=e.wishListProducts||void 0,this.dealership_title=e.dealership_title,this.dealership_number=e.dealership_number,this.form_purpose=e.overlayPurpose||"default",this.applyInputTypes(),this.applyIntlPhoneInput(),this.applyFormRowListener(),this.applyFormTextRowListener(),this.appendMarketing(),this.applyPreselectedOptions(),(0,o.default)(this.legal).append('<div id="form-recaptcha" class="g-recaptcha" data-size="invisible" data-badge="inline" ></div>'),void 0!==window.widget_id&&"number"!=typeof window.widget_id||(window.verifyCallbackForm=function(e){y.default.sub_form_recaptcha.next(e)},window.widget_id=grecaptcha.render("form-recaptcha",{sitekey:window.recaptcha_sitekey,callback:window.verifyCallbackForm,theme:"dark"})),this.sub_recaptcha=y.default.sub_form_recaptcha.subscribe({next:function(e){return t.gatherFormData(e)}}),(0,o.default)(this.sandbox).on("click",(function(e){t.callFormActions(e)})),(0,o.default)(".rrmc-form-circular-input").click(this.circularClickHandler),(0,o.default)(".rrmc-form-checkbox-item").on("click",this.checkboxClickHandler),y.default.sub_epaas.subscribe({next:function(e){t.epaas=e.epaas,t.onDeviceInfoLoaded(e)}}),(0,o.default)(".js-rrmc-selectmenu").each((function(e,t){var n=void 0;n=(0,o.default)(t).find(".js-form-select").data("preset")?(0,o.default)(t).find(".js-form-select").data("preset"):(0,o.default)(t).find(".js-form-select").data("default"),(0,o.default)(t).find(".select-custom").html(n).css("border-bottom","2px solid #676776")})),k.tronFormEvents.formStarted(this,{formType:this.formType,formName:this.titleText}),window.Evergage&&window.Evergage.sendEvent({action:this.titleText+" Open"}))}},{key:"localisedDealerNumber",value:function(e){e.localisedDealer&&(e.dealerNumber=e.localisedDealer)}},{key:"evergageDealerNumber",value:function(e){if(!e.dealerNumber){var t=window.rrmc_dealer_number_override;t&&(e.dealerNumber=t)}}},{key:"populateUTM",value:function(e){var t={};this.epaas.isUsageAllowed("utm_source")&&this.epaas.getPersistence("utm_source")&&(t.utm_source=this.epaas.getPersistence("utm_source")),this.epaas.isUsageAllowed("utm_medium")&&this.epaas.getPersistence("utm_medium")&&(t.utm_medium=this.epaas.getPersistence("utm_medium")),this.epaas.isUsageAllowed("utm_campaign")&&this.epaas.getPersistence("utm_campaign")&&(t.utm_campaign=this.epaas.getPersistence("utm_campaign")),this.epaas.isUsageAllowed("campaign_id")&&this.epaas.getPersistence("campaign_id")&&(t.campaign_id=this.epaas.getPersistence("campaign_id"));var n=location.search,i=r({},s.default.parse(n),t);i.utm_source&&(e.channel=i.utm_source),i.utm_medium&&(e.medium=i.utm_medium),i.utm_campaign&&(e.campaignContext=i.utm_campaign),i.campaign_id&&(e.digitalUID=i.campaign_id)}},{key:"callFormActions",value:function(e){e.target.classList.contains("js-rrmc-form-close")?(y.default.sub_overlay_manager_bus.next({action:p.overlayClose,data:{}}),this.event_instance&&this.event_instance.destroy_event_option()):e.target.classList.contains("js-rrmc-form-submit")?(e.preventDefault(),this.validateFormData()):e.target.classList.contains("js-rrmc-marketing")||(e.target.classList.contains("js-rrmc-form-more-information")?((0,o.default)(this.form).addClass("-disabled"),(0,o.default)(this.sandbox).append((0,d.getFormComponent)("marketingInfo")),(0,o.default)(".js-overlay").animate({scrollTop:0},400)):e.target.classList.contains("js-rrmc-form-legal-information")?((0,o.default)(this.form).addClass("-disabled"),(0,o.default)(this.sandbox).append((0,d.getFormComponent)("legalInfo")),(0,o.default)(".js-overlay").animate({scrollTop:0},400)):e.target.classList.contains("js-rrmc-marketing-button-close")&&((0,o.default)(this.form).removeClass("-disabled"),(0,o.default)(".js-rrmc-marketing-popup").remove()))}},{key:"appendMarketing",value:function(){var e=(0,c.getActiveLocale)();return"whispers"==this.formType&&((0,o.default)(this.title).append((0,d.getFormComponent)("whispersDisclaimer")),(0,o.default)(this.legal).append((0,d.getFormComponent)("whispersMarketing"))),"join-waiting-list"===this.formType&&"en_US"===e?((0,o.default)(this.legal).append((0,d.getFormComponent)("USMarketing")),void(0,o.default)(this.legal).append((0,d.getFormComponent)("submit"))):("join-waiting-list"===this.formType&&"en_US"!==e&&(0,o.default)(this.legal).append((0,d.getFormComponent)("rr25Disclaimer")),"keep-me-informed-rr25"===this.formType&&"en_US"===e?((0,o.default)(this.legal).append((0,d.getFormComponent)("USMarketing")),void(0,o.default)(this.legal).append((0,d.getFormComponent)("submit"))):(this.formType==w.WhispersReferralFormId&&((0,o.default)(this.title).append((0,d.getFormComponent)("whispersReferralDisclaimer")),(0,o.default)(this.legal).append((0,d.getFormComponent)("whispersReferralMarketing"))),"kryptos-quiz"==this.formType&&((0,o.default)(this.title).append((0,d.getFormComponent)("kryptosQuizIntro")),(0,o.default)(this.legal).append((0,d.getFormComponent)("kryptosTAndC"))),window.location.href.includes("boutique/my-list")?(0,o.default)(this.legal).append((0,d.getFormComponent)("boutique")):((0,o.default)(this.legal).append((0,d.getFormComponent)("marketing")),(0,o.default)(this.legal).append((0,d.getFormComponent)("marketingOptions"))),(0,o.default)(this.legal).append((0,d.getFormComponent)("submit")),void new S.MarketingOptionsReveal(this.getActiveForm()).test()))}},{key:"removeMarketing",value:function(){(0,o.default)(".rrmc-form-row-marketing, .rrmc-form-marketing-options, .rrmc-form-row-submit, .rrmc-form-row-whispers-marketing, .rrmc-form-row-whispers-disclaimer, .rrmc-form-row-subscribe-intro, .rrmc-rr25-kmi-disclaimer, .rrmc-rr25-jwl-disclaimer").remove()}},{key:"destroy",value:function(){(0,o.default)(this.formRow).off("focus"),(0,o.default)(this.formRowText).off("focus"),this.sub_recaptcha.unsubscribe(),(0,o.default)(this.sandbox).off("click"),this.sandbox.classList.remove("active-form");var e=this.formName,t=e.querySelectorAll("label");[].slice.call(t).forEach((function(e){e.classList.remove("input-focus"),(0,o.default)(e).next("input").css("border-bottom","2px solid #676776")})),this.instance_preferred_dealer&&this.instance_preferred_dealer.destroy(),this.event_instance&&this.event_instance.destroy_event_option(),(0,o.default)(this.sandbox).show(),e.reset(),grecaptcha.reset(window.widget_id),(0,o.default)("#form-recaptcha").remove(),(0,o.default)(".rrmc-form-progress-loader, .rrmc-brochure-wrap").remove(),this.removeMarketing(),(0,o.default)(".js-rrmc-form-submit").removeAttr("disabled"),(0,o.default)(".rrmc-form-checkbox-item").off("click",this.checkboxClickHandler),(0,o.default)(".js-rrmc-form-submit").off("click",this.validateFormData,!1),(0,o.default)(".js-rrmc-form-endstate").remove(),(0,o.default)(".rrmc-form-marketing-options, .rrmc-form-label-error").addClass("-hidden"),(0,o.default)(".form-device-info").remove(),this.form.classList.remove("-disabled"),(0,o.default)(".js-rrmc-selectmenu").each((function(e,t){var n=(0,o.default)(t).find(".js-form-select").data("default");(0,o.default)(t).find(".select-custom").html(n).css("border-bottom","2px solid #676776")}))}},{key:"applyInputTypes",value:function(){var e=this;(0,o.default)(this.formRow).each((function(t,n){if("salutation"==n.name){var r=(0,o.default)(n).parent();return e.isCase?r.html((0,d.getFormComponent)("caseSalutation")):r.html((0,d.getFormComponent)("salutation")),new f.default(r.find(".rrmc-selectmenu")).load().setOnSelect((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})})).setOnClose((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})}))}if("localisedDealer"==n.name){var i=(0,o.default)(n).parent();return i.html((0,d.getFormComponent)("localisedDealer")),void new v.default(i.find(".js-rrmc-localised-dealer-selector")).load()}if(["firstName","lastName","street","postalCode"].indexOf(n.name)>-1)n.classList.add("rrmc-text-input"),n.type="text";else{if("country"==n.name){var a=(0,o.default)(n).parent();return a.html((0,d.getFormComponent)("countries")),new f.default(a.find(".rrmc-selectmenu")).load().setOnSelect((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})})).setOnClose((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})}))}if("email"==n.name)n.type="email",n.classList.add("js-rrmc-email-input");else if("events"==n.name){var s=(0,o.default)(n).parent();s.html((0,d.getFormComponent)("selectMyEvent")),e.event_instance=new g.default(s.find(".js-rrmc-select-my-event-wrapper")),e.event_instance.load()}else if("phone"==n.name){(0,o.default)(n).parent().attr("id","intl-tel"),n.type="text",n.classList.add("js-rrmc-phone-input")}else{if("modelOfInterest"==n.name){var l=(0,o.default)(n).parent();return l.html((0,d.getFormComponent)("modelOfInterest")),void 0!==e.presetModel&&null!==e.presetModel?new f.default(l.find(".rrmc-selectmenu")).load(!0,e.presetModel).setOnSelect((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})})).setOnClose((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})})):new f.default(l.find(".rrmc-selectmenu")).load().setOnSelect((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})})).setOnClose((function(t){var n=t.eventLabel;return k.tronFormEvents.formInteraction(e,{eventEffect:n,formType:e.formType,formName:e.titleText})}))}if("agreeMarketing"==n.name)(0,o.default)(n).parent().remove();else if("communicationDisclaimer"==n.name){(0,o.default)(n).parent().html((0,d.getFormComponent)("communicationDisclaimer"))}else if("question"==n.name){(0,o.default)(n).parent().html((0,d.getFormComponent)("textarea"))}else if("existingOwner"==n.name)(0,o.default)(n).parent().html((0,d.getFormComponent)("existingOwner"));else if("modelBrochure"==n.name)(0,o.default)(n).parent().html((0,d.getFormComponent)("modelBrochure"));else if("brandBrochure"==n.name)(0,o.default)(n).parent().html((0,d.getFormComponent)("brandBrochure"));else if("dealerNumber"==n.name){var c=(0,o.default)(n).parent();c.html((0,d.getFormComponent)("preferredDealer").replace(/%dealerNumber/,e.dealership_number)),e.instance_preferred_dealer=new m.default(c.find(".js-rrmc-preferred-dealer")[0]),e.instance_preferred_dealer.load({dealership_title:e.dealership_title,wishListProducts:e.list_products})}}}}))}},{key:"applyPreselectedOptions",value:function(){var e=window.location.href.toLowerCase();E.forEach((function(t){RegExp("/"+t).test(e)&&(0,o.default)('.rrmc-form-checkbox-input[data-model="'+t+'"]').prop("checked",!0)}))}},{key:"applyFormTextRowListener",value:function(){var e=this;this.formRowText=this.sandbox.querySelectorAll(".rrmc-textarea"),(0,o.default)(this.formRowText).on("focus",(function(t){(0,o.default)(t.target).prev(".rrmc-form-label").addClass("input-focus");var n=e.getFormName(e.formName.id),r="field: "+("question"===t.target.name?"enquiry":t.target.name);k.tronFormEvents.formInteraction(e,{eventEffect:r,formType:e.formType,formName:e.titleText}),k.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:n,eventLabel:r})}))}},{key:"applyFormRowListener",value:function(){var e=this;(0,o.default)(this.formRow).on("focus",(function(t){(0,o.default)(t.target).prev(".rrmc-form-label").addClass("input-focus");var n=e.getFormName(e.formName.id),r="field: "+t.target.name;k.tronFormEvents.formInteraction(e,{eventEffect:r,formType:e.formType,formName:e.titleText}),k.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:n,eventLabel:r})})),this.applyActiveInput=function(){(0,o.default)(e.formRow).each((function(e,t){(0,o.default)(t).css("border-bottom","2px solid #676776"),(0,o.default)(t).val()?((0,o.default)(t).prev(".rrmc-form-label").addClass("input-focus"),(0,o.default)(t).next("span.rrmc-form-label-error").addClass("-hidden")):((0,o.default)(t).next("span.rrmc-form-label-error").hasClass("-hidden")||(0,o.default)(t).css("border-bottom","2px solid #f94564"),(0,o.default)(t).prev(".rrmc-form-label").removeClass("input-focus"))}))};for(var t=0;this.formRow.length>t;t++)this.formRow[t].addEventListenerRR("blur",(function(){e.applyActiveInput()}))}},{key:"getPreferredCountry",value:function(){switch((0,c.getActiveLocale)()){case"ru_RU":return["ru"];case"ja_JP":return["jp"];case"ko_KR":return["kr"];case"en_US":return["us"];case"en_GB":default:return["gb"]}}},{key:"applyIntlPhoneInput",value:function(){var e=this.sandbox.querySelector(".js-rrmc-phone-input"),t=navigator.userAgent.match("iPhone")?document.getElementById("intl-tel"):"";e&&(0,u.default)(e,{allowDropdown:!0,separateDialCode:!0,nationalMode:!0,preferredCountries:this.getPreferredCountry(),dropdownContainer:t})}},{key:"onDeviceInfoLoaded",value:function(e){var t=e.epaas,n=(0,o.default)('<div class="form-device-info"/>');if((0,o.default)(this.form).length){var r=function(e){if(t.isUsageAllowed(e)){var r=function(){var n=t.getPersistence(e);return r=""!=n?n:"Not available"};n.append('<input type="hidden" id="'+e+'" name="'+e+'" value='+r()+">")}},i=!0,a=!1,s=void 0;try{for(var l,c=["devicePreviousVisit","deviceName","deviceVersion","deviceOs","deviceOsVersion","deviceBrowser","deviceBrowserVersion","deviceBrowserLanguage","deviceReferringUrl","deviceCarModelPagesVisited"][Symbol.iterator]();!(i=(l=c.next()).done);i=!0){r(l.value)}}catch(e){a=!0,s=e}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}(0,o.default)(this.form).append(n)}}}]),e}();t.default=C},function(e,t,n){var r,i;
/*!
 * ScrollMagic v2.0.8 (2020-08-14)
 * The javascript library for magical scroll interactions.
 * (c) 2020 Jan Paepke (@janpaepke)
 * Project Website: http://scrollmagic.io
 * 
 * @version 2.0.8
 * @license Dual licensed under MIT license and GPL.
 * @author Jan Paepke - e-mail@janpaepke.de
 *
 * @file ScrollMagic main library.
 */void 0===(i="function"==typeof(r=function(){"use strict";var e=function(){r.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};e.version="2.0.8","undefined"!=typeof window&&window.addEventListener("mousewheel",void 0),e.Controller=function(n){var i,o,a="ScrollMagic.Controller",s=t.defaults,l=this,c=r.extend({},s,n),u=[],h=!1,d=0,p="PAUSED",f=!0,m=0,v=!0,g=function(){c.refreshInterval>0&&(o=window.setTimeout(k,c.refreshInterval))},y=function(){return c.vertical?r.get.scrollTop(c.container):r.get.scrollLeft(c.container)},_=function(){return c.vertical?r.get.height(c.container):r.get.width(c.container)},b=this._setScrollPos=function(e){c.vertical?f?window.scrollTo(r.get.scrollLeft(),e):c.container.scrollTop=e:f?window.scrollTo(e,r.get.scrollTop()):c.container.scrollLeft=e},w=function(){if(v&&h){var e=r.type.Array(h)?h:u.slice(0);h=!1;var t=d,n=(d=l.scrollPos())-t;0!==n&&(p=n>0?"FORWARD":"REVERSE"),"REVERSE"===p&&e.reverse(),e.forEach((function(t,n){A(3,"updating Scene "+(n+1)+"/"+e.length+" ("+u.length+" total)"),t.update(!0)})),0===e.length&&c.loglevel>=3&&A(3,"updating 0 Scenes (nothing added to controller)")}},x=function(){i=r.rAF(w)},S=function(e){A(3,"event fired causing an update:",e.type),"resize"==e.type&&(m=_(),p="PAUSED"),!0!==h&&(h=!0,x())},k=function(){if(!f&&m!=_()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){(e=document.createEvent("Event")).initEvent("resize",!1,!1)}c.container.dispatchEvent(e)}u.forEach((function(e,t){e.refresh()})),g()},A=this._log=function(e,t){c.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),r.log.apply(window,arguments))};this._options=c;var E=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort((function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1})),t};return this.addScene=function(t){if(r.type.Array(t))t.forEach((function(e,t){l.addScene(e)}));else if(t instanceof e.Scene){if(t.controller()!==l)t.addTo(l);else if(u.indexOf(t)<0){for(var n in u.push(t),u=E(u),t.on("shift.controller_sort",(function(){u=E(u)})),c.globalSceneOptions)t[n]&&t[n].call(t,c.globalSceneOptions[n]);A(3,"adding Scene (now "+u.length+" total)")}}else A(1,"ERROR: invalid argument supplied for '.addScene()'");return l},this.removeScene=function(e){if(r.type.Array(e))e.forEach((function(e,t){l.removeScene(e)}));else{var t=u.indexOf(e);t>-1&&(e.off("shift.controller_sort"),u.splice(t,1),A(3,"removing Scene (now "+u.length+" left)"),e.remove())}return l},this.updateScene=function(t,n){return r.type.Array(t)?t.forEach((function(e,t){l.updateScene(e,n)})):n?t.update(!0):!0!==h&&t instanceof e.Scene&&(-1==(h=h||[]).indexOf(t)&&h.push(t),h=E(h),x()),l},this.update=function(e){return S({type:"resize"}),e&&w(),l},this.scrollTo=function(t,n){if(r.type.Number(t))b.call(c.container,t,n);else if(t instanceof e.Scene)t.controller()===l?l.scrollTo(t.scrollOffset(),n):A(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",t);else if(r.type.Function(t))b=t;else{var i=r.get.elements(t)[0];if(i){for(;i.parentNode.hasAttribute("data-scrollmagic-pin-spacer");)i=i.parentNode;var o=c.vertical?"top":"left",a=r.get.offset(c.container),s=r.get.offset(i);f||(a[o]-=l.scrollPos()),l.scrollTo(s[o]-a[o],n)}else A(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",t)}return l},this.scrollPos=function(e){return arguments.length?(r.type.Function(e)?y=e:A(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),l):y.call(l)},this.info=function(e){var t={size:m,vertical:c.vertical,scrollPos:d,scrollDirection:p,container:c.container,isDocument:f};return arguments.length?void 0!==t[e]?t[e]:void A(1,'ERROR: option "'+e+'" is not available'):t},this.loglevel=function(e){return arguments.length?(c.loglevel!=e&&(c.loglevel=e),l):c.loglevel},this.enabled=function(e){return arguments.length?(v!=e&&(v=!!e,l.updateScene(u,!0)),l):v},this.destroy=function(e){window.clearTimeout(o);for(var t=u.length;t--;)u[t].destroy(e);return c.container.removeEventListener("resize",S),c.container.removeEventListener("scroll",S),r.cAF(i),A(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},function(){for(var t in c)s.hasOwnProperty(t)||(A(2,'WARNING: Unknown option "'+t+'"'),delete c[t]);if(c.container=r.get.elements(c.container)[0],!c.container)throw A(1,"ERROR creating object "+a+": No valid scroll container supplied"),a+" init failed.";(f=c.container===window||c.container===document.body||!document.body.contains(c.container))&&(c.container=window),m=_(),c.container.addEventListener("resize",S),c.container.addEventListener("scroll",S);var n=parseInt(c.refreshInterval,10);c.refreshInterval=r.type.Number(n)?n:s.refreshInterval,g(),A(3,"added new "+a+" controller (v"+e.version+")")}(),l};var t={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,n){t.defaults[e]=n},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=r.extend({},this),t.apply(this,arguments)||this},r.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(t){var i,o,a="ScrollMagic.Scene",s=n.defaults,l=this,c=r.extend({},s,t),u="BEFORE",h=0,d={start:0,end:0},p=0,f=!0,m={};this.on=function(e,t){return r.type.Function(t)?(e=e.trim().split(" ")).forEach((function(e){var n=e.split("."),r=n[0],i=n[1];"*"!=r&&(m[r]||(m[r]=[]),m[r].push({namespace:i||"",callback:t}))})):v(1,"ERROR when calling '.on()': Supplied callback for '"+e+"' is not a valid function!"),l},this.off=function(e,t){return e?((e=e.trim().split(" ")).forEach((function(e,n){var r=e.split("."),i=r[0],o=r[1]||"";("*"===i?Object.keys(m):[i]).forEach((function(e){for(var n=m[e]||[],r=n.length;r--;){var i=n[r];!i||o!==i.namespace&&"*"!==o||t&&t!=i.callback||n.splice(r,1)}n.length||delete m[e]}))})),l):(v(1,"ERROR: Invalid event name supplied."),l)},this.trigger=function(t,n){if(t){var r=t.trim().split("."),i=r[0],o=r[1],a=m[i];v(3,"event fired:",i,n?"->":"",n||""),a&&a.forEach((function(t,r){o&&o!==t.namespace||t.callback.call(l,new e.Event(i,t.namespace,l,n))}))}else v(1,"ERROR: Invalid event name supplied.");return l},l.on("change.internal",(function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?w():"reverse"===e.what&&l.update())})).on("shift.internal",(function(e){_(),l.update()}));var v=this._log=function(e,t){c.loglevel>=e&&(Array.prototype.splice.call(arguments,1,0,"("+a+") ->"),r.log.apply(window,arguments))};this.addTo=function(t){return t instanceof e.Controller?o!=t&&(o&&o.removeScene(l),o=t,k(),b(!0),w(!0),_(),o.info("container").addEventListener("resize",x),t.addScene(l),l.trigger("add",{controller:o}),v(3,"added "+a+" to controller"),l.update()):v(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),l},this.enabled=function(e){return arguments.length?(f!=e&&(f=!!e,l.update(!0)),l):f},this.remove=function(){if(o){o.info("container").removeEventListener("resize",x);var e=o;o=void 0,e.removeScene(l),l.trigger("remove"),v(3,"removed "+a+" from controller")}return l},this.destroy=function(e){return l.trigger("destroy",{reset:e}),l.remove(),l.off("*.*"),v(3,"destroyed "+a+" (reset: "+(e?"true":"false")+")"),null},this.update=function(e){if(o)if(e)if(o.enabled()&&f){var t,n=o.info("scrollPos");t=c.duration>0?(n-d.start)/(d.end-d.start):n>=d.start?1:0,l.trigger("update",{startPos:d.start,endPos:d.end,scrollPos:n}),l.progress(t)}else g&&"DURING"===u&&C(!0);else o.updateScene(l,!1);return l},this.refresh=function(){return b(),w(),l},this.progress=function(e){if(arguments.length){var t=!1,n=u,r=o?o.info("scrollDirection"):"PAUSED",i=c.reverse||e>=h;if(0===c.duration?(t=h!=e,u=0==(h=e<1&&i?0:1)?"BEFORE":"DURING"):e<0&&"BEFORE"!==u&&i?(h=0,u="BEFORE",t=!0):e>=0&&e<1&&i?(h=e,u="DURING",t=!0):e>=1&&"AFTER"!==u?(h=1,u="AFTER",t=!0):"DURING"!==u||i||C(),t){var a={progress:h,state:u,scrollDirection:r},s=u!=n,d=function(e){l.trigger(e,a)};s&&"DURING"!==n&&(d("enter"),d("BEFORE"===n?"start":"end")),d("progress"),s&&"DURING"!==u&&(d("BEFORE"===u?"start":"end"),d("leave"))}return l}return h};var g,y,_=function(){d={start:p+c.offset},o&&c.triggerElement&&(d.start-=o.info("size")*c.triggerHook),d.end=d.start+c.duration},b=function(e){i&&A("duration",i.call(l))&&!e&&(l.trigger("change",{what:"duration",newval:c.duration}),l.trigger("shift",{reason:"duration"}))},w=function(e){var t=0,n=c.triggerElement;if(o&&(n||p>0)){if(n)if(n.parentNode){for(var i=o.info(),a=r.get.offset(i.container),s=i.vertical?"top":"left";n.parentNode.hasAttribute("data-scrollmagic-pin-spacer");)n=n.parentNode;var u=r.get.offset(n);i.isDocument||(a[s]-=o.scrollPos()),t=u[s]-a[s]}else v(2,"WARNING: triggerElement was removed from DOM and will be reset to",void 0),l.triggerElement(void 0);var h=t!=p;p=t,h&&!e&&l.trigger("shift",{reason:"triggerElementPosition"})}},x=function(e){c.triggerHook>0&&l.trigger("shift",{reason:"containerResize"})},S=r.extend(n.validate,{duration:function(e){if(r.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return o?o.info("size")*t:0}}if(r.type.Function(e)){i=e;try{e=parseFloat(i.call(l))}catch(t){e=-1}}if(e=parseFloat(e),!r.type.Number(e)||e<0)throw i?(i=void 0,['Invalid return value of supplied function for option "duration":',e]):['Invalid value for option "duration":',e];return e}}),k=function(e){(e=arguments.length?[e]:Object.keys(S)).forEach((function(e,t){var n;if(S[e])try{n=S[e](c[e])}catch(t){n=s[e];var i=r.type.String(t)?[t]:t;r.type.Array(i)?(i[0]="ERROR: "+i[0],i.unshift(1),v.apply(this,i)):v(1,"ERROR: Problem executing validation callback for option '"+e+"':",t.message)}finally{c[e]=n}}))},A=function(e,t){var n=!1,r=c[e];return c[e]!=t&&(c[e]=t,k(e),n=r!=c[e]),n},E=function(e){l[e]||(l[e]=function(t){return arguments.length?("duration"===e&&(i=void 0),A(e,t)&&(l.trigger("change",{what:e,newval:c[e]}),n.shifts.indexOf(e)>-1&&l.trigger("shift",{reason:e})),l):c[e]})};this.controller=function(){return o},this.state=function(){return u},this.scrollOffset=function(){return d.start},this.triggerPosition=function(){var e=c.offset;return o&&(c.triggerElement?e+=p:e+=o.info("size")*l.triggerHook()),e},l.on("shift.internal",(function(e){var t="duration"===e.reason;("AFTER"===u&&t||"DURING"===u&&0===c.duration)&&C(),t&&T()})).on("progress.internal",(function(e){C()})).on("add.internal",(function(e){T()})).on("destroy.internal",(function(e){l.removePin(e.reset)}));var C=function(e){if(g&&o){var t=o.info(),n=y.spacer.firstChild;if(e||"DURING"!==u){var i={position:y.inFlow?"relative":"absolute",top:0,left:0},a=r.css(n,"position")!=i.position;y.pushFollowers?c.duration>0&&("AFTER"===u&&0===parseFloat(r.css(y.spacer,"padding-top"))||"BEFORE"===u&&0===parseFloat(r.css(y.spacer,"padding-bottom")))&&(a=!0):i[t.vertical?"top":"left"]=c.duration*h,r.css(n,i),a&&T()}else{"fixed"!=r.css(n,"position")&&(r.css(n,{position:"fixed"}),T());var s=r.get.offset(y.spacer,!0),l=c.reverse||0===c.duration?t.scrollPos-d.start:Math.round(h*c.duration*10)/10;s[t.vertical?"top":"left"]+=l,r.css(y.spacer.firstChild,{top:s.top,left:s.left})}}},T=function(){if(g&&o&&y.inFlow){var e="DURING"===u,t=o.info("vertical"),n=y.spacer.firstChild,i=r.isMarginCollapseType(r.css(y.spacer,"display")),a={};y.relSize.width||y.relSize.autoFullWidth?e?r.css(g,{width:r.get.width(y.spacer)}):r.css(g,{width:"100%"}):(a["min-width"]=r.get.width(t?g:n,!0,!0),a.width=e?a["min-width"]:"auto"),y.relSize.height?e?r.css(g,{height:r.get.height(y.spacer)-(y.pushFollowers?c.duration:0)}):r.css(g,{height:"100%"}):(a["min-height"]=r.get.height(t?n:g,!0,!i),a.height=e?a["min-height"]:"auto"),y.pushFollowers&&(a["padding"+(t?"Top":"Left")]=c.duration*h,a["padding"+(t?"Bottom":"Right")]=c.duration*(1-h)),r.css(y.spacer,a)}},M=function(){o&&g&&"DURING"===u&&!o.info("isDocument")&&C()},D=function(){o&&g&&"DURING"===u&&((y.relSize.width||y.relSize.autoFullWidth)&&r.get.width(window)!=r.get.width(y.spacer.parentNode)||y.relSize.height&&r.get.height(window)!=r.get.height(y.spacer.parentNode))&&T()},L=function(e){o&&g&&"DURING"===u&&!o.info("isDocument")&&(e.preventDefault(),o._setScrollPos(o.info("scrollPos")-((e.wheelDelta||e[o.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,t){var n=t&&t.hasOwnProperty("pushFollowers");if(t=r.extend({},{pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"},t),!(e=r.get.elements(e)[0]))return v(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),l;if("fixed"===r.css(e,"position"))return v(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),l;if(g){if(g===e)return l;l.removePin()}var i=(g=e).parentNode.style.display,o=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];g.parentNode.style.display="none";var a="absolute"!=r.css(g,"position"),s=r.css(g,o.concat(["display"])),u=r.css(g,["width","height"]);g.parentNode.style.display=i,!a&&t.pushFollowers&&(v(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),t.pushFollowers=!1),window.setTimeout((function(){g&&0===c.duration&&n&&t.pushFollowers&&v(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")}),0);var h=g.parentNode.insertBefore(document.createElement("div"),g),d=r.extend(s,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||r.extend(d,r.css(g,["width","height"])),r.css(h,d),h.setAttribute("data-scrollmagic-pin-spacer",""),r.addClass(h,t.spacerClass),y={spacer:h,relSize:{width:"%"===u.width.slice(-1),height:"%"===u.height.slice(-1),autoFullWidth:"auto"===u.width&&a&&r.isMarginCollapseType(s.display)},pushFollowers:t.pushFollowers,inFlow:a},!g.___origStyle){g.___origStyle={};var p=g.style;o.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]).forEach((function(e){g.___origStyle[e]=p[e]||""}))}return y.relSize.width&&r.css(h,{width:u.width}),y.relSize.height&&r.css(h,{height:u.height}),h.appendChild(g),r.css(g,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(y.relSize.width||y.relSize.autoFullWidth)&&r.css(g,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",M),window.addEventListener("resize",M),window.addEventListener("resize",D),g.addEventListener("mousewheel",L),g.addEventListener("DOMMouseScroll",L),v(3,"added pin"),C(),l},this.removePin=function(e){if(g){if("DURING"===u&&C(!0),e||!o){var t=y.spacer.firstChild;if(t.hasAttribute("data-scrollmagic-pin-spacer")){var n=y.spacer.style,i={};["margin","marginLeft","marginRight","marginTop","marginBottom"].forEach((function(e){i[e]=n[e]||""})),r.css(t,i)}y.spacer.parentNode.insertBefore(t,y.spacer),y.spacer.parentNode.removeChild(y.spacer),g.parentNode.hasAttribute("data-scrollmagic-pin-spacer")||(r.css(g,g.___origStyle),delete g.___origStyle)}window.removeEventListener("scroll",M),window.removeEventListener("resize",M),window.removeEventListener("resize",D),g.removeEventListener("mousewheel",L),g.removeEventListener("DOMMouseScroll",L),g=void 0,v(3,"removed pin (reset: "+(e?"true":"false")+")")}return l};var P,R=[];return l.on("destroy.internal",(function(e){l.removeClassToggle(e.reset)})),this.setClassToggle=function(e,t){var n=r.get.elements(e);return 0!==n.length&&r.type.String(t)?(R.length>0&&l.removeClassToggle(),P=t,R=n,l.on("enter.internal_class leave.internal_class",(function(e){var t="enter"===e.type?r.addClass:r.removeClass;R.forEach((function(e,n){t(e,P)}))})),l):(v(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===n.length?"element":"classes")+" supplied."),l)},this.removeClassToggle=function(e){return e&&R.forEach((function(e,t){r.removeClass(e,P)})),l.off("start.internal_class end.internal_class"),P=void 0,R=[],l},function(){for(var e in c)s.hasOwnProperty(e)||(v(2,'WARNING: Unknown option "'+e+'"'),delete c[e]);for(var t in s)E(t);k()}(),l};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!r.type.Number(e))throw['Invalid value for option "offset":',e];return e},triggerElement:function(e){if(e=e||void 0){var t=r.get.elements(e)[0];if(!t||!t.parentNode)throw['Element defined in option "triggerElement" was not found:',e];e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(r.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw['Invalid value for option "triggerHook": ',e];e=t[e]}return e},reverse:function(e){return!!e},loglevel:function(e){if(e=parseInt(e),!r.type.Number(e)||e<0||e>3)throw['Invalid value for option "loglevel":',e];return e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(t,r,i,o){t in n.defaults?e._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+t+"', because it already exists."):(n.defaults[t]=r,n.validate[t]=i,o&&n.shifts.push(t))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=r.extend({},this),t.apply(this,arguments)||this},r.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,r){for(var i in r=r||{})this[i]=r[i];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var r=e._util=function(e){var t,n={},r=function(e){return parseFloat(e)||0},i=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},o=function(t,n,o,a){if((n=n===document?e:n)===e)a=!1;else if(!f.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var s=(o?n["offset"+t]||n["outer"+t]:n["client"+t]||n["inner"+t])||0;if(o&&a){var l=i(n);s+="Height"===t?r(l.marginTop)+r(l.marginBottom):r(l.marginLeft)+r(l.marginRight)}return s},a=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var s=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],u=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-s)),i=e.setTimeout((function(){t(n+r)}),r);return s=n+r,i}),u||(u=function(t){e.clearTimeout(t)}),n.rAF=c.bind(e),n.cAF=u.bind(e);var h=["error","warn","log"],d=e.console||{};for(d.log=d.log||function(){},t=0;t<h.length;t++){var p=h[t];d[p]||(d[p]=d.log)}n.log=function(e){(e>h.length||e<=0)&&(e=h.length);var t=new Date,n=("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+":"+("00"+t.getMilliseconds()).slice(-3),r=h[e-1],i=Array.prototype.splice.call(arguments,1),o=Function.prototype.bind.call(d[r],d);i.unshift(n),o.apply(d,i)};var f=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement||e instanceof SVGElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var m=n.get={};return m.elements=function(t){var n=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(e){return n}if("nodelist"===f(t)||f.Array(t)||t instanceof NodeList)for(var r=0,i=n.length=t.length;r<i;r++){var o=t[r];n[r]=f.DomElement(o)?o:m.elements(o)}else(f.DomElement(t)||t===document||t===e)&&(n=[t]);return n},m.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},m.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},m.width=function(e,t,n){return o("width",e,t,n)},m.height=function(e,t,n){return o("height",e,t,n)},m.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=m.scrollTop(),n.left+=m.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(e,t){if(f.String(t))return i(e)[a(t)];if(f.Array(t)){var n={},r=i(e);return t.forEach((function(e,t){n[e]=r[a(e)]})),n}for(var o in t){var s=t[o];s==parseFloat(s)&&(s+="px"),e.style[a(o)]=s}},n}(window||{});return e.Scene.prototype.addIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.removeIndicators=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},e.Scene.prototype.setTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.removeTween=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},e.Scene.prototype.setVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e.Scene.prototype.removeVelocity=function(){return e._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},e})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(600),n(109);var i=l(n(147)),o=n(27),a=l(n(46)),s=n(7);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.transitionMarker=this.container.querySelector(".rrmc-image-switch-transition-marker"),this.originalImage=this.container.querySelector(".js-rrmc-image-switch-original-img"),this.originalImage&&(this.originalImage_img=this.container.querySelector(".rrmc-image-switch-original-img")),this.swapImage=this.container.querySelector(".js-rrmc-image-switch-swap-img"),this.swapImage&&(this.swapImage_img=this.container.querySelector(".rrmc-image-switch-swap-img")),this.aspect_ratio=this.container.querySelector(".js-rrmc-image-switch-aspect"),this.transitionMarker=this.container.querySelector(".rrmc-image-switch-transition-marker"),this.swapImage&&(this.transitionTimeline=(new s.TimelineLite).addLabel("start").fromTo(this.swapImage,1,{opacity:0},{opacity:1},"start").fromTo(this.originalImage,1,{opacity:1},{opacity:0},"start+=1")),this.load_images=function(e){(0,o.pictureLazyLoaderPlain)(n.originalImage,(function(){n.swapImage?(0,o.pictureLazyLoaderPlain)(n.swapImage,(function(){"objectFit"in document.documentElement.style==!1&&(0,a.default)(n.swapImage_img),e()})):e()}))},this.set_aspect_ratio=function(){new Promise((function(e){n.load_images(e)})).then((function(){(n.on_resize(),n.swapImage)&&new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0||e.boundingClientRect.top<0?n.transitionTimeline.play():0===e.intersectionRatio&&e.boundingClientRect.top>0&&n.transitionTimeline.reverse()}))})).observe(n.transitionMarker)}))},this.load_asset=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||n.is_edit_mode||window.pageYOffset+window.innerHeight+300>n.container_top)&&(window.removeEventListenerRR("scroll",n.load_asset),n.set_aspect_ratio())},this.on_resize=function(){n.set_container_aspect_ratio_image()}}return r(e,[{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_top=e.top+window.pageYOffset}},{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.get_container_top(),window.addEventListenerRR("resize",this.on_resize),window.addEventListenerRR("scroll",this.load_asset),this.load_asset(!!e.overlayName)}},{key:"destroy",value:function(){window.removeEventListenerRR("resize",this.on_resize),window.removeEventListenerRR("scroll",this.load_asset),this.swapImage&&s.TweenLite.set([this.swapImage,this.originalImage],{clearProps:"all"})}},{key:"set_container_padding_bottom",value:function(e){this.aspect_ratio.style.paddingBottom=100*e+"%"}},{key:"set_container_aspect_ratio_image",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};(0,i.default)((function(){var t=e.originalImage_img,n=t.naturalWidth,r=t.naturalHeight;return n>10&&r>10}),(function(){var n=e.originalImage_img,r=n.naturalWidth,i=n.naturalHeight;e.image_aspect_ratio=i/r,e.set_container_padding_bottom(e.image_aspect_ratio),t()}),this)}}]),e}();t.default=c,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-image-switch-container");[].slice.call(e).forEach((function(e){var t=new c(e);e.data={imageSwitchInstance:t},t.load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(602);var i=n(603),o=n(18);var a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elms_links=[].slice.call(this.container.querySelectorAll(".js-rrmc-language-selector-cta")),this.on_click=function(e){e.preventDefault();var t=e.currentTarget,r=t.getAttribute("data-locale");if(n.highlight_selected(t),r){var o=new i.LanguagePreference;o.set_language((0,i.localeToLanguage)(r)),i.languageService.select_language(o)}var a="language: "+t.textContent.trim().toLowerCase();n.track_click((function(){window.location.href=t.getAttribute("href")}),a)}}return r(e,[{key:"highlight_selected",value:function(e){this.elms_links.forEach(this.remove_selected_class),this.add_selected_class(e)}},{key:"remove_selected_class",value:function(e){e.classList.remove("is-current")}},{key:"add_selected_class",value:function(e){e.classList.add("is-current")}},{key:"track_click",value:function(e,t){(0,o.fireCustomEvent)({event:"languageConfirm",eventCategory:"languageOverlay",eventAction:"languageSelect",eventLabel:t,eventCallback:e,eventTimeout:2e3})}},{key:"dispose_listener",value:function(e){e.removeEventListenerRR("click",this.on_click)}},{key:"has_locale",value:function(e){return!!e.getAttribute("data-locale")}},{key:"init_listener",value:function(e){this.has_locale(e)&&e.addEventListenerRR("click",this.on_click)}},{key:"load",value:function(){var e=this;this.elms_links.forEach((function(t){return e.init_listener(t)}))}},{key:"destroy",value:function(){var e=this;this.elms_links.forEach((function(t){return e.dispose_listener(t)}))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(620);var i=b(n(14)),o=n(62),a=b(n(423)),s=b(n(469)),l=b(n(462)),c=b(n(76)),u=b(n(476)),h=b(n(473)),d=b(n(477)),p=b(n(444)),f=b(n(463)),m=b(n(454)),v=b(n(623)),g=b(n(474)),y=b(n(467)),_=n(18);function b(e){return e&&e.__esModule?e:{default:e}}var w=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.backCta=this.sandbox.querySelector('[data-overlay-action="'+o.overlayBack+'"]'),this.closeCta=this.sandbox.querySelector('[data-overlay-action="'+o.overlayClose+'"]'),this.components_lazy_load=this.sandbox.querySelectorAll(".js-rrmc-lazy-load"),this.elm_container_components=this.sandbox.querySelector(".js-overlay"),this.flag_self_managed_height=this.elm_container_components.hasAttribute("data-self-managed-height"),this.closeOverlay=function(){(0,_.fireTronActivityClickEvent)(),i.default.sub_overlay_manager_bus.next({action:o.overlayClose,data:{}}),n.on_close_after()},this.backOverlay=function(){(0,_.fireTronActivityClickEvent)(),i.default.sub_overlay_manager_bus.next({action:o.overlayBack,data:{}}),n.on_back_after()}}return r(e,[{key:"setHeight",value:function(){this.flag_self_managed_height||this.elm_container_components.getBoundingClientRect().height>window.innerHeight-100?this.elm_container_components.style.justifyContent="flex-start":this.elm_container_components.classList.add("is-full-height")}},{key:"destroy",value:function(){this.closeCta.removeEventListenerRR("click",this.closeOverlay),this.backCta.removeEventListenerRR("click",this.backOverlay),this.init_components.forEach((function(e){return e.destroy()})),this.comp_closeCta.destroy(),this.comp_backCta.destroy()}},{key:"load",value:function(e,t){this.on_close_after=e.on_close_after||function(){},this.on_back_after=e.on_back_after||function(){},this.elm_container_components.classList.remove("is-full-height"),this.closeCta.addEventListenerRR("click",this.closeOverlay),this.backCta.addEventListenerRR("click",this.backOverlay);var n={"form-lazy-load":s.default,"brochure-list-lazy-load":l.default,"classic-carousel-lazy-load":a.default,"rich-text-lazy-load":u.default,"image-switch-lazy-load":h.default,"cta-lazy-load":c.default,"video-player-lazy-load":d.default,"accordion-lazy-load":p.default,"dealer-locator-lazy-load":f.default,"accessory-handler-lazy-load":m.default,"luggage-configurator-lazy-load":v.default,"language-selector-lazy-load":g.default,"enquire-lazy-load":y.default};this.init_components=[].slice.call(this.components_lazy_load).map((function(e){return new n[e.dataset.lazyLoadClass](e)})),this.init_components.forEach((function(n){return n.load(e,t)})),this.comp_closeCta=new c.default(this.closeCta),this.comp_closeCta.load(),this.comp_backCta=new c.default(this.backCta),this.comp_backCta.load(),this.setHeight()}}]),e}();t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7);n(621);var o,a=n(14),s=(o=a)&&o.__esModule?o:{default:o},l=n(205),c=n(110);var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.is_edit_mode=this.container.hasAttribute("data-is-edit-mode"),this.elm_rich_text=this.container.querySelector(".rrmc-rich-text-wrapper"),this.elm_rich_text_subheading=this.container.querySelector(".rrmc-rich-text-subheading"),this.elm_rich_text_subheading&&(0,l.applyInjectionToElement)(this.elm_rich_text_subheading,c.svgElements),this.elm_cta_detached=this.container.querySelector(".js-rrmc-rich-text-cta-container-detached"),this.on_scroll=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||n.is_edit_mode||window.pageYOffset+window.innerHeight>n.container_top)&&(document.removeEventListenerRR("scroll",n.on_scroll),setTimeout((function(){n.reveal()}),500))}}return r(e,[{key:"reveal",value:function(){var e=(new i.TimelineLite).addLabel("start");this.elm_rich_text&&e.fromTo(this.elm_rich_text,1.25,{opacity:0,y:"100px"},{opacity:1,y:"0px",ease:i.Power2.easeOut},"start"),this.elm_cta_detached&&e.fromTo(this.elm_cta_detached,1.25,{opacity:0,y:"100px"},{opacity:1,y:"0px",ease:i.Power2.easeOut},"start")}},{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_top=e.top+window.pageYOffset}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.get_container_top(),document.addEventListenerRR("scroll",this.on_scroll),this.event_subscription=s.default.sub_loaded_component.subscribe({next:function(){return e.get_container_top()}}),this.on_scroll(!!t.overlayName)}},{key:"destroy",value:function(){this.elm_rich_text&&i.TweenLite.set(this.elm_rich_text,{clearProps:"all"}),this.elm_cta_detached&&i.TweenLite.set(this.elm_cta_detached,{clearProps:"all"}),this.event_subscription.unsubscribe(),document.removeEventListenerRR("scroll",this.on_scroll)}}]),e}();t.default=u,document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-rich-text");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(622);var i=u(n(147)),o=n(7),a=u(n(14)),s=u(n(442)),l=u(n(203)),c=n(18);function u(e){return e&&e.__esModule?e:{default:e}}var h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.flag_video=this.container.hasAttribute("data-asset-video-on"),this.is_edit_mode=this.container.hasAttribute("data-is-edit-mode"),this.elm_video=this.container.querySelector(".rrmc-video-player-video"),this.elm_aspect=this.container.querySelector(".rrmc-video-player-aspect"),this.elm_wrapper=this.container.querySelector(".rrmc-video-player-wrapper"),this.elm_snippet=this.container.querySelector(".rrmc-video-player-snippet"),this.elm_snippet_wrapper=this.container.querySelector(".rrmc-video-player-snippet-wrapper"),this.full_video_hover=null,this.is_fullscreen=!1,this.loop_count=0,this.video_progress=0,this.elm_video_play_icon=this.container.querySelector(".rrmc-video-play-button"),this.icon_animator=new s.default({c:this.elm_video_play_icon,c_border:this.elm_video_play_icon.querySelector(".rrmc-cursor-border"),c_icon:this.elm_video_play_icon.querySelector(".rrmc-cursor-icon")},{change_document:!1}),this.flag_autoplay=this.container.hasAttribute("data-autoplay"),this.flag_loop_off=this.container.getAttribute("data-loop-off"),this.flag_controls=this.container.hasAttribute("data-controls"),this.flag_autoplay||(this.flag_controls=!0),this.set_aspect_ratio=function(){return new Promise((function(e){n.set_aspect_ratio_video(e)})).then((function(){return n.on_resize()}))},this.set_aspect_ratio_video=function(e){n.flag_autoplay?(n.player=videojs.getPlayer(n.elm_video),n.player.reloadSourceOnError({errorInterval:5}),0!=n.player.videoWidth()?e():(0,i.default)((function(){return 0!=n.player.videoWidth()}),(function(){e()}),n)):(n.player=n.elm_snippet,0!=n.player.videoWidth?e():(0,i.default)((function(){return 0!=n.player.videoWidth}),(function(){e()}),n))},this.on_start_and_stop_video_on_scroll_after_loaded=function(){n.scroll_pos=window.pageYOffset,n.window_height=window.innerHeight,n.user_focus=n.scroll_pos+n.window_height/2;var e=n.container_top+n.container_height/2,t=e-n.window_height/1.25,r=e+n.window_height/1.25;n.user_focus>t&&n.user_focus<r?n.toggle_video_play_pause(!0):n.toggle_video_play_pause(!1)},this.toggle_video_play_pause=function(e){n.is_video_playing!==e&&(n.is_video_playing=e,n.triggered_by_scroll=!0,e?n.real_player.play():n.real_player.pause())},this.load_asset=function(e){(e||n.force_load||n.is_edit_mode||window.pageYOffset+window.innerHeight>n.container_top)&&(window.removeEventListenerRR("scroll",n.load_asset),n.sub_height=a.default.sub_height_resize.subscribe({next:n.on_resize}),n.set_aspect_ratio().then((function(){n.flag_autoplay?(n.first_play_transition=!1,n.full_video_hover="pause",n.on_click_snippet(),window.addEventListenerRR("scroll",n.on_start_and_stop_video_on_scroll_after_loaded)):n.player&&(n.player.currentTime=0)})))},this.on_resize=function(){return n.get_container_top(),n.set_container_aspect_ratio()},this.on_mouseover=function(){(0,l.default)()||n.flag_loop_off&&n.flag_autoplay||(a.default.sub_cursor.next(["scale","enter","play"]),n.player.play(),n.icon_animator.animate(["scale_strong","leave"]))},this.on_mouseleave=function(){(0,l.default)()||n.flag_loop_off&&n.flag_autoplay||(a.default.sub_cursor.next(["scale","leave"]),n.player.pause(),n.icon_animator.animate(["scale","enter","play"]))},this.on_click_no_controls=function(){n.real_player.paused()?n.real_player.play():n.real_player.pause()},this.on_click_snippet=function(){n.elm_snippet_wrapper.removeEventListenerRR("click",n.on_click_snippet),!n.flag_autoplay&&n.flag_controls&&(n.elm_aspect.removeEventListenerRR("mouseover",n.on_mouseover),n.elm_aspect.removeEventListenerRR("mouseleave",n.on_mouseleave)),(new o.TimelineLite).to(n.elm_snippet_wrapper,.5,{opacity:0}).set(n.elm_snippet_wrapper,{display:"none"}).add((function(){n.elm_snippet.pause()})),n.real_player=videojs.getPlayer(n.elm_video);var e=n.real_player.getChild("errorDisplay");e.off(n.real_player,"error",e.open),e.dispose(),"false"===n.flag_loop_off?n.real_player.play():"true"===n.flag_loop_off&&n.loop_count>0&&n.real_player.pause(),n.loop_count=n.loop_count++,n.real_player.reloadSourceOnError({errorInterval:5}),n.real_player.on("limitexceeded",(function(){a.default.sub_cursor.next(["scale","leave"])})),n.elm_full_video_player=n.elm_aspect.querySelector("video.vjs-tech"),n.elm_full_video_controls=n.elm_aspect.querySelector(".vjs-control-bar"),n.flag_controls&&(n.elm_full_video_player.addEventListenerRR("mouseover",n.on_full_mouseover),n.elm_full_video_player.addEventListenerRR("mouseleave",n.on_full_mouseleave),n.elm_full_video_controls.addEventListenerRR("mouseover",n.on_controls_mouseover),n.elm_full_video_controls.addEventListenerRR("mouseleave",n.on_controls_mouseleave)),n.real_player.on("useractive",(function(){n.is_fullscreen&&n.on_full_mouseover()})),n.real_player.on("userinactive",(function(){n.is_fullscreen&&(a.default.sub_cursor.next(["scale","leave"]),n.on_full_mouseleave())})),n.real_player.on("ended",(function(){c.tronVideoEvents.videoEnded((0,c.getBrightcoveProps)(n.real_player)),window.Evergage&&window.Evergage.sendEvent({action:"Video - Complete"}),n.video_progress=100,n.destroy(),n.load()})),n.real_player.on("fullscreenchange",(function(){n.real_player.isFullscreen()?(n.is_fullscreen=!0,a.default.sub_cursor.next({action:"fullscreen_enter",elm:n.elm_video})):(n.is_fullscreen=!1,a.default.sub_cursor.next({action:"fullscreen_leave",elm:n.elm_video}))})),n.real_player.on("play",(function(){n.triggered_by_scroll?n.triggered_by_scroll=!1:(c.tronVideoEvents.videoStarted((0,c.getBrightcoveProps)(n.real_player)),window.Evergage&&window.Evergage.sendEvent({action:"Video - Start"}),n.video_progress=0,n.over_controls?n.full_video_hover="pause":"pause"!==n.full_video_hover&&(a.default.sub_cursor.next(["scale","enter","pause"]),n.full_video_hover="pause"))})),n.real_player.on("timeupdate",(function(){(0,c.tronVideoTimeProgressEvent)(n,n.real_player);var e=n.real_player.currentTime()/n.real_player.duration();e>=.8&&n.video_progress<80?(window.Evergage&&window.Evergage.sendEvent({action:"Video - 80%"}),n.video_progress=80):e>=.6&&n.video_progress<60?(window.Evergage&&window.Evergage.sendEvent({action:"Video - 60%"}),n.video_progress=60):e>=.4&&n.video_progress<40?(window.Evergage&&window.Evergage.sendEvent({action:"Video - 40%"}),n.video_progress=40):e>=.2&&n.video_progress<20&&(window.Evergage&&window.Evergage.sendEvent({action:"Video - 20%"}),n.video_progress=20)})),n.real_player.on("pause",(function(){if(n.triggered_by_scroll)n.triggered_by_scroll=!1;else if(c.tronVideoEvents.videoStopped((0,c.getBrightcoveProps)(n.real_player)),n.over_controls)n.full_video_hover="play";else if("play"!==n.full_video_hover){if(n.flag_loop_off&&n.flag_autoplay)return;a.default.sub_cursor.next(["scale","enter","play"]),n.full_video_hover="play"}}))},this.first_play_transition=!0,this.over_controls=!1,this.on_full_mouseover=function(){n.first_play_transition?n.first_play_transition=!1:a.default.sub_cursor.next(["scale","enter",n.full_video_hover])},this.on_full_mouseleave=function(){a.default.sub_cursor.next(["scale","leave"])},this.on_controls_mouseover=function(){n.over_controls=!0},this.on_controls_mouseleave=function(){n.over_controls=!1}}return r(e,[{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset}},{key:"set_container_aspect_ratio_video",value:function(e){if(this.player){var t=this.flag_autoplay?this.player.videoWidth():this.player.videoWidth,n=(this.flag_autoplay?this.player.videoHeight():this.player.videoHeight)/t;this.set_container_padding_top(n);var r=this.elm_wrapper.getBoundingClientRect();this.container_width=r.width,this.container_height=r.height;var i=this.container_width*n;this.container_height>i?(this.elm_video.style.height=this.container_height+"px",this.elm_video.style.width=this.container_height/n+"px",this.elm_snippet.style.height=this.container_height+"px",this.elm_snippet.style.width=this.container_height/n+"px"):(this.elm_video.style.height=this.container_width*n+"px",this.elm_video.style.width=this.container_width+"px",this.elm_snippet.style.height=this.container_width*n+"px",this.elm_snippet.style.width=this.container_width+"px"),e()}else e()}},{key:"set_container_padding_top",value:function(e){this.elm_aspect.style.paddingTop=100*e+"%"}},{key:"set_container_aspect_ratio",value:function(){var e=this;return new Promise((function(t){e.set_container_aspect_ratio_video(t)}))}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.get_container_top(),window.addEventListenerRR("resize",this.on_resize),window.addEventListenerRR("scroll",this.load_asset),!this.flag_autoplay&&this.flag_controls&&(this.elm_aspect.addEventListenerRR("mouseover",this.on_mouseover),this.elm_aspect.addEventListenerRR("mouseleave",this.on_mouseleave)),this.elm_snippet_wrapper.addEventListenerRR("click",this.on_click_snippet),this.load_asset(!!t.overlayName),(0,c.tronVideoTimeProgressReset)(this),this.subscription_broadcast=a.default.sub_broadcast.subscribe({next:function(t){"load"===t.action&&(e.force_load=!0,e.load_asset(),setTimeout((function(){e.subscription_broadcast.unsubscribe()})))}}),this.unsub_touch_update=a.default.sub_touch_update.subscribe({next:function(t){t&&!e.flag_autoplay&&(e.container.classList.add("rrmc-video-touch-interface"),e.elm_aspect.removeEventListenerRR("mouseover",e.on_mouseover),e.elm_aspect.removeEventListenerRR("mouseleave",e.on_mouseleave))}})}},{key:"destroy",value:function(){this.sub_height&&this.sub_height.unsubscribe(),this.real_player&&(this.real_player.pause(),this.real_player.currentTime(0)),this.icon_animator.animate(["scale","enter","play"]),window.removeEventListenerRR("resize",this.on_resize),window.removeEventListenerRR("scroll",this.load_asset),this.elm_aspect.removeEventListenerRR("mouseover",this.on_mouseover),this.elm_aspect.removeEventListenerRR("mouseleave",this.on_mouseleave),this.elm_snippet_wrapper.removeEventListenerRR("click",this.on_click_snippet),window.removeEventListenerRR("scroll",this.on_start_and_stop_video_on_scroll_after_loaded),this.elm_full_video_player&&(this.elm_full_video_player.removeEventListenerRR("mouseover",this.on_full_mouseover),this.elm_full_video_player.removeEventListenerRR("mouseleave",this.on_full_mouseleave)),this.elm_full_video_controls&&(this.elm_full_video_controls.removeEventListenerRR("mouseover",this.on_controls_mouseover),this.elm_full_video_controls.removeEventListenerRR("mouseleave",this.on_controls_mouseleave)),this.unsub_touch_update.unsubscribe(),this.subscription_broadcast.unsubscribe(),o.TweenLite.set([this.elm_snippet_wrapper],{clearProps:"all"})}}]),e}();t.default=h,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-video-player");[].slice.call(e).forEach((function(e){new h(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";function r(e,t){return{x:e.x-t.x,y:e.y-t.y}}function i(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function o(e,t){return 0===t?e:{x:e.x/t,y:e.y/t}}Object.defineProperty(t,"__esModule",{value:!0}),t.vec=function(e,t){return{x:e,y:t}},t.vec_copy=function(e){return{x:e.x,y:e.y}},t.add_vectors=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},t.subtract_vectors=r,t.average_between_vectors=function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},t.distance_between=i,t.magnitude=function(e){return i(e,{x:0,y:0})},t.divide_by=o,t.multiply_by=function(e,t){return{x:e.x*t,y:e.y*t}},t.square=function(e){return{x:e.x*e.x,y:e.y*e.y}},t.direction_from_to=function(e,t){var n=i(e,t);return o(r(e,t),n)}},function(e,t,n){"use strict";(function(e){var r=n(228),i=n(229),o=n(230),a=setTimeout;function s(e){return Boolean(e&&void 0!==e.length)}function l(){}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void d(t.promise,e)}h(t.promise,r)}else(1===e._state?h:d)(t.promise,e._value)}))):e._deferreds.push(t)}function h(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void m((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,p(e)}catch(t){d(e,t)}var r,i}function d(e,t){e._state=2,e._value=t,p(e)}function p(e){2===e._state&&0===e._deferreds.length&&c._immediateFn((function(){e._handled||c._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function f(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1;try{e((function(e){n||(n=!0,h(t,e))}),(function(e){n||(n=!0,d(t,e))}))}catch(e){if(n)return;n=!0,d(t,e)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(l);return u(this,new f(e,t,n)),n},c.prototype.finally=r.a,c.all=function(e){return new c((function(t,n){if(!s(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},c.any=o.a,c.allSettled=i.a,c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c((function(t){t(e)}))},c.reject=function(e){return new c((function(t,n){n(e)}))},c.race=function(e){return new c((function(t,n){if(!s(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)c.resolve(e[r]).then(t,n)}))},c._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){a(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=c}).call(this,n(627).setImmediate)},function(e,t,n){"use strict";n(231);var r,i={};(r=n(482)).keys().forEach((function(e){return i[e]=r(e),i}))},function(e,t,n){var r={"./components/3d-model-text/webpack.module/index.js":711,"./components/accessories-grid/webpack.module/index.js":483,"./components/accessory/webpack.module/index.js":454,"./components/accordion/webpack.module/index.js":444,"./components/article-tiles-container/webpack.module/index.js":518,"./components/audio-hotspots/webpack.module/index.js":522,"./components/audio-podcast/webpack.module/index.js":524,"./components/block-quote/webpack.module/index.js":526,"./components/brochure-list/webpack.module/index.js":462,"./components/classic-carousel/webpack.module/index.js":423,"./components/collections-grid/webpack.module/index.js":529,"./components/collections-hero/webpack.module/index.js":532,"./components/color-picker/webpack.module/index.js":534,"./components/continue-tout/webpack.module/index.js":538,"./components/cookie-banner/webpack.module/index.js":540,"./components/countdown-timer/webpack.module/index.js":543,"./components/cta-aligner/webpack.module/index.js":545,"./components/cta/webpack.module/index.js":76,"./components/dealer-locator/webpack.module/index.js":463,"./components/divider/webpack.module/index.js":554,"./components/download-link/webpack.module/index.js":556,"./components/emissions-tout/webpack.module/index.js":558,"./components/enquire-block/webpack.module/index.js":467,"./components/expanding-image-fade/webpack.module/index.js":561,"./components/expanding-image-mask/webpack.module/index.js":563,"./components/extended-warranty/webpack.module/index.js":565,"./components/find-us/webpack.module/index.js":567,"./components/footer/webpack.module/index.js":570,"./components/form/webpack.module/index.js":469,"./components/hero-image/webpack.module/index.js":582,"./components/hero-parallax/webpack.module/index.js":584,"./components/hero-video-mask/webpack.module/index.js":586,"./components/hero-video/webpack.module/index.js":588,"./components/homepage-carousel/webpack.module/index.js":590,"./components/image-hover-reveal-max/webpack.module/index.js":593,"./components/image-hover-reveal/webpack.module/index.js":595,"./components/image-scratch-reveal/webpack.module/index.js":597,"./components/image-switch/webpack.module/index.js":473,"./components/kryptos-quiz/webpack.module/index.js":601,"./components/language-selector/webpack.module/index.js":474,"./components/link-banner/webpack.module/index.js":604,"./components/long-copy/webpack.module/index.js":606,"./components/meet-the-team/webpack.module/index.js":608,"./components/multi-image-carousel/webpack.module/index.js":612,"./components/my-list/webpack.module/index.js":614,"./components/no-locale-banner/webpack.module/index.js":616,"./components/off-grid-carousel/webpack.module/index.js":618,"./components/overlay/webpack.module/index.js":475,"./components/page/webpack.module/index.js":625,"./components/parallax-image-text/webpack.module/index.js":639,"./components/parallax-images-block/webpack.module/index.js":641,"./components/parallax-interactive/webpack.module/index.js":647,"./components/password-protected-area/webpack.module/index.js":649,"./components/pdf-dropdown/webpack.module/index.js":651,"./components/podcast-trailer/webpack.module/index.js":653,"./components/primary-navigation/webpack.module/index.js":655,"./components/provenance/webpack.module/index.js":657,"./components/rich-text/webpack.module/index.js":476,"./components/rr25-overlay-switch/webpack.module/index.js":661,"./components/rr25/webpack.module/index.js":663,"./components/scroll-animation/webpack.module/index.js":672,"./components/scroll-video-animation/webpack.module/index.js":677,"./components/secondary-navigation/webpack.module/index.js":680,"./components/section-adaptive/webpack.module/index.js":684,"./components/section-sticky-video/webpack.module/index.js":686,"./components/section/webpack.module/index.js":689,"./components/spacer/webpack.module/index.js":691,"./components/styleguide/webpack.module/index.js":692,"./components/table/webpack.module/index.js":694,"./components/tempus-360/webpack.module/index.js":696,"./components/tertiary-navigation/webpack.module/index.js":698,"./components/toggle/webpack.module/index.js":455,"./components/tout/webpack.module/index.js":700,"./components/vehicle-recall/webpack.module/index.js":702,"./components/vertical-scrolling-image-text/webpack.module/index.js":704,"./components/video-player/webpack.module/index.js":477};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=482},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(45);n(449),n(484),n(109);var a=n(450),s=g(n(489)),l=g(n(490)),c=g(n(14)),u=g(n(209)),h=g(n(76)),d=n(7),p=n(116),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),m=g(n(117)),v=n(64);function g(e){return e&&e.__esModule?e:{default:e}}var y,_=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.const_all_models="All models",this.const_all_categories="All",this.sandbox=t,this.grid=this.sandbox.querySelector(".js-rrmc-all-accessories-grid"),this.grid_shade=this.sandbox.querySelector(".rrmc-all-accessories-grid-shade"),this.elm_section_filters=this.sandbox.querySelector(".rrmc-all-accessories-models-filter-wrapper"),this.is_filters_open=!1,this.rows=this.sandbox.querySelectorAll(".rrmc-all-accessories-row-container"),this.inactive=this.sandbox.querySelector(".rrmc-all-accessories-grid-inactive"),this.active=this.sandbox.querySelector(".rrmc-all-accessories-grid-active"),this.link_banner=this.sandbox.querySelector(".js-rrmc-accessory-link-banner"),this.elm_divider_i=this.sandbox.querySelector(".rrmc-all-accessories-first"),this.elm_divider_ii=this.sandbox.querySelector(".rrmc-all-accessories-second"),this.row_template=this.sandbox.querySelector(".rrmc-row-template"),this.categories=this.sandbox.querySelectorAll(".js-rrmc-toggle-category-lazy"),this.subcategories=this.sandbox.querySelectorAll(".js-rrmc-toggle-sub-category-lazy"),this.models=this.sandbox.querySelectorAll(".js-rrmc-toggle-model-lazy"),this.cta_filters=this.sandbox.querySelector(".js-rrmc-filter-cta-lazy"),this.elm_filters_container=this.sandbox.querySelector(".rrmc-all-accessories-filters"),this.elm_reset_filters=this.elm_filters_container.querySelector(".js-rrmc-filter-reset-filters-lazy"),this.elm_apply_filters=this.elm_filters_container.querySelector(".js-rrmc-filter-apply-filters-lazy"),this.summary_elm_model=this.sandbox.querySelector(".rrmc-all-accessories-filters-summary--model"),this.summary_elm_categories=this.sandbox.querySelector(".rrmc-all-accessories-filters-summary--categories"),this.summary_elm_results=this.sandbox.querySelector(".rrmc-all-accessories-filters-summary--results"),this.summary_elm_categories_value=this.summary_elm_categories.querySelector(".rrmc-categories--value"),this.summary_elm_results_value=this.summary_elm_results.querySelector(".rrmc-categories--value"),this.disable_category_filters=this.sandbox.hasAttribute("data-disable-category-filters"),this.enable_ssubcategory_filters=this.sandbox.hasAttribute("data-enable-subcategory-filters"),this.disable_model_filters=this.sandbox.hasAttribute("data-disable-model-filters"),this.link_banner_position=parseInt(this.sandbox.getAttribute("data-link-banner-position"))||0,this.preselected_category=this.sandbox.getAttribute("data-preselected-category"),this.preselected_model=this.sandbox.getAttribute("data-preselected-model"),this.reflowTablet=!1,this.reflowDesktop=!1,this.parent_el=this.sandbox.parentElement,this.unsubScroll=function(){document.removeEventListenerRR("scroll",n.scrollListenerCardReveal)},this.scrollListenerCardReveal=function(){(0,a.revealCards)(n.grid,n.unsubScroll)},this.on_scroll=function(){n.move_return_to_top_cta(),n.move_status_bar_mobile()},this.on_resize=function(){var e=window.innerWidth,t=(0,o.is_tablet_portrait_down)();d.TweenLite.set(n.elm_section_filters,{clearProps:"height"}),n.height_section_filters=n.elm_section_filters.getBoundingClientRect().height,n.is_filters_open?t!==n.prev_is_tablet&&(!0===t?(0,p.disableBodyScroll)(n.elm_overlay_filters):(0,p.clearAllBodyScrollLocks)()):d.TweenLite.set(n.elm_section_filters,{height:0}),e!==n.prev_window_width&&(n.applyCategoryFilters(),n.enable_ssubcategory_filters&&n.applySubCategoryFilters()),n.prev_is_tablet=t,n.prev_window_width=e},this.on_changed_height=function(){n.footer_height=n.var_footer_height.value(),n.last_section_pos=document.body.getBoundingClientRect().height},this.on_reset_filters=function(){n.on_reset_filters_deferred&&n.on_reset_filters_deferred()},this.on_apply_filters=function(){n.hide_filters_desktop(),n.hide_filter_overlay_mobile(!0),n.applyCategoryFilters(),n.applySubCategoryFilters(),n.send_analytics();var e=!0,t=!1,r=void 0;try{for(var i,o=Object.keys(n.filters_model)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;n.filters_model[a]&&n.mem_filters_model&&!n.mem_filters_model[a]&&f.tronSearchFilterEvents.filterSelected({search:[{searchLabel:"model",searchTerm:a}]})}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}},this.on_filters=function(){n.is_filters_open?(n.hide_filters_desktop(),n.hide_filter_overlay_mobile(!1),n.recall_filters(),n.send_analytics()):(n.reveal_filters_desktop(),n.reveal_filter_overlay_mobile(!1),n.remember_filters())},this.generateTemplate=function(){n.grid.innerHTML="",n.cards=n.active.querySelectorAll(".js-rrmc-accessory-tile"),n.cards=[].slice.call(n.cards).sort((function(e,t){var n=parseInt(e.getAttribute("data-sort-order")),r=parseInt(t.getAttribute("data-sort-order"));return n<r?-1:n>r?1:0}));var e=document.createDocumentFragment(),t=n.row_template.cloneNode(!1),r=n.row_template.cloneNode(!1),i=n.link_banner,a=n.link_banner_position,s=[].slice.call(n.cards),l=s.length,c=null,u=t.cloneNode(!1);if((0,o.is_tablet_portrait_down)()){if(!0===n.reflowTablet)return;n.reflowTablet=!0,n.reflowDesktop=!1;var h=(s=[].slice.call(n.cards)).splice(0,2),d=!0,p=!1,f=void 0;try{for(var m,v=h[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var g=m.value;u.appendChild(g)}}catch(e){p=!0,f=e}finally{try{!d&&v.return&&v.return()}finally{if(p)throw f}}c=2,l=s.length}else{if(!0===n.reflowDesktop)return;n.reflowDesktop=!0,n.reflowTablet=!1;var y=(s=[].slice.call(n.cards)).splice(0,3),_=!0,b=!1,w=void 0;try{for(var x,S=y[Symbol.iterator]();!(_=(x=S.next()).done);_=!0){var k=x.value;u.appendChild(k)}}catch(e){b=!0,w=e}finally{try{!_&&S.return&&S.return()}finally{if(b)throw w}}c=3,l=s.length}for(var A=0;A<l;++A)A===a&&(r.appendChild(i.cloneNode(!0)),e.appendChild(r)),A%c==0&&(e.appendChild(u),u=t.cloneNode(!1)),u.appendChild(s[A]);e.appendChild(u),n.grid.appendChild(e)},this.on_accessory_click=function(e){if(e.target.getAttribute("href")){e.preventDefault();var t=e.target.getAttribute("href"),r={productList:encodeURIComponent("All Accessories"),models:n.filter_query_params.models,categories:n.filter_query_params.categories,subcategories:n.filter_query_params.subcategories};t+="?"+m.default.stringify(r),window.location=t}}}return i(e,[{key:"reveal_filters_desktop",value:function(){(new d.TimelineLite).addLabel("start").to(this.elm_section_filters,.4,{height:this.height_section_filters},"start").to(this.elm_divider_i,.4,{y:25},"start").to(this.elm_section_filters,.4,{opacity:1}).to(this.elm_divider_ii,.4,{opacity:1},"start"),this.is_filters_open=!0,this.instance_cta_filters.tilt_icon_in(),this.dim_tiles()}},{key:"hide_filters_desktop",value:function(){(new d.TimelineLite).addLabel("start").to(this.elm_divider_ii,.4,{opacity:0},"start").to(this.elm_section_filters,.4,{opacity:0},"start").to(this.elm_divider_i,.4,{y:0},"start").to(this.elm_section_filters,.4,{height:0},"start"),this.is_filters_open=!1,this.instance_cta_filters.tilt_icon_out(),this.undim_tiles()}},{key:"dim_tiles",value:function(){(new d.TimelineLite).set(this.grid_shade,{display:"block"}).to(this.grid_shade,.4,{opacity:.7})}},{key:"undim_tiles",value:function(){(new d.TimelineLite).to(this.grid_shade,.4,{opacity:0}).set(this.grid_shade,{display:"none"})}},{key:"send_analytics",value:function(){f.fireCustomEvent({event:"accessoryFilters",eventCategory:"Accessory Filters",eventAction:"Update Filters",eventLabel:this.analytics_filters.join("|")})}},{key:"set_footer_offset",value:function(){this.footer_height=this.var_footer_height.value()}},{key:"load",value:function(){(0,u.default)(this,"var_footer_height",c.default.sub_footer_height,this.set_footer_offset),this.filters_mobile_init(),this.status_bar_mobile_init(),this.return_to_top_init(),document.addEventListenerRR("scroll",this.scrollListenerCardReveal),document.addEventListenerRR("scroll",this.on_scroll),this.grid_shade.addEventListenerRR("click",this.on_filters),this.instance_cta_filters=new h.default(this.cta_filters),this.instance_cta_filters.load(),this.instance_cta_reset_filters=new h.default(this.elm_reset_filters),this.instance_cta_reset_filters.load(),this.instance_cta_apply_filters=new h.default(this.elm_apply_filters),this.instance_cta_apply_filters.load(),this.elm_reset_filters.addEventListenerRR("click",this.on_reset_filters),this.elm_apply_filters.addEventListenerRR("click",this.on_apply_filters),this.cta_filters.addEventListenerRR("click",this.on_filters),window.addEventListenerRR("resize",this.on_resize),this.parent_el.addEventListenerRR("click",this.on_accessory_click),this.initFilters(),this.initPreselection(),this.initModels(),this.updateSummary(this.const_all_models,this.grid),this.on_resize(),this.on_scroll(),c.default.sub_height_resize.subscribe({next:this.on_changed_height})}},{key:"initPreselection",value:function(){var e=m.default.parse(location.search);if(e.categories){var t=e.categories.split(","),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.filters_category[s]=!0}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}if(e.subcategories){var l=e.subcategories.split(","),c=!0,u=!1,h=void 0;try{for(var d,p=l[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;this.filters_subcategory[f]=!0}}catch(e){u=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(u)throw h}}}e.models?this.filters_model[e.models]=!0:this.filters_model[this.const_all_models]=!0,this.preselected_category&&void 0!==this.filters_category[this.preselected_category]&&(this.filters_category[this.preselected_category]=!0),this.preselected_model&&void 0!==this.filters_model[this.preselected_model]&&(this.filters_model[this.const_all_models]=!1,this.filters_model[this.preselected_model]=!0)}},{key:"initFilters",value:function(){var e=this;this.filters_category={},[].slice.call(this.categories).forEach((function(t){e.filters_category[t.getAttribute("data-category")]=!1})),this.filters_subcategory={},[].slice.call(this.subcategories).forEach((function(t){e.filters_subcategory[t.getAttribute("data-category")]=!1})),this.filters_model={},[].slice.call(this.models).forEach((function(t){var n=t.getAttribute("data-model");e.filters_model[n]=!1}))}},{key:"applyCategoryFilters",value:function(){var e=this,t=this.inactive.querySelectorAll(".js-rrmc-accessory-tile"),n=[].slice.call(this.cards||[]).concat([].slice.call(t));this.analytics_filters=[];var r=null,i=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(this.filters_model)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;this.filters_model[c]&&(r=c,this.analytics_filters.push(c))}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}var u=0,h=!0,d=!1,p=void 0;try{for(var v,g=Object.keys(this.filters_category)[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var y=v.value;this.filters_category[y]&&(u+=1,this.analytics_filters.push(y))}}catch(e){d=!0,p=e}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}0===u?n.forEach((function(t){var n=e.filter_by_model(t,r)?e.active:e.inactive;t.parentNode.removeChild(t),t.setAttribute("data-row-to-animate","true"),n.appendChild(t)})):n.forEach((function(t){var n=!1,i=t.getAttribute("data-category"),o=!0,a=!1,s=void 0;try{for(var l,c=Object.keys(e.filters_category)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u===i&&e.filters_category[u]){n=!0;break}}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var h=e.filter_by_model(t,r);t.parentNode.removeChild(t);var d=n&&h?e.active:e.inactive;t.setAttribute("data-row-to-animate","true"),d.appendChild(t)})),this.reflowTablet=!1,this.reflowDesktop=!1,this.updateSummary(r),this.generateTemplate();var _=m.default.parse(location.search),b="",w=!0,x=!1,S=void 0;try{for(var k,A=Object.keys(this.filters_category)[Symbol.iterator]();!(w=(k=A.next()).done);w=!0){var E=k.value;this.filters_category[E]&&(b+=E+",")}}catch(e){x=!0,S=e}finally{try{!w&&A.return&&A.return()}finally{if(x)throw S}}b=b.slice(0,-1);var C="";if(this.enable_ssubcategory_filters){var T=!0,M=!1,D=void 0;try{for(var L,P=Object.keys(this.filters_subcategory)[Symbol.iterator]();!(T=(L=P.next()).done);T=!0){var R=L.value;this.filters_subcategory[R]&&(C+=R+",")}}catch(e){M=!0,D=e}finally{try{!T&&P.return&&P.return()}finally{if(M)throw D}}C=C.slice(0,-1)}var I="",O=!0,F=!1,B=void 0;try{for(var N,j=Object.keys(this.filters_model)[Symbol.iterator]();!(O=(N=j.next()).done);O=!0){var z=N.value;this.filters_model[z]&&(I=z)}}catch(e){F=!0,B=e}finally{try{!O&&j.return&&j.return()}finally{if(F)throw B}}_.models=I,_.categories=b,_.subcategories=C,this.filter_query_params={models:I,categories:b,subcategories:C};var V=m.default.stringify(_);window.history.pushState("","","?"+V),this.unsubScroll(),this.scrollListenerCardReveal(),document.addEventListenerRR("scroll",this.scrollListenerCardReveal),f.container_ids.forEach((function(e){try{window.google_tag_manager[e].dataLayer.set("ecommerce.impressions","")}catch(e){}})),f.trackImpressions([].slice.call(this.cards),"All Accessories")}},{key:"applySubCategoryFilters",value:function(){var e=this;if(this.enable_ssubcategory_filters){var t=this.inactive.querySelectorAll(".js-rrmc-accessory-tile"),n=[].slice.call(this.cards||[]).concat([].slice.call(t));this.analytics_filters=[];var r=null,i=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(this.filters_model)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;this.filters_model[c]&&(r=c,this.analytics_filters.push(c))}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}var u=0,h=!0,d=!1,p=void 0;try{for(var v,g=Object.keys(this.filters_subcategory)[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){var y=v.value;this.filters_subcategory[y]&&(u+=1,this.analytics_filters.push(y))}}catch(e){d=!0,p=e}finally{try{!h&&g.return&&g.return()}finally{if(d)throw p}}0===u?n.forEach((function(t){var n=e.filter_by_model(t,r)?e.active:e.inactive;t.parentNode.removeChild(t),t.setAttribute("data-row-to-animate","true"),n.appendChild(t)})):n.forEach((function(t){var n=!1,i=t.getAttribute("data-sub-category"),o=!0,a=!1,s=void 0;try{for(var l,c=Object.keys(e.filters_subcategory)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u===i&&e.filters_subcategory[u]){n=!0;break}}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var h=e.filter_by_model(t,r);t.parentNode.removeChild(t);var d=n&&h?e.active:e.inactive;t.setAttribute("data-row-to-animate","true"),d.appendChild(t)})),this.reflowTablet=!1,this.reflowDesktop=!1,this.updateSummary(r),this.generateTemplate();var _=m.default.parse(location.search),b="",w=!0,x=!1,S=void 0;try{for(var k,A=Object.keys(this.filters_subcategory)[Symbol.iterator]();!(w=(k=A.next()).done);w=!0){var E=k.value;this.filters_subcategory[E]&&(b+=E+",")}}catch(e){x=!0,S=e}finally{try{!w&&A.return&&A.return()}finally{if(x)throw S}}b=b.slice(0,-1);var C="",T=!0,M=!1,D=void 0;try{for(var L,P=Object.keys(this.filters_model)[Symbol.iterator]();!(T=(L=P.next()).done);T=!0){var R=L.value;this.filters_model[R]&&(C=R)}}catch(e){M=!0,D=e}finally{try{!T&&P.return&&P.return()}finally{if(M)throw D}}_.models=C,_.subcategories=b,this.filter_query_params={models:C,subcategories:b};var I=m.default.stringify(_);window.history.pushState("","","?"+I),this.unsubScroll(),this.scrollListenerCardReveal(),document.addEventListenerRR("scroll",this.scrollListenerCardReveal),f.container_ids.forEach((function(e){try{window.google_tag_manager[e].dataLayer.set("ecommerce.impressions","")}catch(e){}})),f.trackImpressions([].slice.call(this.cards),"All Accessories")}}},{key:"updateSummary",value:function(e,t){var n=(t||this.active).querySelectorAll(".js-rrmc-accessory-tile");this.summary_elm_results_value.innerHTML=""+n.length,this.summary_elm_model.innerHTML=""+e;var r=Object.keys(this.filters_category),i=0,o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;this.filters_category[u]&&(i+=1)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}i&&(this.summary_elm_categories_value.innerHTML=""+i),this.summary_elm_results_overlay_value_mobile.innerHTML=""+n.length,this.summary_elm_results_status_bar_value_mobile.innerHTML=""+n.length}},{key:"filter_by_model",value:function(e,t){var n=!1;if(t===this.const_all_models)n=!0;else{var r=e.getAttribute("data-model");if(r)if(r===this.const_all_models)n=!0;else{var i=r.split(","),o=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){t===l.value&&(n=!0)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}}return n}},{key:"status_bar_mobile_init",value:function(){var e=this,t='<div class="rrmc-filters-status-bar">\n          <div class="rrmc-filters-status-bar-position">\n            <div class="rrmc-all-accessories-filters-summary rrmc-all-accessories-filters-summary-status-bar">\n              '+(this.disable_model_filters?"<div>\x3c!-- To preserve placement --\x3e</div>":"")+'\n              <div class="rrmc-all-accessories-filters-cta '+(this.disable_model_filters?"rrmc-all-accessories-filters-cta--disabled":"")+'">\n                <button \n                style="color: #000000"\n                        data-lazy-load-class="cta-lazy-load"\n                        class="rrmc-cta-component rrmc-button--tiny-label-stroked js-rrmc-filter-cta-lazy">\n                  <span class="rrmc-button-background js-rrmc-button-background"\n                      data-color="#000000"\n                ></span>\n                <span class="rrmc-cta-i" data-icon="add">\n                  <span class="rrmc-cta-icon-placeholder"></span>\n               </span>\n                  <span class="rrmc-button-text js-rrmc-button-text">'+(0,v.getI18nComponent)("filter")+'</span>\n                </button>\n              </div>\n              <div class="rrmc-all-accessories-filters-summary-wrapper">\n                <span class="rrmc-all-accessories-filters-summary--results">\n                <span class="rrmc-dash"></span><span class="rrmc-categories--value"></span>\n                <span class="rrmc-categories-label">'+(0,v.getI18nComponent)("Results")+"</span></span>\n              </div>\n            </div>\n          </div>\n      </div>",n=(new DOMParser).parseFromString(t,"text/html").body.firstChild;document.body.appendChild(n),this.elm_filters_overlay_mobile=n,this.elm_status_bar_cta=n.querySelector(".js-rrmc-filter-cta-lazy"),this.summary_elm_results_status_bar_mobile=n.querySelector(".rrmc-all-accessories-filters-summary--results"),this.summary_elm_results_status_bar_value_mobile=n.querySelector(".rrmc-categories--value"),this.comp_status_bar_cta=new h.default(this.elm_status_bar_cta),this.comp_status_bar_cta.load(),this.on_close_mobile_filter_overlay=function(){e.hide_filters_desktop(),e.hide_filter_overlay_mobile(!0),e.recall_filters(),e.send_analytics()},this.mobile_filter_trigger_idle=!0,this.elm_status_bar_cta.addEventListenerRR("click",(function(){e.mobile_filter_trigger_idle&&(e.mobile_filter_trigger_idle=!1,setTimeout((function(){e.mobile_filter_trigger_idle=!0}),1e3),e.reveal_filter_overlay_mobile(!0),e.reveal_filters_desktop(),e.remember_filters())}))}},{key:"reveal_filter_overlay_mobile",value:function(e){var t=this;(new d.TimelineLite).addLabel("start").set(this.elm_overlay_filters,{display:"block",y:"100%",ease:d.Power2.easeInOut}).add((function(){t.comp_close_overlay_filter_mobile_cta=new h.default(t.filter_close_cta_mobile),t.comp_close_overlay_filter_mobile_cta.load(),t.instance_cta_reset_filters_mobile=new h.default(t.elm_reset_filters_mobile),t.instance_cta_reset_filters_mobile.load(),t.instance_cta_apply_filters_mobile=new h.default(t.elm_apply_filters_mobile),t.instance_cta_apply_filters_mobile.load(),t.filter_close_cta_mobile.addEventListenerRR("click",t.on_close_mobile_filter_overlay),t.elm_reset_filters_mobile.addEventListenerRR("click",t.on_reset_filters),t.elm_apply_filters_mobile.addEventListenerRR("click",t.on_apply_filters),e&&(0,p.disableBodyScroll)(t.elm_overlay_filters)})).to(this.elm_overlay_filters,1,{y:"0%",ease:d.Power2.easeInOut},"+=0.1")}},{key:"hide_filter_overlay_mobile",value:function(e){var t=this;(new d.TimelineLite).addLabel("start").to(this.elm_overlay_filters,1,{y:"100%",ease:d.Power2.easeInOut}).add((function(){e&&(0,p.clearAllBodyScrollLocks)(),t.filter_close_cta_mobile.removeEventListenerRR("click",t.on_close_mobile_filter_overlay),t.elm_reset_filters_mobile.removeEventListenerRR("click",t.on_reset_filters),t.elm_apply_filters_mobile.removeEventListenerRR("click",t.on_apply_filters),t.comp_close_overlay_filter_mobile_cta.destroy(),t.instance_cta_reset_filters_mobile.destroy(),t.instance_cta_apply_filters_mobile.destroy()})).set(this.elm_overlay_filters,{display:"none"})}},{key:"filters_mobile_init",value:function(){var e=this.elm_filters_container,t=(new DOMParser).parseFromString('<div class="rrmc-filters-overlay">\n          <div class="rrmc-filters-overlay-position">\n            <div class="rrmc-filter-mobile-close-cta-wrapper">\n              <button data-overlay-action="overlayClose" \n              aria-label="Close Filters"\n              style="color: #000000"\n              type="button" class="rrmc-filter-mobile-close-cta rrmc-cta-component rrmc-button--regular-icon-stroked rrmc-button--close">\n                 <span class="rrmc-button-background js-rrmc-button-background"\n                      data-color="#000000"\n                ></span>\n                <span class="rrmc-cta-i" data-icon="close">\n                  <span class="rrmc-cta-icon-placeholder"></span>\n               </span>\n                <span class="rrmc-button-text js-rrmc-button-text"></span>\n              </button>\n            </div>\n          </div>\n        </div>',"text/html").body.firstChild,n=t.querySelector(".rrmc-filters-overlay-position"),r=e.cloneNode(!0);n.appendChild(r),document.body.appendChild(t),this.elm_overlay_filters=t,this.models_mobile=this.elm_overlay_filters.querySelectorAll(".js-rrmc-toggle-model-lazy"),this.filter_close_cta_mobile=this.elm_overlay_filters.querySelector(".rrmc-filter-mobile-close-cta "),this.summary_elm_results_overlay_mobile=t.querySelector(".rrmc-all-accessories-filters-summary--results"),this.summary_elm_results_overlay_value_mobile=this.summary_elm_results_overlay_mobile.querySelector(".rrmc-categories--value"),this.elm_reset_filters_mobile=this.elm_overlay_filters.querySelector(".js-rrmc-filter-reset-filters-lazy"),this.elm_apply_filters_mobile=this.elm_overlay_filters.querySelector(".js-rrmc-filter-apply-filters-lazy")}},{key:"return_to_top_init",value:function(){var e=this,t=(new DOMParser).parseFromString('<div role="navigation" class="rrmc-filters-return-to-top">\n          <div class="rrmc-filters-return-to-top-position">\n            <div class="rrmc-filters-return-to-top-cta-wrapper">\n              <button type="button"\n                aria-label="Return to top"\n                data-theme="light" class="rrmc-filters-return-to-top-cta rrmc-cta-component rrmc-button--regular-icon-stroked">\n                <span class="rrmc-button-background js-rrmc-button-background"\n              data-color="#151515"></span>\n                <span class="rrmc-cta-i" data-icon="arrow-up">\n                  <span class="rrmc-cta-icon-placeholder"></span>\n               </span>\n                <span class="rrmc-button-text js-rrmc-button-text"></span>\n              </button>\n            </div>\n          </div>\n        </div>',"text/html").body.firstChild;document.body.appendChild(t),this.elm_return_to_top=t,this.elm_scroll_to_top_cta=this.elm_return_to_top.querySelector(".rrmc-filters-return-to-top-cta"),this.comp_scroll_to_top_cta=new h.default(this.elm_scroll_to_top_cta),this.comp_scroll_to_top_cta.load(),this.on_return_to_top=function(){var t=e.elm_filters_container.getBoundingClientRect().top+window.pageYOffset;d.TweenLite.to(window,1,{scrollTo:{y:t-180,autoKill:!1}})},this.elm_scroll_to_top_cta.addEventListenerRR("click",this.on_return_to_top)}},{key:"move_status_bar_mobile",value:function(){var e=this.grid.getBoundingClientRect().top+window.pageYOffset,t=window.pageYOffset+window.innerHeight;if(t<e)d.TweenLite.set(this.elm_filters_overlay_mobile,{y:96});else if(t<e+96){var n=96-(t-e);d.TweenLite.set(this.elm_filters_overlay_mobile,{y:n})}else if(t>this.last_section_pos){var r=this.last_section_pos-t;d.TweenLite.set(this.elm_filters_overlay_mobile,{y:r})}else d.TweenLite.set(this.elm_filters_overlay_mobile,{clearProps:"all"})}},{key:"move_return_to_top_cta",value:function(){var e=this.elm_filters_container.getBoundingClientRect().bottom+window.pageYOffset;if(window.pageYOffset<e+60){var t=e+60-window.pageYOffset;d.TweenLite.set(this.elm_return_to_top,{y:t})}else if(window.pageYOffset+window.innerHeight>this.last_section_pos){var n=this.last_section_pos-(window.pageYOffset+window.innerHeight);d.TweenLite.set(this.elm_return_to_top,{y:n})}else d.TweenLite.set(this.elm_return_to_top,{clearProps:"all"})}},{key:"initModels",value:function(){var e=this,t=[].slice.call(this.categories),n=[].slice.call(this.subcategories),i=[].slice.call(this.models),o=[].slice.call(this.models_mobile),a=function(t,n){var r={},i=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value,h=u.getAttribute("data-category"),d=new l.default(u);d.load(),n[h]&&d.switch_on(),h!==e.const_all_categories||Object.values(n).some(Boolean)||d.switch_on(),r[h]=d}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}return r},c=a(t,this.filters_category),u=a(n,this.filters_subcategory),h=function(t){var n={},r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var c=a.value,u=new s.default(c);u.load();var h=c.getAttribute("data-model");e.filters_model[h]&&u.switch_on(),n[h]=u}}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n},d=h(i),p=h(o),m=function(t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(e.filters_model)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){t[a.value].switch_off()}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}t[n].switch_on()},v=function(t,n){var r=n.getAttribute("data-model"),i=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(e.filters_model)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;e.filters_model[c]=!1}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}e.filters_model[r]=!0,m(d,r),m(p,r)},g=function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=Object.keys(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){e[o.value].addEventListener("click",t)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}};g(c,(function(t,n){var r=n.getAttribute("data-category"),i=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(e.filters_category)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;e.filters_category[u]=!1}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}r!==e.const_all_categories&&(e.filters_category[r]=!0),function(t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(e.filters_category)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){t[a.value].switch_off()}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}t[n].switch_on()}(c,r),f.tronSearchFilterEvents.filterSelected({search:[{searchLabel:"category",searchTerm:r}]}),e.applyCategoryFilters()})),g(u,(function(t,n){var r=n.getAttribute("data-category"),i=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(e.filters_subcategory)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;e.filters_subcategory[c]=!1}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}r!==e.const_all_categories&&(e.filters_subcategory[r]=!0),function(t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(e.filters_subcategory)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){t[a.value].switch_off()}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}t[n].switch_on()}(u,r),f.tronSearchFilterEvents.filterSelected({search:[{searchLabel:"category",searchTerm:r}]}),e.applySubCategoryFilters()})),g(d,v),g(p,v),this.on_reset_filters_deferred=function(){v(0,{getAttribute:function(){return e.const_all_models}})},this.remember_filters=function(){e.mem_filters_category=r({},e.filters_category),e.mem_filters_subcategory=r({},e.filters_subcategory),e.mem_filters_model=r({},e.filters_model)},this.recall_filters=function(){e.filters_category=r({},e.mem_filters_category),e.filters_subcategory=r({},e.mem_filters_subcategory),e.filters_model=r({},e.mem_filters_model);var t=!0,n=!1,i=void 0;try{for(var o,a=Object.keys(e.filters_model)[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;e.filters_model[s]&&(m(d,s),m(p,s))}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}}}]),e}();y=document.querySelectorAll(".js-rrmc-all-accessories-master"),document.addEventListener("DOMContentLoaded",(function(){[].slice.call(y).forEach((function(e){var t=new _(e);e.data={articleTilesInstance:t},t.load()}))}))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(449);var i=n(450),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var a,s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.parentEl=this.sandbox.parentElement,this.anchors=this.sandbox.querySelectorAll(".rrmc-article-tile-wrapping-link"),this.track=this.sandbox.querySelector(".js-rrmc-article-tile-carousel-track"),this.slides=this.sandbox.querySelectorAll(".rrmc-article-tile-slide"),this.currentSize=window.innerWidth>1440?"desktop":window.innerWidth>768?"tablet":"mobile",this.resetSlide=!1,this.unsubScroll=function(){document.removeEventListener("scroll",n.scrollListener)},this.scrollListener=function(){(0,i.revealCards)(n.sandbox,n.unsubScroll)}}return r(e,[{key:"tileClickHandler",value:function(e){e.preventDefault();var t=e.target.classList,n=!1,r=e.target.getAttribute("href");if(t.contains("rrmc-article-tile-wrapping-link")||t.contains("js-rrmc-button-text")){e.target.classList.contains("js-rrmc-button-text")&&(n=!0,r=e.target.parentElement.href);var i=e.target.innerText.toLowerCase(),a=e.target.closest(".rrmc-article-tile--description"),s="",l="";!1===n?(s=a.querySelector(".rrmc-article-tile--title").innerText.toLowerCase(),l=""===i?""+s+i:s+"/"+i):l=""+i,o.fireCustomEvent({event:"headlineClick",eventCategory:"Inspiring Greatness",eventAction:n?"CTA Click":"Headline Click",eventLabel:l,eventCallback:function(){window.location=r},eventTimeout:2e3})}}},{key:"load",value:function(){this.parentEl.addEventListener("click",this.tileClickHandler),document.addEventListener("scroll",this.scrollListener)}}]),e}();a=document.querySelectorAll(".js-rrmc-article-tiles-carousel"),document.addEventListener("DOMContentLoaded",(function(){[].slice.call(a).forEach((function(e){var t=new s(e);e.data={articleTilesCarouselInstance:t},t.load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tronVideoEvents=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getBrightcoveProps=p,t.tronVideoTimeProgressReset=function(e){a(e)},t.tronVideoTimeProgressEvent=function(e,t){if(t.duration()<10)return;var n=t.currentTime()/t.duration(),r=p(t);n>=.75&&!d(e)?(c(e),o.videoMilestoneReached75(r)):n>=.5&&!h(e)?(l(e),o.videoMilestoneReached50(r)):n>=.25&&!u(e)&&(s(e),o.videoMilestoneReached25(r))};var i=n(418),o=t.tronVideoEvents={videoStarted:function(e){window.tronVideo.videoStarted(r({componentDEVagency:i.componentDEVagency},e))},videoStopped:function(e){window.tronVideo.videoStopped(r({componentDEVagency:i.componentDEVagency},e))},videoEnded:function(e){window.tronVideo.videoEnded(r({componentDEVagency:i.componentDEVagency},e))},videoMilestoneReached25:function(e){window.tronVideo.videoMilestoneReached25(r({componentDEVagency:i.componentDEVagency},e))},videoMilestoneReached50:function(e){window.tronVideo.videoMilestoneReached50(r({componentDEVagency:i.componentDEVagency},e))},videoMilestoneReached75:function(e){window.tronVideo.videoMilestoneReached75(r({componentDEVagency:i.componentDEVagency},e))}},a=function(e){e.playback_progress=0},s=function(e){e.playback_progress=25},l=function(e){e.playback_progress=50},c=function(e){e.playback_progress=75},u=function(e){return e.playback_progress>=25},h=function(e){return e.playback_progress>=50},d=function(e){return e.playback_progress>=75};function p(e){return{videoCurrentTime:e.currentTime(),videoName:e.id(),videoTotalLength:e.duration()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={"keep-me-informed":"rfi","request-information":"rfi","contact-an-advisor":"rfc","request-callback":"rfc","request-viewing":"rfd","join-event":"evt","request-brochure":"rfi","request-accessories":"rfa","contact-dealer":"rfc","join-waiting-list":"rfo","keep-me-informed-rr25":"rfi",whispers:"registration","purchase-enquiry":"rfo","general-enquiry":"rfi"};function o(e){var t=e||{};return{formType:i[t.formType]||"rfo",formID:t.formType}}var a=[[/firstname/gi,"first_na_me"],[/lastname/gi,"last_na_me"],[/vin/gi,"v_i_n"],[/name/gi,"na_me"],[/loginid/gi,"log_inid"],[/password/gi,"pass_word"],[/registrationpassword/gi,"registration_pass_word"],[/confirmationpassword/gi,"confirmation_pass_word"],[/confirmregistrationpassword/gi,"confirmregistration_pass_word"],[/registrationid/gi,"registration_id"],[/passwordconfirmation/gi,"pass_wordconfirmation"],[/usernameenname/gi,"user_na_meenna_me"],[/token/gi,"to_ken"],[/telephone/gi,"tele_phone"],[/email/gi,"e_mail"]];function s(e){var t=e,n=!0,r=!1,i=void 0;try{for(var o,s=a[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t=t.replace(l[0],l[1])}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}return t}var l="tronFormEvents_fresh";t.tronFormEvents={formStarted:function(e,t){var n=t||{};e[l]=!0,window.tronForm.formStarted(r({componentType:"native in-page",formLeadType:"lead",formOrigin:"custom local form",formVariant:"dedicated form",componentPlatform:"non-aem > local"},o(n),{formName:s(n.formName)||""}))},formFinishIntention:function(e){var t=e||{};window.tronForm.formFinishIntention(r({componentType:"native in-page",formLeadType:"lead",formOrigin:"custom local form",formVariant:"dedicated form",componentPlatform:"non-aem > local"},o(t),{formName:s(t.formName)||""}))},formFinished:function(e){var t=e||{};window.tronForm.formFinished(r({componentType:"native in-page",formLeadType:"lead",formOrigin:"custom local form",formVariant:"dedicated form",componentPlatform:"non-aem > local"},o(t),{formName:s(t.formName)||""}))},formInteraction:function(e,t){var n=t||{};e[l]&&(e[l]=!1,window.tronForm.formFirstInteraction(r({componentType:"native in-page",formLeadType:"lead",formOrigin:"custom local form",formVariant:"dedicated form",componentPlatform:"non-aem > local"},o(n),{formName:s(n.formName)||""}))),window.tronForm.formInteraction(r({componentType:"native in-page",formLeadType:"lead",formOrigin:"custom local form",formVariant:"dedicated form",componentPlatform:"non-aem > local"},o(n),{eventEffect:s(n.eventEffect)||"",formName:s(n.formName)||""}))},formValidationError:function(e,t){var n=t||{};window.tronForm.error(r({componentType:"native in-page",formLeadType:"lead",formOrigin:"custom local form",formVariant:"dedicated form",componentPlatform:"non-aem > local"},o(n),{errorType:"frontend component",errorAction:"form fill",errorOrigin:"custom local form",errorCode:n.errorCode||"",errorCause:s(n.errorCause)||"",errorMessage:n.errorMessage||"",formName:s(n.formName)||""}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tronConfiguratorEvents=t.supportedFields=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.accessoryBespokeFontToTRONProp=function(){return"range"},t.accessoryFieldToTRONProp=l,t.makeOption=c,t.makeOptionsFromVariant=function(e){var t=e.variant,n=e.store,i=e.accessory,o=function e(t,n,r){if(Array.isArray(r))return r[0]&&r[0]===n?t:null;var i=!0,o=!1,a=void 0;try{for(var s,l=Object.keys(r)[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=t.slice();u.push({field:r.fieldType,value:c});var h=e(u,n,r[c]);if(h)return h}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}([],t.id,n);if(!o)return[];var a=o.reduce((function(e,t){return r(e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},l(t.field),t.value))}),{});return[c(r({category3:i.category,name:i.title},a))]};var i=n(418),o=n(419);var a={componentName:"boutique",componentSubCat1:"accessory configurator"},s={businessDivision:"after sales",category1:"physical goods",category2:"All Accessories"};t.supportedFields=[o.MODEL_LABEL,o.SUBMODELS,o.MARKETING_TITLE,o.NOTES,o.COLOR];function l(e){var t="size";switch(e){case o.MARKETING_TITLE:t="size";break;case o.COLOR:t="color";break;case o.NOTES:t="range";break;case o.MODEL_LABEL:t="productID";break;case o.SUBMODELS:t="packageID"}return t}function c(e){return r(e,s)}t.tronConfiguratorEvents={conClick:function(e){window.tronConfigurator&&window.tronConfigurator.conClick(r({componentDEVagency:i.componentDEVagency},a,e))},conListAdd:function(e){window.tronConfigurator&&window.tronConfigurator.conListAdd(r({componentDEVagency:i.componentDEVagency,listType:"wish list"},a,e))},conListRemove:function(e){window.tronConfigurator&&window.tronConfigurator.conListRemove(r({componentDEVagency:i.componentDEVagency,listType:"wish list"},a,e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tronSearchFilterEvents=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(418),o={componentName:"boutique",filterObject:"accessory"};t.tronSearchFilterEvents={filterSelected:function(e){window.tronSearchFilter&&window.tronSearchFilter.filterSelected(r({componentDEVagency:i.componentDEVagency},o,e))},filterRemoved:function(e){window.tronSearchFilter&&window.tronSearchFilter.filterRemoved(r({componentDEVagency:i.componentDEVagency},o,e))},filterRemoveAll:function(e){window.tronSearchFilter&&window.tronSearchFilter.filterRemoveAll(r({componentDEVagency:i.componentDEVagency},o,e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(420);var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(420);var o=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((r=i)&&r.__esModule?r:{default:r}).default);t.default=o},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();window.rrmc_cta_find_by=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=window.rrmc_cta_manager[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e(s)&&t.push(s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t},window.rrmc_cta_find_by_text=function(e,t){t(window.rrmc_cta_find_by((function(t){return t.ctaText&&t.ctaText.textContent===e})))},window.rrmc_cta_find_by_overlay_id=function(e,t){t(window.rrmc_cta_find_by((function(t){return t.cta.dataset.overlay===e})))},window.rrmc_html_cta=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"primary",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"light";console.warn("This CTA method can be deprecated and lead to unexpected behaviour");var i='<button data-action="open-default-form" data-overlay="'+e+'" data-theme="'+r+'" data-lazy-load-class="cta-lazy-load" class="rrmc-cta-component rrmc-button--'+n+" rrmc-button--"+r+' rrmc-button--add js-rrmc-button"><span class="rrmc-cta-i"></span><span class="rrmc-button-text js-rrmc-button-text">'+t+'</span><span class="rrmc-button-arrow js-rrmc-button-arrow"></span></button>';return i},window.rrmc_cta_replace=function(e,t){console.warn("This CTA method can be deprecated and lead to unexpected behaviour"),e.destroy();var n=document.createElement("div");n.innerHTML=t;var r=e.cta.parentNode,i=n.firstElementChild;r.replaceChild(i,e.cta),new window.rrmc_cta_class(i).load()},window.rrmc_cta_replace_by_func=function(e,t){var n=window.rrmc_cta_find_by(e),r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;window.rrmc_cta_replace(l,t)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}},window.rrmc_cta_replace_by_overlay_id=function(e,t){window.rrmc_cta_find_by_overlay_id(e,(function(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;window.rrmc_cta_replace(s,t)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}))},window.rrmc_cta_replace_by_overlay_id_map=function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=window.rrmc_cta_manager[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=!0,c=!1,u=void 0;try{for(var h,d=Object.keys(e)[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var p=h.value;s.cta.dataset.overlay===p&&(t[p]||(t[p]=[]),t[p].push(s))}}catch(e){c=!0,u=e}finally{try{!l&&d.return&&d.return()}finally{if(c)throw u}}}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}var f=!0,m=!1,v=void 0;try{for(var g,y=Object.keys(e)[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var _=g.value;if(t[_]){var b=!0,w=!1,x=void 0;try{for(var S,k=t[_][Symbol.iterator]();!(b=(S=k.next()).done);b=!0){var A=S.value;window.rrmc_cta_replace(A,e[_])}}catch(e){w=!0,x=e}finally{try{!b&&k.return&&k.return()}finally{if(w)throw x}}}}}catch(e){m=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(m)throw v}}};var i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cb_added=[],window.rrmc_cta_manager=[],window.rrmc_add_cta_added_callback=function(e){t.cb_added.push(e)}}return r(e,[{key:"add_cta",value:function(e){window.rrmc_cta_manager.push(e);var t=!0,n=!1,r=void 0;try{for(var i,o=this.cb_added[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){(0,i.value)(e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"remove_cta",value:function(e){for(var t=window.rrmc_cta_manager.length,n=0;n<t;++n)window.rrmc_cta_manager[n]===e&&(window.rrmc_cta_manager.splice(n,1),--t,--n)}}]),e}();t.default=new i},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,t,n){"use strict";var r=new RegExp("(%[a-f0-9]{2})|([^%]+?)","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=a(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="";for(var o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,n){"use strict";e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(423),a=(r=o)&&r.__esModule?r:{default:r},s=n(27);var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.is_master_carousel=!0,this.wrapper=t}return i(e,[{key:"render_carousel",value:function(e){var t=this.wrapper.querySelector(".rrmc-cc-carousel-images"),n=t.querySelectorAll(".rrmc-cc-carousel-slide");if(n.length>1)t.setAttribute("data-pips-visible",""),t.setAttribute("data-autoplay-enabled",""),t.setAttribute("data-is-full-width",""),t.setAttribute("data-autoplay-delay","6.0"),this.accessory_carousel=new a.default(this.wrapper.querySelector(".js-rrmc-lazy-load")),this.accessory_carousel.load(e);else{var r=n[0].querySelector(".rrmc-image-aspect-img");(0,s.srcsetLazyLoaderPlain)(r,(function(){}))}}},{key:"update_carousel",value:function(e,t){if(0!==e.items.length&&this.is_master_carousel!==t){var n=this.wrapper.querySelector(".rrmc-cc-carousel-slides"),r=this.wrapper.querySelector(".rrmc-cc-carousel-controls-container"),i=this.wrapper.querySelector(".rrmc-cc-carousel-bullets"),o=void 0,a=void 0,l=void 0,c=void 0;if(this.accessory_carousel&&this.accessory_carousel.destroy(),null===i&&e.items.length>1){r.innerHTML='\n            <div class="rrmc-cc-carousel-bullets-container">\n                <div class="rrmc-cc-carousel-bullets" data-glide-el="controls[nav]"></div>\n            </div>',i=this.wrapper.querySelector(".rrmc-cc-carousel-bullets")}n.innerHTML="",i.innerHTML="",[].slice.call(e.items).forEach((function(e,t){o=e.image.desktop.renditions,a=e.image.desktop.webpRenditions,l=e.image.desktopWebpRendition,c=e.image.desktop.original,n.innerHTML+='<div class="rrmc-cc-carousel-slide" style="">\n                    <div class="rrmc-cc-carousel-slide-width-force js-cc-slide-zoom" data-controls-off="" data-autoplay-off="">\n                      <div class="rrmc-image-aspect-scale js-rrmc-image-aspect-scale">\n                        <img class="rrmc-image-aspect-img" \n                             data-srcset="'+o+'"\n                             data-webp-srcset="'+a+'"\n                             data-webp-src="'+l+'" \n                             data-src="'+c+'"\n                             draggable="false" >\n                      </div>\n                      <div class="rrmc-cc-video-snippet-container">\n                      </div>\n                      <div data-embed="default" data-application-id="" loop="" poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" class="video-js vjs-fluid rrmc-cc-video-player-video" playsinline=""></div>\n                    </div>\n                  </div>',i.innerHTML+='<span class="rrmc-cc-carousel-bullet" data-glide-dir="='+t+'"></span>';var r=n.querySelector(".rrmc-image-aspect-img");(0,s.srcsetLazyLoaderPlain)(r,(function(){}))})),this.is_master_carousel=t,e.items.length>1&&this.accessory_carousel?this.accessory_carousel.load():e.items.length>1&&this.render_carousel(e)}}}]),e}();t.default=l},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perTouch:!1,touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",throttle:10,direction:"ltr",peek:0,breakpoints:{},classes:{direction:{ltr:"glide--ltr",rtl:"glide--rtl"},slider:"glide--slider",carousel:"glide--carousel",swipeable:"glide--swipeable",dragging:"glide--dragging",cloneSlide:"glide__slide--clone",activeNav:"glide__bullet--active",activeSlide:"glide__slide--active",disabledArrow:"glide__arrow--disabled"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mount=function(e,t,n){var o={};for(var a in t)(0,i.isFunction)(t[a])?o[a]=t[a](e,o,n):(0,r.warn)("Extension must be a function");for(var s in o)(0,i.isFunction)(o[s].mount)&&o[s].mount();return o};var r=n(152),i=n(65)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(65);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.events=t,this.hop=t.hasOwnProperty}return r(e,[{key:"on",value:function(e,t){if((0,i.isArray)(e))for(var n=0;n<e.length;n++)this.on(e[n],t);this.hop.call(this.events,e)||(this.events[e]=[]);var r=this.events[e].push(t)-1;return{remove:function(){delete this.events[e][r]}}}},{key:"emit",value:function(e,t){if((0,i.isArray)(e))for(var n=0;n<e.length;n++)this.emit(e[n],t);this.hop.call(this.events,e)&&this.events[e].forEach((function(e){e(void 0!==t?t:{})}))}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.now=function(){return(new Date).getTime()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var u=[a.default,s.default,l.default,c.default].concat(e._t,[o.default]);return{mutate:function(o){for(var a=0;a<u.length;a++){var s=u[a];(0,i.isFunction)(s)&&(0,i.isFunction)(s().modify)?o=s(e,t,n).modify(o):(0,r.warn)("Transformer should be a function that returns an object with `modify()` method")}return o}}};var r=n(152),i=n(65),o=u(n(506)),a=u(n(507)),s=u(n(508)),l=u(n(509)),c=u(n(510));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{modify:function(e){return t.Direction.is("rtl")?-e:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{modify:function(n){return n+t.Gaps.value*e.index}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{modify:function(e){return e+t.Clones.grow/2}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{modify:function(n){if(e.settings.focusAt>=0){var i=t.Peek.value;return(0,r.isObject)(i)?n-i.before:n-i}return n}}};var r=n(65)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{modify:function(n){var r=t.Gaps.value,i=t.Sizes.width,o=e.settings.focusAt,a=t.Sizes.slideWidth;return"center"===o?n-(i/2-a/2):n-a*o-r*o}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=!1;function o(e,t){var n=Math.floor(t.length/2),r=t.slice(0,n).reverse(),i=t.slice(-1*n);return r.concat(e).concat(i)}var a={set:function(n){if(i)i=!1;else for(var r=o(t.Html.slides,t.Clones.items),a=Math.floor(t.Clones.items.length/2)+e.index-1,s=Math.floor(t.Clones.items.length/2)+e.index+1,l=n-e.index*t.Sizes.slideWidth,c=(1-.8)/t.Sizes.slideWidth,u=l>=0?[.8,-c*l+1,c*l+.8]:[-c*l+.8,-c*-l+1,.8],h=a,d=0;h<=s;++h,++d)r[h].style.transform="scale("+u[d]+")"},transitionEnable:function(){var e=o(t.Html.slides,t.Clones.items),n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.style.transition="transform "+t.Transition.duration+"ms cubic-bezier(.64,.55,.34,.98)"}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}},transitionDisable:function(){var e=o(t.Html.slides,t.Clones.items),n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.style.transition="none"}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}},mount:function(){var r=o(t.Html.slides,t.Clones.items),i=!0,s=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){c.value.style.transform="scale(0.8)"}}catch(e){s=!0,l=e}finally{try{!i&&u.return&&u.return()}finally{if(s)throw l}}r[e.index+Math.floor(t.Clones.items.length/2)].style.transform="scale(1.0)",n.on("translate.move",(function(e){a.set(e)}))}};(0,r.define)(a,"clonedLength",{get:function(){return Math.floor(t.Clones.items.length/2)}});var s=function(){};return n.on("run.before",(function(n){a.transitionEnable();var r=n.direction,o=Math.floor(t.Clones.items.length/2);">"==r?e.index+1>=t.Html.slides.length&&(a.set(t.Html.slides.length*t.Sizes.slideWidth),i=!0,s=function(){t.Clones.items[o].style.transform="scale(0.8)"}):"<"==r?e.index-1<0&&(a.set(-t.Sizes.slideWidth),i=!0,s=function(){t.Clones.items[0].style.transform="scale(0.8)"}):"="==r&&(t.Html.slides[e.index].style.transform="scale(0.8)",s=function(){})})),n.on("run",(function(){})),n.on("run.after",(function(){a.transitionDisable(),s()})),a};var r=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i={setupSlides:function(){for(var e=this.slideWidth+"px",n=t.Html.slides,r=0;r<n.length;r++)n[r].style.width=e},setupWrapper:function(){t.Html.wrapper.style.width=this.wrapperSize+"px"},remove:function(){for(var e=t.Html.slides,n=0;n<e.length;n++)e[n].style.width="";t.Html.wrapper.style.width=""}};return(0,r.define)(i,"length",{get:function(){return t.Html.slides.length}}),(0,r.define)(i,"width",{get:function(){return t.Html.root.offsetWidth}}),(0,r.define)(i,"wrapperSize",{get:function(){return i.slideWidth*i.length+t.Gaps.grow+t.Clones.grow}}),(0,r.define)(i,"slideWidth",{get:function(){var n=i.width/e.settings.perView-t.Peek.reductor-t.Gaps.reductor;return n>window.innerHeight?window.innerHeight-100:n}}),n.on(["build.before","resize","update"],(function(){i.setupSlides(),i.setupWrapper()})),n.on("destroy",(function(){i.remove()})),i};var r=n(61)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var s=new a.default,u=new a.default,h={mount:function(){this.peek_control_left=t.Html.root.querySelector(l),this.peek_control_right=t.Html.root.querySelector(c),this.resize(),this.bind()},resize:function(){var e=.5*(window.innerWidth-t.Sizes.slideWidth-.2*t.Sizes.slideWidth);this.peek_control_left.style.width=e+"px",this.peek_control_right.style.width=e+"px"},bind:function(){s.on("click",this.peek_control_left,this.click_left),u.on("click",this.peek_control_right,this.click_right),s.on("mouseover",this.peek_control_left,this.hover_left),s.on("mouseleave",this.peek_control_left,this.leave_left),u.on("mouseover",this.peek_control_right,this.hover_right),u.on("mouseleave",this.peek_control_right,this.leave_right)},unbind:function(){s.off("click",this.peek_control_left),u.off("click",this.peek_control_right),s.off("mouseover",this.peek_control_left),s.off("mouseleave",this.peek_control_left),u.off("mouseover",this.peek_control_right),u.off("mouseleave",this.peek_control_right)},hover_left:function(){o.default.sub_cursor.next(["scale","enter","arrow-left"])},leave_left:function(){o.default.sub_cursor.next(["scale","leave"])},hover_right:function(){o.default.sub_cursor.next(["scale","enter","arrow-right"])},leave_right:function(){o.default.sub_cursor.next(["scale","leave"])},click_left:function(){t.Run.make("<")},click_right:function(){t.Run.make(">")}};return(0,r.define)(h,"value",{get:function(){return h._v},set:function(e){(0,i.isObject)(e)?(e.before=(0,i.toInt)(e.before),e.after=(0,i.toInt)(e.after)):e=(0,i.toInt)(e),h._v=e}}),n.on(["resize","update"],(function(){h.resize()})),n.on("destroy",(function(){h.unbind(),s.destroy(),u.destroy()})),h};var r=n(61),i=n(65),o=s(n(14)),a=s(n(202));function s(e){return e&&e.__esModule?e:{default:e}}var l='[data-glide-el="peek-control-left"]',c='[data-glide-el="peek-control-right"]'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.check_webp_feature=function(e){return new Promise((function(t){if(void 0===window.webpSupport){var n=new Image;n.onload=function(){var e=n.width>0&&n.height>0;window.webpSupport=e,t(e)},n.onerror=function(){window.webpSupport=!1,t(!1)},n.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}else t(window.webpSupport)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(422),o=n(153),a=n(211);var s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textfield=t,this.subs={},this.subs.render=new o.Subject,this.unsubs={},this.input=this.textfield.querySelector("input"),this.label=this.textfield.querySelector(".rrmc-accessory-textfield--label"),this.max_length=n,this.placeholder=r,this.input.setAttribute("maxlength",this.max_length)}return r(e,[{key:"returnFieldValue",value:function(){var e=(0,a.escapeEntry)(this.input);return{label:this.label.innerText,value:e}}},{key:"text_field_update",value:function(){this.subs.render.next(this.input.value)}},{key:"set_font",value:function(e){this.input.style.fontFamily=e}},{key:"enter_text_field",value:function(){this.input.focus(),(0,i.animateLabelSelect)("small",this.label,"textfield"),this.textfield.removeEventListener("click",this.enter_text_field)}},{key:"prefill_text",value:function(){this.input.value=this.placeholder,(0,i.animateLabelSelect)("small",this.label,"textfield"),this.subs.render.next(this.input.value)}},{key:"exit_text_field",value:function(){0===this.input.value.length&&this.prefill_text(),this.textfield.addEventListener("click",this.enter_text_field.bind(this))}},{key:"destroy",value:function(){this.input.removeEventListener("focus",this.enter_text_field.bind(this)),this.input.removeEventListener("blur",this.exit_text_field.bind(this)),this.input.removeEventListener("input",this.text_field_update.bind(this)),this.textfield.removeEventListener("click",this.enter_text_field.bind(this))}},{key:"addEventListener",value:function(e,t){this.unsubs[e]||(this.unsubs[e]={}),this.unsubs[e][t]=this.subs[e].subscribe({next:t})}},{key:"init_listeners",value:function(){this.textfield.addEventListener("click",this.enter_text_field.bind(this)),this.input.addEventListener("focus",this.enter_text_field.bind(this)),this.input.addEventListener("blur",this.exit_text_field.bind(this)),this.input.addEventListener("input",this.text_field_update.bind(this)),this.prefill_text()}},{key:"load",value:function(){this.init_listeners()}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(211);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_input=this.container.querySelector(".rrmc-accessory-treadfield--input"),this.elm_length=this.container.querySelector(".rrmc-accessory-treadfield--input-length"),this.label=this.container.getAttribute("data-label"),this.align=this.container.getAttribute("data-align"),this.maxlength=this.container.getAttribute("data-maxlength"),this.on_input=function(){var e=n.elm_input.value.length;n.update_length(n.maxlength-e)}}return r(e,[{key:"update_length",value:function(e){if(0===e)return this.elm_length.innerHTML="&nbsp;";var t=e>1?"s":"";this.elm_length.textContent=e+" character"+t+" left"}},{key:"set_font",value:function(e){this.elm_input.style.fontFamily=e}},{key:"destroy",value:function(){this.elm_input.removeEventListenerRR("input",this.on_input)}},{key:"load",value:function(){this.elm_input.addEventListenerRR("input",this.on_input)}},{key:"returnFieldValue",value:function(){var e=(0,i.escapeEntry)(this.elm_input);return{label:this.label,value:e}}}]),e}();t.default=o},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45);n(459),n(519);var o=n(520),a=n(521);n(109);var s=n(460),l=n(27),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));var u,h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.rows=this.sandbox.querySelectorAll(".rrmc-article-tiles-row-container"),this.cards=this.sandbox.querySelectorAll(".js-rrmc-article-tile"),this.tilesTemplate=this.sandbox.getAttribute("data-article-titles-template"),this.completedReflowTablet=!1,this.completedReflowDesktop=!0,this.unsubScroll=function(){document.removeEventListenerRR("scroll",n.scrollListener)},this.scrollListener=function(){(0,s.revealCards)(n.sandbox,n.unsubScroll)},this.tileClickHandler=function(e){if(e.preventDefault(),e.target.classList.contains("rrmc-article-tile-wrapping-link")){var t=e.target.getAttribute("href"),n=e.target.innerText.toLowerCase(),r=e.target.parentElement.querySelector(".rrmc-article-tile--title").innerText.toLowerCase(),i=""===n?""+r+n:r+"/"+n;c.fireCustomEvent({event:"headlineClick",eventCategory:"Inspiring Greatness",eventAction:"Headline Click",eventLabel:i,eventCallback:function(){window.location=t},eventTimeout:2e3})}},this.reflowTemplate=function(){if((0,i.is_tablet_portrait_down)()){if(n.completedReflowTablet)return;n.completedReflowTablet=!0,n.completedReflowDesktop=!1}else{if(n.completedReflowDesktop)return;n.completedReflowDesktop=!0,n.completedReflowTablet=!1}n.isMultipleRowsWithLastDouble()?a.ArticleTileReflowLastRowDouble.reflow(n.sandbox):o.ArticleTileReflowStandard.reflow(n.sandbox)}}return r(e,[{key:"isMultipleRowsWithLastDouble",value:function(){return"multipleRowsWithLastDouble"===this.tilesTemplate}},{key:"initListeners",value:function(){window.addEventListenerRR("resize",this.reflowTemplate),document.addEventListenerRR("scroll",this.scrollListener),this.sandbox.addEventListenerRR("click",this.tileClickHandler)}},{key:"load",value:function(){var e=this,t=this.sandbox.querySelectorAll(".rrmc-article-tile-img-wrapper img"),n=t[t.length-1];[].slice.call(t).forEach((function(r,o){(0,l.imageLazyLoaderPlain)(r,(function(){t[o]===n&&(e.initListeners(),(0,i.is_tablet_portrait_down)()&&e.reflowTemplate(),e.scrollListener())}))}))}}]),e}();u=document.querySelectorAll(".js-rrmc-article-tiles-grid"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(u).forEach((function(e){var t=new h(e);e.data={articleTilesInstance:t},t.load()}))}))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(459);var i=n(460),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),a=n(27);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var s,l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.parentEl=this.sandbox.parentElement,this.anchors=this.sandbox.querySelectorAll(".rrmc-article-tile-wrapping-link"),this.track=this.sandbox.querySelector(".js-rrmc-article-tile-carousel-track"),this.slides=this.sandbox.querySelectorAll(".rrmc-article-tile-slide"),this.currentSize=window.innerWidth>1440?"desktop":window.innerWidth>768?"tablet":"mobile",this.resetSlide=!1,this.unsubScroll=function(){document.removeEventListenerRR("scroll",n.scrollListener)},this.scrollListener=function(){(0,i.revealCards)(n.sandbox,n.unsubScroll)}}return r(e,[{key:"tileClickHandler",value:function(e){e.preventDefault();var t=e.target.classList,n=!1,r=e.target.getAttribute("href");if(t.contains("rrmc-article-tile-wrapping-link")||t.contains("js-rrmc-button-text")){e.target.classList.contains("js-rrmc-button-text")&&(n=!0,r=e.target.parentElement.href);var i=e.target.innerText.toLowerCase(),a=e.target.closest(".rrmc-article-tile--description"),s="",l="";!1===n?(s=a.querySelector(".rrmc-article-tile--title").innerText.toLowerCase(),l=""===i?""+s+i:s+"/"+i):l=""+i,o.fireCustomEvent({event:"headlineClick",eventCategory:"Inspiring Greatness",eventAction:n?"CTA Click":"Headline Click",eventLabel:l,eventCallback:function(){window.location=r},eventTimeout:2e3})}}},{key:"load",value:function(){var e=this,t=this.sandbox.querySelectorAll(".rrmc-article-tile-img-wrapper img"),n=t[t.length-1];[].slice.call(t).forEach((function(r,i){(0,a.imageLazyLoaderPlain)(r,(function(){t[i]===n&&(e.parentEl.addEventListenerRR("click",e.tileClickHandler),document.addEventListenerRR("scroll",e.scrollListener))}))}))}}]),e}();s=document.querySelectorAll(".js-rrmc-article-tiles-carousel"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(s).forEach((function(e){var t=new l(e);e.data={articleTilesCarouselInstance:t},t.load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleTileReflowStandard=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45);t.ArticleTileReflowStandard=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t}return r(e,[{key:"reset_state",value:function(){this.rowElements=this.container.querySelectorAll(".rrmc-article-tiles-row-container"),this.cardElements=this.container.querySelectorAll(".js-rrmc-article-tile"),this.fragment=document.createDocumentFragment(),this.templateContainer=this.rowElements.item(0).cloneNode(!1),this.cards=[].slice.call(this.cardElements),this.cardsSize=this.cards.length,this.rows=[].slice.call(this.rowElements),this.rowsSize=this.rows.length,this.itemsPerRow=null,this.tempRowContainer=this.templateContainer.cloneNode(!1)}},{key:"reflow_first_row",value:function(){if((0,i.is_tablet_portrait_down)()){this.cards=[].slice.call(this.cardElements);var e=this.cards.splice(0,1);this.tempRowContainer.appendChild(e[0]),this.itemsPerRow=2,this.cardsSize=this.cards.length}else{this.cards=[].slice.call(this.cardElements);var t=this.cards.splice(0,2);this.tempRowContainer.appendChild(t[0]),this.tempRowContainer.appendChild(t[1]),this.itemsPerRow=3,this.cardsSize=this.cards.length}}},{key:"reflow_rest",value:function(){for(var e=0;this.cardsSize>e;e++)e%this.itemsPerRow==0&&(this.fragment.appendChild(this.tempRowContainer),this.tempRowContainer=this.templateContainer.cloneNode(!1)),this.tempRowContainer.appendChild(this.cards[e])}},{key:"append_rows",value:function(){this.fragment.appendChild(this.tempRowContainer),this.container.appendChild(this.fragment)}},{key:"clean_up",value:function(){for(var e=0;this.rowsSize>e;e++)this.container.removeChild(this.rowElements.item(e))}},{key:"reflow",value:function(){this.reset_state(),this.reflow_first_row(),this.reflow_rest(),this.append_rows(),this.clean_up()}}],[{key:"reflow",value:function(t){new e(t).reflow()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleTileReflowLastRowDouble=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45);t.ArticleTileReflowLastRowDouble=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t}return r(e,[{key:"reset_state",value:function(){this.rowElements=this.container.querySelectorAll(".rrmc-article-tiles-row-container"),this.cardElements=this.container.querySelectorAll(".js-rrmc-article-tile"),this.fragment=document.createDocumentFragment(),this.templateContainer=this.rowElements.item(0).cloneNode(!1),this.cards=[].slice.call(this.cardElements),this.cardsSize=this.cards.length,this.rows=[].slice.call(this.rowElements),this.rowsSize=this.rows.length,this.itemsPerRow=null,this.tempRowContainer=this.templateContainer.cloneNode(!1),this.is_cards_suitable_for_last_row=(this.cardsSize-2)%3==0&&!(0,i.is_tablet_portrait_down)(),this.is_cards_suitable_for_last_row&&(this.lastTwoCards=this.cards.splice(-2,2),this.cardsSize=this.cards.length)}},{key:"attach_row_to_fragment",value:function(){this.fragment.appendChild(this.tempRowContainer),this.tempRowContainer=this.templateContainer.cloneNode(!1)}},{key:"reflow_start",value:function(){(0,i.is_tablet_portrait_down)()?this.itemsPerRow=2:this.itemsPerRow=3;for(var e=0;this.cardsSize>e;e++)e%this.itemsPerRow==0&&0!==e&&this.attach_row_to_fragment(),this.tempRowContainer.appendChild(this.cards[e]);this.attach_row_to_fragment()}},{key:"reflow_last",value:function(){this.is_cards_suitable_for_last_row&&(this.tempRowContainer.appendChild(this.lastTwoCards[0]),this.tempRowContainer.appendChild(this.lastTwoCards[1]),this.attach_row_to_fragment())}},{key:"append_rows",value:function(){this.container.appendChild(this.fragment)}},{key:"clean_up",value:function(){for(var e=0;this.rowsSize>e;e++)this.container.removeChild(this.rowElements.item(e))}},{key:"reflow",value:function(){this.reset_state(),this.reflow_start(),this.reflow_last(),this.append_rows(),this.clean_up()}}],[{key:"reflow",value:function(t){new e(t).reflow()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(523),n(109);var i=l(n(147)),o=n(27),a=l(n(46)),s=n(7);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.transitionMarker=this.container.querySelector(".rrmc-audio-hotspots-transition-marker"),this.originalWrapper=this.container.querySelector(".rrmc-audio-hotspots-wrapper-original"),this.alternateWrapper=this.container.querySelector(".rrmc-audio-hotspots-wrapper-alternate"),this.originalImage=this.container.querySelector(".js-rrmc-audio-hotspots-original-img"),this.originalImage&&(this.originalImage_img=this.container.querySelector(".rrmc-audio-hotspots-original-img")),this.alternateImage=this.container.querySelector(".js-rrmc-audio-hotspots-alternate-img"),this.alternateImage&&(this.alternateImage_img=this.container.querySelector(".rrmc-audio-hotspots-alternate-img")),this.aspect_ratio=this.container.querySelector(".js-rrmc-audio-hotspots-aspect"),this.transitionMarker=this.container.querySelector(".rrmc-audio-hotspots-transition-marker"),this.toggleSwitcher=this.container.querySelector("#isAlternateSelected"),this.toggleLabelOriginal=this.container.querySelector(".rrmc-audio-hotspots-toggle-label-original"),this.toggleLabelAlternate=this.container.querySelector(".rrmc-audio-hotspots-toggle-label-alternate"),this.originalDesktopHotspotsData=document.getElementsByClassName("rrmc-audio-hotspots-dataset-original-desktop"),this.originalTabletHotspotsData=document.getElementsByClassName("rrmc-audio-hotspots-dataset-original-tablet"),this.originalMobileHotspotsData=document.getElementsByClassName("rrmc-audio-hotspots-dataset-original-mobile"),this.alternateDesktopHotspotsData=document.getElementsByClassName("rrmc-audio-hotspots-dataset-alternate-desktop"),this.alternateTabletHotspotsData=document.getElementsByClassName("rrmc-audio-hotspots-dataset-alternate-tablet"),this.alternateMobileHotspotsData=document.getElementsByClassName("rrmc-audio-hotspots-dataset-alternate-mobile"),this.transitionTimeline=(new s.TimelineLite).addLabel("start").fromTo(this.alternateImage,1,{opacity:0},{opacity:1},"start").fromTo(this.originalImage,1,{opacity:1},{opacity:0},"start"),this.load_images=function(e){(0,o.pictureLazyLoaderPlain)(n.originalImage,(function(){n.alternateImage?(0,o.pictureLazyLoaderPlain)(n.alternateImage,(function(){"objectFit"in document.documentElement.style==!1&&(0,a.default)(n.alternateImage_img),e()})):e()}))},this.set_aspect_ratio=function(){new Promise((function(e){n.load_images(e)})).then((function(){n.on_resize()}))},this.on_resize=function(){for(var e=document.getElementsByClassName("rrmc-audio-hotspots-audio-player"),t=0;t<e.length;t++)n.player=videojs.getPlayer(e[t]),n.player.pause();new IntersectionObserver((function(){n.container.querySelector("#isAlternateSelected").checked?n.renderHotspots(n.getHotspotsForAlternateImage()):n.renderHotspots(n.getHotspotsForOriginalImage()),n.toggleSwitcher.addEventListener("change",(function(){if(n.container.querySelector("#isAlternateSelected").checked){n.transitionTimeline.play(),n.renderHotspots(n.getHotspotsForAlternateImage());for(var e=document.getElementsByClassName("rrmc-audio-hotspots-audio-player"),t=0;t<e.length;t++)n.player=videojs.getPlayer(e[t]),n.player.pause();n.toggleLabelOriginal.classList.remove("active"),n.toggleLabelAlternate.classList.add("active")}else{n.transitionTimeline.reverse(),n.renderHotspots(n.getHotspotsForOriginalImage());for(var r=document.getElementsByClassName("rrmc-audio-hotspots-audio-player"),i=0;i<r.length;i++)n.player=videojs.getPlayer(r[i]),n.player.pause();n.toggleLabelAlternate.classList.remove("active"),n.toggleLabelOriginal.classList.add("active")}}))})).observe(n.transitionMarker),n.set_container_aspect_ratio_image()}}return r(e,[{key:"getHotspotsForOriginalImage",value:function(){return window.innerWidth>=1020?this.getHotspotsPoints(this.originalDesktopHotspotsData):window.innerWidth>=768?this.getHotspotsPoints(this.originalTabletHotspotsData):this.getHotspotsPoints(this.originalMobileHotspotsData)}},{key:"getHotspotsForAlternateImage",value:function(){return window.innerWidth>=1020?this.getHotspotsPoints(this.alternateDesktopHotspotsData):window.innerWidth>=768?this.getHotspotsPoints(this.alternateTabletHotspotsData):this.getHotspotsPoints(this.alternateMobileHotspotsData)}},{key:"getHotspotsPoints",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].dataset.posx,i=e[n].dataset.posy,o=e[n].dataset.audio,a={x:r/100*this.originalWrapper.offsetWidth+"px",y:i/100*this.originalWrapper.offsetHeight+"px",audio:o};t.push(a)}return t}},{key:"renderHotspots",value:function(e){for(var t=this,n=document.getElementsByClassName("rrmc-audio-hotspots-overlay-image");n[0];)n[0].parentNode.removeChild(n[0]);var r=[],i=[];e.forEach((function(e){var n="rrmc-audio-hotspots-audio-play-"+e.audio,i=document.getElementsByClassName(n);t.player=videojs.getPlayer(i[0]),r.push(t.player)}));var o=document.querySelector(".rrmc-audio-hotspots-display-overlay");e.forEach((function(e){var n=document.createElement("img");n.style.left=e.x,n.style.top=e.y,n.className="rrmc-audio-hotspots-overlay-image",n.src="/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/img/rr-hotspot-off.svg",o.appendChild(n);var a=!1;n.addEventListener("click",(function(){if(a){n.src="/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/img/rr-hotspot-off.svg",a=!1;var o="rrmc-audio-hotspots-audio-play-"+e.audio,s=document.getElementsByClassName(o);t.player=videojs.getPlayer(s[0]),t.player.pause()}else{n.src="/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/img/rr-hotspot-on.svg",a=!0;var l="rrmc-audio-hotspots-audio-play-"+e.audio,c=document.getElementsByClassName(l);t.player=videojs.getPlayer(c[0]),t.player.play(),r.forEach((function(e){e!=t.player&&e.pause()})),i.forEach((function(e){e!=n&&(e.src="/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/img/rr-hotspot-off.svg")}))}})),i.push(n)}))}},{key:"load",value:function(){window.addEventListenerRR("resize",this.on_resize),this.set_aspect_ratio()}},{key:"destroy",value:function(){this.alternateImage&&s.TweenLite.set([this.alternateImage,this.originalImage],{clearProps:"all"})}},{key:"set_container_padding_bottom",value:function(e){this.aspect_ratio.style.paddingBottom=100*e+"%"}},{key:"set_container_aspect_ratio_image",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};(0,i.default)((function(){return 0!==e.originalImage_img.naturalWidth}),(function(){var n=e.originalImage_img,r=n.naturalWidth,i=n.naturalHeight;e.image_aspect_ratio=i/r,e.set_container_padding_bottom(e.image_aspect_ratio),t()}),this)}}]),e}();t.default=c,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-audio-hotspots-container");[].slice.call(e).forEach((function(e){var t=new c(e);e.data={audioHotspotsInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(461);var i,o=n(525),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioPlaylist=t,this.audioPlaylist.setAttribute("data-id",Date.now().toString()),this.playerEls=this.audioPlaylist.querySelectorAll(".rrmc-audio-episode"),this.players=[]}return r(e,[{key:"createPlayer",value:function(e){var t=this,n=new a.default(e);this.players.push({wrapper:e,instance:n}),n.addEventListener("paused",(function(){[].slice.call(t.players).forEach((function(e){e.instance.fadeIn()}))})),n.load()}},{key:"load",value:function(){var e=this;[].slice.call(this.playerEls).forEach((function(t){e.createPlayer(t)}))}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".rrmc-audio");[].slice.call(e).forEach((function(e){e.hasAttribute("data-initialised")||(e.setAttribute("data-initialised","true"),new s(e).load())}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(461);var i,o=n(153),a=n(7),s=n(45),l=n(14),c=(i=l)&&i.__esModule?i:{default:i};var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioPlayer=t,this.infoIcon=this.audioPlayer.querySelector(".rrmc-audio-episode-info-icon"),this.infoIconWrapper=this.audioPlayer.querySelector(".rrmc-audio-episode-info-icon-wrapper"),this.player=this.audioPlayer.querySelector(".vjs-tech"),this.controlWrapper=this.audioPlayer.querySelector(".rrmc-audio-button-wrapper"),this.playPause=this.audioPlayer.querySelector(".rrmc-audio-play-button"),this.dateInfo=this.audioPlayer.querySelector(".rrmc-date-wrapper"),this.infoWrapper=this.audioPlayer.querySelector(".rrmc-audio-episode-information-wrap"),this.playerWrapper=this.audioPlayer.querySelector(".rrmc-audio-player-wrapper"),this.desc=this.infoWrapper.querySelector(".rrmc-audio-episode-information"),this.isPlaying=!1,this.infoOpen=!1,this.currentLayout=(0,s.is_mobile)()?"mobile":"",this.subs={},this.subs.playing=new o.Subject,this.subs.paused=new o.Subject,this.vjsPlayer=videojs.getPlayer(this.player),this.unsubs={},this.toggleAudioPlay=function(){n.isPlaying?n.manualPause():n.playPlayer()},this.clearAnimations=function(){n.pausePlayer(),n.hidePlayer(),n.closeInfo()},this.fadeOut=function(){n.audioPlayer.classList.add("rrmc-audio-episode--faded")},this.fadeIn=function(){n.audioPlayer.classList.remove("rrmc-audio-episode--faded")},this.manualPause=function(){n.pausePlayer(),n.subs.paused.next()},this.pausePlayer=function(){n.pause(),n.hidePlayer(),n.playPause.classList.remove("rrmc-audio-pause-button"),n.audioPlayer.classList.remove("rrmc-audio-episode-playing"),n.playPause.setAttribute("aria-label","play"),n.isPlaying=!1},this.playPlayer=function(){n.fadeIn(),n.play(),n.showPlayer(),n.playPause.classList.add("rrmc-audio-pause-button"),n.playPause.setAttribute("aria-label","pause"),n.audioPlayer.classList.add("rrmc-audio-episode-playing"),n.subs.playing.next(),n.isPlaying=!0;var e=videojs.getPlayer(n.player);c.default.sub_audio_manager_bus.next({thisPlayer:e})},this.hidePlayer=function(){a.gsap.timeline().add("start").to(n.playerWrapper,.4,{height:0},"start")},this.showPlayer=function(){a.gsap.timeline().add("start").to(n.playerWrapper,.4,{height:50},"start")},this.resetProgress=function(){videojs(n.player).currentTime(0)},this.audioFinished=function(){n.clearAnimations(),n.resetProgress()},this.openInfo=function(){var e=10;(0,s.is_mobile)()&&(e+=n.audioPlayer.querySelector(".rrmc-audio-episode-information").clientHeight),[].slice.call(n.desc.childNodes).forEach((function(t){var n=parseInt(t.clientHeight);e+=isNaN(n)?0:n})),n.infoIconWrapper&&n.infoIconWrapper.classList.add("rrmc-audio-episode-info-icon-wrapper-expanded"),a.gsap.timeline().add("start").set(n.infoWrapper,{visibility:"visible"},"start").to(n.infoWrapper,.4,{height:e},"start").to([n.desc,n.dateInfo],.2,{opacity:1},"start+0.2"),n.infoOpen=!0},this.closeInfo=function(){a.gsap.timeline().add("start").to([n.desc,n.dateInfo],.2,{opacity:0},"start").to(n.infoWrapper,.4,{height:0},"start+0.2").set(n.infoWrapper,{visibility:"hidden"}),n.infoIconWrapper&&n.infoIconWrapper.classList.remove("rrmc-audio-episode-info-icon-wrapper-expanded"),n.infoOpen=!1},this.toggleInfoDisplay=function(){n.infoOpen?n.closeInfo():n.openInfo()}}return r(e,[{key:"initAnalytics",value:function(){}},{key:"pause",value:function(){videojs(this.player).pause()}},{key:"play",value:function(){videojs(this.player).play()}},{key:"addJumpEventListeners",value:function(){for(var e=this,t=this.audioPlayer.querySelectorAll(".rrmc-audio-jump"),n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){if(t.target.classList.contains("rrmc-audio-jump-back")){var n=void 0,r=videojs(e.player).currentTime();n=r>=15?r-15:0,videojs(e.player).currentTime(n)}else if(t.target.classList.contains("rrmc-audio-jump-ahead")){var i=void 0,o=videojs(e.player).currentTime(),a=videojs(e.player).duration();i=o+15<=a?o+15:a,videojs(e.player).currentTime(i)}}))}},{key:"initAudioLayout",value:function(){var e=document.createElement("div"),t=document.createElement("div"),n=this.playerWrapper.querySelector(".vjs-control-bar");e.classList.add("rrmc-audio-jump"),e.classList.add("rrmc-audio-jump-back"),t.classList.add("rrmc-audio-jump"),t.classList.add("rrmc-audio-jump-ahead"),n.appendChild(e),n.appendChild(t);var r=videojs(this.player);r.userActive(!0),r.bigPlayButton.hide(),r.controlBar.getChild("FullscreenToggle").hide(),r.controlBar.getChild("PlayToggle").hide();var i=r.getChild("errorDisplay");i.off(r,"error",i.open),i.dispose();for(var o=this.playerWrapper.querySelectorAll(".vjs-time-control"),a=0;a<o.length;a++)n.appendChild(o[a]);this.addJumpEventListeners()}},{key:"load",value:function(){this.initListeners(),this.initAudioLayout(),this.initAnalytics()}},{key:"updateLayout",value:function(){this.currentLayout}},{key:"initListeners",value:function(){var e=this;this.infoIcon&&this.infoIcon.addEventListenerRR("click",this.toggleInfoDisplay),this.controlWrapper.addEventListenerRR("click",this.toggleAudioPlay),videojs(this.player).on("ended",this.audioFinished),window.addEventListenerRR("resize",this.updateLayout),c.default.sub_audio_manager_bus.subscribe({next:function(t){e.vjsPlayer.id()!==t.thisPlayer.id()&&(e.pausePlayer(),e.fadeOut())}})}},{key:"addEventListener",value:function(e,t){this.unsubs[e]||(this.unsubs[e]={}),this.unsubs[e][t]=this.subs[e].subscribe({next:t})}}]),e}();t.default=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7);n(527);var o,a=n(14),s=(o=a)&&o.__esModule?o:{default:o};var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.is_edit_mode=this.container.hasAttribute("data-is-edit-mode"),this.elm_quote=this.container.querySelector(".js-rrmc-blockquote-quote"),this.elm_name=this.container.querySelector(".js-rrmc-blockquote-name"),this.elm_title=this.container.querySelector(".js-rrmc-blockquote-job-title"),this.on_scroll=function(){(n.is_edit_mode||window.pageYOffset+window.innerHeight>n.container_top)&&(document.removeEventListenerRR("scroll",n.on_scroll),setTimeout((function(){n.reveal()}),500))}}return r(e,[{key:"reveal",value:function(){var e=new i.TimelineLite;this.elm_quote&&e.fromTo(this.elm_quote,1.25,{opacity:0,y:"100%"},{opacity:1,y:"0%",ease:i.Power2.easeOut}),this.elm_name&&e.fromTo(this.elm_name,.5,{opacity:0,y:"100%"},{opacity:1,y:"0%",ease:i.Power2.easeOut},"-=.25"),this.elm_title&&e.fromTo(this.elm_title,.5,{opacity:0,y:"100%"},{opacity:1,y:"0%",ease:i.Power2.easeOut},"-=.25")}},{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_top=e.top+window.pageYOffset}},{key:"load",value:function(){var e=this;this.get_container_top(),document.addEventListenerRR("scroll",this.on_scroll),s.default.sub_loaded_component.subscribe({next:function(){return e.get_container_top()}})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-blockquote");[].slice.call(e).forEach((function(e){new l(e).load()}))}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(530),n(109);var i,o=n(531),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),s=n(46),l=(i=s)&&i.__esModule?i:{default:i};var c,u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.rows=this.sandbox.querySelectorAll(".rrmc-collections-grid-row"),this.cards=this.sandbox.querySelectorAll(".js-rrmc-accessories-tile"),this.unsubScroll=function(){document.removeEventListener("scroll",n.scrollListener)},this.scrollListener=function(){(0,o.revealCards)(n.sandbox,n.unsubScroll)},this.tileClickHandler=function(e){if(e.preventDefault(),e.target.classList.contains("rrmc-accessories-tile-wrapping-link")){var t=e.target.getAttribute("href"),r="?productList="+encodeURIComponent("Collection "+n.sandbox.getAttribute("data-collection-name"));window.location=t+r}}}return r(e,[{key:"initListeners",value:function(){window.addEventListener("resize",this.generateTemplate),document.addEventListener("scroll",this.scrollListener),this.sandbox.addEventListener("click",this.tileClickHandler)}},{key:"polyfill_tile_images",value:function(){"objectFit"in document.documentElement.style==!1&&(0,l.default)(this.sandbox.querySelectorAll(".rrmc-accessories-tile-img-wrapper-img"))}},{key:"load",value:function(){this.polyfill_tile_images(),this.initListeners(),this.scrollListener(),a.trackImpressions(this.cards,"Collection "+this.sandbox.getAttribute("data-collection-name"))}}]),e}();c=document.querySelectorAll(".js-rrmc-collections-grid"),document.addEventListener("DOMContentLoaded",(function(){[].slice.call(c).forEach((function(e){var t=new u(e);e.data={articleTilesInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealCardRow=i,t.revealCards=function(e,t){var n=e.querySelectorAll("[data-row-to-animate=true]");0===n.length&&t();[].slice.call(n).forEach((function(e){var t=e.getBoundingClientRect().top+window.pageYOffset;window.pageYOffset+window.innerHeight>t&&(e.setAttribute("data-row-to-animate",!1),i(e))}))};var r=n(7);function i(e){var t=e.querySelectorAll(".rrmc-accessories-tile");r.gsap.timeline().staggerFromTo(t,1,{opacity:0,y:"100px"},{opacity:1,y:"0"},.33)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(533),n(109);var i=n(27),o=n(7);var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.img=this.container.querySelector(".js-rrmc-collections-hero-img"),this.svg=this.container.querySelector(".rrmc-collections-hero--svg")}return r(e,[{key:"setSvg",value:function(){var e=this.svg.getAttribute("data-svg-name");this.svg.classList.add(e)}},{key:"imageLoaded",value:function(){o.gsap.timeline().fromTo(this.container,1,{opacity:0,y:"100px"},{opacity:1,y:"0"},.33)}},{key:"load",value:function(){(0,i.pictureLazyLoaderPlain)(this.img,this.imageLoaded.bind(this)),this.setSvg()}}]),e}();t.default=a,window.addEventListener("load",(function(){var e=document.querySelectorAll(".js-rrmc-collections-hero");[].slice.call(e).forEach((function(e){var t=new a(e);e.data={collectionsHeroInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(535);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0));var i,o=n(536),a=n(111),s=(i=a)&&i.__esModule?i:{default:i},l=n(112);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function e(t,n){c(this,e);var r=t.querySelector(".js-rrmc-color-picker-scroll-icon-cp");r.hasAttribute("data-anim-on")&&s.default.loadAnimation({container:r,renderer:"svg",loop:!0,autoplay:!0,animationData:l.anim_hero_scroll}),new o.Sketch(t,{position:n+1,duration:3.85,debug:!1,easing:"easeOut",uniforms:{radius:{value:.9,type:"f",min:.1,max:2},width:{value:0,type:"f",min:0,max:1},uSpikes:{value:2.75,type:"f"},uRadius:{value:.25,type:"f"}},fragment:"\n                uniform float time;\n                uniform float progress;\n                uniform float width;\n                uniform float scaleX;\n                uniform float scaleY;\n                uniform float transition;\n                uniform float radius;\n                uniform float swipe;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform sampler2D texture3;\n                uniform sampler2D displacement;\n                uniform vec4 resolution;\n                uniform float uSpikes;\n                  uniform float uRadius;\n\n                varying vec2 vUv;\n                varying vec4 vPosition;\n\n                vec3 mod289(vec3 x) {\n                    return x - floor(x * (1.0 / 289.0)) * 289.0;\n                }\n\n                vec4 mod289(vec4 x) {\n                    return x - floor(x * (1.0 / 289.0)) * 289.0;\n                }\n\n                vec4 permute(vec4 x) {\n                    return mod289(((x*34.0)+10.0)*x);\n                }\n\n                vec4 taylorInvSqrt(vec4 r)\n                {\n                    return 1.79284291400159 - 0.85373472095314 * r;\n                }\n\n                float snoise(vec3 v)\n                {\n                    const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n                    const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n                    // First corner\n                    vec3 i  = floor(v + dot(v, C.yyy) );\n                    vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n                    // Other corners\n                    vec3 g = step(x0.yzx, x0.xyz);\n                    vec3 l = 1.0 - g;\n                    vec3 i1 = min( g.xyz, l.zxy );\n                    vec3 i2 = max( g.xyz, l.zxy );\n\n                    //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n                    //   x1 = x0 - i1  + 1.0 * C.xxx;\n                    //   x2 = x0 - i2  + 2.0 * C.xxx;\n                    //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n                    vec3 x1 = x0 - i1 + C.xxx;\n                    vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n                    vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n                    // Permutations\n                    i = mod289(i);\n                    vec4 p = permute( permute( permute(\n                      i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n                    + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n                    + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n                    // Gradients: 7x7 points over a square, mapped onto an octahedron.\n                    // The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n                    float n_ = 0.142857142857; // 1.0/7.0\n                    vec3  ns = n_ * D.wyz - D.xzx;\n\n                    vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n                    vec4 x_ = floor(j * ns.z);\n                    vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n                    vec4 x = x_ *ns.x + ns.yyyy;\n                    vec4 y = y_ *ns.x + ns.yyyy;\n                    vec4 h = 1.0 - abs(x) - abs(y);\n\n                    vec4 b0 = vec4( x.xy, y.xy );\n                    vec4 b1 = vec4( x.zw, y.zw );\n\n                    //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n                    //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n                    vec4 s0 = floor(b0)*2.0 + 1.0;\n                    vec4 s1 = floor(b1)*2.0 + 1.0;\n                    vec4 sh = -step(h, vec4(0.0));\n\n                    vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n                    vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n                    vec3 p0 = vec3(a0.xy,h.x);\n                    vec3 p1 = vec3(a0.zw,h.y);\n                    vec3 p2 = vec3(a1.xy,h.z);\n                    vec3 p3 = vec3(a1.zw,h.w);\n\n                    //Normalise gradients\n                    vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n                    p0 *= norm.x;\n                    p1 *= norm.y;\n                    p2 *= norm.z;\n                    p3 *= norm.w;\n\n                    // Mix final noise value\n                    vec4 m = max(0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n                    m = m * m;\n                    return 105.0 * dot(m*m, vec4(dot(p0,x0), dot(p1,x1), dot(p2,x2), dot(p3,x3)));\n                }\n\n                float circle(in vec2 st, in float r, vec2 pos){\n                    float dist = distance(st, pos);\n                    return 1.0 - smoothstep(r-r*0.001, r+r*0.001, dist);\n                }\n                float circle(in vec2 st, in float r){\n                    float dist = distance(st, vec2(0.5));\n                    return 1.0 - smoothstep(r-r*0.2, r+r*0.2, dist);\n                    //return 1.0 - smoothstep(r-r*0.3, r+r*0.3, dist);\n                    //return 1.0 - smoothstep(r-r*0.65, r+r*0.65, dist);\n                    //return 1.0 - smoothstep(r-r*0.15, r+r*0.15, dist);\n                    //return 1.0 - smoothstep(r-r*0.001, r+r*0.001, dist);\n                }\n\n                float map(float value, float min1, float max1, float min2, float max2) {\n                    return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n                }\n\n                void main()\t{\n                    vec2 newUV = (vUv - vec2(0.5))*resolution.zw + vec2(0.5);\n\n                    vec2 uv = newUV;\n\n                    vec4 t1 = texture2D( texture1, uv );\n                    vec4 t2 = texture2D( texture2, uv );\n                    vec4 t3 = texture2D( texture3, uv );\n\n                    vec2 tempUV = uv;\n                    tempUV.x += 0.6;\n                    tempUV.y /= 2.0;\n                    tempUV.y += 0.5;\n\n                    float radiusModifier = uRadius*(time/3.25);\n                    //float radiusModifier = uRadius*(time/4.8);\n                    //float radiusModifier = uRadius*(time/7.5);\n                    float imageBlobNoise = snoise(vec3((uv.x) * uSpikes, (uv.y) * uSpikes, time / 10.0));\n\n                    float radius = map(imageBlobNoise, 0.0, 1.0, radiusModifier*0.85, radiusModifier);\n                    float mask = circle(tempUV, radius);\n                    float maskB = circle(tempUV, radius*1.1);\n                    float maskC = circle(tempUV, radius*0.9);\n\n                    vec4 colour1 = mix( t1, t3, maskB);\n                    vec4 colour2 = mix( t3, t2, maskC);\n                    //vec4 finalColour = mix( colour1, colour2, mask);\n                    vec4 finalColour = mix( t1, t2, mask);\n                    gl_FragColor = finalColour;\n                }\n            "})},h=function(){function e(){c(this,e),this.containers=document.querySelectorAll(".contentWrapper")}return r(e,[{key:"load",value:function(){[].slice.call(this.containers).forEach((function(e,t){return new u(e,t)}))}}]),e}();window.addEventListenerRR("load",(function(){(new h).load()}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),a=n(537),s=(r=a)&&r.__esModule?r:{default:r},l=n(7),c=u(n(18));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=window.location.search,a=new URLSearchParams(i);this.defaultObjectByName=a.get("default"),this.callingId=Math.round(this.getRandomArbitrary(1e5,999999)),this.autoProgress=null,this.inView=!1,this.scrollPosition=0,this.scrollPercentage=0,this.screenHeights=window.innerHeight,this.scene=new o.Scene,this.vertex="varying vec2 vUv;void main() {vUv = uv;gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );}",this.fragment=n.fragment,this.uniforms=n.uniforms,this.renderer=new o.WebGLRenderer,this.width=window.innerWidth,this.height=window.innerHeight,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.setClearColor(15658734,1),this.duration=n.duration||1,this.debug=n.debug||!1,this.easing=n.easing||"easeInOut",this.position=n.position,this.coloursSeen=[],this.container=t.querySelector(".innerContent"),this.selectors=t.querySelector(".selectors"),this.selectorElements=t.querySelectorAll(".colourSquare"),this.images=t.querySelectorAll(".slider"),this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.container.appendChild(this.renderer.domElement),this.camera=new o.PerspectiveCamera(70,window.innerWidth/window.innerHeight,.001,1e3),this.camera.position.set(0,0,2),this.time=0,this.clock=new o.Clock,this.current=0,this.textures=[],this.texturesIDs=[],this.texturesNames=[],this.transitionTexture=null,this.paused=!0,this.initiate((function(){null!==r.defaultObjectByName&&r.setDefault(),r.setupResize(),r.settings(),r.addObjects(),r.resize(),r.clickEvent(),r.play(),r.events(),r.checkScroll(r),r.autoChange(),r.defaultPip=t.querySelector(".defaultFocus"),void 0!==r.defaultPip.dataset.id&&null===r.defaultObjectByName&&r.addFocus(parseInt(r.defaultPip.dataset.id))}))}return i(e,[{key:"restartInterval",value:function(){this.autoChange()}},{key:"autoChange",value:function(){var e=this,t=this;clearInterval(t.autoProgress),t.autoProgress=setInterval((function(){t.changeToNext();var n=t.texturesNames[(t.current+1)%t.textures.length];t.inView&&-1===e.coloursSeen.indexOf(n)&&(c.fireCustomEvent({event:"colour picker",eventCategory:"colour picker",eventAction:e.position+": auto cycle",eventLabel:n}),e.coloursSeen.push(n))}),7500)}},{key:"changeToNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this;t.isRunning||(t.clock=new o.Clock,t.time=0,t.removeFocus(),t.next(e))}},{key:"getRandomArbitrary",value:function(e,t){return Math.random()*(t-e)+e}},{key:"selectTexture",value:function(e){var t=window.innerWidth;switch(!0){case t<=768:return e.mobile;case t<=1024:return e.tablet;default:return e.desktop}}},{key:"initiate",value:function(e){var t=this,n=[],r=this;this.images.forEach((function(e,i){var a=new Promise((function(n){r.textures[i]=(new o.TextureLoader).load(t.selectTexture(e.dataset),n),void 0!==e.dataset.colorname&&(r.texturesIDs[e.dataset.colorname]=i,r.texturesNames[i]=e.dataset.colorname),void 0!==e.dataset.defaultcolor&&null===t.defaultObjectByName&&t.setById(i)}));n.push(a)})),Promise.all(n).then((function(){e()}))}},{key:"removeFocus",value:function(){this.selectorElements.forEach((function(e){e.classList.remove("focus")}))}},{key:"addFocus",value:function(e){this.selectorElements.forEach((function(t,n){parseInt(e)===n&&t.classList.add("focus")}))}},{key:"clickEvent",value:function(){var e=this,t=this;this.container.addEventListener("click",(function(){if(!t.isRunning){var n=t.texturesNames[(t.current+1)%t.textures.length];c.fireCustomEvent({event:"colour picker",eventCategory:"colour picker",eventAction:e.position+": image cycle",eventLabel:n}),-1===e.coloursSeen.indexOf(n)&&e.coloursSeen.push(n),t.changeToNext(),e.restartInterval()}})),this.selectors.addEventListener("pointerup",(function(n){if(!t.isRunning){var r=t.texturesNames[n.target.dataset.id];c.fireCustomEvent({event:"colour picker",eventCategory:"colour picker",eventAction:e.position+": pip select",eventLabel:r}),-1===e.coloursSeen.indexOf(r)&&e.coloursSeen.push(r),t.changeToNext(n.target.dataset.id),e.restartInterval()}}))}},{key:"settings",value:function(){var e=this;this.debug&&(this.gui=new s.default),this.settings={progress:.5},Object.keys(this.uniforms).forEach((function(t){e.settings[t]=e.uniforms[t].value,e.debug&&e.gui.add(e.settings,t,e.uniforms[t].min,e.uniforms[t].max,.01)}))}},{key:"setupResize",value:function(){window.addEventListener("resize",this.resize.bind(this))}},{key:"resize",value:function(){this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.imageAspect=this.textures[0].image.height/this.textures[0].image.width;var e=void 0,t=void 0;this.height/this.width>this.imageAspect?(e=this.width/this.height*this.imageAspect,t=1):(e=1,t=this.height/this.width/this.imageAspect),this.material.uniforms.resolution.value.x=this.width,this.material.uniforms.resolution.value.y=this.height,this.material.uniforms.resolution.value.z=e,this.material.uniforms.resolution.value.w=t;var n=this.camera.position.z;this.camera.fov=180/Math.PI*2*Math.atan(1/(2*n)),this.plane.scale.x=this.camera.aspect,this.plane.scale.y=1,this.camera.updateProjectionMatrix()}},{key:"addObjects",value:function(){this.material=new o.ShaderMaterial({extensions:{derivatives:"#extension GL_OES_standard_derivatives : enable"},side:o.DoubleSide,uniforms:{time:{type:"f",value:0},progress:{type:"f",value:0},border:{type:"f",value:0},intensity:{type:"f",value:0},scaleX:{type:"f",value:40},scaleY:{type:"f",value:40},transition:{type:"f",value:40},swipe:{type:"f",value:0},width:{type:"f",value:0},radius:{type:"f",value:0},texture1:{type:"f",value:this.textures[this.current]},texture2:{type:"f",value:this.textures[this.current+1]},texture3:{type:"f",value:null},displacement:{type:"f",value:null},resolution:{type:"v4",value:new o.Vector4},uSpikes:{value:1.5,type:"f"},uRadius:{value:.5,type:"f"},direction:{value:new o.Vector2(1,-1),type:"v2"},strength:{value:.1,type:"f"}},vertexShader:this.vertex,fragmentShader:this.fragment}),this.geometry=new o.PlaneGeometry(1,1,2,2),this.plane=new o.Mesh(this.geometry,this.material),this.scene.add(this.plane)}},{key:"stop",value:function(){this.paused=!0}},{key:"setDefault",value:function(){void 0!==this.texturesIDs[this.defaultObjectByName]?this.setByName(this.defaultObjectByName):this.defaultObjectByName=null}},{key:"setById",value:function(e){this.removeFocus(),this.current=e,this.addFocus(this.current)}},{key:"setByName",value:function(e){this.removeFocus(),this.current=this.texturesIDs[e],this.addFocus(this.current)}},{key:"play",value:function(){this.paused=!1,this.render()}},{key:"next",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isRunning){this.isRunning=!0;var r=this.textures.length,i=null!==t?this.textures[t]:this.textures[(this.current+1)%r];this.material.uniforms.texture2.value=i;var o=new l.TimelineMax,a=null!==t?t:(this.current+1)%r;if(this.addFocus(a),n){var s=new CustomEvent("changeSlide",{detail:{id:a,colour:void 0!==this.texturesNames[a]?this.texturesNames[a]:null,callingId:this.callingId}});window.dispatchEvent(s)}o.to(this.material.uniforms.progress,this.duration,{value:1,ease:l.Power2[this.easing],onComplete:function(){console.log("FINISH"),e.current=parseInt(null!==t?t:(e.current+1)%r),e.material.uniforms.texture1.value=i,e.material.uniforms.progress.value=0,e.isRunning=!1}})}}},{key:"events",value:function(){var e=this;window.addEventListener("scroll",(function(){e.checkScroll(e)})),window.addEventListener("changeSlide",(function(t){t.detail.callingId!==e.callingId&&void 0!==e.texturesIDs[t.detail.colour]&&(e.removeFocus(),e.next(e.texturesIDs[t.detail.colour],!1))}),{passive:!0})}},{key:"getOffset",value:function(e){return{top:e.getBoundingClientRect().top}}},{key:"checkScroll",value:function(e){if(e.scrollPosition=e.getOffset(e.container).top,e.scrollPosition>-e.screenHeights&&e.scrollPosition<e.screenHeights){var t=e.texturesNames[e.current];-1===this.coloursSeen.indexOf(t)&&(c.fireCustomEvent({event:"colour picker",eventCategory:"colour picker",eventAction:this.position+": view",eventLabel:e.texturesNames[e.current]}),this.coloursSeen.push(t)),e.inView=!0,e.scrollPercentage=Math.abs(Math.min(0,e.scrollPosition/e.screenHeights))}else e.inView=!1}},{key:"render",value:function(){var e=this;if(this.isRunning&&this.inView){if(this.paused)return;this.time+=6*this.clock.getDelta(),this.material.uniforms.time.value=this.time,Object.keys(this.uniforms).forEach((function(t){e.material.uniforms[t].value=e.settings[t]}))}requestAnimationFrame(this.render.bind(this)),this.inView&&this.renderer.render(this.scene,this.camera)}}]),e}();t.Sketch=h},function(e,t,n){"use strict";n.r(t),n.d(t,"BooleanController",(function(){return i})),n.d(t,"ColorController",(function(){return u})),n.d(t,"Controller",(function(){return r})),n.d(t,"FunctionController",(function(){return h})),n.d(t,"GUI",(function(){return v})),n.d(t,"NumberController",(function(){return d})),n.d(t,"OptionController",(function(){return p})),n.d(t,"StringController",(function(){return f}));
/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.18.2
 * @author George Michael Brower
 * @license MIT
 */
class r{constructor(e,t,n,i,o="div"){this.parent=e,this.object=t,this.property=n,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(i),this.$name=document.createElement("div"),this.$name.classList.add("name"),r.nextNameID=r.nextNameID||0,this.$name.id="lil-gui-name-"+ ++r.nextNameID,this.$widget=document.createElement(o),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",e=>e.stopPropagation()),this.domElement.addEventListener("keyup",e=>e.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(n)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),void 0!==this._onChange&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),void 0!==this._onFinishChange&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled||(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e)),this}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(e){const t=this.parent.add(this.object,this.property,e);return t.name(this._name),this.destroy(),t}min(e){return this}max(e){return this}step(e){return this}decimals(e){return this}listen(e=!0){return this._listening=e,void 0!==this._listenCallbackID&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class i extends r{constructor(e,t,n){super(e,t,n,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function o(e){let t,n;return(t=e.match(/(#|0x)?([a-f0-9]{6})/i))?n=t[2]:(t=e.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=e.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),!!n&&"#"+n}const a={isPrimitive:!0,match:e=>"number"==typeof e,fromHexString:e=>parseInt(e.substring(1),16),toHexString:e=>"#"+e.toString(16).padStart(6,0)},s={isPrimitive:!1,match:e=>Array.isArray(e),fromHexString(e,t,n=1){const r=a.fromHexString(e);t[0]=(r>>16&255)/255*n,t[1]=(r>>8&255)/255*n,t[2]=(255&r)/255*n},toHexString:([e,t,n],r=1)=>a.toHexString(e*(r=255/r)<<16^t*r<<8^n*r<<0)},l={isPrimitive:!1,match:e=>Object(e)===e,fromHexString(e,t,n=1){const r=a.fromHexString(e);t.r=(r>>16&255)/255*n,t.g=(r>>8&255)/255*n,t.b=(255&r)/255*n},toHexString:({r:e,g:t,b:n},r=1)=>a.toHexString(e*(r=255/r)<<16^t*r<<8^n*r<<0)},c=[{isPrimitive:!0,match:e=>"string"==typeof e,fromHexString:o,toHexString:o},a,s,l];class u extends r{constructor(e,t,n,r){var i;super(e,t,n,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=(i=this.initialValue,c.find(e=>e.match(i))),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const e=o(this.$text.value);e&&this._setValueFromHexString(e)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const t=this._format.fromHexString(e);this.setValue(t)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class h extends r{constructor(e,t,n){super(e,t,n,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",e=>{e.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class d extends r{constructor(e,t,n,r,i,o){super(e,t,n,"number"),this._initInput(),this.min(r),this.max(i);const a=void 0!==o;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}decimals(e){return this._decimals=e,this.updateDisplay(),this}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,t=!0){return this._step=e,this._stepExplicit=t,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let t=(e-this._min)/(this._max-this._min);t=Math.max(0,Math.min(t,1)),this.$fill.style.width=100*t+"%"}return this._inputFocused||(this.$input.value=void 0===this._decimals?e:e.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id);window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=e=>{const t=parseFloat(this.$input.value);isNaN(t)||(this._snapClampSetValue(t+e),this.$input.value=this.getValue())};let t,n,r,i,o,a=!1;const s=e=>{if(a){const r=e.clientX-t,i=e.clientY-n;Math.abs(i)>5?(e.preventDefault(),this.$input.blur(),a=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(r)>5&&l()}if(!a){const t=e.clientY-r;o-=t*this._step*this._arrowKeyMultiplier(e),i+o>this._max?o=this._max-i:i+o<this._min&&(o=this._min-i),this._snapClampSetValue(i+o)}r=e.clientY},l=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",l)};this.$input.addEventListener("input",()=>{let e=parseFloat(this.$input.value);isNaN(e)||(this._stepExplicit&&(e=this._snap(e)),this.setValue(this._clamp(e)))}),this.$input.addEventListener("keydown",t=>{"Enter"===t.key&&this.$input.blur(),"ArrowUp"===t.code&&(t.preventDefault(),e(this._step*this._arrowKeyMultiplier(t))),"ArrowDown"===t.code&&(t.preventDefault(),e(this._step*this._arrowKeyMultiplier(t)*-1))}),this.$input.addEventListener("wheel",t=>{this._inputFocused&&(t.preventDefault(),e(this._step*this._normalizeMouseWheel(t)))},{passive:!1}),this.$input.addEventListener("mousedown",e=>{t=e.clientX,n=r=e.clientY,a=!0,i=this.getValue(),o=0,window.addEventListener("mousemove",s),window.addEventListener("mouseup",l)}),this.$input.addEventListener("focus",()=>{this._inputFocused=!0}),this.$input.addEventListener("blur",()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()})}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=e=>{const t=this.$slider.getBoundingClientRect();let n=(r=e,i=t.left,o=t.right,a=this._min,s=this._max,(r-i)/(o-i)*(s-a)+a);var r,i,o,a,s;this._snapClampSetValue(n)},t=t=>{e(t.clientX)},n=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",t),window.removeEventListener("mouseup",n)};let r,i,o=!1;const a=t=>{t.preventDefault(),this._setDraggingStyle(!0),e(t.touches[0].clientX),o=!1},s=t=>{if(o){const e=t.touches[0].clientX-r,n=t.touches[0].clientY-i;Math.abs(e)>Math.abs(n)?a(t):(window.removeEventListener("touchmove",s),window.removeEventListener("touchend",l))}else t.preventDefault(),e(t.touches[0].clientX)},l=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",s),window.removeEventListener("touchend",l)},c=this._callOnFinishChange.bind(this);let u;this.$slider.addEventListener("mousedown",r=>{this._setDraggingStyle(!0),e(r.clientX),window.addEventListener("mousemove",t),window.addEventListener("mouseup",n)}),this.$slider.addEventListener("touchstart",e=>{e.touches.length>1||(this._hasScrollBar?(r=e.touches[0].clientX,i=e.touches[0].clientY,o=!0):a(e),window.addEventListener("touchmove",s,{passive:!1}),window.addEventListener("touchend",l))},{passive:!1}),this.$slider.addEventListener("wheel",e=>{if(Math.abs(e.deltaX)<Math.abs(e.deltaY)&&this._hasScrollBar)return;e.preventDefault();const t=this._normalizeMouseWheel(e)*this._step;this._snapClampSetValue(this.getValue()+t),this.$input.value=this.getValue(),clearTimeout(u),u=setTimeout(c,400)},{passive:!1})}_setDraggingStyle(e,t="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle("lil-gui-"+t,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:t,deltaY:n}=e;Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(t=0,n=-e.wheelDelta/120,n*=this._stepExplicit?1:10);return t+-n}_arrowKeyMultiplier(e){let t=this._stepExplicit?1:10;return e.shiftKey?t*=10:e.altKey&&(t/=10),t}_snap(e){const t=Math.round(e/this._step)*this._step;return parseFloat(t.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return void 0!==this._min}get _hasMax(){return void 0!==this._max}}class p extends r{constructor(e,t,n,r){super(e,t,n,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(e=>{const t=document.createElement("option");t.innerHTML=e,this.$select.appendChild(t)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),t=this._values.indexOf(e);return this.$select.selectedIndex=t,this.$display.innerHTML=-1===t?e:this._names[t],this}}class f extends r{constructor(e,t,n){super(e,t,n,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",e=>{"Enter"===e.code&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}let m=!1;class v{constructor({parent:e,autoPlace:t=void 0===e,container:n,width:r,title:i="Controls",closeFolders:o=!1,injectStyles:a=!0,touchStyles:s=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",e=>{"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(i),this.parent)return this.parent.children.push(this),this.parent.folders.push(this),void this.parent.$children.appendChild(this.domElement);this.domElement.classList.add("root"),s&&this.domElement.classList.add("allow-touch-styles"),!m&&a&&(!function(e){const t=document.createElement("style");t.innerHTML=e;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(t,n):document.head.appendChild(t)}('.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: " ";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: "lil-gui";\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: "lil-gui";\n  content: "";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: "";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: "Empty";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: "lil-gui";\n  content: "";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: "lil-gui";\n  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");\n}'),m=!0),n?n.appendChild(this.domElement):t&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this._closeFolders=o}add(e,t,n,r,o){if(Object(n)===n)return new p(this,e,t,n);const a=e[t];switch(typeof a){case"number":return new d(this,e,t,n,r,o);case"boolean":return new i(this,e,t);case"string":return new f(this,e,t);case"function":return new h(this,e,t)}console.error("gui.add failed\n\tproperty:",t,"\n\tobject:",e,"\n\tvalue:",a)}addColor(e,t,n=1){return new u(this,e,t,n)}addFolder(e){const t=new v({parent:this,title:e});return this.root._closeFolders&&t.close(),t}load(e,t=!0){return e.controllers&&this.controllers.forEach(t=>{t instanceof h||t._name in e.controllers&&t.load(e.controllers[t._name])}),t&&e.folders&&this.folders.forEach(t=>{t._title in e.folders&&t.load(e.folders[t._title])}),this}save(e=!0){const t={controllers:{},folders:{}};return this.controllers.forEach(e=>{if(!(e instanceof h)){if(e._name in t.controllers)throw new Error(`Cannot save GUI with duplicate property "${e._name}"`);t.controllers[e._name]=e.save()}}),e&&this.folders.forEach(e=>{if(e._title in t.folders)throw new Error(`Cannot save GUI with duplicate folder "${e._title}"`);t.folders[e._title]=e.save()}),t}open(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(e){this._closed!==e&&(this._closed=e,this._callOnOpenClose(this))}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._setClosed(!e),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const t=this.$children.clientHeight;this.$children.style.height=t+"px",this.domElement.classList.add("transition");const n=e=>{e.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",n))};this.$children.addEventListener("transitionend",n);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(e=>e.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),void 0!==this._onChange&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),void 0!==this._onFinishChange&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onOpenClose(e){return this._onOpenClose=e,this}_callOnOpenClose(e){this.parent&&this.parent._callOnOpenClose(e),void 0!==this._onOpenClose&&this._onOpenClose.call(this,e)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(t=>{e=e.concat(t.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(t=>{e=e.concat(t.foldersRecursive())}),e}}t.default=v},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(539);var i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),a=n(7),s=n(27),l=n(46),c=(i=l)&&i.__esModule?i:{default:i};function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.continueTout=t,this.acceptCta=this.continueTout.querySelector(".rrmc-continue-tout--accept"),this.rejectCta=this.continueTout.querySelector(".rrmc-continue-tout--reject"),this.evergage_experience_id=this.continueTout.getAttribute("data-evergage-experience"),this.edit_mode=this.continueTout.getAttribute("data-edit-mode"),this.acceptTrigger=function(e){var t=e.target.href,n=e.target.target;"_blank"!==n&&e.preventDefault(),o.fireCustomEvent({event:"continueToutCTA",eventCategory:"continueTout",eventAction:"Continue Tout CTA Clicked - Accept",eventLabel:""+e.target.innerText,eventCallback:function(){"_blank"!==n&&(window.location=t)}})},this.rejectTrigger=function(e){n.animateOut(),o.fireCustomEvent({event:"continueToutCTA",eventCategory:"continueTout",eventAction:"Continue Tout CTA Clicked - Decline",eventLabel:""+e.target.innerText})}}var t,n;return r(e,[{key:"init_evergage",value:(n=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.rrmc_experiences){e.next=4;break}return e.next=3,new Promise((function(e){var t=setTimeout((function(){e("default")}),5e3);window.rrmc_experiences.subscribe((function(n){var r=n.campaign,i=n.experience;"continuity-tout"===r&&(clearTimeout(t),e(i))}))}));case 3:this.experience=e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"load",value:(t=u(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init_evergage();case 2:"default"!==this.experience&&this.experience===this.evergage_experience_id?((0,s.pictureLazyLoaderPlain)(this.continueTout,(function(){"objectFit"in document.documentElement.style==0&&(0,c.default)(t.continueTout.querySelector("img")),t.animateIn()})),this.initListeners()):this.destroy();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"animateIn",value:function(){this.tlForward=a.gsap.timeline(),this.tlForward.add("start"),this.tlForward.to(this.continueTout,.5,{y:-48,ease:a.Linear.easeNone},"start"),this.tlForward.to(this.continueTout,.5,{opacity:1,ease:a.Linear.easeNone},"start=+0.25"),this.tlForward.set(this.continueTout,{pointerEvents:"auto"})}},{key:"animateOut",value:function(){var e=this;this.tlBackwards=a.gsap.timeline(),this.tlBackwards.add("start"),this.tlBackwards.set(this.continueTout,{pointerEvents:"none"}),this.tlBackwards.to(this.continueTout,.5,{y:200,ease:a.Linear.easeNone},"start"),this.tlBackwards.to(this.continueTout,.5,{opacity:0,ease:a.Linear.easeNone},"start=+0.25"),this.tlBackwards.add((function(){e.destroy()}))}},{key:"destroy",value:function(){this.acceptCta.removeEventListenerRR("click",this.acceptTrigger),this.rejectCta.removeEventListenerRR("click",this.rejectTrigger);try{this.continueTout.parentNode.removeChild(this.continueTout)}catch(e){console.log(e)}}},{key:"initListeners",value:function(){this.acceptCta.addEventListenerRR("click",this.acceptTrigger),this.rejectCta.addEventListenerRR("click",this.rejectTrigger)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".rrmc-continue-tout");[].slice.call(e).forEach((function(e){new h(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=n(541);n(542);var a,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),l=n(14),c=(a=l)&&a.__esModule?a:{default:a};var u=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(".js-rrmc-cookie-banner"),this.container&&(this.btn_accept=this.container.querySelector(".js-rrmc-cookie-banner-accept"),this.btn_reject=this.container.querySelector(".js-rrmc-cookie-banner-reject"),this.learn=this.container.querySelector(".js-rrmc-cookie-banner a"),this.accept_regulations=function(){t.epaas.setRegulationAccepted(),t.detach_callbacks(),t.conceal_banner(),s.fireCustomEvent({event:"cookieContinue",eventCategory:"Cookies",eventAction:"Cookie Continue",eventLabel:"continue"})},this.reject_regulations=function(){t.epaas.setRegulationRejected(),t.detach_callbacks(),t.conceal_banner(),s.fireCustomEvent({event:"cookieNo",eventCategory:"Cookies",eventAction:"Cookie No",eventLabel:"no thanks"})},this.learn_handler=function(){s.fireCustomEvent({event:"cookieLearnMore",eventCategory:"Cookies",eventAction:"Cookie Learn More",eventLabel:"here"})})}return r(e,[{key:"attach_callbacks",value:function(){this.btn_accept.addEventListenerRR("click",this.accept_regulations),this.btn_reject.addEventListenerRR("click",this.reject_regulations),this.learn&&this.learn.addEventListenerRR("click",this.learn_handler),(0,o.buttons_enable)(this.container)}},{key:"detach_callbacks",value:function(){this.btn_accept.removeEventListenerRR("click",this.accept_regulations),this.btn_reject.removeEventListenerRR("click",this.reject_regulations),this.learn&&this.learn.removeEventListenerRR("click",this.learn_handler),(0,o.buttons_disable)(this.container)}},{key:"conceal_banner",value:function(){var e=this;i.TweenLite.to(this.container,.75,{y:"100%",ease:i.Power2.easeInOut,onComplete:function(){e.container.style.display="none",e.update_footer_height(),c.default.sub_us_banner_state.next("concealed")}})}},{key:"update_footer_height",value:function(){var e=document.querySelector(".js-rrmc-footer > .rrmc-footer");if(e){var t=this.container.getBoundingClientRect().height;e.style.marginBottom=t+"px"}}},{key:"reveal_banner",value:function(){var e=this;i.TweenLite.set(this.container,{display:"block"}),i.TweenLite.to(this.container,.75,{y:0,ease:i.Power2.easeInOut,onComplete:function(){e.attach_callbacks(),e.update_footer_height(),c.default.sub_us_banner_state.next("revealed")}}),s.fireCustomEvent({event:"cookieLoad",eventCategory:"Cookies",eventAction:"Cookie Load",eventLabel:"load"})}},{key:"reveal_check",value:function(e){var t=e.epaas;t.getRegulationState&&(this.epaas=t,t.getRegulationState()||this.reveal_banner())}},{key:"load",value:function(){var e=this;this.container&&c.default.sub_epaas.subscribe({next:function(t){return e.reveal_check(t)}})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){(new u).load()}))},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.buttons_enable=function(e){var t=e.querySelectorAll("button, a");[].slice.call(t).forEach((function(e){e.setAttribute("tabindex",0),e.addEventListenerRR("focus",r)}))},t.buttons_disable=function(e){var t=e.querySelectorAll("button, a");[].slice.call(t).forEach((function(e){e.setAttribute("tabindex",-1),e.removeEventListenerRR("focus",r)}))}},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(544);var i=n(7);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t}return r(e,[{key:"load",value:function(){this.init_countdown(),this.timerValue=this.container.getAttribute("data-timer"),this.targetDate=new Date(this.timerValue),this.dateContainer=this.container.querySelector(".rrmc-countdown-timer--control"),this.hrsWrapper=this.container.querySelector("[data-countdown-timer-hours]"),this.minsWrapper=this.container.querySelector("[data-countdown-timer-minutes]"),this.secsWrapper=this.container.querySelector("[data-countdown-timer-seconds]"),this.timerSection=this.container.querySelector(".rrmc-countdown-timer--main-section"),this.revealSection=this.container.querySelector(".rrmc-countdown-timer--reveal-section"),this.isFinished=!1}},{key:"calc_countdown",value:function(){var e=(new Date).getTime(),t=this.targetDate-e;t>=0?(this.days=Math.floor(t/864e5),this.hoursPlusDays=Math.floor(t%864e5/36e5+24*this.days),this.mins=Math.floor(t%36e5/6e4),this.secs=Math.floor(t%6e4/1e3),this.isFinished=!1):this.isFinished=!0}},{key:"triggerHiddenSection",value:function(){(new i.TimelineLite).to(this.timerSection,.2,{opacity:0,bottom:"-50px"},"0").to(this.timerSection,0,{display:"none"},"+=.2").to(this.revealSection,0,{display:"block"},"+=0").to(this.revealSection,.2,{opacity:1,bottom:0},"+=.1")}},{key:"timerHandler",value:function(){this.calc_countdown(),this.isFinished?(this.hrsWrapper.innerText="00H",this.minsWrapper.innerText="00M",this.secsWrapper.innerText="00S",this.triggerHiddenSection(),clearInterval(this.timerInterval)):(this.hrsWrapper.innerText=this.hoursPlusDays>=10?this.hoursPlusDays+"H":"0"+this.hoursPlusDays+"H",this.minsWrapper.innerText=this.mins>=10?this.mins+"M":"0"+this.mins+"M",this.secsWrapper.innerText=this.secs>=10?this.secs+"S":"0"+this.secs+"S")}},{key:"init_countdown",value:function(){this.timerInterval=setInterval(this.timerHandler.bind(this),1e3)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-countdown-timer");[].slice.call(e).forEach((function(e){new o(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";n(546)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TabsGenerator=function(){function e(t,n){o(this,e),this.data=t,this.i18n=n}return i(e,[{key:"generate_tabs",value:function(){return'\n      <div class="rrmc-dealer-locator-content--tab-button-container js-rrmc-dealer-locator-content--tab-button-container">\n        <button class="rrmc-dealer-locator-content--tab-button js-rrmc-dealer-locator-content--tab-button" data-index="0"\n                data-tracking-linkid="text1showroomsopen content">\n          '+this.i18n.get("showrooms")+'\n        </button>\n      </div>\n      <div class="rrmc-dealer-locator-content--tab-button-container js-rrmc-dealer-locator-content--tab-button-container">\n        <button class="rrmc-dealer-locator-content--tab-button js-rrmc-dealer-locator-content--tab-button" data-index="1"\n                data-tracking-linkid="text2ownership servicesopen content">\n          '+this.i18n.get("ownership-services")+"\n        </button>\n      </div>\n        "}},{key:"generate_underscores",value:function(){return'\n      <div class="rrmc-dealer-locator-content--underscore-container js-rrmc-dealer-locator-content--underscore-container" data-index="0">\n        <div class="rrmc-dealer-locator-content--underscore js-rrmc-dealer-locator-content--underscore"></div>\n      </div>\n      <div class="rrmc-dealer-locator-content--underscore-container js-rrmc-dealer-locator-content--underscore-container" data-index="1">\n        <div class="rrmc-dealer-locator-content--underscore js-rrmc-dealer-locator-content--underscore"></div>\n      </div>\n        '}},{key:"generate",value:function(){return'<div class="rrmc-dealer-locator-content--tabs-container">\n      <div class="rrmc-dealer-locator-content--tabs">\n        '+this.generate_tabs()+'\n      </div>\n      <div class="rrmc-dealer-locator-content--underscores">\n        '+this.generate_underscores()+"\n      </div>\n    </div>"}}]),e}(),t.ListGenerator=function(){function e(t,n){o(this,e),this.data=t,this.i18n=n}return i(e,[{key:"if_not_empty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e+t:""}},{key:"dealerLabel",value:function(e){return e?"services":"showroom"}},{key:"generate_telephone_number",value:function(e){return e.contactInformation.telephoneNumber?'<div class="rrmc-dealer-locator--telephone">\n      <span class="rrmc-dealer-locator-telephone-icon"></span>\x3c!--\n              --\x3e<a class="rrmc-dealer-locator--anchor js-rrmc-dealer-locator--telephone-anchor" href="tel:'+e.contactInformation.telephoneNumber+'"\n                    data-tracking-linkid="text1'+(e.shortName.toString()||"").toLowerCase()+" "+this.dealerLabel(e.afterSale)+'call"\n              >'+this.i18n.get("tel")+':\n              <span class="anchor-copy">'+e.contactInformation.telephoneNumber+"</span></a>\n          </div>":""}},{key:"paste_if",value:function(e,t){return e?t:""}},{key:"generate_entry",value:function(e,t){return'\n    <div class="rrmc-dealer-locator-location js-rrmc-dealer-locator-location"\n       data-dealer-name="'+t.shortName+'">\n       <div class="rrmc-dealer-locator-location-row-one">\n          <div class="rrmc-dealer-locator-location--split-index">\n            <div class="rrmc-dealer-locator--location-index">'+(e+1)+'</div>\n          </div>\n          <div class="rrmc-dealer-locator-location--split-left">\n            <h2 class="rrmc-dealer-locator--location-title">\n              '+this.if_not_empty(t.dealerTradingName[0])+" <br>\n              "+this.if_not_empty(t.dealerTradingName[1])+"\n            </h2>\n            "+this.paste_if(!t.hideAddress,'\n                <div class="rrmc-dealer-locator--address">\n                  <div><span class="rrmc-dealer-locator-pin-icon"></span></div>\n                  <a class="rrmc-dealer-locator--anchor\n                            rrmc-dealer-locator--anchor-no-underline\n                            js-rrmc-dealer-locator--address-anchor"\n                     href="'+t.website[0]+'#find_us">\n                    <span class="anchor-copy">'+t.postalAddress.fullAddress[0]+"</span>\n                  </a>\n                </div>\n           ")+"\n            "+this.paste_if(t.postalAddress.fullAddress[1]&&!t.hideAddress,'\n              <div class="rrmc-dealer-locator--address">\n                <div><span class="rrmc-dealer-locator-pin-icon"></span></div>\n                  <a class="rrmc-dealer-locator--anchor\n                            rrmc-dealer-locator--anchor-no-underline\n                            js-rrmc-dealer-locator--address-anchor"\n                      href="'+t.website[1]+'#find_us">\n                    <span class="anchor-copy">'+t.postalAddress.fullAddress[1]+"</span>\n                  </a>\n              </div>\n            ")+"\n            "+this.paste_if(!t.hideAddress,this.generate_telephone_number(t))+'\n          </div>\n          <div class="rrmc-dealer-locator-location--split-right">\n            <div class="rrmc-dealer-locator--distance">\n              '+parseInt(t.distance.value)+" "+this.i18n.get(t.distance.unit)+'\n            </div>\n            <div class="rrmc-dealer-locator-location--split-right--cta-container">\n              '+this.generate_select_cta(t,t.selectText[0],t.website[0],"tertiary")+"\n              "+this.paste_if(t.postalAddress.fullAddress[1]&&!t.hideAddress,this.generate_select_cta(t,t.selectText[1],t.website[1],"tertiary"))+'\n            </div>\n          </div>\n          </div>\n          <div class="rrmc-dealer-locator-location-row-two">\n            '+this.generate_select_cta(t,t.selectText[0],t.website[0],"secondary")+"\n            "+this.paste_if(t.postalAddress.fullAddress[1]&&!t.hideAddress,this.generate_select_cta(t,t.selectText[1],t.website[1],"secondary"))+"\n         </div>\n      </div>\n    "}},{key:"generate_select_secondary_cta",value:function(e,t,n){return'<div class="rrmc-dealer-locator--more-information js-rrmc-dealer-select-with-copy"\n        data-tracking-linkid="icon-text1'+(e.shortName.toString()||"").toLowerCase()+" "+this.dealerLabel(e.afterSale)+'internal link"\n        data-href="'+n+'"\n        data-new-tab="'+(e.hideAddress?"_blank":"")+'"\n        data-number="'+e.dealerNumber+'"\n        data-name="'+e.shortName+'"\n        data-trading-name="'+e.dealerTradingName+'">\n      <button\n        data-lazy-load-class="cta-lazy-load" style="color: #FFFFFF;"\n        class="rrmc-cta-component rrmc-button--secondary dealer-locator-cta js-dealer-locator-cta js-dealer-select">\n          <span class="rrmc-button-background js-rrmc-button-background" data-color="#FFFFFF"></span>\n          <span class="rrmc-button-text js-rrmc-button-text">'+t+'</span>\n          <span class="rrmc-button-arrow js-rrmc-button-arrow" style="color: #FFFFFF;"></span>\n        </button>\n      </div>\n      '}},{key:"generate_select_tertiary_cta",value:function(e,t,n){return'<div class="rrmc-dealer-locator--more-information js-rrmc-dealer-select-with-copy"\n      data-href="'+n+'"\n      data-new-tab="'+(e.hideAddress?"_blank":"")+'"\n      data-number="'+e.dealerNumber+'"\n      data-name="'+e.shortName+'"\n      data-trading-name="'+e.dealerTradingName+'">\n      <span class="rrmc-button-text">'+t+'</span>\n      <button style="color: #FFFFFF;"\n        data-tracking-linkid="icon-text1'+(e.shortName.toString()||"").toLowerCase()+" "+this.dealerLabel(e.afterSale)+'internal link"\n        class="rrmc-cta-component rrmc-button--regular-icon-stroked js-dealer-locator-cta js-dealer-select">\n        <span class="rrmc-button-background js-rrmc-button-background" data-color="#6D5F73"></span>\n        <span class="rrmc-cta-i" data-icon="arrow-right">\n          <span class="rrmc-cta-icon-placeholder" style="color: #FFFFFF;"></span>\n        </span>\n        <span class="rrmc-button-text js-rrmc-button-text">'+t+"</span>\n      </button>\n    </div>"}},{key:"generate_select_cta",value:function(e,t,n,r){return"secondary"===r?this.generate_select_secondary_cta(e,t,n):this.generate_select_tertiary_cta(e,t,n)}},{key:"generate_panel",value:function(e,t,n){var i='<div class="rrmc-dealer-locator-content--split js-rrmc-dealer-locator-content--split" data-index="'+t+'" '+(n?"is_default_tab":"")+">",o=!0,a=!1,s=void 0;try{for(var l,c=e.entries()[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=r(u,2),d=h[0],p=h[1];i+=this.generate_entry(d,p.value)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return i+="</div>"}},{key:"generate_sections",value:function(){var e="";return e+=this.generate_panel(this.data.showrooms,0,!0),e+=this.generate_panel(this.data.aftersales,1,!1)}},{key:"generate",value:function(){return'<div class="rrmc-dealer-locator-content--split-section js-rrmc-dealer-locator-content--split-section">\n      '+this.generate_sections()+"\n    </div>"}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replace_placeholders=r,t.add_tracking_indices=function(e){var t=e.placeholder,n=e.root;r({root:n,attributeName:"data-tracking-linkid",placeholder:t}),r({root:n,attributeName:"data-tracking-regionid",placeholder:t})};function r(e){var t=e.root,n=e.attributeName,r="%"+e.placeholder+"%";t.querySelectorAll("["+n+'*="'+r+'"]').forEach((function(e,t){var i=t+1;e.setAttribute(n,e.getAttribute(n).replaceAll(r,i))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DealerLocatorRecaptcha=t.DealerLocatorRecaptchaConfig=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.DealerLocatorRecaptchaConfig=function(){function e(){s(this,e),this.callback=function(){},this.widget_id=""}return i(e,[{key:"set_callback",value:function(e){this.callback=e}},{key:"get_callback",value:function(){return this.callback}},{key:"set_widget_id",value:function(e){this.widget_id=e}},{key:"get_widget_id",value:function(){return this.widget_id}}],[{key:"make",value:function(t,n){var r=new e;return r.set_callback(t),r.set_widget_id(n),r}}]),e}(),t.DealerLocatorRecaptcha=function(){function e(t){s(this,e),this.config=t}return i(e,[{key:"generate_unique_callback_name",value:function(){this.callback_name="rrmcVerifyRecaptcha"+this.config.get_widget_id()}},{key:"get_callback_label",value:function(){return this.callback_name}},{key:"generate_unique_widget_id_label",value:function(){this.widget_id_name="recaptcha_widget_id_"+this.config.get_widget_id()}},{key:"get_widget_id_label",value:function(){return this.widget_id_name}},{key:"get_widget_id",value:function(){return window[this.get_widget_id_label()]}},{key:"assign_callback_subscriber",value:function(){window[this.get_callback_label()]=function(e){a.default.sub_dealer_recaptcha.next(e)}}},{key:"set_recaptcha_token",value:function(e){this.recaptcha_token=e}},{key:"get_recaptcha_token",value:function(){return this.recaptcha_token}},{key:"assign_application_callback",value:function(){var e=this;this.application_subscription=a.default.sub_dealer_recaptcha.subscribe({next:function(t){e.unlock_recaptcha(),e.set_recaptcha_token(t),e.config.get_callback()(t)}})}},{key:"release_application_callback",value:function(){this.application_subscription.unsubscribe()}},{key:"setup_callback",value:function(){this.generate_unique_callback_name(),this.assign_callback_subscriber(),this.assign_application_callback()}},{key:"create_widget",value:function(){this.is_initialised()||(window[this.get_widget_id_label()]=grecaptcha.render(this.config.get_widget_id(),{sitekey:window.recaptcha_sitekey,callback:window[this.get_callback_label()],theme:"dark"}))}},{key:"is_initialised",value:function(){return void 0!==this.get_widget_id()}},{key:"init_recaptcha_lib",value:function(){this.generate_unique_widget_id_label(),this.create_widget()}},{key:"init",value:function(){this.setup_callback(),this.init_recaptcha_lib()}},{key:"lock_recaptcha",value:function(){this.recaptcha_active=!0}},{key:"unlock_recaptcha",value:function(){this.recaptcha_active=!1}},{key:"is_recaptcha_active",value:function(){return this.recaptcha_active}},{key:"verify",value:function(){this.is_recaptcha_active()||(this.lock_recaptcha(),grecaptcha.reset(this.get_widget_id()),grecaptcha.execute(this.get_widget_id()))}},{key:"unlock",value:function(){this.unlock_recaptcha()}},{key:"destroy",value:function(){this.release_application_callback()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketingOptionsValidator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(64);t.MarketingOptionsValidator=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elmForm=t,this.elmEmail=this.elmForm.querySelector('[name="email"]'),this.elmPhone=this.elmForm.querySelector('[name="phone"]'),this.elmLegal=t.querySelector(".rrmc-form-legal"),this.elmMarketingAgreed=this.elmLegal.querySelector("#agreeMarketing"),this.elmMarketingError=this.elmLegal.querySelector(".rrmc-form-marketing-error"),this.elmsChannel=this.elmLegal.querySelectorAll(".rrmc-form-checkbox-input"),this.classError="is-shown",this.setMarketingValid(),this.setEmailValid(),this.setPhoneValid()}return r(e,[{key:"setMarketingValid",value:function(){this.marketingAgreedValid=!0}},{key:"setMarketingInvalid",value:function(){this.marketingAgreedValid=!1}},{key:"setEmailValid",value:function(){this.emailValid=!0}},{key:"setEmailInvalid",value:function(){this.emailValid=!1}},{key:"setPhoneValid",value:function(){this.phoneValid=!0}},{key:"setPhoneInvalid",value:function(){this.phoneValid=!1}},{key:"isMarketingSelected",value:function(){return this.elmMarketingAgreed.checked}},{key:"areThereErrors",value:function(){return!this.emailValid||!this.marketingAgreedValid||!this.phoneValid}},{key:"showError",value:function(){this.elmMarketingError.innerHTML=this.latestError,this.elmMarketingError.classList.add(this.classError)}},{key:"hideError",value:function(){this.elmMarketingError.classList.remove(this.classError)}},{key:"errorMarketing",value:function(){this.setMarketingInvalid(),this.latestError=(0,i.getI18nComponent)("Please select at least one channel")}},{key:"clearErrorMarketing",value:function(){this.setMarketingValid()}},{key:"isEmailEmpty",value:function(){return this.elmEmail&&0===this.elmEmail.value.trim().length}},{key:"isPhoneEmpty",value:function(){return this.elmPhone&&0===this.elmPhone.value.trim().length}},{key:"noChannelsSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){if(i.value.checked)return!1}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!0}},{key:"isEmailChannelSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("email"===a.id&&a.checked)return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}},{key:"isPhoneChannelSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("phone"===a.id&&a.checked)return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}},{key:"isMessengerChannelSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("messengerMarketing"===a.id&&a.checked)return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}},{key:"errorEmail",value:function(){this.setEmailInvalid(),this.latestError=(0,i.getI18nComponent)("Please provide an email address")}},{key:"clearErrorEmail",value:function(){this.setEmailValid()}},{key:"errorPhone",value:function(){this.setPhoneInvalid(),this.latestError=(0,i.getI18nComponent)("Please provide a phone number")}},{key:"clearErrorPhone",value:function(){this.setPhoneValid()}},{key:"validateMarketingAgreed",value:function(){if(this.isMarketingSelected()&&this.noChannelsSelected())return this.errorMarketing();this.clearErrorMarketing()}},{key:"validateEmailChannel",value:function(){if(this.isEmailChannelSelected()&&this.isEmailEmpty())return this.errorEmail();this.clearErrorEmail()}},{key:"validatePhoneChannels",value:function(){if((this.isPhoneChannelSelected()||this.isMessengerChannelSelected())&&this.isPhoneEmpty())return this.errorPhone();this.clearErrorPhone()}},{key:"presentErrorsIfAny",value:function(){if(this.areThereErrors())return this.showError();this.hideError()}},{key:"validate",value:function(){this.validateMarketingAgreed(),this.validateEmailChannel(),this.validatePhoneChannels(),this.presentErrorsIfAny()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarketingOptionsValidatorRR25=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(64);t.MarketingOptionsValidatorRR25=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elmForm=t,this.elmFormType=this.elmForm.id,this.elmEmail=this.elmForm.querySelector('[name="email"]'),this.elmPhone=this.elmForm.querySelector('[name="phone"]'),this.elmLegal=t.querySelector(".rrmc-form-legal"),this.elmMarketingAgreed=this.elmLegal.querySelector("#agreeMarketing"),this.elmMarketingError=this.elmLegal.querySelector(".rrmc-form-marketing-error"),this.elmAcceptanceError=this.elmForm.querySelector(".rrmc-form-acceptance-error"),this.elmsChannel=this.elmLegal.querySelectorAll(".rrmc-form-checkbox-input"),this.classError="is-shown",this.setMarketingValid(),this.setEmailValid(),this.setPhoneValid(),this.setAcceptanceValid()}return r(e,[{key:"setMarketingValid",value:function(){this.marketingAgreedValid=!0}},{key:"setMarketingInvalid",value:function(){this.marketingAgreedValid=!1}},{key:"setAcceptanceValid",value:function(){this.acceptanceAgreedValid=!0}},{key:"setAcceptanceInvalid",value:function(){this.acceptanceAgreedValid=!1}},{key:"setEmailValid",value:function(){this.emailValid=!0}},{key:"setEmailInvalid",value:function(){this.emailValid=!1}},{key:"setPhoneValid",value:function(){this.phoneValid=!0}},{key:"setPhoneInvalid",value:function(){this.phoneValid=!1}},{key:"isMarketingSelected",value:function(){return this.elmMarketingAgreed.checked}},{key:"forcedAcceptance",value:function(){return!this.acceptanceAgreedValid}},{key:"areThereErrors",value:function(){return!this.emailValid||!this.marketingAgreedValid||!this.phoneValid}},{key:"isThereMarketingAcceptance",value:function(){return this.isMarketingSelected()}},{key:"showError",value:function(){this.elmMarketingError.innerHTML=this.latestError,this.elmMarketingError.classList.add(this.classError)}},{key:"showAcceptanceError",value:function(){this.elmAcceptanceError.innerHTML=this.acceptanceError,this.elmAcceptanceError.classList.add(this.classError)}},{key:"hideError",value:function(){this.elmMarketingError.classList.remove(this.classError)}},{key:"hideAcceptanceError",value:function(){this.elmAcceptanceError.classList.remove(this.classError)}},{key:"errorMarketing",value:function(){this.setMarketingInvalid(),this.latestError=(0,i.getI18nComponent)("Please select at least one channel")}},{key:"errorMarketingAcceptance",value:function(){this.setAcceptanceInvalid(),this.acceptanceError=(0,i.getI18nComponent)("Please accept our terms to allow us to contact you")}},{key:"errorEmailRequired",value:function(){this.setMarketingInvalid(),this.latestError=(0,i.getI18nComponent)("Email acceptance is required to allow us to contact you")}},{key:"clearErrorMarketing",value:function(){this.setMarketingValid()}},{key:"clearErrorAcceptance",value:function(){this.setAcceptanceValid()}},{key:"isEmailEmpty",value:function(){return this.elmEmail&&0===this.elmEmail.value.trim().length}},{key:"isPhoneEmpty",value:function(){return this.elmPhone&&0===this.elmPhone.value.trim().length}},{key:"noChannelsSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){if(i.value.checked)return!1}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!0}},{key:"isEmailChannelSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("email"===a.id&&a.checked)return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}},{key:"isPhoneChannelSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("phone"===a.id&&a.checked)return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}},{key:"isMessengerChannelSelected",value:function(){var e=[].slice.call(this.elmsChannel),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("messengerMarketing"===a.id&&a.checked)return!0}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return!1}},{key:"errorEmail",value:function(){this.setEmailInvalid(),this.latestError=(0,i.getI18nComponent)("Please provide an email address")}},{key:"clearErrorEmail",value:function(){this.setEmailValid()}},{key:"errorPhone",value:function(){this.setPhoneInvalid(),this.latestError=(0,i.getI18nComponent)("Please provide a phone number")}},{key:"clearErrorPhone",value:function(){this.setPhoneValid()}},{key:"validateMarketingAgreed",value:function(){return this.isMarketingSelected()?this.isMarketingSelected()&&!this.isEmailChannelSelected()?(this.clearErrorAcceptance(),this.errorEmailRequired()):(this.isMarketingSelected()&&this.isEmailChannelSelected()&&(this.clearErrorAcceptance(),this.clearErrorMarketing()),this.clearErrorMarketing()):this.errorMarketingAcceptance()}},{key:"validateEmailChannel",value:function(){if(this.isEmailChannelSelected()&&this.isEmailEmpty())return this.errorEmail();this.clearErrorEmail()}},{key:"validatePhoneChannels",value:function(){if((this.isPhoneChannelSelected()||this.isMessengerChannelSelected())&&this.isPhoneEmpty())return this.errorPhone();this.clearErrorPhone()}},{key:"presentAcceptanceError",value:function(){if(this.forcedAcceptance())return this.showAcceptanceError();this.hideAcceptanceError()}},{key:"presentErrorsIfAny",value:function(){return this.areThereErrors()?this.showError():this.isThereMarketingAcceptance()?this.showAcceptanceError():void this.hideError()}},{key:"validate",value:function(){this.validateMarketingAgreed(),this.validateEmailChannel(),this.validatePhoneChannels(),this.presentErrorsIfAny(),this.presentAcceptanceError()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.I18n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.i18n={},this.i18n_regexp=new RegExp("^data-i18n-(.*)$"),this.parse_i18n_attributes()}return r(e,[{key:"match_attribute",value:function(e){var t=this.i18n_regexp.exec(e);return null!==t?t[1]:null}},{key:"add_i18n_string",value:function(e,t){null!==e&&(this.i18n[e]=t)}},{key:"parse_i18n_attributes",value:function(){var e=[].slice.call(this.container.attributes),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=this.match_attribute(a.name);this.add_i18n_string(s,a.value)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"get",value:function(e){return this.i18n[e.toLowerCase()]}}]),e}()},function(e,t,n){"use strict";n(555)},function(e,t,n){},function(e,t,n){"use strict";n(557)},function(e,t,n){},function(e,t,n){"use strict";n(559)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(89),o=n(7),a=c(n(46)),s=n(27),l=c(n(445));function c(e){return e&&e.__esModule?e:{default:e}}n(562),o.gsap.registerPlugin(i.ScrollTrigger);var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.ScrollTrigger.defaults({toggleActions:"restart pause resume pause"}),this.imageMask=t,this.maskTrigger=this.imageMask.querySelector(".rrmc-mask-trigger-fade"),this.maskWrap=this.imageMask.querySelector(".rrmc-mask-wrap-fade"),this.allPictures=this.imageMask.querySelectorAll(".rrmc-preload-target"),this.image=this.imageMask.querySelector(".rrmc-mask-image-fade"),this.fadeImage=this.imageMask.querySelector(".fade-image"),this.mainimage=this.imageMask.querySelector(".main-image"),this.wrapper=this.imageMask.querySelector(".wrapper"),this.timeline=null,this.hasPinned=!1,l.default.listenToBodyResize((function(){n.timeline&&n.timeline.scrollTrigger.refresh()}))}return r(e,[{key:"load",value:function(){var e=this;[].slice.call(this.allPictures).forEach((function(t){(0,s.pictureLazyLoaderPlain)(t,(function(){var n=t.querySelector("img");"objectFit"in document.documentElement.style||(0,a.default)(n),setTimeout((function(){!1===e.hasPinned?e.pinMask():e.timeline.scrollTrigger.refresh()}),1e3)}))}))}},{key:"pinMask",value:function(){this.hasPinned=!0,this.timeline=o.gsap.timeline({scrollTrigger:{trigger:this.imageMask,pin:this.imageMask,scrub:0,start:"top top",ease:"power4.out",pinSpacing:!1,duration:"100vh"}}).set(this.fadeImage,{opacity:0}).to(this.image,{css:{borderWidth:"0px 0px 0px 0px"},duration:.01}).to(this.fadeImage,{opacity:1,duration:.0025})}}]),e}();window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".rrmc-mask-fade");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=n(89),a=c(n(46)),s=n(27),l=c(n(445));function c(e){return e&&e.__esModule?e:{default:e}}n(564),i.gsap.registerPlugin(o.ScrollTrigger);var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o.ScrollTrigger.defaults({toggleActions:"restart pause resume pause"}),this.imageMask=t,this.video=this.imageMask.querySelector(".vjs-tech"),this.maskElement=this.imageMask.querySelector(".rrmc-mask-element"),this.copyElement=this.imageMask.querySelector(".rrmc-mask-copy"),this.maskTrigger=this.imageMask.querySelector(".rrmc-mask-trigger"),this.maskWrap=this.imageMask.querySelector(".rrmc-mask-wrap"),this.maskCopyWrap=this.imageMask.querySelector(".rrmc-mask-copy-wrap"),this.picture=this.imageMask.querySelector(".rrmc-preload-picture"),this.currentWidth=window.innerWidth,this.borderAnim=null,this.copyAnim=null,this.picture.style.opacity=0,this.maskWrap.style.opacity=0,l.default.listenToBodyResize((function(){n.borderAnim&&n.borderAnim.scrollTrigger.refresh(),n.copyAnim&&n.copyAnim.scrollTrigger.refresh()}))}return r(e,[{key:"load",value:function(){var e=this;(0,s.pictureLazyLoaderPlain)(this.picture,(function(){e.imageMask.querySelector(".loading-icon").style.display="none",e.maskWrap.style.opacity=1,e.picture.style.opacity=1,"objectFit"in document.documentElement.style||(0,a.default)(e.imageMask.querySelector(".rrmc-mask-image")),e.pinMask()}))}},{key:"pinMask",value:function(){if(this.borderAnim=i.gsap.to(this.maskElement,{duration:1,css:{borderWidth:"58px 0 0 0"},scrollTrigger:{trigger:this.imageMask,pin:this.maskWrap,scrub:0,start:"top top",ease:"power4.out",end:"+=800"}}),this.copyAnim=i.gsap.to(this.copyElement,{duration:1,opacity:1,top:"50vh",transform:"translateY(-50%)",scrollTrigger:{trigger:this.imageMask,pin:this.maskCopyWrap,scrub:0,start:"top top",ease:"power4.out",end:"+=800"}}),this.video&&null!==this.video.getAttribute("data-video-id-desktop")){var e=window.innerWidth>768?this.video.getAttribute("data-video-id-desktop"):this.video.getAttribute("data-video-id-mobile");videojs.getPlayer(this.video).ready((function(){var t=this;t.catalog.getVideo(e,(function(e,n){t.catalog.load(n)}))}))}}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".rrmc-mask");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(566);var i=c(n(14)),o=n(62);n(468);var a=n(7),s=c(n(212)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_submit_btn=this.container.querySelector(".js-rrmc-extended-warranty-submit"),this.elm_request_cont=this.container.querySelector(".js-rrmc-extended-warranty-request-container"),this.elm_response_cont=this.container.querySelector(".js-rrmc-extended-warranty-response-container"),this.elm_response_accordion=this.elm_response_cont.querySelector(".js-rrmc-extended-warranty-response-container-accordion"),this.elm_back_btn=this.elm_response_cont.querySelector(".js-rrmc-extended-warranty-back"),this.input_warranty=this.container.querySelector("input[name=extended-warranty]"),this.input_label=this.elm_request_cont.querySelector(".rrmc-form-label"),this.input_error=this.elm_request_cont.querySelector(".rrmc-form-label-error"),this.on_submit=function(e){e&&e.preventDefault(),s.default.validateTextInput(n.input_warranty)&&n.validateVinInput(n.input_warranty)?(n.hide_request_elements(),fetch(n.endpoint_warranty(n.input_warranty.value)).then((function(e){if(e.ok)return e.json();throw e.text()})).then(n.on_response_warranty).catch((function(e){e.then((function(e){return console.log(e)}))}))):l.fireCustomEvent({event:"warrantySubmit",eventCategory:"form",eventAction:n.elm_request_cont.id,eventLabel:"submit error: invalid "+n.input_warranty.name})},this.on_response_warranty=function(e){var t=e.extendedWarranty,r=!!t;if(l.fireCustomEvent({event:"warrantySubmit",eventCategory:"form",eventAction:n.elm_request_cont.id,eventLabel:"Submit - "+("true"===t?"True":"False"),vin:n.input_warranty.value}),r)return n.present_form();n.show_ineligible_message()},this.present_form=function(){i.default.sub_overlay_manager_bus.next({action:o.overlayOpen,data:{overlayName:"g-request-information",on_close_after:function(){return n.on_back()},fields:[{name:"vin",value:n.input_warranty.value},{name:"digitalLeadSource",value:"Extended Service Contract Request Form"}]}})},this.reveal_request_elements=function(){a.TweenLite.set(n.elm_request_cont,{display:"block"})},this.reveal_response_elements=function(){a.TweenLite.set(n.elm_response_cont,{display:"block"})},this.hide_request_elements=function(){a.TweenLite.set(n.elm_request_cont,{display:"none"})},this.hide_response_elements=function(){a.TweenLite.set(n.elm_response_cont,{display:"none"})},this.show_ineligible_message=function(){n.reveal_response_elements(),n.elm_response_accordion.innerHTML="Your vehicle is not eligible."},this.on_back=function(){n.reveal_request_elements(),n.hide_response_elements(),n.input_warranty.value=null,n.input_label.classList.remove("-hidden"),n.on_input_blur()},this.on_input_focus=function(e){n.input_label.classList.add("input-focus"),a.TweenLite.set(n.input_warranty,{"border-bottom":"2px solid #ddd"}),l.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:n.elm_request_cont.id,eventLabel:e.target.name})},this.on_input_blur=function(){a.TweenLite.set(n.input_warranty,{"border-bottom":"2px solid #696969"}),0!==n.input_warranty.value.length?a.TweenLite.set(n.input_warranty,{"border-bottom":"2px solid #ddd"}):n.input_label.classList.remove("input-focus")},this.form_submit=function(e){e.preventDefault(),n.on_submit()}}return r(e,[{key:"validateVinInput",value:function(){return 17!=this.input_warranty.value.trim().length?(a.TweenLite.set(this.input_warranty,{"border-bottom":"2px solid #f94564"}),this.input_error.classList.remove("-hidden"),this.input_error.textContent="VIN must be 17 characters.",!1):(this.input_label.classList.add("-hidden"),!0)}},{key:"endpoint_warranty",value:function(e){return"/bin/public/warranty?vin="+e}},{key:"load",value:function(){this.elm_submit_btn.addEventListenerRR("click",this.on_submit),this.elm_back_btn.addEventListenerRR("click",this.on_back),this.input_warranty.addEventListenerRR("focus",this.on_input_focus),this.input_warranty.addEventListenerRR("blur",this.on_input_blur),this.elm_request_cont.addEventListenerRR("submit",this.form_submit)}},{key:"destroy",value:function(){this.elm_submit_btn.removeEventListenerRR("click",this.on_submit),this.elm_back_btn.removeEventListenerRR("click",this.on_back),this.input_warranty.removeEventListenerRR("focus",this.on_input_focus),this.input_warranty.removeEventListenerRR("blur",this.on_input_blur),this.elm_request_cont.removeEventListenerRR("submit",this.form_submit)}}]),e}();window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-extended-warranty-container");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(568);var i=u(n(76)),o=n(45),a=u(n(464)),s=u(n(465)),l=n(18),c=n(569);function u(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var d=function(){function e(t){var n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elms_nav_buttons=[].slice.call(this.container.querySelectorAll(".js-rrmc-find-us-content--tab-button-container")),this.map_urls=this.elms_nav_buttons.map((function(e){return e.getAttribute("data-embedded-map-url")})),this.elm_map_container=this.container.querySelector(".js-find-us-map-container"),this.const_defaultTabAttribute="data-default-tab",this.tabs=new a.default(this.container),this.sections=new s.default(this.container),this.active_split_cta_instances=[],this.set_selected_dealership(),this.on_tab_click=(n=h(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.tabs.is_tab_click_locked()){e.next=2;break}return e.abrupt("return");case 2:return r.tabs.lock_tab_click(),n=t.currentTarget,r.select_dealership(r.tabs.get_button_index(n)),r.setup_navigation(),e.next=8,r.setup_tabs();case 8:r.tabs.unlock_tab_click();case 9:case"end":return e.stop()}}),e,r)}))),function(e){return n.apply(this,arguments)}),this.on_resize=function(){r.set_map_container_height(),r.sections.fix_split_height()},this.on_click_track_contact=function(e){var t=new c.ContactEvent(e.currentTarget);(0,l.fireTronActivityClickEvent)(),(0,l.fireCustomEvent)(t.get_analytics_object())}}var t,n,u,d,p,f,m,v;return r(e,[{key:"assert_html",value:function(){if(0===this.elms_nav_buttons.length)throw new Error("Invalid number of tabs: 0")}},{key:"select_dealership",value:function(e){this.selected_dealership=e,this.tabs.set_selected_tab(e)}},{key:"get_default_open_tab_index",value:function(){return parseInt(this.container.getAttribute(this.const_defaultTabAttribute))}},{key:"get_default_open_tab",value:function(){var e=this.get_default_open_tab_index();return e>=this.sections.get_split_number()?this.sections.get_split_number()-1:e}},{key:"set_selected_dealership",value:function(){this.select_dealership(this.get_default_open_tab())}},{key:"set_split_to_active_dealership",value:function(){this.sections.set_active_split(this.selected_dealership)}},{key:"setup_click_on_tab",value:function(e){this.tabs.get_tab_button(e).addEventListenerRR("click",this.on_tab_click)}},{key:"setup_on_resize",value:function(){window.addEventListenerRR("resize",this.on_resize)}},{key:"get_split_ctas",value:function(e){return[].slice.call(e.querySelectorAll(".js-find-us-cta"))}},{key:"init_contacts_tracking",value:function(e){var t=this;this.tracking_split_events=[].slice.call(e.querySelectorAll(".js-find-us--contact")),this.tracking_split_events.forEach((function(e){return e.addEventListenerRR("click",t.on_click_track_contact)}))}},{key:"dispose_contacts_tracking",value:function(){var e=this;this.tracking_split_events.forEach((function(t){return t.removeEventListenerRR("click",e.on_click_track_contact)}))}},{key:"init_split_ctas",value:function(e){var t=this.get_split_ctas(e);this.active_split_cta_instances=t.map((function(e){return new i.default(e)})),this.active_split_cta_instances.forEach((function(e){return e.load()})),this.init_contacts_tracking(e)}},{key:"dispose_active_split_ctas",value:function(){this.active_split_cta_instances.forEach((function(e){return e.destroy()})),this.dispose_contacts_tracking()}},{key:"set_active_map_url",value:function(){var e=this.sections.get_active_split_index();this.active_map_url=this.map_urls[e]}},{key:"get_active_map_url",value:function(){return this.active_map_url}},{key:"generate_map_html",value:function(e){return' <iframe\n                  title="Google Maps" frameborder="0" style="border:0; width: 100%; height: 100%"\n                  src="'+e+'" allowfullscreen>\n                </iframe>\n              '}},{key:"map_container_aspect_ratio",value:function(){return(0,o.is_tablet_portrait_down)()?1:2.892}},{key:"generate_map_dimensions",value:function(){var e=this.map_container_aspect_ratio();return{width:window.innerWidth,height:window.innerWidth/e}}},{key:"reveal_active_map",value:(v=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.get_active_map_url(),this.elm_map_container.innerHTML=this.generate_map_html(t);case 2:case"end":return e.stop()}}),e,this)}))),function(){return v.apply(this,arguments)})},{key:"hide_active_map",value:(m=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.elm_map_container.innerHTML="";case 1:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"activate_map_by_active_dealership",value:(f=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.set_split_to_active_dealership(),this.set_active_map_url(),this.reveal_active_map();case 3:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"deactivate_current_map",value:(p=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.sections.get_active_split_index()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:this.hide_active_map();case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"activate_split_by_active_dealership",value:(d=h(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.set_split_to_active_dealership(),e.next=3,this.sections.activate_current_split((function(e){return t.init_split_ctas(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"add_tracking_indices",value:function(){this.sections.add_tracking_indices()}},{key:"setup_navigation",value:(u=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.tabs.apply_nav_button_styles(),this.tabs.apply_nav_underscore_styles();case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"set_map_container_height",value:function(){var e=this.generate_map_dimensions();this.elm_map_container.style.height=e.height+"px"}},{key:"setup_tabs",value:(n=h(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.deactivate_current_map(),e.next=3,this.sections.deactivate_current_split((function(){return t.dispose_active_split_ctas()}));case 3:return this.activate_map_by_active_dealership(),e.next=6,this.activate_split_by_active_dealership();case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setup_listeners",value:function(){var e=this;this.tabs.forEachButton((function(t){return e.setup_click_on_tab(t)})),this.setup_on_resize()}},{key:"load",value:(t=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.assert_html(),this.add_tracking_indices(),this.setup_navigation(),this.set_map_container_height(),e.next=7,this.setup_tabs();case 7:this.setup_listeners(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(){return t.apply(this,arguments)})}]),e}();window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-find-us-component");[].slice.call(e).forEach((function(e){new d(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){i(this,e),this.contact=t}return r(e,[{key:"get_phone_number",value:function(){var e=this.contact.data_href.split(":");return e.length>1?e[1]:e[0]}},{key:"get_analytics_object",value:function(){return{event:"clickDealerNumber",eventCategory:"Engagement",eventAction:"call",eventLabel:this.get_phone_number()}}}]),e}(),a=function(){function e(t){i(this,e),this.contact=t}return r(e,[{key:"get_analytics_object",value:function(){return{event:"ClickDealerSocial",eventCategory:"Engagement",eventAction:"Exit Click",eventLabel:this.contact.data_channel}}}]),e}();t.ContactEvent=function(){function e(t){i(this,e),this.link=t,this.parse_link(),this.choose_contact_type()}return r(e,[{key:"parse_link",value:function(){this.data_channel=this.link.getAttribute("data-channel"),this.data_href=this.link.getAttribute("href")}},{key:"is_phone_channel",value:function(){return"telephone"===this.data_channel}},{key:"choose_contact_type",value:function(){this.is_phone_channel()?this.contact=new o(this):this.contact=new a(this)}},{key:"get_analytics_object",value:function(){return this.contact.get_analytics_object()}}]),e}()},function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),a=(r=o)&&r.__esModule?r:{default:r};n(571);var s=n(18),l=n(62),c=n(154),u=n(201);var h=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.footer=document.querySelector(".js-rrmc-footer"),this.footer&&(this.footerLinks=document.querySelector(".js-rrmc-footer-links"),this.footerSocial=document.querySelector(".js-rrmc-footer-social-icons-list"),this.logoLink=document.querySelector(".js-rrmc-footer-logo-link"),this.dealerLogoWrapper=this.footer.querySelector(".js-rrmc-footer--dealer-wrapper"),this.monogram=this.footer.querySelector(".rrmc-footer-monogram"),this.announce_height=function(){var e=t.footer.clientHeight-1;a.default.sub_footer_height.next(e)},this.on_click_brochure=function(e){e.preventDefault();var t=event.target.dataset.overlay;a.default.sub_overlay_manager_bus.next({action:l.overlayOpen,data:{overlayName:t}})})}return i(e,[{key:"update_footer_logo",value:function(){var e=this.dealer_preference;if(e){var t=e.get_english_name();if(t){t=t.replace(/[.,/#!'$%^&*;:{}=\-_`~()]/g,"").replace(/ /g,"_"),this.dealerLogoWrapper.classList.add("dealer-selected");var n=this.monogram.getAttribute("data-override-logo");this.monogram.style.backgroundImage="false"!==n?"url('"+n+"')":"url('/content/dam/rrmc/dealers/dealer_logos/showroom_"+t+".svg')",this.logoLink.setAttribute("href",e.get_href())}}}},{key:"setup_flags",value:function(){this.elms_flag=[].slice.call(this.footerLinks.querySelectorAll(".js-rrmc-footer-link--flag")),this.elms_flag.forEach((function(e){var t=e.getAttribute("data-locale");e.classList.add("iti__flag"),e.classList.add(c.locale_language_map[t])}))}},{key:"update_dealer_preference",value:function(e){this.dealer_preference=e}},{key:"load",value:function(){var e=this;if(this.footer){var t=document.getElementsByClassName("js-rrmc-eg-footer-link");if(t.length)for(var n=0;n<t.length;n++)t[n].addEventListenerRR("click",this.on_click_brochure);this.setup_flags(),a.default.sub_us_banner_state.subscribe((function(){e.announce_height()})),window.addEventListenerRR("resize",this.announce_height),this.footerLinks.addEventListenerRR("click",(function(e){var t=e.target.getAttribute("href");"_blank"!=e.target.getAttribute("target")&&e.preventDefault(),e.target.hasAttribute("data-is-external")&&(0,s.fireTronActivityClickEvent)();var n=e.target.textContent.toLowerCase();(0,s.fireCustomEvent)({event:"footerClick",eventCategory:"Footer",eventAction:"Footer Click",eventLabel:n,eventCallback:function(){t&&"_blank"!=e.target.getAttribute("target")&&(window.location=t)},eventTimeout:2e3})})),this.footerSocial&&this.footerSocial.addEventListenerRR("click",(function(e){e.target.getAttribute("href")&&((0,s.fireTronActivityClickEvent)(),(0,s.fireCustomEvent)({event:"footerSocialClick",eventCategory:"Footer",eventAction:"Footer Social Click",eventLabel:e.target.innerHTML.toLowerCase()}))})),u.dealerService.subscribe((function(t){e.update_dealer_preference(t),e.update_footer_logo()})),window.addEventListenerRR("resize",(function(){e.update_footer_logo()}))}}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){setTimeout((function(){document.querySelector(".js-rrmc-footer")&&(new h).load()}),1e3)}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";(function(e){var t,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=function(e,t,n){return function(){for(var r=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria","at","43"],["Azerbaijan","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain","bh","973",0,null,8],["Bangladesh","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus","by","375"],["Belgium","be","32"],["Belize","bz","501"],["Benin","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan","bt","975"],["Bolivia, Plurinational State of","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55"],["Virgin Islands, British","vg","1",11,["284"]],["Brunei Darussalam","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Cayman Islands","ky","1",12,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86"],["Christmas Island","cx","61",2],["Colombia","co","57"],["Congo, The Democratic Republic of the","cd","243"],["Congo","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Cote d'Ivoire","ci","225"],["Croatia","hr","385"],["Cuba","cu","53"],["Cyprus","cy","357",0,null,8],["Czech Republic","cz","420"],["Denmark","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic","do","1",2,["809","829","849"]],["Dutch Antilles","an","599"],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Malvinas)","fk","500"],["Faroe Islands","fo","298"],["Fiji","fj","679"],["Finland","fi","358",0],["France","fr","33"],["French Guiana","gf","594"],["French Polynesia","pf","689"],["French Southern Territories","tf","262"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49"],["Ghana","gh","233"],["Gibraltar","gi","350"],["Greece","gr","30"],["Greenland","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong SAR","hk","852"],["Hungary","hu","36"],["Iceland","is","354"],["India","in","91"],["Indonesia","id","62"],["Iran, Islamic Republic of","ir","98",0,null,10],["Iraq","iq","964",0,null,10],["Ireland","ie","353"],["Israel","il","972",0,null,9],["Italy","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan","jo","962",0,null,9],["Kazakhstan","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965",0,null,9],["Kyrgyzstan","kg","996"],["Lao People's Democratic Republic","la","856"],["Latvia","lv","371"],["Lebanon","lb","961",0,null,8],["Lesotho","ls","266"],["Liberia","lr","231"],["Libyan Arab Jamahiriya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macao SAR","mo","853"],["Macedonia, The Former Yugoslav Republic of","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico","mx","52"],["Moldova, Republic of","md","373"],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco","ma","212",0],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31"],["New Caledonia","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["Korea, Democratic People's Republic of","kp","850"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway","no","47",0],["Oman","om","968",0,null,8],["Pakistan","pk","92"],["Palau","pw","680"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63"],["Poland","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar","qa","974",0,null,8],["Reunion","re","262",0],["Romania","ro","40"],["Russian Federation","ru","7",0],["Rwanda","rw","250"],["Saint Barthlemy","bl","590",1],["Saint Helena, Ascension and Tristan Da Cunha","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Pierre and Miquelon","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["Sao Tome and Principe","st","239"],["Saudi Arabia","sa","966",0,null,9],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["Korea, Republic of","kr","82"],["South Sudan","ss","211"],["Spain","es","34"],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Swaziland","sz","268"],["Sweden","se","46"],["Switzerland","ch","41"],["Syrian Arab Republic","sy","963",0,null,9],["Taiwan, Province of China","tw","886"],["Tajikistan","tj","992"],["Tanzania, United Republic of","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia","tn","216"],["Turkey","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["American Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine","ua","380"],["United Arab Emirates","ae","971",0,null,10],["United Kingdom","gb","44",0,null,10],["United States","us","1",0,null,7],["Uruguay","uy","598"],["Uzbekistan","uz","998"],["Vanuatu","vu","678"],["Venezuela, Bolivarian Republic of","ve","58"],["Viet Nam","vn","84"],["Wallis and Futuna","wf","681"],["Western Sahara","eh","212",1,["5288","5289"]],["Yemen","ye","967",0,null,9],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Aland Islands","ax","358",1,["18"]]],i=0;i<r.length;i++){var o=r[i];r[i]={name:o[0],iso2:o[1],dialCode:o[2],priority:o[3]||0,areaCodes:o[4]||null,minLength:o[5]||4}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.intlTelInputGlobals={getInstance:function(t){var n=t.getAttribute("data-intl-tel-input-id");return e.intlTelInputGlobals.instances[n]},instances:{}};var s=0,l={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},c=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];e.addEventListener("load",(function(){e.intlTelInputGlobals.windowLoaded=!0}));var u=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++)t(n[r],e[n[r]])},h=function(t){u(e.intlTelInputGlobals.instances,(function(n){e.intlTelInputGlobals.instances[n][t]()}))},d=function(){function i(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.id=s++,this.telInput=e,this.activeItem=null,this.highlightedItem=null;var r=t||{};this.options={},u(l,(function(e,t){n.options[e]=r.hasOwnProperty(e)?r[e]:t})),this.hadInitialPlaceholder=Boolean(e.getAttribute("placeholder"))}var o,d,p;return o=i,(d=[{key:"_init",value:function(){var e=this;if(this.options.nationalMode&&(this.options.autoHideDialCode=!1),this.options.separateDialCode&&(this.options.autoHideDialCode=this.options.nationalMode=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(t.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=t.body)),"undefined"!=typeof Promise){var n=new Promise((function(t,n){e.resolveAutoCountryPromise=t,e.rejectAutoCountryPromise=n})),r=new Promise((function(t,n){e.resolveUtilsScriptPromise=t,e.rejectUtilsScriptPromise=n}));this.promise=Promise.all([n,r])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(e,t,r){t.length>this.dialCodeMaxLen&&(this.dialCodeMaxLen=t.length),this.countryCodes.hasOwnProperty(t)||(this.countryCodes[t]=[]);for(var i=0;i<this.countryCodes[t].length;i++)if(this.countryCodes[t][i]===e)return;var o=r!==n?r:this.countryCodes[t].length;this.countryCodes[t][o]=e}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var e=this.options.onlyCountries.map((function(e){return e.toLowerCase()}));this.countries=r.filter((function(t){return e.indexOf(t.iso2)>-1}))}else if(this.options.excludeCountries.length){var t=this.options.excludeCountries.map((function(e){return e.toLowerCase()}));this.countries=r.filter((function(e){return-1===t.indexOf(e.iso2)}))}else this.countries=r}},{key:"_translateCountriesByLocale",value:function(){for(var e=0;e<this.countries.length;e++){var t=this.countries[e].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(t)&&(this.countries[e].name=this.options.localizedCountries[t])}}},{key:"_countryNameSort",value:function(e,t){return e.name.localeCompare(t.name)}},{key:"_processCountryCodes",value:function(){this.dialCodeMaxLen=0,this.countryCodes={};for(var e=0;e<this.countries.length;e++){var t=this.countries[e];this._addCountryCode(t.iso2,t.dialCode,t.priority)}for(var n=0;n<this.countries.length;n++){var r=this.countries[n];if(r.areaCodes)for(var i=this.countryCodes[r.dialCode][0],o=0;o<r.areaCodes.length;o++){for(var a=r.areaCodes[o],s=1;s<a.length;s++){var l=r.dialCode+a.substr(0,s);this._addCountryCode(i,l),this._addCountryCode(r.iso2,l)}this._addCountryCode(r.iso2,r.dialCode+a)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var e=0;e<this.options.preferredCountries.length;e++){var t=this.options.preferredCountries[e].toLowerCase(),n=this._getCountryData(t,!1,!0);n&&this.preferredCountries.push(n)}}},{key:"_createEl",value:function(e,n,r){var i=t.createElement(e);return n&&u(n,(function(e,t){return i.setAttribute(e,t)})),r&&r.appendChild(i),i}},{key:"_generateMarkup",value:function(){this.telInput.setAttribute("autocomplete","off");var e="iti";this.options.allowDropdown&&(e+=" iti--allow-dropdown"),this.options.separateDialCode&&(e+=" iti--separate-dial-code"),this.options.customContainer&&(e+=" ",e+=this.options.customContainer);var t=this._createEl("div",{class:e});if(this.telInput.parentNode.insertBefore(t,this.telInput),this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},t),t.appendChild(this.telInput),this.selectedFlag=this._createEl("div",{class:"iti__selected-flag",role:"combobox","aria-owns":"country-listbox"},this.flagsContainer),this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag),this.options.separateDialCode&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),this.options.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"country-listbox","aria-expanded":"false",role:"listbox"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred"),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),this.options.dropdownContainer?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),this.options.hiddenInput){var n=this.options.hiddenInput,r=this.telInput.getAttribute("name");if(r){var i=r.lastIndexOf("[");-1!==i&&(n="".concat(r.substr(0,i),"[").concat(n,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:n}),t.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];n+="<li class='iti__country ".concat(t,"' tabIndex='-1' id='iti-item-").concat(i.iso2,"' role='option' data-dial-code='").concat(i.dialCode,"' data-country-code='").concat(i.iso2,"'>"),n+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(i.iso2,"'></div></div>"),n+="<span class='iti__country-name'>".concat(i.name,"</span>"),n+="<span class='iti__dial-code'>+".concat(i.dialCode,"</span>"),n+="</li>"}this.countryList.insertAdjacentHTML("beforeend",n)}},{key:"_setInitialState",value:function(){var e=this.telInput.value,t=this._getDialCode(e),n=this._isRegionlessNanp(e),r=this.options,i=r.initialCountry,o=r.nationalMode,a=r.autoHideDialCode,s=r.separateDialCode;t&&!n?this._updateFlagFromNumber(e):"auto"!==i&&(i?this._setFlag(i.toLowerCase()):t&&n?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,e||this._setFlag(this.defaultCountry)),e||o||a||s||(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),e&&this._updateValFromNumber(e)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoHideDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var e=this;this._handleHiddenInputSubmit=function(){e.hiddenInput.value=e.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var e=this.telInput;e&&"LABEL"!==e.tagName;)e=e.parentNode;return e}},{key:"_initDropdownListeners",value:function(){var e=this;this._handleLabelClick=function(t){e.countryList.classList.contains("iti__hide")?e.telInput.focus():t.preventDefault()};var t=this._getClosestLabel();t&&t.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){!e.countryList.classList.contains("iti__hide")||e.telInput.disabled||e.telInput.readOnly||e._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(t){e.countryList.classList.contains("iti__hide")&&-1!==["ArrowUp","ArrowDown"," ","Enter"].indexOf(t.key)&&(t.preventDefault(),t.stopPropagation(),e._showDropdown()),"Tab"===t.key&&e._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var t=this;this.options.utilsScript&&!e.intlTelInputUtils?e.intlTelInputGlobals.windowLoaded?e.intlTelInputGlobals.loadUtils(this.options.utilsScript):e.addEventListener("load",(function(){e.intlTelInputGlobals.loadUtils(t.options.utilsScript)})):this.resolveUtilsScriptPromise(),"auto"===this.options.initialCountry?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){e.intlTelInputGlobals.autoCountry?this.handleAutoCountry():e.intlTelInputGlobals.startedLoadingAutoCountry||(e.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup((function(t){e.intlTelInputGlobals.autoCountry=t.toLowerCase(),setTimeout((function(){return h("handleAutoCountry")}))}),(function(){return h("rejectAutoCountryPromise")})))}},{key:"_initKeyListeners",value:function(){var e=this;this._handleKeyupEvent=function(){e._updateFlagFromNumber(e.telInput.value)&&e._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(e._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(e){var t=this.telInput.getAttribute("maxlength");return t&&e.length>t?e.substr(0,t):e}},{key:"_initBlurListeners",value:function(){var e=this;this._handleSubmitOrBlurEvent=function(){e._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if("+"===this.telInput.value.charAt(0)){var e=this._getNumeric(this.telInput.value);e&&this.selectedCountryData.dialCode!==e||(this.telInput.value="")}}},{key:"_getNumeric",value:function(e){return e.replace(/\D/g,"")}},{key:"_trigger",value:function(e){var n=t.createEvent("Event");n.initEvent(e,!0,!0),this.telInput.dispatchEvent(n)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.countryList.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(e,t,n){n&&!e.classList.contains(t)?e.classList.add(t):!n&&e.classList.contains(t)&&e.classList.remove(t)}},{key:"_setDropdownPosition",value:function(){var n=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var r=this.telInput.getBoundingClientRect(),i=e.pageYOffset||t.documentElement.scrollTop,o=r.top+i,a=this.countryList.offsetHeight,s=o+this.telInput.offsetHeight+a<i+e.innerHeight,l=o-a>i;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!s&&l),this.options.dropdownContainer){var c=!s&&l?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(o+c,"px"),this.dropdown.style.left="".concat(r.left+t.body.scrollLeft,"px"),this._handleWindowScroll=function(){return n._closeDropdown()},e.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(e){for(var t=e;t&&t!==this.countryList&&!t.classList.contains("iti__country");)t=t.parentNode;return t===this.countryList?null:t}},{key:"_bindDropdownListeners",value:function(){var e=this;this._handleMouseoverCountryList=function(t){var n=e._getClosestListItem(t.target);n&&e._highlightListItem(n,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(t){var n=e._getClosestListItem(t.target);n&&e._selectListItem(n)},this.countryList.addEventListener("click",this._handleClickCountryList);var n=!0;this._handleClickOffToClose=function(){n||e._closeDropdown(),n=!1},t.documentElement.addEventListener("click",this._handleClickOffToClose);var r="",i=null;this._handleKeydownOnDropdown=function(t){t.preventDefault(),"ArrowUp"===t.key||"ArrowDown"===t.key?e._handleUpDownKey(t.key):"Enter"===t.key?e._handleEnterKey():"Escape"===t.key?e._closeDropdown():/^[a-zA-Z- ]$/.test(t.key)&&(i&&clearTimeout(i),r+=t.key.toLowerCase(),e._searchForCountry(r),i=setTimeout((function(){r=""}),1e3))},t.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(e){var t="ArrowUp"===e?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;t&&(t.classList.contains("iti__divider")&&(t="ArrowUp"===e?t.previousElementSibling:t.nextElementSibling),this._highlightListItem(t,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(e){for(var t=0;t<this.countries.length;t++)if(this._startsWith(this.countries[t].name,e)){var n=this.countryList.querySelector("#iti-item-".concat(this.countries[t].iso2));this._highlightListItem(n,!1),this._scrollTo(n,!0);break}}},{key:"_startsWith",value:function(e,t){return e.substr(0,t.length).toLowerCase()===t}},{key:"_updateValFromNumber",value:function(t){var n=t;if(this.options.formatOnDisplay&&e.intlTelInputUtils&&this.selectedCountryData){var r=!this.options.separateDialCode&&(this.options.nationalMode||"+"!==n.charAt(0)),i=intlTelInputUtils.numberFormat,o=i.NATIONAL,a=i.INTERNATIONAL,s=r?o:a;n=intlTelInputUtils.formatNumber(n,this.selectedCountryData.iso2,s)}n=this._beforeSetNumber(n),this.telInput.value=n}},{key:"_updateFlagFromNumber",value:function(e){var t=e,n=this.selectedCountryData.dialCode,r="1"===n;t&&this.options.nationalMode&&r&&"+"!==t.charAt(0)&&("1"!==t.charAt(0)&&(t="1".concat(t)),t="+".concat(t)),this.options.separateDialCode&&n&&"+"!==t.charAt(0)&&(t="+".concat(n).concat(t));var i=this._getDialCode(t),o=this._getNumeric(t),a=null;if(i){var s=this.countryCodes[this._getNumeric(i)],l=-1!==s.indexOf(this.selectedCountryData.iso2)&&o.length<=i.length-1;if(!("1"===n&&this._isRegionlessNanp(o)||l))for(var c=0;c<s.length;c++)if(s[c]){a=s[c];break}}else"+"===t.charAt(0)&&o.length?a="":t&&"+"!==t||(a=this.defaultCountry);return null!==a&&this._setFlag(a)}},{key:"_isRegionlessNanp",value:function(e){var t=this._getNumeric(e);if("1"===t.charAt(0)){var n=t.substr(1,3);return-1!==c.indexOf(n)}return!1}},{key:"_highlightListItem",value:function(e,t){var n=this.highlightedItem;n&&n.classList.remove("iti__highlight"),this.highlightedItem=e,this.highlightedItem.classList.add("iti__highlight"),t&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(e,t,n){for(var i=t?r:this.countries,o=0;o<i.length;o++)if(i[o].iso2===e)return i[o];if(n)return null;throw new Error("No country data for '".concat(e,"'"))}},{key:"_setFlag",value:function(e){var t=this.selectedCountryData.iso2?this.selectedCountryData:{};this.selectedCountryData=e?this._getCountryData(e,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(e));var n=e?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):"Unknown";if(this.selectedFlag.setAttribute("title",n),this.selectedFlag.setAttribute("min-length",this.selectedCountryData.minLength),this.options.separateDialCode){var r=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=r;var i=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.telInput.style.paddingLeft="".concat(i+6,"px")}if(this._updatePlaceholder(),this.options.allowDropdown){var o=this.activeItem;if(o&&(o.classList.remove("iti__active"),o.setAttribute("aria-selected","false")),e){var a=this.countryList.querySelector("#iti-item-".concat(e));a.setAttribute("aria-selected","true"),a.classList.add("iti__active"),this.activeItem=a,this.countryList.setAttribute("aria-activedescendant",a.getAttribute("id"))}}return t.iso2!==e}},{key:"_getHiddenSelectedFlagWidth",value:function(){var e=this.telInput.parentNode.cloneNode();e.style.visibility="hidden",t.body.appendChild(e);var n=this.selectedFlag.cloneNode(!0);e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),r}},{key:"_updatePlaceholder",value:function(){var t="aggressive"===this.options.autoPlaceholder||!this.hadInitialPlaceholder&&"polite"===this.options.autoPlaceholder;if(e.intlTelInputUtils&&t){var n=intlTelInputUtils.numberType[this.options.placeholderNumberType],r=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,n):"";r=this._beforeSetNumber(r),"function"==typeof this.options.customPlaceholder&&(r=this.options.customPlaceholder(r,this.selectedCountryData)),this.telInput.setAttribute("placeholder",r)}}},{key:"_selectListItem",value:function(e){var t=this._setFlag(e.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(e.getAttribute("data-dial-code"),!0),this.telInput.focus();var n=this.telInput.value.length;this.telInput.setSelectionRange(n,n),t&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.countryList.setAttribute("aria-expanded","false"),this.dropdownArrow.classList.remove("iti__arrow--up"),t.removeEventListener("keydown",this._handleKeydownOnDropdown),t.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||e.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(n,r){var i=this.countryList,o=e.pageYOffset||t.documentElement.scrollTop,a=i.offsetHeight,s=i.getBoundingClientRect().top+o,l=s+a,c=n.offsetHeight,u=n.getBoundingClientRect().top+o,h=u+c,d=u-s+i.scrollTop,p=a/2-c/2;if(u<s)r&&(d-=p),i.scrollTop=d;else if(h>l){r&&(d+=p);var f=a-c;i.scrollTop=d-f}}},{key:"_updateDialCode",value:function(e,t){var n,r=this.telInput.value,i="+".concat(e);if("+"===r.charAt(0)){var o=this._getDialCode(r);n=o?r.replace(o,i):i}else{if(this.options.nationalMode||this.options.separateDialCode)return;if(r)n=i+r;else{if(!t&&this.options.autoHideDialCode)return;n=i}}this.telInput.value=n}},{key:"_getDialCode",value:function(e){var t="";if("+"===e.charAt(0))for(var n="",r=0;r<e.length;r++){var i=e.charAt(r);if(!isNaN(parseInt(i,10))&&(n+=i,this.countryCodes[n]&&(t=e.substr(0,r+1)),n.length===this.dialCodeMaxLen))break}return t}},{key:"_getFullNumber",value:function(){var e=this.telInput.value.trim(),t=this.selectedCountryData.dialCode,n=this._getNumeric(e);return(this.options.separateDialCode&&"+"!==e.charAt(0)&&t&&n?"+".concat(t):"")+e}},{key:"_beforeSetNumber",value:function(e){var t=e;if(this.options.separateDialCode){var n=this._getDialCode(t);if(n){var r=" "===t[(n="+".concat(this.selectedCountryData.dialCode)).length]||"-"===t[n.length]?n.length+1:n.length;t=t.substr(r)}}return this._cap(t)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){"auto"===this.options.initialCountry&&(this.defaultCountry=e.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){e.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var t=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var n=this._getClosestLabel();n&&n.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&t&&t.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoHideDialCode&&(t&&t.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var r=this.telInput.parentNode;r.parentNode.insertBefore(this.telInput,r),r.parentNode.removeChild(r),delete e.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return e.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(t){if(e.intlTelInputUtils){var n=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),n,t)}return""}},{key:"getNumberType",value:function(){return e.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(e.intlTelInputUtils){var t=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),t)}return-99}},{key:"isValidNumber",value:function(){var t=this._getFullNumber().trim(),n=this.options.nationalMode?this.selectedCountryData.iso2:"";return e.intlTelInputUtils?intlTelInputUtils.isValidNumber(t,n):null}},{key:"setCountry",value:function(e){var t=e.toLowerCase();this.selectedFlagInner.classList.contains("iti__".concat(t))||(this._setFlag(t),this._updateDialCode(this.selectedCountryData.dialCode,!1),this._triggerCountryChange())}},{key:"setNumber",value:function(e){var t=this._updateFlagFromNumber(e);this._updateValFromNumber(e),t&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(e){this.options.placeholderNumberType=e,this._updatePlaceholder()}}])&&a(o.prototype,d),p&&a(o,p),i}();e.intlTelInputGlobals.getCountryData=function(){return r};var p=function(e,n,r){var i=t.createElement("script");i.onload=function(){h("handleUtils"),n&&n()},i.onerror=function(){h("rejectUtilsScriptPromise"),r&&r()},i.className="iti-load-utils",i.async=!0,i.src=e,t.body.appendChild(i)};return e.intlTelInputGlobals.loadUtils=function(t){if(!e.intlTelInputUtils&&!e.intlTelInputGlobals.startedLoadingUtilsScript){if(e.intlTelInputGlobals.startedLoadingUtilsScript=!0,"undefined"!=typeof Promise)return new Promise((function(e,n){return p(t,e,n)}));p(t)}return null},e.intlTelInputGlobals.defaults=l,e.intlTelInputGlobals.version="16.0.4",function(t,n){var r=new d(t,n);return r._init(),t.setAttribute("data-intl-tel-input-id",r.id),e.intlTelInputGlobals.instances[r.id]=r,r}}()}(window,document),"object"===n(e)&&e.exports?e.exports=t:window.intlTelInput=t}).call(this,n(574)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormComponent=function(e){return r[e].replace(/{{([^}]+)}}/g,i)};var r=t.component={salutation:'<div class="rrmc-selectmenu js-rrmc-selectmenu">\n    <select class="js-form-select js-rrmc-form-input" id="salutation" name="salutation"\n        aria-labelledby="salutation" aria-describedby="salutation" aria-required="false" data-default="{{Title}}">\n        <option value=""></option>\n        <option value="Mr.">{{Mr.}}</option>\n        <option value="Mrs.">{{Mrs.}}</option>\n        <option value="Ms.">{{Ms.}}</option>\n        <option value="Captain">{{Captain}}</option>\n        <option value="Chief">{{Chief}}</option>\n        <option value="Darin Sri">{{Darin Sri}}</option>\n        <option value="Datin">{{Datin}}</option>\n        <option value="Dato">{{Dato}}</option>\n        <option value="Dato Sri">{{Dato Sri}}</option>\n        <option value="Dr.">{{Dr.}}</option>\n        <option value="Engineer">{{Engineer}}</option>\n        <option value="Esq.">{{Esq.}}</option>\n        <option value="Frau">{{Frau}}</option>\n        <option value="H.E.">{{H.E.}}</option>\n        <option value="H. E. Dr.">{{H. E. Dr.}}</option>\n        <option value="H.E. Mr.">{{H.E. Mr.}}</option>\n        <option value="H.E. Mrs.">{{H.E. Mrs.}}</option>\n        <option value="H.E. Sheikh">{{H.E. Sheikh}}</option>\n        <option value="H.E. Sheikha">{{H.E. Sheikha}}</option>\n        <option value="H.H.">{{H.H.}}</option>\n        <option value="H.H. Prince">{{H.H. Prince}}</option>\n        <option value="H.H. Sheikh">{{H.H. Sheikh}}</option>\n        <option value="H.H. Sheikha">{{H.H. Sheikha}}</option>\n        <option value="H.M.">{{H.M.}}</option>\n        <option value="H.R.H.">{{H.R.H.}}</option>\n        <option value="H.R.H. Prince">{{H.R.H. Prince}}</option>\n        <option value="Herr">{{Herr}}</option>\n        <option value="Lord">{{Lord}}</option>\n        <option value="Messrs.">{{Messrs.}}</option>\n        <option value="Princess">{{Princess}}</option>\n        <option value="Puan Sri">{{Puan Sri}}</option>\n        <option value="Reverend">{{Reverend}}</option>\n        <option value="Sheikh">{{Sheikh}}</option>\n        <option value="Sheikha">{{Sheikha}}</option>\n        <option value="Sir.">{{Sir.}}</option>\n        <option value="Tan Sri">{{Tan Sri}}</option>\n        <option value="">{{}}</option>\n        <option value="">{{}}</option>\n        <option value="Mdm.">{{Mdm.}}</option>\n    </select>\n    <span class="rrmc-form-label-error -hidden"></span>\n</div>',caseSalutation:'<div class="rrmc-selectmenu js-rrmc-selectmenu">\n    <select class="js-form-select js-rrmc-form-input" id="salutation" name="salutation"\n        aria-labelledby="salutation" aria-describedby="salutation" aria-required="false" data-default="{{Title}}">\n        <option value=""></option>\n        <option value="Mr.">{{Mr.}}</option>\n        <option value="Mrs.">{{Mrs.}}</option>\n        <option value="Ms.">{{Ms.}}</option>\n        <option value="Miss.">{{Miss.}}</option>\n\t\t    <option value="">{{}}</option>\n        <option value="">{{}}</option>\n        <option value="Datin">{{Datin}}</option>\n\t\t    <option value="Dato">{{Dato}}</option>\n        <option value="Dr.">{{Dr.}}</option>\n        <option value="H.E.">{{H.E.}}</option>\n        <option value="H.H.">{{H.H.}}</option>\n        <option value="H.M.">{{H.M.}}</option>\n        <option value="H.R.H.">{{H.R.H.}}</option>\n        <option value="Lord">{{Lord}}</option>\n        <option value="Messers.">{{Messers.}}</option>\n        <option value="Puan Sri">{{Puan Sri}}</option>\n        <option value="Sheikh">{{Sheikh}}</option>\n        <option value="Sheikha">{{Sheikha}}</option>\n        <option value="Sir.">{{Sir.}}</option>\n        <option value="Tan Sri">{{Tan Sri}}</option>\n    </select>\n    <span class="rrmc-form-label-error -hidden"></span>\n</div>',localisedDealer:'\n  <div class="rrmc-localised-dealer-selector js-rrmc-localised-dealer-selector">\n    <div class="rrmc-selectmenu js-rrmc-selectmenu">\n      <select class="js-form-select js-rrmc-form-input" id="localisedDealer" name="localisedDealer"\n          aria-labelledby="localisedDealer" aria-describedby="localisedDealer" aria-required="false" data-default="{{Select a dealer}}">\n          <option value=""></option>\n      </select>\n      <span class="rrmc-form-label-error -hidden"></span>\n    </div>\n    <div class="rrmc-localised-dealer-legal js-rrmc-localised-dealer-legal">\n    </div>\n  </div>\n  ',selectMyEvent:'\n  <div class="js-rrmc-select-my-event-wrapper">\n    <div class="rrmc-select-my-event js-rrmc-select-my-event">\n      <div class="rrmc-selectmenu js-rrmc-selectmenu">\n        <select class="js-form-select js-rrmc-form-input" id="selectMyEvent" name="selectMyEvent"\n            aria-labelledby="Desired Test Drive Location" aria-describedby="Desired Test Drive Location" aria-required="false" data-default="{{Desired Test Drive Location}}">\n            <option value=""></option>\n        </select>\n        <span class="rrmc-form-label-error -hidden"></span>\n      </div>\n    </div>\n    <div class="js-rrmc-event-option-wrapper">\n    <div class="rrmc-select-my-event-option rrmc-select-my-event-option--faded js-rrmc-select-my-event-option">\n      <div class="rrmc-selectmenu js-rrmc-selectmenu">\n        <div class="select"><select class="js-form-select js-rrmc-form-input select-hidden" id="selectMyEventOption" name="selectMyEventOption" aria-labelledby="{{Date}}" aria-describedby="{{Date}}" aria-required="false" data-default="{{Date}}"><option value=""></option></select><div class="select-custom" id="medium">{{Date}}</div></div>\n        <span class="rrmc-form-label-error -hidden"></span>\n      </div>\n    </div>\n    </div>\n  </div>\n  ',modelOfInterest:'<div class="rrmc-selectmenu js-rrmc-selectmenu">\n\t<div class="rrmc-selectmenu js-rrmc-selectmenu">\n\t\t<select class="js-form-select js-rrmc-form-input js-rrmc-model-of-interest" id="modelOfInterest" name="modelOfInterest"\n\t\t\taria-labelledby="modelOfInterest" aria-describedby="modelOfInterest" aria-required="false" data-default="{{Model of Interest}}">\n\t\t\t<option value=""></option>\n\t\t\t<option value="All Models">{{All Models}}</option>\n\t\t\t<option value="Spectre">{{Spectre}}</option>\n\t\t\t<option value="Cullinan">{{Cullinan}}</option>\n\t\t\t<option value="Phantom">{{Phantom}}</option>\n\t\t\t<option value="Phantom Extended">{{Phantom Extended}}</option>\n\t\t\t<option value="New Ghost">{{Ghost}}</option>\n\t\t\t<option value="New Ghost Extended">{{Ghost Extended}}</option>\n\t\t\t<option value="Black Badge Cullinan">{{Black Badge Cullinan}}</option>\n\t\t\t<option value="Black Badge Ghost">{{Black Badge Ghost}}</option>\n\t\t<span class="rrmc-form-label-error -hidden"></span>\n</div>',modelBrochure:'<div class="rrmc-form-checkbox-section js-rrmc-form-input js-rrmc-model-brochure" data-type="checkbox">\n    <p class="rrmc-checkbox-section-header">{{MODEL BROCHURES}}</p>\n    <ul class="rrmc-form-checkbox-list">\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="cullinan" type="checkbox" id="cullinan" name="modelBrochure" data-model="cullinan">\n            <label for="Cullinan" class="rrmc-form-checkbox-label">{{Cullinan}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="dawn" type="checkbox" id="dawn" name="modelBrochure" data-model="dawn">\n            <label for="Dawn" class="rrmc-form-checkbox-label">{{Dawn}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="black-badge" type="checkbox" id="black-badge" name="modelBrochure" data-model="black-badge-dawn">\n            <label for="Dawn-Black-Badge" class="rrmc-form-checkbox-label">{{Dawn Black Badge}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="wraith" type="checkbox" id="wraith" name="modelBrochure" data-model="wraith">\n            <label for="Wraith" class="rrmc-form-checkbox-label">{{Wraith}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="black-badge" type="checkbox" id="black-badge" name="modelBrochure" data-model="black-badge-wraith">\n            <label for="Wraith-Black-Badge" class="rrmc-form-checkbox-label">{{Wraith Black Badge}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="ghost" type="checkbox" id="ghost" name="modelBrochure" data-model="ghost">\n            <label for="Ghost" class="rrmc-form-checkbox-label">{{Ghost}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="ghost-extended-wheelbase" type="checkbox" id="ghost-extended-wheelbase" name="modelBrochure" data-model="ghost-ewb">\n            <label for="Ghost-Extended-Wheelbase" class="rrmc-form-checkbox-label">{{Ghost Extended Wheelbase}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="black-badge" type="checkbox" id="black-badge" name="modelBrochure" data-model="black-badge-ghost">\n            <label for="Ghost-Black-Badge" class="rrmc-form-checkbox-label">{{Ghost Black Badge}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="phantom" type="checkbox" id="phantom" name="modelBrochure" data-model="phantom">\n            <label for="Phantom" class="rrmc-form-checkbox-label">{{Phantom}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="phantom-extended-wheelbase" type="checkbox" id="phantom-extended-wheelbase" name="modelBrochure" data-model="phantom-ewb">\n            <label for="Phantom-Extended-Wheelbase" class="rrmc-form-checkbox-label">{{Phantom Extended Wheelbase}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item -hidden">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" value="model-range" type="checkbox" id="model-range" name="modelBrochure" data-model="phantom-ewb">\n            <label for="MODEL-RANGE" class="rrmc-form-checkbox-label">{{Model Range}}</label>\n        </li>\n    </ul>\n    <span class="rrmc-form-label-error -hidden"></span>\n</div>',brandBrochure:'<div class="rrmc-form-checkbox-section js-rrmc-form-input js-rrmc-brand-brochure" data-type="checkbox">\n    <p class="rrmc-checkbox-section-header">{{BRAND BROCHURES}}</p>\n    <ul class="rrmc-form-checkbox-list rrmc-form-checkbox-brand-list">\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" id="enhanced_ownership_programme" type="checkbox" value="enhanced-ownership-programme" name="brandBrochure">\n            <label for="enhanced_ownership_programme" class="rrmc-form-checkbox-label">{{Enhanced Ownership Programme}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" id="provenance_pre_owned" type="checkbox" value="provenance-pre_owned" name="brandBrochure">\n            <label for="provenance_pre_owned" class="rrmc-form-checkbox-label">{{Provenance Pre-owned}}</label>\n        </li>\n        <li class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input js-checkbox-input-brochure" id="the_accessory_collection" type="checkbox" value="the-accessory-collection" name="brandBrochure">\n            <label for="the_accessory_collection" class="rrmc-form-checkbox-label">{{The Accessory Collection}}</label>\n        </li>\n    </ul>\n    <span class="rrmc-form-label-error -hidden"></span>\n</div>',brochureRegion:'<div class="rrmc-selectmenu js-rrmc-selectmenu rrmc-region-select">\n    <select class="js-form-select" id="region" name="region"\n        aria-labelledby="region" aria-describedby="region" aria-required="false" data-default="{{Brochure Region}}">\n        <option value=""></option>\n        <option value="Global">{{Global}}</option>\n        <option value="eu">{{EU}}</option>\n        <option value="ru">{{RU}}</option>\n        <option value="de">{{DE}}</option>\n        <option value="cn">{{CN}}</option>\n        <option value="jp">{{JP}}</option>\n        <option value="ar">{{AR}}</option>\n        <option value="us">{{US}}</option>\n    </select>\n</div>',formSuccess:'<div class="js-rrmc-reset-form js-rrmc-form-success rrmc-form-success js-rrmc-form-endstate">\n        <h2 class="rrmc-form-success-header rrmc-h2"></h2>\n        <p class="rrmc-form-succuess-copy">{{Your details have been received securely.}}</p>\n        <div class="form-row noborder ctacontainer">\n            <div class="rrmc-cta-component rrmc-button--primary rrmc-button--brand rrmc-button--add js-rrmc-button js-form-return-success js-rrmc-form-close" data-theme="brand" data-overlay-action="overlayClose">\n                <span class="rrmc-button-text js-rrmc-button-text">{{Return}}</span>\n                <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n            </div>\n        </div>\n    </div>',formSuccessAccessories:'<div class="js-rrmc-reset-form js-rrmc-form-success rrmc-form-success js-rrmc-form-endstate">\n        <h2 class="rrmc-form-success-header rrmc-h2"></h2>\n        <p class="rrmc-form-succuess-copy">{{Your request has been received successfully. We will aim to contact you in 48 hours.}}</p>\n        <div class="form-row noborder ctacontainer">\n            <div class="rrmc-cta-component rrmc-button--primary rrmc-button--brand rrmc-button--add js-rrmc-button js-form-return-success js-rrmc-form-close" data-overlay-action="overlayClose">\n                <span class="rrmc-button-text js-rrmc-button-text">{{Get inspired}}</span>\n                <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n            </div>\n        </div>\n    </div>',formFailure:'<div class="js-rrmc-form-failure rrmc-form-failure js-rrmc-form-endstate">\n        <div class="form-failure-wrapper">\n        <h2 class="rrmc-form-failure-header rrmc-h2"></h2>\n        <p class="rrmc-form-failure-copy">{{Unfortunately your details were not submitted on this occasion.<br/>Please try again, although if the problem persists try again later.}}</p>\n        <div class="form-row noborder ctacontainer">\n            <div class="rrmc-cta-component rrmc-button--primary rrmc-button--brand rrmc-button--add js-rrmc-button js-form-return">\n                <span class="rrmc-button-text js-rrmc-button-text">{{Return to form}}</span>\n                <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n            </div>\n        </div>\n        </div>\n    </div>',existingOwner:'<div class="rrmc-form-checkbox-section js-rrmc-form-input" data-type="checkbox">\n        <div class="rrmc-form-checkbox-item">\n            <input class="rrmc-form-checkbox-input" id="existing-owner" type="checkbox" name="existingOwner">\n            <label for="existing-owner" class="rrmc-form-checkbox-label">{{Are you an existing Rolls-Royce owner?}}</label>\n        </div>\n    </div>',communicationDisclaimer:'<div class="rrmc-form-communication-disclaimer">\n      <div class="rrmc-form-communication-disclaimer-separator"></div>\n      <div class="rrmc-form-communication-disclaimer-copy">\n        {{To receive on going marketing communications from Rolls-Royce Motor Cars Limited, please complete the section below.}}\n      </div>\n    </div>',boutique:'<div class="rrmc-form-circular-input-wrapper rrmc-form-row-marketing">\n                <article class="rrmc-marketing-article">{{<p>You agree to the information included in the above form being passed onto your chosen Rolls-Royce Motor Cars Authorised Dealer to fulfil your accessory request.</p>}}</article>\n                </div>',marketing:'<div class="rrmc-form-circular-input-wrapper rrmc-form-row-marketing">\n\t\t\t\t<article class="rrmc-marketing-article">{{<p>Please keep me informed, so I can receive:</p><ul><li>Information on products and services which are of interest to me.</li><li>Personalised communications delivered by the method that suits me best.</li><li>Unique opportunities to have my say and help shape the future of Rolls-Royce Motor Cars</li></ul>}}</article>\n\t\t\t\t        <p class="rrmc-form-acceptance-error"></p>\n                <input class="rrmc-form-circular-input js-rrmc-marketing" id="agreeMarketing" type="checkbox" name="agreeMarketing">\n                <label for="agreeMarketing" class="rrmc-form-circular-label js-rrmc-marketing">\n\t\t\t\t<p class="">{{I would like to receive marketing communications on products, services and events offered by Rolls-Royce Motor Cars Limited. I understand these communications may be personalised to me based on my interests, preferences and use of products and services, including invitations to provide customer experience feedback.}}</p>\n                </label>\n\t\t\t\t<span href="#" class="js-rrmc-form-more-information rrmc-form-more-information">{{More Information}}</span>\n                </div>',marketingOptions:'<div class="rrmc-form-marketing-options -hidden">\n                    <p class="rrmc-form-marketing-heading">{{Please select the channels we may use to contact you:}}</p>\n                    <p class="rrmc-form-marketing-error"></p>\n                    <ul class="rrmc-form-checkbox-list">\n                    <li class="rrmc-form-checkbox-item">\n                        <input class="rrmc-form-checkbox-input" id="email" type="checkbox" value="email" name="agreeEmailMarketing">\n                        <label for="email" class="rrmc-form-checkbox-label">{{Email}}</label>\n                    </li>\n                    <li class="rrmc-form-checkbox-item">\n                        <input class="rrmc-form-checkbox-input" id="phone" type="checkbox" value="phone" name="agreePhoneMarketing">\n                        <label for="phone" class="rrmc-form-checkbox-label">{{Phone}}</label>\n                    </li>\n                    <li class="rrmc-form-checkbox-item">\n                        <input class="rrmc-form-checkbox-input" id="inCarMarketing" type="checkbox" value="inCarMarketing" name="agreeInCarMarketing">\n                        <label for="inCarMarketing" class="rrmc-form-checkbox-label">{{In-car (where available)}}</label>\n                    </li>\n                    <li class="rrmc-form-checkbox-item">\n                        <input class="rrmc-form-checkbox-input" id="messengerMarketing" type="checkbox" value="messengerMarketing" name="agreeMessengerMarketing">\n                        <label for="messengerMarketing" class="rrmc-form-checkbox-label">{{Messenger Services (e.g. SMS, Whatsapp)}}</label>\n                    </li>\n                    </ul>\n                    <p>{{You can amend or withdraw your marketing preferences, or request information about your data stored by us at any time.}}<br/><span href="#" class="js-rrmc-form-legal-information rrmc-form-more-information">{{More Information}}</span>\n                    </p>\n                </div>',submit:'<div class="rrmc-form-row rrmc-form-row-submit">\n                    <button type=""\n                        class="js-rrmc-form-submit rrmc-form-submit js-rrmc-button rrmc-button--add js-rrmc-button rrmc-cta-component rrmc-button--primary">\n                        <span class="rrmc-button-background js-rrmc-button-background"></span>\n                        <span class="rrmc-button-text js-rrmc-button-text js-rrmc-form-submit">{{Send Request}}</span>\n                        <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n                    </button>\n                </div>',textarea:'<div class="rrmc-form-row rrmc-form-row--labelled rrmc-form-row-textarea"><label for="rrmc-textarea" class="rrmc-textarea-label"></label><textarea class="rrmc-textarea" id="question" name="question" aria-label="{{Type enquiry here}}" placeholder="{{Type enquiry here}}"></textarea></div>',marketingInfo:'<div class="js-rrmc-marketing-popup rrmc-marketing-popup">\n                        <div class="rrmc-marketing-popup-wrap">\n                            <button type="button" data-theme="dark" class="rrmc-cta-component rrmc-button--regular-icon-stroked rrmc-button--dark rrmc-button--close js-rrmc-marketing-button-close rrmc-marketing-button-close">\n                            <span class="rrmc-cta-i js-rrmc-marketing-button-close"></span>\n                            </button>\n                            <h4 class="rrmc-h4 rrmc-marketing-popup-header">{{More Information About Marketing Communications}}</h4>\n                            <p class="rrmc-marketing-popup-copy">{{You agree that Rolls-Royce Motor Cars Limited (us, our, we), may process and use your personal data to communicate information about our products, services and events which we think may be of interest to you, via your chosen channels. Such communications may include requests to participate in customer experience feedback sessions.}}</p>\n                            <p class="rrmc-marketing-popup-copy">{{In order to ensure that you receive relevant and personalised communications, we will use data we hold about you to create an individual customer profile. This may include but is not limited to data you have provided to us or which is generated by your use of our products, for example contact details, preferences, customer history, vehicle data, usage of apps and other digital platforms and online behaviour. Further information about these customer profiles can be found in our <a href=\'/en_GB/information/privacy-policy.html\' target=\'_blank\'>Privacy Policy</a>.}}</p>\n                        </div>\n                    </div>',legalInfo:'<div class="js-rrmc-marketing-popup rrmc-marketing-popup">\n                        <div class="rrmc-marketing-popup-wrap">\n                            <button type="button" data-theme="dark" class="rrmc-cta-component rrmc-button--regular-icon-stroked rrmc-button--dark rrmc-button--close js-rrmc-marketing-button-close rrmc-marketing-button-close">\n                            <span class="rrmc-cta-i js-rrmc-marketing-button-close"></span>\n                            </button>\n                            <h4 class="rrmc-h4 rrmc-marketing-popup-header">{{More Information About Your Data And Preferences}}</h4>\n                            <p class="rrmc-marketing-popup-copy">{{You can amend or withdraw your marketing preferences by contacting us via one of the following channels:}}</p>\n                            <p class="rrmc-marketing-popup-copy">{{Calling the Customer Contact Team on <a href=\'tel:+44 (0)1243 525700\'>+44 (0)1243 525700</a> (09:00 - 17:00 Monday to Friday) Sending an email to <a href=\'mailto:enquiries@rolls-roycemotorcars.com\'>enquiries@rolls-roycemotorcars.com</a>. You are also able to use the above channels to ask us for information about the personal data Rolls-Royce Motor Cars Limited stores about you, as well as request the correction, deletion or restriction of use of your personal data. Further details regarding the processing of your personal data can be found in our <a href=\'/en_GB/information/privacy-policy.html\' target=\'_blank\'>Privacy Policy</a>.}}</p>\n                        </div>\n                    </div>',countries:'<div class="rrmc-selectmenu js-rrmc-selectmenu">\n    <select class="js-form-select js-rrmc-form-input" id="country" name="country"\n        aria-labelledby="country" aria-describedby="country" aria-required="false" data-default="{{Country}}">\n\t\t<option value="" selected="selected"></option>\n    <option value="United Kingdom">{{United Kingdom}}</option>\n\t\t<option value="United States">{{United States}}</option>\n\t\t<option value="Afghanistan">{{Afghanistan}}</option>\n    <option value="Aland Islands">{{Aland Islands}}</option>\n\t\t<option value="Albania">{{Albania}}</option>\n\t\t<option value="Algeria">{{Algeria}}</option>\n\t\t<option value="American Samoa">{{American Samoa}}</option>\n\t\t<option value="American Virgin Islands">{{American Virgin Islands}}</option>\n\t\t<option value="Andorra">{{Andorra}}</option>\n\t\t<option value="Angola">{{Angola}}</option>\n\t\t<option value="Anguilla">{{Anguilla}}</option>\n\t\t<option value="Antarctica">{{Antarctica}}</option>\n\t\t<option value="Antigua and Barbuda">{{Antigua and Barbuda}}</option>\n\t\t<option value="Argentina">{{Argentina}}</option>\n\t\t<option value="Armenia">{{Armenia}}</option>\n\t\t<option value="Aruba">{{Aruba}}</option>\n\t\t<option value="Australia">{{Australia}}</option>\n\t\t<option value="Austria">{{Austria}}</option>\n\t\t<option value="Azerbaijan">{{Azerbaijan}}</option>\n\t\t<option value="Bahamas">{{Bahamas}}</option>\n\t\t<option value="Bahrain">{{Bahrain}}</option>\n\t\t<option value="Bangladesh">{{Bangladesh}}</option>\n\t\t<option value="Barbados">{{Barbados}}</option>\n\t\t<option value="Belarus">{{Belarus}}</option>\n\t\t<option value="Belgium">{{Belgium}}</option>\n\t\t<option value="Belize">{{Belize}}</option>\n\t\t<option value="Benin">{{Benin}}</option>\n\t\t<option value="Bermuda">{{Bermuda}}</option>\n\t\t<option value="Bhutan">{{Bhutan}}</option>\n\t\t<option value="Bolivia, Plurinational State of">{{Bolivia, Plurinational State of}}</option>\n\t\t<option value="Bosnia and Herzegovina">{{Bosnia and Herzegovina}}</option>\n\t\t<option value="Botswana">{{Botswana}}</option>\n\t\t<option value="Bouvet Island">{{Bouvet Island}}</option>\n\t\t<option value="Brazil">{{Brazil}}</option>\n\t\t<option value="Brunei Darussalam">{{Brunei Darussalam}}</option>\n\t\t<option value="Bulgaria">{{Bulgaria}}</option>\n\t\t<option value="Burkina Faso">{{Burkina Faso}}</option>\n\t\t<option value="Burundi">{{Burundi}}</option>\n\t\t<option value="Cambodia">{{Cambodia}}</option>\n\t\t<option value="Cameroon">{{Cameroon}}</option>\n\t\t<option value="Canada">{{Canada}}</option>\n\t\t<option value="Cape Verde">{{Cape Verde}}</option>\n\t\t<option value="Cayman Islands">{{Cayman Islands}}</option>\n\t\t<option value="Central African Republic">{{Central African Republic}}</option>\n\t\t<option value="Chad">{{Chad}}</option>\n\t\t<option value="Chile">{{Chile}}</option>\n\t\t<option value="China">{{China}}</option>\n\t\t<option value="Christmas Island">{{Christmas Island}}</option>\n\t\t<option value="Cocos (Keeling) Islands">{{Cocos (Keeling) Islands}}</option>\n\t\t<option value="Colombia">{{Colombia}}</option>\n\t\t<option value="Congo">{{Congo}}</option>\n\t\t<option value="Congo, The Democratic Republic of the">{{Congo, The Democratic Republic of the}}</option>\n\t\t<option value="Cook Islands">{{Cook Islands}}</option>\n\t\t<option value="Costa Rica">{{Costa Rica}}</option>\n\t\t<option value="Cote d\'Ivoire">{{Cote d\'Ivoire}}</option>\n\t\t<option value="Croatia">{{Croatia}}</option>\n\t\t<option value="Cuba">{{Cuba}}</option>\n\t\t<option value="Cyprus">{{Cyprus}}</option>\n\t\t<option value="Czech Republic">{{Czech Republic}}</option>\n\t\t<option value="Denmark">{{Denmark}}</option>\n\t\t<option value="Djibouti">{{Djibouti}}</option>\n\t\t<option value="Dominica">{{Dominica}}</option>\n\t\t<option value="Dominican Republic">{{Dominican Republic}}</option>\n\t\t<option value="Dutch Antilles">{{Dutch Antilles}}</option>\n\t\t<option value="Ecuador">{{Ecuador}}</option>\n\t\t<option value="Egypt">{{Egypt}}</option>\n\t\t<option value="El Salvador">{{El Salvador}}</option>\n\t\t<option value="Equatorial Guinea">{{Equatorial Guinea}}</option>\n\t\t<option value="Eritrea">{{Eritrea}}</option>\n\t\t<option value="Estonia">{{Estonia}}</option>\n\t\t<option value="Ethiopia">{{Ethiopia}}</option>\n\t\t<option value="Falkland Islands (Malvinas)">{{Falkland Islands (Malvinas)}}</option>\n\t\t<option value="Faroe Islands">{{Faroe Islands}}</option>\n\t\t<option value="Fiji">{{Fiji}}</option>\n\t\t<option value="Finland">{{Finland}}</option>\n\t\t<option value="France">{{France}}</option>\n\t\t<option value="French Guiana">{{French Guiana}}</option>\n\t\t<option value="French Polynesia">{{French Polynesia}}</option>\n\t\t<option value="French Southern Territories">{{French Southern Territories}}</option>\n\t\t<option value="Gabon">{{Gabon}}</option>\n\t\t<option value="Gambia">{{Gambia}}</option>\n\t\t<option value="Georgia">{{Georgia}}</option>\n\t\t<option value="Germany">{{Germany}}</option>\n\t\t<option value="Ghana">{{Ghana}}</option>\n\t\t<option value="Gibraltar">{{Gibraltar}}</option>\n\t\t<option value="Greece">{{Greece}}</option>\n\t\t<option value="Greenland">{{Greenland}}</option>\n\t\t<option value="Grenada">{{Grenada}}</option>\n\t\t<option value="Guadeloupe">{{Guadeloupe}}</option>\n\t\t<option value="Guam">{{Guam}}</option>\n\t\t<option value="Guatemala">{{Guatemala}}</option>\n\t\t<option value="Guernsey">{{Guernsey}}</option>\n\t\t<option value="Guinea">{{Guinea}}</option>\n\t\t<option value="Guinea-Bissau">{{Guinea-Bissau}}</option>\n\t\t<option value="Guyana">{{Guyana}}</option>\n\t\t<option value="Haiti">{{Haiti}}</option>\n\t\t<option value="Holy See (Vatican City State)">{{Holy See (Vatican City State)}}</option>\n\t\t<option value="Honduras">{{Honduras}}</option>\n\t\t<option value="Hong Kong SAR">{{Hong Kong}}</option>\n\t\t<option value="Hungary">{{Hungary}}</option>\n\t\t<option value="Iceland">{{Iceland}}</option>\n\t\t<option value="India">{{India}}</option>\n\t\t<option value="Indonesia">{{Indonesia}}</option>\n\t\t<option value="Iran, Islamic Republic of">{{Iran, Islamic Republic of}}</option>\n\t\t<option value="Iraq">{{Iraq}}</option>\n\t\t<option value="Ireland">{{Ireland}}</option>\n\t\t<option value="Israel">{{Israel}}</option>\n\t\t<option value="Italy">{{Italy}}</option>\n\t\t<option value="Jamaica">{{Jamaica}}</option>\n\t\t<option value="Japan">{{Japan}}</option>\n\t\t<option value="Jersey">{{Jersey}}</option>\n\t\t<option value="Jordan">{{Jordan}}</option>\n\t\t<option value="Kazakhstan">{{Kazakhstan}}</option>\n\t\t<option value="Kenya">{{Kenya}}</option>\n\t\t<option value="Kiribati">{{Kiribati}}</option>\n\t\t<option value="Kosovo">{{Kosovo}}</option>\n\t\t<option value="Korea, Democratic People\'s Republic of">{{Korea, Democratic People\'s Republic of}}</option>\n\t\t<option value="Korea, Republic of">{{Korea, Republic of}}</option>\n\t\t<option value="Kuwait">{{Kuwait}}</option>\n\t\t<option value="Kyrgyzstan">{{Kyrgyzstan}}</option>\n\t\t<option value="Lao People\'s Democratic Republic">{{Lao People\'s Democratic Republic}}</option>\n\t\t<option value="Latvia">{{Latvia}}</option>\n\t\t<option value="Lebanon">{{Lebanon}}</option>\n\t\t<option value="Lesotho">{{Lesotho}}</option>\n\t\t<option value="Liberia">{{Liberia}}</option>\n\t\t<option value="Libyan Arab Jamahiriya">{{Libyan Arab Jamahiriya}}</option>\n\t\t<option value="Liechtenstein">{{Liechtenstein}}</option>\n\t\t<option value="Lithuania">{{Lithuania}}</option>\n\t\t<option value="Luxembourg">{{Luxembourg}}</option>\n\t\t<option value="Macedonia, The Former Yugoslav Republic of">{{Macedonia, The Former Yugoslav Republic of}}</option>\n\t\t<option value="Macao SAR">{{Macau}}</option>\n\t\t<option value="Madagascar">{{Madagascar}}</option>\n\t\t<option value="Malawi">{{Malawi}}</option>\n\t\t<option value="Malaysia">{{Malaysia}}</option>\n\t\t<option value="Maldives">{{Maldives}}</option>\n\t\t<option value="Mali">{{Mali}}</option>\n\t\t<option value="Malta">{{Malta}}</option>\n\t\t<option value="Martinique">{{Martinique}}</option>\n\t\t<option value="Mauritania">{{Mauritania}}</option>\n\t\t<option value="Mauritius">{{Mauritius}}</option>\n\t\t<option value="Mayotte">{{Mayotte}}</option>\n\t\t<option value="Mexico">{{Mexico}}</option>\n\t\t<option value="Micronesia, Federated States of">{{Micronesia, Federated States of}}</option>\n\t\t<option value="Moldova, Republic of">{{Moldova, Republic of}}</option>\n\t\t<option value="Monaco">{{Monaco}}</option>\n\t\t<option value="Mongolia">{{Mongolia}}</option>\n\t\t<option value="Montenegro">{{Montenegro}}</option>\n\t\t<option value="Montserrat">{{Montserrat}}</option>\n\t\t<option value="Morocco">{{Morocco}}</option>\n\t\t<option value="Mozambique">{{Mozambique}}</option>\n\t\t<option value="Myanmar">{{Myanmar}}</option>\n\t\t<option value="Namibia">{{Namibia}}</option>\n\t\t<option value="Nauru">{{Nauru}}</option>\n\t\t<option value="Nepal">{{Nepal}}</option>\n\t\t<option value="Netherlands">{{Netherlands}}</option>\n\t\t<option value="New Caledonia">{{New Caledonia}}</option>\n\t\t<option value="New Zealand">{{New Zealand}}</option>\n\t\t<option value="Nicaragua">{{Nicaragua}}</option>\n\t\t<option value="Niger">{{Niger}}</option>\n\t\t<option value="Nigeria">{{Nigeria}}</option>\n\t\t<option value="Niue">{{Niue}}</option>\n\t\t<option value="Norfolk Island">{{Norfolk Island}}</option>\n\t\t<option value="Northern Mariana Islands">{{Northern Mariana Islands}}</option>\n\t\t<option value="Norway">{{Norway}}</option>\n\t\t<option value="Oman">{{Oman}}</option>\n\t\t<option value="Pakistan">{{Pakistan}}</option>\n\t\t<option value="Palau">{{Palau}}</option>\n\t\t<option value="Palestinian Territory, Occupied">{{Palestinian Territory, Occupied}}</option>\n\t\t<option value="Panama">{{Panama}}</option>\n\t\t<option value="Papua New Guinea">{{Papua New Guinea}}</option>\n\t\t<option value="Paraguay">{{Paraguay}}</option>\n\t\t<option value="Peru">{{Peru}}</option>\n\t\t<option value="Philippines">{{Philippines}}</option>\n\t\t<option value="Pitcairn">{{Pitcairn}}</option>\n\t\t<option value="Poland">{{Poland}}</option>\n\t\t<option value="Portugal">{{Portugal}}</option>\n\t\t<option value="Puerto Rico">{{Puerto Rico}}</option>\n\t\t<option value="Qatar">{{Qatar}}</option>\n\t\t<option value="Reunion">{{Reunion}}</option>\n\t\t<option value="Romania">{{Romania}}</option>\n\t\t<option value="Russian Federation">{{Russian Federation}}</option>\n\t\t<option value="Rwanda">{{Rwanda}}</option>\n\t\t<option value="Saint Barthlemy">{{Saint Barthlemy}}</option>\n\t\t<option value="Saint Helena, Ascension and Tristan Da Cunha">{{Saint Helena, Ascension and Tristan Da Cunha}}</option>\n\t\t<option value="Saint Kitts and Nevis">{{Saint Kitts and Nevis}}</option>\n\t\t<option value="Saint Lucia">{{Saint Lucia}}</option>\n\t\t<option value="Saint Pierre and Miquelon">{{Saint Pierre and Miquelon}}</option>\n\t\t<option value="Saint Vincent and the Grenadines">{{Saint Vincent and the Grenadines}}</option>\n\t\t<option value="Samoa">{{Samoa}}</option>\n\t\t<option value="San Marino">{{San Marino}}</option>\n\t\t<option value="Sao Tome and Principe">{{Sao Tome and Principe}}</option>\n\t\t<option value="Saudi Arabia">{{Saudi Arabia}}</option>\n\t\t<option value="Senegal">{{Senegal}}</option>\n\t\t<option value="Serbia">{{Serbia}}</option>\n\t\t<option value="Seychelles">{{Seychelles}}</option>\n\t\t<option value="Sierra Leone">{{Sierra Leone}}</option>\n\t\t<option value="Singapore">{{Singapore}}</option>\n\t\t<option value="Slovakia">{{Slovakia}}</option>\n\t\t<option value="Slovenia">{{Slovenia}}</option>\n\t\t<option value="Solomon Islands">{{Solomon Islands}}</option>\n\t\t<option value="Somalia">{{Somalia}}</option>\n\t\t<option value="South Africa">{{South Africa}}</option>\n    <option value="South Sudan">{{South Sudan}}</option>\n\t\t<option value="Spain">{{Spain}}</option>\n\t\t<option value="Sri Lanka">{{Sri Lanka}}</option>\n\t\t<option value="Sudan">{{Sudan}}</option>\n\t\t<option value="Suriname">{{Suriname}}</option>\n\t\t<option value="Svalbard and Jan Mayen">{{Svalbard and Jan Mayen}}</option>\n\t\t<option value="Swaziland">{{Swaziland}}</option>\n\t\t<option value="Sweden">{{Sweden}}</option>\n\t\t<option value="Switzerland">{{Switzerland}}</option>\n\t\t<option value="Syrian Arab Republic">{{Syrian Arab Republic}}</option>\n\t\t<option value="Taiwan, Province of China">{{Taiwan}}</option>\n\t\t<option value="Tajikistan">{{Tajikistan}}</option>\n\t\t<option value="Tanzania, United Republic of">{{Tanzania, United Republic of}}</option>\n\t\t<option value="Thailand">{{Thailand}}</option>\n\t\t<option value="Timor-Leste">{{Timor-Leste}}</option>\n\t\t<option value="Togo">{{Togo}}</option>\n\t\t<option value="Tokelau">{{Tokelau}}</option>\n\t\t<option value="Tonga">{{Tonga}}</option>\n\t\t<option value="Trinidad and Tobago">{{Trinidad and Tobago}}</option>\n\t\t<option value="Tunisia">{{Tunisia}}</option>\n\t\t<option value="Turkey">{{Turkey}}</option>\n\t\t<option value="Turkmenistan">{{Turkmenistan}}</option>\n\t\t<option value="Turks and Caicos Islands">{{Turks and Caicos Islands}}</option>\n\t\t<option value="Tuvalu">{{Tuvalu}}</option>\n\t\t<option value="Uganda">{{Uganda}}</option>\n\t\t<option value="Ukraine">{{Ukraine}}</option>\n\t\t<option value="United Arab Emirates">{{United Arab Emirates}}</option>\n\t\t<option value="United Kingdom">{{United Kingdom}}</option>\n\t\t<option value="United States Minor Outlying Islands">{{United States Minor Outlying Islands}}</option>\n\t\t<option value="Uruguay">{{Uruguay}}</option>\n\t\t<option value="Uzbekistan">{{Uzbekistan}}</option>\n\t\t<option value="Vanuatu">{{Vanuatu}}</option>\n\t\t<option value="Venezuela, Bolivarian Republic of">{{Venezuela, Bolivarian Republic of}}</option>\n\t\t<option value="Viet Nam">{{Viet Nam}}</option>\n\t\t<option value="Virgin Islands, British">{{Virgin Islands, British}}</option>\n\t\t<option value="Wallis and Futuna">{{Wallis and Futuna}}</option>\n\t\t<option value="Western Sahara">{{Western Sahara}}</option>\n\t\t<option value="Yemen">{{Yemen}}</option>\n\t\t<option value="Zambia">{{Zambia}}</option>\n\t\t<option value="Zimbabwe">{{Zimbabwe}}</option>\n    </select>\n    <span class="rrmc-form-label-error -hidden"></span>\n</div>',preferredDealer:'<div class="js-rrmc-preferred-dealer rrmc-preferred-dealer">\n      <div class="rrmc-preferred-dealer-title">{{Preferred dealer}}</div>\n      <div class="js-rrmc-preferred-dealer-dealer-name rrmc-preferred-dealer-dealer-name">\n        {{Rolls-Royce motor cars london}}\n      </div>\n      <div>\n        <button class="js-rrmc-preferred-dealer-change rrmc-preferred-dealer-change"\n        type="button">{{Change}}</button>\n      </div>\n      <input type="hidden" id="wishList" name="wishList" value="">\n    </div>\n    <input class="rrmc-form-input" type="hidden" id="dealerNumber" name="dealerNumber" value="%dealerNumber">',whispersMarketing:'<div class="rrmc-form-row-whispers-marketing">{{<p>Whispers membership is reserved exclusively for current owners of Rolls-Royce motor cars produced in Goodwood since 2003. As such, we may need to validate your ownership as part of your membership request. </p><br/><p>The information you provide on this form, and any supplementary information you are requested to provide such as proof of vehicle ownership, will be used by Rolls-Royce Motor Cars Limited for the purposes of processing your Whispers application. Your details may be shared with Rolls-Royce Motor Cars Limiteds respective parent, service providers and assigns, in addition to our carefully selected Whispers partners (if you request their services), as necessary to enable us to fulfil your requests. Except as otherwise stated, we will not provide your information to third parties.</p><br/>}}</div>',whispersDisclaimer:'<div class="rrmc-form-row-whispers-disclaimer">{{<br/><p class="whispers-disclaimer">Whispers has been designed exclusively for Rolls-Royce owners.<br/>Kindly note that Whispers membership is not guaranteed through the submission of this form.</p>}}</div>',whispersReferralMarketing:'<div class="rrmc-form-row-whispers-marketing">{{<p>Whispers membership is reserved exclusively for current owners of Rolls-Royce motor cars produced in Goodwood since 2003 and their designated Plus One. As such, we may need to validate your ownership as part of your membership request. </p><br/><p>Rolls-Royce owners can add one Plus One to their existing account, no further individuals may be added.</p><br/><p>The information you provide on this form, and any supplementary information you are requested to provide such as proof of vehicle ownership, will be used by Rolls-Royce Motor Cars Limited for the purposes of processing your Whispers application. Your details may be shared with Rolls-Royce Motor Cars Limiteds respective parent, service providers and assigns, in addition to our carefully selected Whispers partners (if you request their services), as necessary to enable us to fulfil your requests. Except as otherwise stated, we will not provide your information to third parties.</p><br/>}}</div>',whispersReferralDisclaimer:'<div class="rrmc-form-row-whispers-disclaimer">{{<br/><p class="whispers-disclaimer">To maintain the exclusivity of the Whispers Community, the complimentary Plus One membership is reserved solely for a spouse or life partner of the Rolls-Royce owner. As such, Owners can add one Plus One to their existing account, no further individuals may be added. Kindly note that Whispers membership is not guaranteed through the submission of this form.</p>}}</div>',subscribeIntro:"<div class='rrmc-form-row-subscribe-intro'>{{<p>Rolls-Royce invites you to expand your horizons, to push beyond the boundaries of normality, to inspire greatness.<br/><br/>It takes 90 pairs of hands, more than 600 hours to design and construct each Rolls-Royce Motor Car before it is handed to its owner. Small things make perfection, but perfection is no small thing. At Rolls-Royce, we aim to deliver the pinnacle luxury driving experience, full of potential and endless possibilities.<br/><br/>Inspiring Greatness</p>}}</div>",kryptosQuizIntro:"<div class='rrmc-form-row-kryptos-quiz-intro'><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>",kryptosTAndC:'<div class="rrmc-form-checkbox-section js-rrmc-form-input" data-type="checkbox">\n                        <div class="rrmc-form-checkbox-item">\n                            <input class="rrmc-form-checkbox-input" id="terms-and-conditions" type="checkbox" name="terms-and-conditions">\n                            <label for="terms-and-conditions" class="rrmc-form-checkbox-label">I accept the <a href="" target="_blank">terms & conditions</a> of the competition.</label>\n                        </div>\n                   </div>',USMarketing:'<div class="rrmc-form-row-marketing">\n                        <article class="rrmc-marketing-article">\n                            <p>{{I would like to receive marketing communications on products, services and events offered by Rolls-Royce Motor Cars Limited. I understand these communications may be personalised to me based on my interests, preferences and use of products and services, including invitations to provide customer experience feedback.}}</p>\n                        </article>\n                    </div>',rr25Disclaimer:"<div class=\"rrmc-form-row-disclaimer rrmc-rr25-jwl-disclaimer\">\n        <p>{{Upon submitting the request you will be contacted by our Rolls-Royce Motor Cars Ltd Client Contact Team to discuss your interest.  Unless otherwise stated we do not share your personal data with third parties. For more information on how we handle personal data please see our <a href='/en_GB/information/privacy-policy.html' target='_blank'>Privacy Policy</a>.}}</p>\n    </div>"};function i(e,t){var n=(window.rrmc_i18n||{})[t];return n||t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),a=(r=o)&&r.__esModule?r:{default:r},s=n(62);var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_dealership_name=this.container.querySelector(".js-rrmc-preferred-dealer-dealer-name"),this.elm_change_cta=this.container.querySelector(".js-rrmc-preferred-dealer-change"),this.elm_wishlist=this.container.querySelector("#wishList"),this.on_change=function(){a.default.sub_overlay_manager_bus.next({action:s.overlayOpen,data:{overlayName:"g-dealer-locator",overlayPurpose:"accessoriesRequest",wishListProducts:n.list_products}})},this.populate_title=function(e){n.elm_dealership_name.textContent=n.dealership_title,n.elm_wishlist.value=JSON.stringify(e.data)}}return i(e,[{key:"load",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.list_products=e.wishListProducts,this.dealership_title=e.dealership_title,this.elm_change_cta.addEventListenerRR("click",this.on_change),this.sub_wishlist=a.default.sub_my_list_updated.subscribe({next:this.populate_title})}},{key:"destroy",value:function(){this.sub_wishlist.unsubscribe(),this.elm_change_cta.removeEventListenerRR("click",this.on_change)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(75)),o=a(n(446));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){l(this,e)}return r(e,null,[{key:"from",value:function(e){return Array.isArray(e)?e[0]:e}}]),e}(),u=function(){function e(t,n,r){l(this,e),this.data=t,this.value_property=n,this.text_property=r,this.setup_options()}return r(e,[{key:"make_empty_option",value:function(){var e;return this.make_option((s(e={},this.value_property,""),s(e,this.text_property,""),e))}},{key:"setup_options",value:function(){this.options=[this.make_empty_option()];var e=!0,t=!1,n=void 0;try{for(var r,i=this.data[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.options.push(this.make_option(o))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"make_option",value:function(e){return{value:c.from(e[this.value_property]),text:c.from(e[this.text_property])}}},{key:"render_entry",value:function(e){return'<option value="'+e.value+'">'+e.text+"</option>"}},{key:"render_options",value:function(){var e=this;return this.options.reduce((function(t,n){return""+t+e.render_entry(n)}),"")}},{key:"toString",value:function(){return this.render_options()}}]),e}(),h=function(){function e(t){var n=this;l(this,e),this.container=t[0],this.elm_dropdown=this.container.querySelector(".js-rrmc-selectmenu"),this.elm_legal=this.container.querySelector(".js-rrmc-localised-dealer-legal"),this.elm_select=this.container.querySelector(".js-form-select"),this.on_dealer_change=function(e,t,r){n.selected_dealer_number=r,n.paste_legal_copy()}}return r(e,[{key:"paste_legal_copy",value:function(){this.get_legal_copy_by_dealer_number(),this.elm_legal.innerHTML=this.legal_copy}},{key:"find_dealer_data_entry_by_dealer_number",value:function(){var e=this;return this.selected_dealer_number,window.rrmc_form_dealers.filter((function(t){return t.dealerNumber==e.selected_dealer_number}))[0]}},{key:"get_legal_copy_by_dealer_number",value:function(){var e=this.find_dealer_data_entry_by_dealer_number();this.legal_copy=c.from(e.formText)||""}},{key:"populate_select",value:function(){var e=new u(window.rrmc_form_dealers,"dealerNumber","shortName");this.elm_select.innerHTML=e.toString()}},{key:"get_first_option_value",value:function(){var e=this.elm_select.firstChild;return e?e.value:""}},{key:"load",value:function(){this.populate_select(),this.inst_dropdown=new o.default((0,i.default)(this.elm_dropdown)),this.inst_dropdown.load(),this.inst_dropdown.on("menu:change",this.on_dealer_change)}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(75)),o=s(n(446)),a=n(64);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(){c(this,e)}return r(e,null,[{key:"from",value:function(e){return Array.isArray(e)?e[0]:e}}]),e}(),h='\n    <div class="rrmc-select-my-event-option js-rrmc-select-my-event-option">\n      <div class="rrmc-selectmenu js-rrmc-selectmenu">\n        <select class="js-form-select js-rrmc-form-input" id="selectMyEventOption" name="selectMyEventOption"\n            aria-labelledby="'+(0,a.getI18nComponent)("Date")+'" aria-describedby="'+(0,a.getI18nComponent)("Date")+'" aria-required="false" data-default="'+(0,a.getI18nComponent)("Date")+'">\n            <option value=""></option>\n        </select>\n        <span class="rrmc-form-label-error -hidden"></span>\n      </div>\n    </div>',d=function(){function e(t,n,r){c(this,e),this.data=t,this.value_property=n,this.text_property=r,this.setup_options()}return r(e,[{key:"make_empty_option",value:function(){var e;return this.make_option((l(e={},this.value_property,""),l(e,this.text_property,""),e))}},{key:"setup_options",value:function(){this.options=[this.make_empty_option()];var e=!0,t=!1,n=void 0;try{for(var r,i=this.data[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.options.push(this.make_option(o))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}},{key:"make_option",value:function(e){return{value:u.from(e[this.value_property]),text:u.from(e[this.text_property])}}},{key:"render_entry",value:function(e){return'<option value="'+e.value+'">'+e.text+"</option>"}},{key:"render_options",value:function(){var e=this;return this.options.reduce((function(t,n){return""+t+e.render_entry(n)}),"")}},{key:"toString",value:function(){return this.render_options()}}]),e}(),p=function(){function e(t){var n=this;c(this,e),this.event_data=window.rrmc_form_events,this.container=t[0],this.event_dropdown_wrapper=this.container.querySelector(".js-rrmc-select-my-event"),this.elm_event_dropdown=this.event_dropdown_wrapper.querySelector(".js-rrmc-selectmenu"),this.elm_event_select=this.event_dropdown_wrapper.querySelector(".js-form-select"),this.elm_eventOption_wrapper=this.container.querySelector(".js-rrmc-event-option-wrapper"),this.on_event_change=function(){n.destroy_event_option(),n.create_event_option()}}return r(e,[{key:"destroy_event_option",value:function(){this.elm_eventOption_wrapper.innerHTML='\n    <div class="rrmc-select-my-event-option rrmc-select-my-event-option--faded js-rrmc-select-my-event-option">\n      <div class="rrmc-selectmenu js-rrmc-selectmenu">\n        <div class="select"><select class="js-form-select js-rrmc-form-input select-hidden" id="selectMyEventOption" \n             name="selectMyEventOption" aria-labelledby="'+(0,a.getI18nComponent)("Date")+'" aria-describedby="'+(0,a.getI18nComponent)("Date")+'" \n             aria-required="false" data-default="'+(0,a.getI18nComponent)("Date")+'">\n                <option value=""></option></select>\n                <div class="select-custom" id="medium">'+(0,a.getI18nComponent)("Date")+'</div>\n        </div>\n        <span class="rrmc-form-label-error -hidden"></span>\n      </div>\n    </div>'}},{key:"create_event_option",value:function(){this.elm_eventOption_wrapper.innerHTML=h,this.eventOption_dropdown_wrapper=this.container.querySelector(".js-rrmc-select-my-event-option"),this.elm_eventOption_dropdown=this.eventOption_dropdown_wrapper.querySelector(".js-rrmc-selectmenu"),this.elm_eventOption_select=this.eventOption_dropdown_wrapper.querySelector(".js-form-select");var e=void 0,t=this.elm_event_select.value,n=!0,r=!1,a=void 0;try{for(var s,l=window.rrmc_form_events[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;c.eventName===t&&(e=c.dates)}}catch(e){r=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw a}}var u=[];[].slice.call(e).forEach((function(e){u.push({option:e})})),this.populate_event_options_select(u),this.inst_eventOption_dropdown=new o.default((0,i.default)(this.elm_eventOption_dropdown)),this.inst_eventOption_dropdown.load(),this.eventOption_dropdown_wrapper.classList.remove("-hidden"),this.elm_eventOption_wrapper.querySelector(".select-custom").innerText=this.elm_eventOption_select.getAttribute("data-default")}},{key:"populate_event_select",value:function(){var e=new d(this.event_data,"eventName","eventName","array");this.elm_event_select.innerHTML=e.toString()}},{key:"getValue",value:function(e){return"eventName"===e?this.elm_event_select.value:"eventOption"===e?this.elm_eventOption_select.value:void 0}},{key:"populate_event_options_select",value:function(e){var t=new d(e,"option","option");this.elm_eventOption_select.innerHTML="",this.elm_eventOption_select.innerHTML=t.toString()}},{key:"load",value:function(){this.populate_event_select(),this.inst_event_dropdown=new o.default((0,i.default)(this.elm_event_dropdown)),this.inst_event_dropdown.load(),this.inst_event_dropdown.on("menu:change",this.on_event_change)}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getLeadSource=function(){return i.getLeadSource()};var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"mapLeadSource",value:function(t){var n=e.leadSourceMap[t];return n||"RRMC.COM"}},{key:"getHtmlLang",value:function(){return document.documentElement.getAttribute("lang")}},{key:"resolveLeadSource",value:function(){var t=e.getHtmlLang();return t?e.mapLeadSource(t):"RRMC.COM"}},{key:"getLeadSource",value:function(){return e.resolveLeadSource()}}]),e}();i.leadSourceMap={"en-GB":"RRMC.COM","en-US":"RRMCNA.COM","ja-JP":"RRMC.com.jp","ru-RU":"RRMC.com.ru","ko-KR":"RRMC.com.kr"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.FieldListFactory=function(e){var t=(e.fields||[]).map((function(e){return new o(e)}));return new a(t)};var o=t.Field=function e(t){i(this,e),this.name=t.name,this.value=t.value},a=t.FieldList=function(){function e(t){i(this,e),this.fields=t}return r(e,[{key:"isEmpty",value:function(){return 0===this.fields.length}},{key:"forEachField",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.fields[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){e(i.value)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MarketingOptionsReveal=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elmForm=t,this.elmLegal=t.querySelector(".rrmc-form-legal"),this.elmEmail=this.elmForm.querySelector('[name="email"]'),this.elmPhone=this.elmForm.querySelector('[name="phone"]'),this.elmMarketing=this.elmLegal.querySelector(".rrmc-form-marketing-options"),-1===window.location.href.indexOf("boutique/my-list")&&(this.elmCheckboxList=this.elmMarketing.querySelector(".rrmc-form-checkbox-list"),this.elmEmailChannelCheckbox=this.elmMarketing.querySelector('[name="agreeEmailMarketing"]'),this.elmPhoneChannelCheckbox=this.elmMarketing.querySelector('[name="agreePhoneMarketing"]'),this.elmMessengerChannelCheckbox=this.elmMarketing.querySelector('[name="agreeMessengerMarketing"]'),this.heightReductionTerm=0)}return r(e,[{key:"isEmailFieldUnavailable",value:function(){return!this.elmEmail}},{key:"isPhoneFieldUnavailable",value:function(){return!this.elmPhone}},{key:"hideEmailChannel",value:function(){this.elmEmailChannelCheckbox.parentNode.classList.add("-hidden"),this.heightReductionTerm+=40}},{key:"hidePhoneRelatedChannels",value:function(){this.elmPhoneChannelCheckbox.parentNode.classList.add("-hidden"),this.elmMessengerChannelCheckbox.parentNode.classList.add("-hidden"),this.heightReductionTerm+=80}},{key:"testEmailChannel",value:function(){if(this.isEmailFieldUnavailable())return this.hideEmailChannel()}},{key:"testPhoneRelatedChannels",value:function(){if(this.isPhoneFieldUnavailable())return this.hidePhoneRelatedChannels()}},{key:"reduceSectionHeight",value:function(){this.elmCheckboxList.style.height=200-this.heightReductionTerm+"px"}},{key:"test",value:function(){-1===window.location.href.indexOf("boutique/my-list")&&(this.testEmailChannel(),this.testPhoneRelatedChannels(),this.reduceSectionHeight())}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(583);var i=d(n(213)),o=n(7),a=d(n(46)),s=n(27),l=d(n(111)),c=n(112),u=n(110),h=n(205);function d(e){return e&&e.__esModule?e:{default:e}}var p,f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.heroWrapper=document.querySelector(".js-rrmc-hero-wrapper"),this.mainImage=this.sandbox.querySelector(".js-rrmc-hero-image"),this.blurImage=this.sandbox.querySelector(".js-rrmc-hero-image--blurred"),this.heroCopy=this.sandbox.querySelector(".js-rrmc-hero-copy"),this.heroTopSubtitle=this.sandbox.querySelector(".rrmc-hero-subtitle--top"),this.heroTopSubtitle&&(0,h.applyInjectionToElement)(this.heroTopSubtitle,u.svgElements),this.heroBottomSubtitle=this.sandbox.querySelector(".rrmc-hero-subtitle--bottom"),this.heroBottomSubtitle&&(0,h.applyInjectionToElement)(this.heroBottomSubtitle,u.svgElements),this.ctaWrapper=this.sandbox.querySelector(".js-rrmc-hero-cta-wrapper"),this.scrollIcon=this.sandbox.querySelector(".js-rrmc-hero-scroll-icon"),this.proxyTween=o.TweenLite.to({},1,{paused:!0}),this.isScrolljack=!1,this.lottie_scroll=l.default.loadAnimation({container:this.scrollIcon,renderer:"svg",loop:!0,autoplay:!0,animationData:c.anim_hero_scroll}),"objectFit"in document.documentElement.style==!1&&(0,a.default)(this.sandbox.querySelectorAll(".rrmc-hero-image")),this.heroTimeline=o.gsap.timeline({paused:!0,ease:o.Power3.easeInOut});var r=[this.heroCopy,this.ctaWrapper,this.scrollIcon].filter((function(e){return!!e}));this.heroTimeline.addLabel("start").staggerTo(r,.5,{opacity:0,pointerEvents:"none"},.5,"start").to(this.blurImage,1,{opacity:1},"start+=0.33"),this.ticker=function(){var e=n.heroTimeline,t=e.progress();t+=.05*(n.proxyTween.progress()-t),e.progress(t)},o.gsap.ticker.add(this.ticker)}return r(e,[{key:"outerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)}},{key:"scrollAnimation",value:function(){this.outerHeight(this.mainImage)-73<window.pageYOffset?this.lottie_scroll.pause():this.lottie_scroll.play()}},{key:"initListeners",value:function(){window.addEventListenerRR("scroll",this.scrollAnimation.bind(this),i.default?{passive:!0}:"")}},{key:"load",value:function(){var e=this;this.sandbox.classList.contains("disable-scroll-hero")||((0,s.pictureLazyLoader)(this.sandbox),this.initListeners(),this.isScrolljack&&(this.heroWrapper.appendChild(this.sandbox),document.querySelector(".rrmc-page-canvas").style.top=this.heroWrapper.offsetHeight-200+"px",document.querySelector(".rrmc-page-canvas").style.paddingTop="200px"),window.addEventListenerRR("scroll",(function(){var t=window.pageYOffset;e.proxyTween.progress(t/300)})))}}]),e}();p=document.querySelectorAll(".js-rrmc-hero-image-wrapper"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(p).forEach((function(e){var t=new f(e);e.data={heroInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(585);var i=u(n(213)),o=n(7),a=u(n(46)),s=n(27),l=n(205),c=n(110);function u(e){return e&&e.__esModule?e:{default:e}}var h,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.heroWrapper=document.querySelector(".js-rrmc-hero-parallax-wrapper"),this.mainImage=this.sandbox.querySelector(".js-rrmc-hero-image"),this.staticImage=this.sandbox.querySelector(".js-rrmc-static-image"),this.parallaxWrapper=this.sandbox.querySelector(".js-rrmc-hero-image--parallax"),this.parallaxImage=this.parallaxWrapper.querySelector("img"),this.heroCopy=this.sandbox.querySelector(".js-rrmc-hero-copy"),this.heroTopSubtitle=this.sandbox.querySelector(".rrmc-hero-subtitle--top"),this.heroTopSubtitle&&(0,l.applyInjectionToElement)(this.heroTopSubtitle,c.svgElements),this.heroBottomSubtitle=this.sandbox.querySelector(".rrmc-hero-subtitle--bottom"),this.heroBottomSubtitle&&(0,l.applyInjectionToElement)(this.heroBottomSubtitle,c.svgElements),this.ctaWrapper=this.sandbox.querySelector(".js-rrmc-hero-cta-wrapper"),this.scrollIcon=this.sandbox.querySelector(".js-rrmc-hero-scroll-icon"),this.isScrolljack=!1,"objectFit"in document.documentElement.style==!1&&(0,a.default)(this.sandbox.querySelectorAll(".rrmc-hero-image")),this.heroTimeline=o.gsap.timeline({paused:!0,ease:o.Linear.noEase}),this.heroTimeline.addLabel("start").fromTo(this.parallaxImage,10,{y:0},{y:-300},"start+=0.40").fromTo(this.mainImage,25,{y:0},{y:-300},"start+=0.25").fromTo(this.heroCopy,25,{y:0},{y:400},"start+=1")}return r(e,[{key:"outerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)}},{key:"scrollAnimation",value:function(){this.outerHeight(this.parallaxImage),window.pageYOffset;var e=window.innerHeight,t=window.pageYOffset,n=Math.max(t/e,0);this.heroTimeline.progress(n).pause()}},{key:"initListeners",value:function(){window.addEventListenerRR("scroll",this.scrollAnimation.bind(this),i.default?{passive:!0}:""),window.addEventListenerRR("resize",this.scrollAnimation.bind(this),i.default?{passive:!0}:"")}},{key:"init",value:function(){var e=this;(0,s.pictureLazyLoaderPlain)(this.sandbox,(function(){e.load()}))}},{key:"load",value:function(){this.sandbox.classList.contains("disable-scroll-hero")||(this.initListeners(),this.isScrolljack&&(this.heroWrapper.appendChild(this.sandbox),document.querySelector(".rrmc-page-canvas").style.top=this.heroWrapper.offsetHeight-200+"px",document.querySelector(".rrmc-page-canvas").style.paddingTop="200px"))}}]),e}();h=document.querySelectorAll(".js-rrmc-hero-parallax-wrapper"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(h).forEach((function(e){var t=new d(e);e.data={heroInstance:t},t.init()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(587);var i=h(n(213)),o=n(7),a=h(n(470)),s=n(112),l=n(85),c=h(n(111)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function h(e){return e&&e.__esModule?e:{default:e}}var d,p=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.video=this.sandbox.querySelector(".vjs-tech"),this.player=videojs.getPlayer(this.video),this.title=this.sandbox.querySelector(".rrmc-hero-video-mask--title"),this.trigger=this.sandbox.querySelector(".rrmc-hero-video-mask--trigger"),this.textWrapper=this.sandbox.querySelector(".rrmc-hero-video-mask--text"),this.pinnedSection=this.sandbox.querySelector(".rrmc-hero-video-mask--pinned-section"),this.videoWrapperMask=this.sandbox.querySelector(".js-rrmc-hero-video-wrapper-mask"),this.scrollIcon=this.sandbox.querySelector(".js-rrmc-hero-video-mask-scroll-icon"),this.proxyTween=o.TweenLite.to({},1,{paused:!0}),this.desktopId=this.video.getAttribute("data-video-id-desktop"),this.mobileId=this.video.getAttribute("data-video-id-mobile"),this.loopTime=this.video.getAttribute("data-loop-time"),this.overlaybox=this.sandbox.querySelector(".rrmc-hero-video-mask--overlay"),this.isScrolljack=!1,this.currentWidth=window.innerWidth,this.windowSize,this.scrollController,this.heroVideoMaskTracking={scrollTrack:!1,loopTrack:!1},this.mobileSize=.06,this.tabletHorizontal=.135,this.tabletPortrait=.15,this.desktop=.26,this.isFFAndroid=(0,l.is_firefox_android_mobile)(),this.isFF=(0,l.is_firefox)(),this.endScale,this.lottie_scroll=c.default.loadAnimation({container:this.scrollIcon,renderer:"svg",loop:!0,autoplay:!0,animationData:s.anim_hero_scroll});var r=videojs(this.video),i=r.getChild("errorDisplay");i.off(r,"error",i.open),i.dispose(),("objectFit"in document.documentElement.style==!1||(0,l.is_edge)())&&this.video.classList.add("video-obj-fit"),this.heroTimeline=o.gsap.timeline({paused:!0,ease:o.Power3.easeInOut});var a=[this.scrollIcon];this.heroTimeline.addLabel("start").staggerTo(a,.5,{opacity:0,pointerEvents:"none"},.5,"start"),this.ticker=function(){var e=n.heroTimeline,t=e.progress();t+=.05*(n.proxyTween.progress()-t),e.progress(t)},o.gsap.ticker.add(this.ticker)}return r(e,[{key:"outerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)}},{key:"scrollAnimation",value:function(){this.outerHeight(this.videoWrapperMask)-73<window.pageYOffset?(this.lottie_scroll.pause(),videojs(this.video).pause()):(this.lottie_scroll.play(),videojs(this.video).play())}},{key:"startHeroVideo",value:function(){var e=this,t=window.innerWidth>768?this.desktopId:this.mobileId;videojs.getPlayer(this.video).ready((function(){var n=this;n.catalog.getVideo(t,(function(e,t){n.catalog.load(t),n.play(),u.fireCustomEvent({event:"pinned-hero-component",eventCategory:"pinned-hero",eventAction:"video-start"})})),function t(){videojs(e.video).paused()?setTimeout((function(){t()}),200):e.video.classList.add("rrmc-hero-video-visible")}()}))}},{key:"lockPageAtFirst",value:function(){$(document).ready((function(){history.scrollRestoration?history.scrollRestoration="manual":window.onbeforeunload=function(){window.scrollTo(0,0)},document.body.classList.add("rrmc-hero-video-mask--stop-scrolling")}))}},{key:"loop",value:function(){!1===this.heroVideoMaskTracking.loopTrack&&(this.heroVideoMaskTracking.loopTrack=!0,u.fireCustomEvent({event:"pinned-hero-component",eventCategory:"pinned-hero",eventAction:"loop-start"})),this.player.currentTime(this.loopTime>this.player.duration()?0:this.loopTime),this.player.play(),this.scrollIcon.style.opacity=1,document.body.classList.remove("rrmc-hero-video-mask--stop-scrolling")}},{key:"loopSectionVideo",value:function(){var e=this;this.player.on("ended",(function(){e.loop()}))}},{key:"setFontSize",value:function(){var e=window.innerWidth/{mobileSize:101,desktopSize:100,tabletH:100,tabletP:101}[this.windowSize]+3.2,t={mobileSize:361,desktopSize:320,tabletH:323,tabletP:319}[this.windowSize];this.isFFAndroid&&(t-=104,e+=5),this.isFF&&!1===this.isFFAndroid&&(e+=.2,t-=10);var n=e*t,r=o.gsap.timeline();r.set(this.title,{transformStyle:"preserve-3d",x:""+n,y:0,scale:""+e}),r.set(this.textWrapper,{opacity:1})}},{key:"recalcFont",value:function(){window.innerWidth>768&&window.innerWidth<950?(this.endScale=this.tabletPortrait,this.title.style.letterSpacing="15px",this.windowSize="tabletP"):window.innerWidth>950&&window.innerWidth<1080?(this.endScale=this.tabletHorizontal,this.title.style.letterSpacing="25px",this.windowSize="tabletH"):window.innerWidth>1080?(this.endScale=this.desktop,this.title.style.letterSpacing="30px",this.windowSize="desktopSize"):window.innerWidth<768&&(this.endScale=this.mobileSize,this.title.style.letterSpacing="100px",this.windowSize="mobileSize")}},{key:"userScrollAnimation",value:function(){var e=this,t=o.gsap.timeline(),n=o.gsap.timeline();t.to(this.title,5,{opacity:1,x:0,y:0,scale:this.endScale}),n.to(this.overlaybox,window.innerWidth>1920?4:1,{opacity:0});var r=o.gsap.timeline({paused:!0});r.add(t,0),r.add(n,window.innerWidth>1920?2:0),this.scrollController=new a.default.Controller,this.sandbox.style.height=this.pinnedSection.scrollHeight+"px",new a.default.Scene({triggerElement:this.trigger,triggerHook:0,duration:window.innerWidth>1080?1600:800}).setPin(this.pinnedSection).setTween(r).addTo(this.scrollController).on("end",(function(){!1===e.heroVideoMaskTracking.scrollTrack&&(e.heroVideoMaskTracking.scrollTrack=!0,u.fireCustomEvent({event:"pinned-hero-component",eventCategory:"pinned-hero",eventAction:"scroll-end"}))}))}},{key:"initListeners",value:function(){window.addEventListenerRR("scroll",this.scrollAnimation.bind(this),i.default?{passive:!0}:"")}},{key:"load",value:function(){var e=this;this.initListeners(),this.startHeroVideo(),this.loopSectionVideo(),this.lockPageAtFirst(),this.recalcFont(),this.setFontSize(),this.userScrollAnimation(),window.addEventListenerRR("resize",function(){this.currentWidth!==window.innerWidth&&(this.currentWidth=window.innerWidth,this.recalcFont(),this.scrollController.destroy(!0),this.setFontSize(),this.userScrollAnimation())}.bind(this)),window.addEventListenerRR("scroll",(function(){var t=window.pageYOffset;e.proxyTween.progress(t/300)}),i.default?{passive:!0}:"")}}]),e}();d=document.querySelectorAll(".js-rrmc-hero-video-mask"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(d).forEach((function(e){var t=new p(e);e.data={heroInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(589);var i=h(n(213)),o=n(7),a=n(112),s=n(85),l=h(n(111)),c=n(110),u=n(205);function h(e){return e&&e.__esModule?e:{default:e}}var d,p=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sandbox=t,this.video=this.sandbox.querySelector(".vjs-tech"),this.videoWrapper=this.sandbox.querySelector(".js-rrmc-hero-video-wrapper"),this.heroCopy=this.sandbox.querySelector(".js-rrmc-hero-copy"),this.heroTopSubtitle=this.sandbox.querySelector(".rrmc-hero-subtitle--top"),this.heroTopSubtitle&&(0,u.applyInjectionToElement)(this.heroTopSubtitle,c.svgElements),this.heroBottomSubtitle=this.sandbox.querySelector(".rrmc-hero-subtitle--bottom"),this.heroBottomSubtitle&&(0,u.applyInjectionToElement)(this.heroBottomSubtitle,c.svgElements),this.ctaWrapper=this.sandbox.querySelector(".js-rrmc-hero-cta-wrapper"),this.scrollIcon=this.sandbox.querySelector(".js-rrmc-hero-scroll-icon"),this.proxyTween=o.TweenLite.to({},1,{paused:!0}),this.desktopId=this.video.getAttribute("data-video-id-desktop"),this.noLoop="true"===this.video.getAttribute("data-video-no-loop"),this.mobileId=this.video.getAttribute("data-video-id-mobile"),this.isScrolljack=!1,this.lottie_scroll=l.default.loadAnimation({container:this.scrollIcon,renderer:"svg",loop:!0,autoplay:!0,animationData:a.anim_hero_scroll});var r=videojs(this.video),i=r.getChild("errorDisplay");i.off(r,"error",i.open),i.dispose(),("objectFit"in document.documentElement.style==!1||(0,s.is_edge)())&&this.video.classList.add("video-obj-fit"),this.heroTimeline=o.gsap.timeline({paused:!0,ease:o.Power3.easeInOut});var h=[this.heroCopy,this.ctaWrapper,this.scrollIcon].filter((function(e){return!!e}));this.heroTimeline.addLabel("start").staggerTo(h,.5,{opacity:0,pointerEvents:"none"},.5,"start"),this.ticker=function(){var e=n.heroTimeline,t=e.progress();t+=.05*(n.proxyTween.progress()-t),e.progress(t)},o.gsap.ticker.add(this.ticker)}return r(e,[{key:"outerHeight",value:function(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop)+parseInt(n.marginBottom)}},{key:"restartNoLoop",value:function(){var e=this.video.getBoundingClientRect(),t=window.innerHeight-e.height;e.top>=t&&videojs(this.video).paused()&&(this.video.currentTime=0,this.video.play())}},{key:"scrollAnimation",value:function(){this.outerHeight(this.videoWrapper)-73<window.pageYOffset?(videojs(this.video).pause(),this.lottie_scroll.pause()):(!this.noLoop&&videojs(this.video).paused()&&videojs(this.video).play(),this.lottie_scroll.play())}},{key:"scrollHandler",value:function(){this.scrollAnimation(),this.noLoop&&this.restartNoLoop()}},{key:"startHeroVideo",value:function(){var e=this,t=window.innerWidth>768?this.desktopId:this.mobileId;videojs.getPlayer(this.video).ready((function(){var n=this;n.catalog.getVideo(t,(function(e,t){n.catalog.load(t),n.play()})),function t(){videojs(e.video).paused()?setTimeout((function(){t()}),200):e.video.classList.add("rrmc-hero-video-visible")}()}))}},{key:"initListeners",value:function(){window.addEventListenerRR("scroll",this.scrollHandler.bind(this),i.default?{passive:!0}:"")}},{key:"load",value:function(){var e=this;this.initListeners(),this.startHeroVideo(),window.addEventListenerRR("scroll",(function(){var t=window.pageYOffset;e.proxyTween.progress(t/300)}))}}]),e}();d=document.querySelectorAll(".js-rrmc-hero-video"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(d).forEach((function(e){var t=new p(e);e.data={heroInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(591);var o=_(n(75));n(592);var a=_(n(210)),s=n(7),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),c=n(45),u=n(112),h=_(n(111)),d=n(85),p=_(n(46)),f=n(27),m=n(447),v=n(110),g=n(205),y=_(n(203));function _(e){return e&&e.__esModule?e:{default:e}}function b(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}setTimeout((function(){var e=(new Date).getHours();return location.href.indexOf("night")>-1?window.rrmc_experiences.push({campaign:"homepage-personalisation",experience:"night"}):location.href.indexOf("day")>-1?window.rrmc_experiences.push({campaign:"homepage-personalisation",experience:"day"}):void(e>=17||e<7?window.rrmc_experiences.push({campaign:"homepage-personalisation",experience:"night"}):window.rrmc_experiences.push({campaign:"homepage-personalisation",experience:"day"}))}),2e3);var w=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),history.scrollRestoration&&(history.scrollRestoration="manual"),this.container=t,this.oldIndex=-1,this.timer=null,this.settingAutoplayDelay=parseInt(1e3*(0,o.default)(".js-rrmc-homepage-carousel").data("transition")),this.pagination=".js-rrmc-homepage-carousel-pagination",this.section=".js-rrmc-homepage-carousel-section",this.img_section=".js-rrmc-homepage-carousel-section--img",this.elm_image_sections=this.container.querySelectorAll(this.img_section),this.elm_sections=this.container.querySelectorAll(this.section),this.elm_nav_items=this.container.querySelectorAll(".js-rrmc-homepage-carousel-nav-item"),this.scrollIcon=this.container.querySelector(".js-rrmc-homepage-scroll-icon"),this.dataSection="data-section-name",this.bullet_progress=[],this.autoplay=!0,this.autoplay_stopped=!this.container.hasAttribute("data-autoplay-enabled"),this.elm_copy_subheading=[].slice.call(this.container.querySelectorAll(".rrmc-homepage-carousel-subheading")),this.elm_copy_heading=[].slice.call(this.container.querySelectorAll(".rrmc-homepage-carousel-heading")),this.elm_copy_bodytext=[].slice.call(this.container.querySelectorAll(".rrmc-homepage-carousel-bodytext"));for(var i=0;i<this.elm_copy_subheading.length;++i)(0,g.applyInjectionToElement)(this.elm_copy_subheading[i],v.svgElements);for(var a=0;a<this.elm_copy_heading.length;++a)(0,g.applyInjectionToElement)(this.elm_copy_heading[a],v.svgElements);for(var s=0;s<this.elm_copy_bodytext.length;++s)(0,g.applyInjectionToElement)(this.elm_copy_bodytext[s],v.svgElements);this.current_section=null,this.boundary_magnitude=function(e){return e/2.5},this.on_scroll_mobile=function(){n.window_height=window.innerHeight,n.scroll_pos=window.pageYOffset,n.user_focus=n.scroll_pos+n.window_height/2,n.update_scroll_indicator(n.scroll_pos);var e=!0,t=!1,i=void 0;try{for(var o,a=n.section_heights.entries()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,l=r(s,2),c=l[0],u=l[1]+n.window_height/2,h=u-n.boundary_magnitude(n.window_height),d=u+n.boundary_magnitude(n.window_height);if(n.user_focus>h&&n.user_focus<d)return void n.change_current_section(c)}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}n.change_current_section(null)},this.on_scroll_desktop=function(){n.scroll_pos=window.pageYOffset,n.update_scroll_indicator(n.scroll_pos),(0,y.default)()&&n.on_scroll_mobile()},this.on_resize=function(){n.store_section_heights()}}var t,n;return i(e,[{key:"change_current_section",value:function(e){e!==this.current_section&&(this.publish_section_change(e,this.current_section),this.current_section=e)}},{key:"publish_section_change",value:function(e,t){this.hide_copy(t),this.show_copy(e)}},{key:"store_section_heights",value:function(){this.section_heights=[].slice.call(this.elm_sections).map((function(e){return e.getBoundingClientRect().top+window.pageYOffset})),this.container_bottom=window.pageYOffset+this.container.getBoundingClientRect().bottom-window.innerHeight/2}},{key:"update_scroll_indicator",value:function(e){if(e>0&&!this.scroll_hide&&(this.scroll_hide=!0,this.lottie_scroll.pause(),this.container.classList.add("hide-scroll")),e>this.container_bottom){if(this.lottie_paused)return;this.lottie_paused=!0,this.container.classList.add("hide-nav")}else{if(!this.lottie_paused)return;this.lottie_paused=!1,this.container.classList.remove("hide-nav")}}},{key:"show_copy",value:function(e){if(null!==e){var t=this.elm_sections.item(e);t.classList.add("active"),this.video_current&&this.video_current.pause(),this.video_current=videojs.getPlayer(t.querySelector(".rrmc-home-carousel-video-js")),this.video_current&&this.video_current.ready((function(){this.paused&&this.play()}))}}},{key:"hide_copy",value:function(e){null!==e&&this.elm_sections.item(e).classList.remove("active")}},{key:"autoPlay",value:function(e){var t=this;if(!this.autoplay_stopped){var n=this;clearTimeout(this.timer),this.timer=setTimeout((function(){document.body.classList.contains("pause-hpc")||e.next(),e.currentIndex()===(0,o.default)(n.section).length&&(t.autoplay_stopped=!0,clearTimeout(n.timer))}),n.settingAutoplayDelay)}}},{key:"addSvg",value:function(){for(var e=(0,o.default)(this.pagination+" a"),t=0;t<e.length;t++){var n=this.load_rounded_square(e[t]);this.bullet_progress.push(n)}}},{key:"load_rounded_square",value:function(e){var t=this,n=e.getBoundingClientRect(),r=n.width,i=n.height,o=(0,a.default)(r,i,1.5),l='\n        <svg class="rrmc-button-svg-anim" width="'+r+'" height="'+i+'" viewBox="0 0 '+r+" "+i+'" xmlns="http://www.w3.org/2000/svg">\n        '+this.makeSvgPaths(o,"#ffffff")+"\n        </svg>\n    ",c=document.createRange().createContextualFragment(l);e.appendChild(c);var u=e.querySelector(".rrmc-button-svg-anim-path"),h=e.querySelector(".rrmc-button-svg-anim-scale"),d=e.querySelector(".rrmc-button-svg-anim-circle");return{start:function(){if(s.TweenLite.killTweensOf(h),s.TweenLite.killTweensOf(u),s.TweenLite.killTweensOf(d),t.autoplay_stopped){var e=r/2-r/2*.4;s.TweenLite.set(d,{opacity:1,attr:{r:r/8},autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.set(u,{strokeDashoffset:"-"+2*o.dash_length}),s.TweenLite.set(h,{transform:"matrix(0.4,0,0,0.4,"+e+","+e+")",autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.to(h,.4,{transform:"matrix(1,0,0,1,0,0)",autoRound:!1,ease:s.Linear.easeNone})}else s.TweenLite.set(h,{transform:"matrix(1,0,0,1,0,0)"}),s.TweenLite.set(u,{strokeDashoffset:"-"+o.dash_length}),s.TweenLite.to(u,t.settingAutoplayDelay/1e3,{strokeDashoffset:"-"+2*o.dash_length,autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.to(d,.4,{opacity:1,attr:{r:r/8},autoRound:!1,ease:s.Linear.easeNone})},stop:function(){s.TweenLite.killTweensOf(u),s.TweenLite.killTweensOf(h),s.TweenLite.killTweensOf(d);var e=r/2-r/2*.4;s.TweenLite.to(h,.4,{transform:"matrix(0.4,0,0,0.4,"+e+","+e+")",autoRound:!1,ease:s.Linear.easeNone}),s.TweenLite.set(u,{strokeDashoffset:"-"+(o.dash_length-1),delay:.4}),s.TweenLite.to(d,.4,{opacity:.5,attr:{r:r/5},autoRound:!1,ease:s.Linear.easeNone})}}}},{key:"makeSvgPaths",value:function(e,t){return'\n          <circle class="rrmc-button-svg-anim-circle"\n            opacity=".5"\n            cx="'+e.w/2+'" cy="'+e.w/2+'" fill="'+t+'" r="'+e.w/5+'"/>\n          <g class="rrmc-button-svg-anim-scale" transform="">\n            <path class="rrmc-button-svg-anim-path" d="\n                     M '+e.middle_left+" "+e.middle_vertical+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_left_x+" "+e.arc_top_left_y+"\n                     L "+e.arc_top_right_x+" "+e.arc_top_right_y+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_right+" "+e.middle_vertical+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.arc_top_right_x+" "+e.arc_bottom_y+"\n                     L "+e.arc_top_left_x+" "+e.arc_bottom_y+"\n                     A "+e.radius+" "+e.radius+" 0 0 1 "+e.middle_left+" "+e.middle_vertical+'\n                     "\n                  stroke-dasharray="'+e.dash_length+" "+e.dash_length+'"\n                  stroke-dashoffset="'+Math.ceil(-e.dash_length)+'"\n                  stroke="'+t+'" stroke-width="1.5"\n                  stroke-linecap="square" stroke-linejoin="round"\n                  fill="transparent"></path>\n          </g>\n '}},{key:"stop",value:function(){var e=this.oldIndex,t=this.bullet_progress[e];t&&t.stop()}},{key:"start",value:function(){var e=this.oldIndex,t=this.bullet_progress[e];t&&t.start()}},{key:"set_target_slides",value:function(){for(var e=[].slice.call(this.elm_sections),t=[].slice.call(this.elm_nav_items),n=0,r=0;n<e.length;++n,++r){var i=e[n].getAttribute("data-experience");e[n].setAttribute(this.dataSection,"section"+r),this.match_slide_experience(i)&&(e[n].parentElement.removeChild(e[n]),--r)}for(var o=0,a=0;o<t.length;++o,++a){var l=t[o].getAttribute("data-experience");t[o].querySelector("a").setAttribute("href","#section"+a),a&&t[o].querySelector("a").classList.add("active"),this.match_slide_experience(l)&&(t[o].parentElement.removeChild(t[o]),--a)}s.TweenLite.to([this.elm_sections,this.elm_nav_items],.3,{opacity:1})}},{key:"match_slide_experience",value:function(e){return e!==this.experience&&"default"!==e}},{key:"load_images",value:function(){var e=this;return new Promise((function(t){var n=[].slice.call(e.container.querySelectorAll(".rrmc-home-carousel-image-default"));0===n.length&&t();var r=n[n.length-1];n.forEach((function(e,i){(0,f.pictureLazyLoaderPlain)(e,(function(){n[i]===r&&t(!0)}))}))}))}},{key:"init_evergage",value:(n=b(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.rrmc_experiences){e.next=2;break}return e.abrupt("return",this.experience="default");case 2:return t=m.EvergageCampaignWait.makeStrategy("homepage-personalisation"),e.next=5,t.wait_for_experience();case 5:n=e.sent,this.experience=null===n?"default":n;case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"load",value:(t=b(regeneratorRuntime.mark((function e(){var t,n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init_evergage();case 2:return this.set_target_slides(),e.next=5,this.load_images();case 5:(0,d.is_ie11)()&&[].slice.call(this.elm_image_sections).forEach((function(e){var t=e.querySelector("img");t.src=t.getAttribute("data-src"),(0,p.default)(t)})),this.addSvg(),window.addEventListenerRR("resize",this.on_resize),this.on_resize(),this.lottie_scroll=h.default.loadAnimation({container:this.scrollIcon,renderer:"svg",loop:!0,autoplay:!0,animationData:u.anim_hero_scroll}),(t=this.container.querySelectorAll(".video-js")).length>0&&[].slice.call(t).forEach((function(e){var t=videojs.getPlayer(e),n=t.getChild("errorDisplay");n.off(t,"error",n.open),n.dispose()})),(0,o.default)("["+this.dataSection+"]").each((function(){(0,o.default)(this).find(".rrmc-homepage-carousel-copy").children().each((function(e){(0,o.default)(this).css("animation-delay",200*e+"ms")}))})),window.addEventListenerRR("scroll",this.on_scroll_desktop),n="onwheel"in document?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",r=function e(){i.autoplay_stopped=!0,clearTimeout(i.timer),window.removeEventListenerRR(n,e)},window.addEventListenerRR(n,r),this.on_scroll_desktop(),o.default.scrollify({section:this.section,scrollSpeed:750,updateHash:!1,touchScroll:!1,interstitialSection:"",before:function(e,t){var n=t[e].attr(i.dataSection);i.stop(),clearTimeout(i.timer),(0,o.default)(i.pagination+" .active").removeClass("active"),(0,o.default)(i.pagination).find("a[href='#"+n+"']").addClass("active"),i.oldIndex>=0&&t[i.oldIndex].children().children(".vjs-tech").length&&t[i.oldIndex].children().children(".vjs-tech")[0].pause()},after:function(e,t){i.oldIndex=o.default.scrollify.currentIndex(),i.start(),(0,o.default)("["+i.dataSection+"].active").removeClass("active"),t[e].addClass("active");var n=t[e].children().children(".vjs-tech")[0];if(n){var r=window.innerWidth>1024?n.getAttribute("data-video-id-desktop"):window.innerWidth<=768?n.getAttribute("data-video-id-mobile"):n.getAttribute("data-video-id-tablet");videojs.getPlayer(n).ready((function(){var e=this;e.catalog.getVideo(r,(function(t,n){try{e.catalog.load(n)}catch(t){console.log(t)}e.play()}))}))}i.autoPlay(o.default.scrollify)},afterRender:function(){o.default.scrollify.current().addClass("active"),i.oldIndex=o.default.scrollify.currentIndex(),i.start();var e=o.default.scrollify.current().children().children(".vjs-tech")[0];if(e){var t=window.innerWidth>1024?e.getAttribute("data-video-id-desktop"):window.innerWidth<=768?e.getAttribute("data-video-id-mobile"):e.getAttribute("data-video-id-tablet");videojs.getPlayer(e).ready((function(){var e=this;e.catalog.getVideo(t,(function(t,n){try{e.catalog.load(n)}catch(t){console.log(t)}e.play()}))}))}i.autoPlay(o.default.scrollify),(0,o.default)(i.pagination+" a").on("click",(function(){this.autoplay_stopped=!0,clearTimeout(this.timer),o.default.scrollify.move((0,o.default)(this).attr("href")),l.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Bib Click "+((0,o.default)(this).parent().index()+1),eventLabel:"homepage carousel"})}))}}),(0,c.is_mobile)()&&(window.addEventListenerRR("scroll",this.on_scroll_mobile),this.on_scroll_mobile());case 20:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"destroy",value:function(){window.removeEventListenerRR("scroll",this.on_scroll_mobile),window.removeEventListenerRR("scroll",this.on_scroll_desktop),window.removeEventListenerRR("resize",this.on_resize)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelector(".js-rrmc-homepage-carousel");e&&new w(e).load()}))},function(e,t,n){},function(e,t,n){"use strict";var r,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * jQuery Scrollify
 * Version 1.0.20
 *
 * Requires:
 * - jQuery 1.7 or higher
 *
 * https://github.com/lukehaas/Scrollify
 *
 * Copyright 2016, Luke Haas
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.



if touchScroll is false - update index

 */
o="undefined"!=typeof window?window:void 0,r=[n(75)],void 0===(i=function(e){return function(e,t,n,r){var i,o,s,l,c,u,h=[],d=[],p=[],f=[],m=0,v=0,g=1,y=!1,_=e(t),b=_.scrollTop(),w=!1,x=!1,S=!1,k=!1,A=[],E=(new Date).getTime(),C=!0,T=!1,M=0,D="onwheel"in n?"wheel":n.onmousewheel!==r?"mousewheel":"DOMMouseScroll",L={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}};function P(){return t.innerHeight+L.offset}function R(n,r,i,o){if(v===n&&(i=!1),!0===k)return!0;if(d[n]){if(w=!1,!0===C&&(C=!1,L.afterRender()),i&&"function"==typeof L.before&&!1===L.before(n,p))return!0;if(g=1,M=n?h[n]:0,!1===C&&v>n&&!1===o&&f[n]&&(s=P(),g=parseInt(p[n].outerHeight()/s),M=parseInt(h[n])+(p[n].outerHeight()-s)),L.updateHash&&L.sectionName&&(!0!==C||0!==n))if(history.pushState)try{history.replaceState(null,null,d[n])}catch(e){t.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else t.location.hash=d[n];if(v=n,r)e(L.target).stop().scrollTop(M),i&&L.after(n,p);else{if(x=!0,e().velocity?e(L.target).stop().velocity("scroll",{duration:L.scrollSpeed,easing:L.easing,offset:M,mobileHA:!1}):e(L.target).stop().animate({scrollTop:M},L.scrollSpeed,L.easing),t.location.hash.length&&L.sectionName&&t.console)try{e(t.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(e){}e(L.target).promise().done((function(){x=!1,C=!1,i&&L.after(n,p)}))}}}function I(e){function t(t){for(var n=0,r=e.slice(Math.max(e.length-t,1)),i=0;i<r.length;i++)n+=r[i];return Math.ceil(n/t)}return t(10)>=t(70)}var O=function(r){function a(t){e().velocity?e(L.target).stop().velocity("scroll",{duration:L.scrollSpeed,easing:L.easing,offset:t,mobileHA:!1}):e(L.target).stop().animate({scrollTop:t},L.scrollSpeed,L.easing)}function v(t){t&&(b=_.scrollTop());var n=L.section;f=[],L.interstitialSection.length&&(n+=","+L.interstitialSection),!1===L.scrollbars&&(L.overflowScroll=!1),s=P(),e(n).each((function(t){var n=e(this);L.setHeights?n.is(L.interstitialSection)?f[t]=!1:n.css("height","auto").outerHeight()<s||"hidden"===n.css("overflow")?(n.css({height:s}),f[t]=!1):(n.css({height:n.outerHeight()}),L.overflowScroll?f[t]=!0:f[t]=!1):n.outerHeight()<s||!1===L.overflowScroll?f[t]=!1:f[t]=!0})),t&&_.scrollTop(b)}function C(n,r){var i=L.section;L.interstitialSection.length&&(i+=","+L.interstitialSection),h=[],d=[],p=[],e(i).each((function(n){var r=e(this);h[n]=n>0?parseInt(r.offset().top)+L.offset:parseInt(r.offset().top),L.sectionName&&r.data(L.sectionName)?d[n]="#"+r.data(L.sectionName).toString().replace(/ /g,"-"):!1===r.is(L.interstitialSection)?d[n]="#"+(n+1):(d[n]="#",n===e(i).length-1&&n>1&&(h[n]=h[n-1]+(parseInt(e(e(i)[n-1]).outerHeight())-parseInt(e(t).height()))+parseInt(r.outerHeight()))),p[n]=r;try{e(d[n]).length&&t.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(e){}t.location.hash===d[n]&&(m=n,y=!0)})),!0===n&&R(m,!1,!1,!1)}function M(){return!(f[m]&&(b=_.scrollTop())>parseInt(h[m]))}function O(){return!(f[m]&&(b=_.scrollTop(),s=P(),b<parseInt(h[m])+(p[m].outerHeight()-s)-28))}T=!0,e.easing.easeOutExpo=function(e,t,n,r,i){return t==i?n+r:r*(1-Math.pow(2,-10*t/i))+n},l={handleMousedown:function(){if(!0===k)return!0;w=!1,S=!1},handleMouseup:function(){if(!0===k)return!0;w=!0,S&&l.calculateNearest(!1,!0)},handleScroll:function(){if(!0===k)return!0;i&&clearTimeout(i),i=setTimeout((function(){if(S=!0,!1===w)return!1;w=!1,l.calculateNearest(!1,!0)}),200)},calculateNearest:function(e,t){b=_.scrollTop();for(var n,r=1,i=h.length,o=0,a=Math.abs(h[0]-b);r<i;r++)(n=Math.abs(h[r]-b))<a&&(a=n,o=r);(O()&&o>m||M())&&(m=o,R(o,e,t,!1))},wheelHandler:function(n){if(!0===k)return!0;if(L.standardScrollElements&&(e(n.target).is(L.standardScrollElements)||e(n.target).closest(L.standardScrollElements).length))return!0;f[m]||n.preventDefault();var r,i=(new Date).getTime();r=(n=n||t.event).originalEvent?n.originalEvent.wheelDelta||-n.originalEvent.deltaY||-n.originalEvent.detail:n.wheelDelta||-n.deltaY||-n.detail;var o=Math.max(-1,Math.min(1,r));if(A.length>149&&A.shift(),A.push(Math.abs(r)),i-E>200&&(A=[]),E=i,x)return n.preventDefault(),!1;if(o<0){if(m<h.length-1&&O()){if(!I(A))return!1;n.preventDefault(),m++,x=!0,R(m,!1,!0,!1)}}else if(o>0&&m>0&&M()){if(!I(A))return!1;n.preventDefault(),m--,x=!0,R(m,!1,!0,!1)}},keyHandler:function(t){return!0===k||!1===n.activeElement.readOnly||!(!L.standardScrollElements||!e(t.target).is(L.standardScrollElements)&&!e(t.target).closest(L.standardScrollElements).length)||!0!==x&&void(38==t.keyCode||33==t.keyCode?m>0&&M()&&(t.preventDefault(),R(--m,!1,!0,!1)):40!=t.keyCode&&34!=t.keyCode||m<h.length-1&&O()&&(t.preventDefault(),R(++m,!1,!0,!1)))},init:function(){L.scrollbars?(_.on("mousedown",l.handleMousedown),_.on("mouseup",l.handleMouseup),_.on("scroll",l.handleScroll)):e("body").css({overflow:"hidden"}),t.addEventListenerRR(D,l.wheelHandler,{passive:!1}),_.on("keydown",l.keyHandler)}},c={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(t){if(!0===k)return!0;if(L.standardScrollElements&&(e(t.target).is(L.standardScrollElements)||e(t.target).closest(L.standardScrollElements).length))return!0;var n;if(void 0!==t&&void 0!==t.touches)switch(n=t.touches[0],t.type){case"touchstart":c.touches.touchstart.y=n.pageY,c.touches.touchmove.y=-1,c.touches.touchstart.x=n.pageX,c.touches.touchmove.x=-1,c.options.timeStamp=(new Date).getTime(),c.touches.touchend=!1;case"touchmove":c.touches.touchmove.y=n.pageY,c.touches.touchmove.x=n.pageX,c.touches.touchstart.y!==c.touches.touchmove.y&&Math.abs(c.touches.touchstart.y-c.touches.touchmove.y)>Math.abs(c.touches.touchstart.x-c.touches.touchmove.x)&&(t.preventDefault(),c.touches.direction="y",c.options.timeStamp+c.options.timeGap<(new Date).getTime()&&0==c.touches.touchend&&(c.touches.touchend=!0,c.touches.touchstart.y>-1&&Math.abs(c.touches.touchmove.y-c.touches.touchstart.y)>c.options.distance&&(c.touches.touchstart.y<c.touches.touchmove.y?c.up():c.down())));break;case"touchend":!1===c.touches[t.type]&&(c.touches[t.type]=!0,c.touches.touchstart.y>-1&&c.touches.touchmove.y>-1&&"y"===c.touches.direction&&(Math.abs(c.touches.touchmove.y-c.touches.touchstart.y)>c.options.distance&&(c.touches.touchstart.y<c.touches.touchmove.y?c.up():c.down()),c.touches.touchstart.y=-1,c.touches.touchstart.x=-1,c.touches.direction="undetermined"))}},down:function(){m<h.length&&(O()&&m<h.length-1?R(++m,!1,!0,!1):(s=P(),Math.floor(p[m].height()/s)>g?(a(parseInt(h[m])+s*g),g+=1):a(parseInt(h[m])+(p[m].outerHeight()-s))))},up:function(){m>=0&&(M()&&m>0?R(--m,!1,!0,!1):g>2?(s=P(),g-=1,a(parseInt(h[m])+s*g)):(g=1,a(parseInt(h[m]))))},init:function(){if(n.addEventListenerRR&&L.touchScroll){var e={passive:!1};n.addEventListenerRR("touchstart",c.touchHandler,e),n.addEventListenerRR("touchmove",c.touchHandler,e),n.addEventListenerRR("touchend",c.touchHandler,e)}}},u={refresh:function(e,t){clearTimeout(o),o=setTimeout((function(){v(!0),C(t),e&&L.afterResize()}),400)},handleUpdate:function(){u.refresh(!1,!1)},handleResize:function(){u.refresh(!0,!1)},handleOrientation:function(){u.refresh(!0,!0)}},L=e.extend(L,r),v(!1),C(!1),!0===y?R(m,!1,!0,!0):setTimeout((function(){l.calculateNearest(!0,!1)}),200),h.length&&(l.init(),c.init(),_.on("resize",u.handleResize),n.addEventListenerRR&&t.addEventListenerRR("orientationchange",u.handleOrientation,!1))};function F(e,t){for(var n=d.length;n>=0;n--)"string"==typeof e?d[n]===e&&(m=n,R(n,t,!0,!0)):n===e&&(m=n,R(n,t,!0,!0))}return O.move=function(t){if(t===r)return!1;t.originalEvent&&(t=e(this).attr("href")),F(t,!1)},O.instantMove=function(e){if(e===r)return!1;F(e,!0)},O.next=function(){m<d.length&&R(m+=1,!1,!0,!0)},O.previous=function(){m>0&&R(m-=1,!1,!0,!0)},O.instantNext=function(){m<d.length&&R(m+=1,!0,!0,!0)},O.instantPrevious=function(){m>0&&R(m-=1,!0,!0,!0)},O.destroy=function(){if(!T)return!1;L.setHeights&&e(L.section).each((function(){e(this).css("height","auto")})),_.off("resize",u.handleResize),L.scrollbars&&(_.off("mousedown",l.handleMousedown),_.off("mouseup",l.handleMouseup),_.off("scroll",l.handleScroll)),t.removeEventListenerRR(D,l.wheelHandler),_.off("keydown",l.keyHandler),n.addEventListenerRR&&L.touchScroll&&(n.removeEventListenerRR("touchstart",c.touchHandler,!1),n.removeEventListenerRR("touchmove",c.touchHandler,!1),n.removeEventListenerRR("touchend",c.touchHandler,!1)),h=[],d=[],p=[],f=[],C=!0,T=!1},O.update=function(){if(!T)return!1;u.handleUpdate()},O.current=function(){return p[m]},O.currentIndex=function(){return m},O.disable=function(){k=!0},O.enable=function(){k=!1,T&&l.calculateNearest(!1,!1)},O.isDisabled=function(){return k},O.setOptions=function(n){if(!T)return!1;"object"===(void 0===n?"undefined":a(n))?(L=e.extend(L,n),u.handleUpdate()):t.console&&console.warn("Scrollify warning: setOptions expects an object.")},e.scrollify=O,O}(e,o,o.document)}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(471);var i=n(7),o=n(27),a=c(n(76)),s=n(116),l=c(n(594));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_display=this.container.querySelector(".js-rrmc-image-reveal-display"),this.hover_area=this.container.querySelector(".js-rrmc-image-reveal-hover-area-max"),this.image_original=this.container.querySelector(".js-rrmc-image-reveal-original-img-max"),this.image_in_page=this.container.querySelector(".js-rrmc-image-hover-in-page-img-max"),this.f_original_image_aspect_ratio_desktop=this.hover_area.getAttribute("data-hover-image-reveal-desktop-aspect-ratio"),this.f_original_image_aspect_ratio_mobile=this.hover_area.getAttribute("data-hover-image-reveal-mobile-aspect-ratio"),this.on_resize=function(){n.get_container_pos(),n.set_aspect_ratio(),n.inst_hover_reveal&&n.inst_hover_reveal.on_resize()},this.on_scroll=function(){n.get_container_pos(),n.inst_hover_reveal&&n.inst_hover_reveal.on_scroll()};var r=this;this.on_display=function(){"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&r.make_overlay().animate_in()})).catch(console.error):r.make_overlay().animate_in()}}return r(e,[{key:"make_overlay",value:function(){var e=this,t=(new DOMParser).parseFromString('<div class="rrmc-image-reveal-overlay">\n        <div class="rrmc-image-reveal-overlay-position">\n          <div class="rrmc-overlay-nav-bar rrmc-overlay-nav-bar-dark">\n            <button data-overlay-action="overlayClose" type="button" data-theme="dark"\n             class="js-rrmc-hover-cta-close rrmc-cta-component rrmc-button--regular-icon-stroked rrmc-button--dark rrmc-button--close">\n              <span class="rrmc-cta-i" data-icon="close" style="transform: matrix(1, 0, 0, 1, 0, -23);">\n                <span class="rrmc-cta-icon-placeholder"><svg width="16" height="16" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M13.3139,2.0003 L14.7279,3.4143 L11.8989,6.2433 L10.4849,4.8293 L13.3139,2.0003 Z M3.4139,2.0003 L14.7279,13.3143 L13.3139,14.7283 L8.3639,9.7783 L3.4139,14.7283 L1.9999,13.3143 L6.9499,8.3643 L1.9999,3.4143 L3.4139,2.0003 Z" id="close"></path></defs><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/close"><mask id="mask-2" fill="white"><use xlink:href="#close"></use></mask><use id="Combined-Shape" fill="currentColor" xlink:href="#close"></use></g></g></svg></span>\n          <svg class="rrmc-button-svg-anim" width="46" height="46" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\n            <g transform="rotate(90 23 23)">\n            \n            <path class="rrmc-initial-path" d="\n                     M 0.5 23\n                     A 22.5 22.5 0 0 1 23 0.5\n                     L 23 0.5\n                     A 22.5 22.5 0 0 1 45.5 23\n                     A 22.5 22.5 0 0 1 23 45.5\n                     L 23 45.5\n                     A 22.5 22.5 0 0 1 0.5 23\n                     " stroke="#6D30A7" stroke-opacity="1" stroke-width="1" stroke-linecap="square" stroke-linejoin="round" fill="transparent"></path>\n            <path class="rrmc-button-svg-anim-path" d="\n                     M 0.5 23\n                     A 22.5 22.5 0 0 1 23 0.5\n                     L 23 0.5\n                     A 22.5 22.5 0 0 1 45.5 23\n                     A 22.5 22.5 0 0 1 23 45.5\n                     L 23 45.5\n                     A 22.5 22.5 0 0 1 0.5 23\n                     " stroke-dasharray="143.3716694115407 143.3716694115407" stroke-dashoffset="-143.3716694115407" stroke="#57208c" stroke-width="1" stroke-linecap="square" stroke-linejoin="round" fill="transparent"></path>\n   \n           </g>\n          </svg>\n      </span>\n              <span class="rrmc-button-text js-rrmc-button-text"></span>\n              <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n            </button>\n          </div>\n          <div class="js-rrmc-image-reveal-overlay-content rrmc-image-reveal-overlay-content">\n            <div class="js-rrmc-image-reveal-overlay-content-wrapper rrmc-image-reveal-overlay-content-wrapper">\n            </div>\n          </div>\n        </div>\n      </div>',"text/html").body.firstChild;document.body.appendChild(t);var n=t.querySelector(".js-rrmc-hover-cta-close"),r=new a.default(n);r.load();var o=this.hover_area.cloneNode(!0),c=t.querySelector(".js-rrmc-image-reveal-overlay-content"),u=t.querySelector(".js-rrmc-image-reveal-overlay-content-wrapper");u.appendChild(o);var h=window.innerHeight,d=this.is_desktop()?o.getAttribute("data-hover-image-reveal-desktop-aspect-ratio"):o.getAttribute("data-hover-image-reveal-mobile-aspect-ratio"),p=(h-82-64)/(parseFloat(d)/100);u.style.width=p+"px";var f={animate_in:function(){(0,s.disableBodyScroll)(t),(new i.TimelineLite).to(t,.8,{y:"0%"}).add((function(){e.inst_hover_reveal=new l.default(o,!0,c),e.inst_hover_reveal.load()}))},animate_out:function(){(new i.TimelineLite).to(t,.8,{y:"100%"}).add((function(){(0,s.clearAllBodyScrollLocks)(),r.destroy(),document.body.removeChild(t)}))}};return n.addEventListenerRR("click",(function(){f.animate_out()})),f}},{key:"get_container_pos",value:function(){var e=this.hover_area.getBoundingClientRect();this.hover_area_dimensions=e}},{key:"is_desktop",value:function(){return window.innerWidth>1024}},{key:"set_aspect_ratio",value:function(){var e=this.is_desktop()?this.f_original_image_aspect_ratio_desktop:this.f_original_image_aspect_ratio_mobile;this.hover_area.style.paddingBottom=e+"%"}},{key:"load",value:function(){this.get_container_pos(),this.set_aspect_ratio(),window.addEventListenerRR("resize",this.on_resize),window.addEventListenerRR("scroll",this.on_scroll),(0,o.pictureLazyLoaderPlain)(this.image_original),(0,o.pictureLazyLoaderPlain)(this.image_in_page),this.is_desktop()&&(this.inst_hover_reveal=new l.default(this.hover_area,!1),this.inst_hover_reveal.load()),this.cta_display_cta=new a.default(this.elm_display),this.cta_display_cta.load(),this.elm_display.addEventListenerRR("click",this.on_display)}},{key:"destroy",value:function(){window.removeEventListenerRR("resize",this.on_resize),window.removeEventListenerRR("scroll",this.on_scroll),this.cta_display_cta&&this.cta_display_cta.destroy(),this.cta_display_cta&&this.cta_display_cta.removeEventListenerRR("click",this.on_display),this.inst_hover_reveal&&this.inst_hover_reveal.destroy()}}]),e}();t.default=u,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-image-reveal-container-max");[].slice.call(e).forEach((function(e){var t=new u(e);e.data={imageRevealInstance:t},t.load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(471);var i,o=n(7),a=n(14),s=(i=a)&&i.__esModule?i:{default:i};var l=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.is_overlay=n,this.hover_bounding_rect=r,this.hover_area=this.container,this.peek_window=this.container.querySelector(".js-rrmc-image-reveal-peek-max"),this.peek_canvas=this.container.querySelector(".js-rrmc-image-reveal-peek-canvas-max"),this.peek_canvas_context=this.peek_canvas.getContext("2d"),this.peek_dimension=125,this.peek_canvas.width=this.peek_dimension,this.peek_canvas.height=this.peek_dimension,this.reveal_image_desktop_url=this.container.getAttribute("data-hover-image-reveal-desktop-url"),this.reveal_image_desktop_width=parseInt(this.container.getAttribute("data-hover-image-reveal-desktop-width")),this.reveal_image_desktop_height=parseInt(this.container.getAttribute("data-hover-image-reveal-desktop-height")),this.reveal_image_mobile_url=this.container.getAttribute("data-hover-image-reveal-mobile-url"),this.reveal_image_mobile_width=parseInt(this.container.getAttribute("data-hover-image-reveal-mobile-width")),this.reveal_image_mobile_height=parseInt(this.container.getAttribute("data-hover-image-reveal-mobile-height")),this.peek_prev_pageX=0,this.peek_prev_pageY=0,this.peek_window_pos_x=0,this.peek_window_pos_y=0,this.on_mouse_move=function(e){i.is_hovering||i.show_peek();var t=e.pageX,n=e.pageY;i.peek_prev_pageX=t,i.peek_prev_pageY=n,i.udpate_peek_window_pos(t,n),i.move_peek_window()},this.on_scroll=function(){i.get_container_pos(),i.is_overlay?i.setup_orientation():i.hide_peek(),i.move_peek_window()},this.on_resize=function(){i.get_container_pos(),i.is_overlay?i.setup_orientation():i.hide_peek(),i.move_peek_window()},this.on_mouse_enter=function(){i.show_peek()},this.on_mouse_leave=function(){i.hide_peek()},this.on_orientation=function(e){var t=e.beta,n=e.gamma;t>=0&&i.move_by(.001*t,"up"),t<0&&i.move_by(.001*t,"down"),n>=0&&i.move_by(.001*n,"right"),n<0&&i.move_by(.001*n,"left"),i.move_peek_window()},this.movement_configuration={left:{local:"peek_window_pos_x",scaled:"peek_window_pos_x_scaled",axis:"width"},right:{local:"peek_window_pos_x",scaled:"peek_window_pos_x_scaled",axis:"width"},up:{local:"peek_window_pos_y",scaled:"peek_window_pos_y_scaled",axis:"height"},down:{local:"peek_window_pos_y",scaled:"peek_window_pos_y_scaled",axis:"height"}}}return r(e,[{key:"move_by",value:function(e,t){var n=this.movement_configuration[t],r=n.local,i=n.scaled,o=n.axis,a=this[i],s=this[r];this[i]=this[i]+e,this[r]=this[i]*this.hover_area_dimensions[o];var l=this[r]-this.hover_area_dimensions[o]/2,c=this[i]>1||this[i]<0;(Math.abs(l)>Math.abs(this.bounding_box_area_dimensions[o]/2)||c)&&(this[i]=a,this[r]=s)}},{key:"setup_orientation",value:function(){this.container.classList.add("show-peek"),this.peek_window_pos_x=this.hover_area_dimensions.width/2,this.peek_window_pos_y=this.hover_area_dimensions.height/2,this.peek_window_pos_x_scaled=.5,this.peek_window_pos_y_scaled=.5}},{key:"show_peek",value:function(){this.is_hovering=!0,this.container.classList.add("show-peek"),s.default.sub_cursor.next(["scale_large","enter"])}},{key:"hide_peek",value:function(){this.is_hovering=!1,this.container.classList.remove("show-peek"),s.default.sub_cursor.next(["scale_large","leave"])}},{key:"udpate_peek_window_pos",value:function(e,t){var n=window.pageXOffset,r=window.pageYOffset,i=e-n-this.hover_area_dimensions.left,o=t-r-this.hover_area_dimensions.top,a=i/this.hover_area_dimensions.width,s=o/this.hover_area_dimensions.height;this.peek_window_pos_x=i,this.peek_window_pos_y=o,this.peek_window_pos_x_scaled=a,this.peek_window_pos_y_scaled=s}},{key:"move_peek_window",value:function(){this.peek_window_pos_x_scaled<0||this.peek_window_pos_y_scaled<0||(o.TweenLite.set(this.peek_window,{x:this.peek_window_pos_x,y:this.peek_window_pos_y}),this.draw_peek_image(this.peek_window_pos_x_scaled,this.peek_window_pos_y_scaled))}},{key:"get_container_pos",value:function(){var e=this.hover_area.getBoundingClientRect();this.hover_area_dimensions=e,this.is_overlay&&(this.bounding_box_area_dimensions=this.hover_bounding_rect.getBoundingClientRect())}},{key:"draw_peek_image",value:function(e,t){var n=e*this.reveal_image_width,r=t*this.reveal_image_height;this.peek_canvas_context.drawImage(this.reveal_image,Math.floor(n-this.peek_dimension/2),Math.floor(r-this.peek_dimension/2),this.peek_dimension,this.peek_dimension,0,0,this.peek_dimension,this.peek_dimension)}},{key:"is_desktop",value:function(){return window.innerWidth>1024}},{key:"supports_orientation",value:function(){var e="ontouchstart"in window,t=window.DeviceOrientationEvent;return e&&t}},{key:"load",value:function(){var e=this;this.get_container_pos(),this.reveal_image=new Image,this.reveal_image.onload=function(){e.on_scroll(),e.supports_orientation()?(e.setup_orientation(),setTimeout((function(){window.addEventListenerRR("deviceorientation",e.on_orientation)}),1e3)):(e.hover_area.addEventListenerRR("mousemove",e.on_mouse_move),e.hover_area.addEventListenerRR("mouseenter",e.on_mouse_enter),e.hover_area.addEventListenerRR("mouseleave",e.on_mouse_leave))},this.reveal_image.src=this.is_desktop()?this.reveal_image_desktop_url:this.reveal_image_mobile_url,this.reveal_image_width=this.is_desktop()?this.reveal_image_desktop_width:this.reveal_image_mobile_width,this.reveal_image_height=(this.is_desktop(),this.reveal_image_desktop_height)}},{key:"destroy",value:function(){this.hover_area.removeEventListenerRR("mousemove",this.on_mouse_move),this.hover_area.removeEventListenerRR("mouseenter",this.on_mouse_enter),this.hover_area.removeEventListenerRR("mouseleave",this.on_mouse_leave),window.removeEventListenerRR("deviceorientation",this.on_orientation)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(472);var i=n(7),o=n(27),a=c(n(76)),s=n(116),l=c(n(596));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_display=this.container.querySelector(".js-rrmc-image-reveal-display"),this.hover_area=this.container.querySelector(".js-rrmc-image-reveal-hover-area"),this.image_original=this.container.querySelector(".js-rrmc-image-reveal-original-img"),this.image_in_page=this.container.querySelector(".js-rrmc-image-hover-in-page-img"),this.f_original_image_aspect_ratio_desktop=this.hover_area.getAttribute("data-hover-image-reveal-desktop-aspect-ratio"),this.f_original_image_aspect_ratio_mobile=this.hover_area.getAttribute("data-hover-image-reveal-mobile-aspect-ratio"),this.on_resize=function(){n.get_container_pos(),n.set_aspect_ratio(),n.inst_hover_reveal&&n.inst_hover_reveal.on_resize()},this.on_scroll=function(){n.get_container_pos(),n.inst_hover_reveal&&n.inst_hover_reveal.on_scroll()};var r=this;this.on_display=function(){"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&r.make_overlay().animate_in()})).catch(console.error):r.make_overlay().animate_in()}}return r(e,[{key:"make_overlay",value:function(){var e=this,t=(new DOMParser).parseFromString('<div class="rrmc-image-reveal-overlay">\n        <div class="rrmc-image-reveal-overlay-position">\n          <div class="rrmc-overlay-nav-bar rrmc-overlay-nav-bar-dark">\n            <button data-overlay-action="overlayClose" type="button" data-theme="dark"\n             class="js-rrmc-hover-cta-close rrmc-cta-component rrmc-button--regular-icon-stroked rrmc-button--dark rrmc-button--close">\n              <span class="rrmc-cta-i" data-icon="close" style="transform: matrix(1, 0, 0, 1, 0, -23);">\n                <span class="rrmc-cta-icon-placeholder"><svg width="16" height="16" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M13.3139,2.0003 L14.7279,3.4143 L11.8989,6.2433 L10.4849,4.8293 L13.3139,2.0003 Z M3.4139,2.0003 L14.7279,13.3143 L13.3139,14.7283 L8.3639,9.7783 L3.4139,14.7283 L1.9999,13.3143 L6.9499,8.3643 L1.9999,3.4143 L3.4139,2.0003 Z" id="close"></path></defs><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/close"><mask id="mask-2" fill="white"><use xlink:href="#close"></use></mask><use id="Combined-Shape" fill="currentColor" xlink:href="#close"></use></g></g></svg></span>\n          <svg class="rrmc-button-svg-anim" width="46" height="46" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\n            <g transform="rotate(90 23 23)">\n            \n            <path class="rrmc-initial-path" d="\n                     M 0.5 23\n                     A 22.5 22.5 0 0 1 23 0.5\n                     L 23 0.5\n                     A 22.5 22.5 0 0 1 45.5 23\n                     A 22.5 22.5 0 0 1 23 45.5\n                     L 23 45.5\n                     A 22.5 22.5 0 0 1 0.5 23\n                     " stroke="#6D30A7" stroke-opacity="1" stroke-width="1" stroke-linecap="square" stroke-linejoin="round" fill="transparent"></path>\n            <path class="rrmc-button-svg-anim-path" d="\n                     M 0.5 23\n                     A 22.5 22.5 0 0 1 23 0.5\n                     L 23 0.5\n                     A 22.5 22.5 0 0 1 45.5 23\n                     A 22.5 22.5 0 0 1 23 45.5\n                     L 23 45.5\n                     A 22.5 22.5 0 0 1 0.5 23\n                     " stroke-dasharray="143.3716694115407 143.3716694115407" stroke-dashoffset="-143.3716694115407" stroke="#57208c" stroke-width="1" stroke-linecap="square" stroke-linejoin="round" fill="transparent"></path>\n   \n           </g>\n          </svg>\n      </span>\n              <span class="rrmc-button-text js-rrmc-button-text"></span>\n              <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n            </button>\n          </div>\n          <div class="js-rrmc-image-reveal-overlay-content rrmc-image-reveal-overlay-content">\n            <div class="js-rrmc-image-reveal-overlay-content-wrapper rrmc-image-reveal-overlay-content-wrapper">\n            </div>\n          </div>\n        </div>\n      </div>',"text/html").body.firstChild;document.body.appendChild(t);var n=t.querySelector(".js-rrmc-hover-cta-close"),r=new a.default(n);r.load();var o=this.hover_area.cloneNode(!0),c=t.querySelector(".js-rrmc-image-reveal-overlay-content"),u=t.querySelector(".js-rrmc-image-reveal-overlay-content-wrapper");u.appendChild(o);var h=window.innerHeight,d=this.is_desktop()?o.getAttribute("data-hover-image-reveal-desktop-aspect-ratio"):o.getAttribute("data-hover-image-reveal-mobile-aspect-ratio"),p=(h-82-64)/(parseFloat(d)/100);u.style.width=p+"px";var f={animate_in:function(){(0,s.disableBodyScroll)(t),(new i.TimelineLite).to(t,.8,{y:"0%"}).add((function(){e.inst_hover_reveal=new l.default(o,!0,c),e.inst_hover_reveal.load()}))},animate_out:function(){(new i.TimelineLite).to(t,.8,{y:"100%"}).add((function(){(0,s.clearAllBodyScrollLocks)(),r.destroy(),document.body.removeChild(t)}))}};return n.addEventListenerRR("click",(function(){f.animate_out()})),f}},{key:"get_container_pos",value:function(){var e=this.hover_area.getBoundingClientRect();this.hover_area_dimensions=e}},{key:"is_desktop",value:function(){return window.innerWidth>1024}},{key:"set_aspect_ratio",value:function(){var e=this.is_desktop()?this.f_original_image_aspect_ratio_desktop:this.f_original_image_aspect_ratio_mobile;this.hover_area.style.paddingBottom=e+"%"}},{key:"load",value:function(){this.get_container_pos(),this.set_aspect_ratio(),window.addEventListenerRR("resize",this.on_resize),window.addEventListenerRR("scroll",this.on_scroll),(0,o.pictureLazyLoaderPlain)(this.image_original),(0,o.pictureLazyLoaderPlain)(this.image_in_page),this.is_desktop()&&(this.inst_hover_reveal=new l.default(this.hover_area,!1),this.inst_hover_reveal.load()),this.cta_display_cta=new a.default(this.elm_display),this.cta_display_cta.load(),this.elm_display.addEventListenerRR("click",this.on_display)}},{key:"destroy",value:function(){window.removeEventListenerRR("resize",this.on_resize),window.removeEventListenerRR("scroll",this.on_scroll),this.cta_display_cta&&this.cta_display_cta.destroy(),this.cta_display_cta&&this.cta_display_cta.removeEventListenerRR("click",this.on_display),this.inst_hover_reveal&&this.inst_hover_reveal.destroy()}}]),e}();t.default=u,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-image-reveal-container");[].slice.call(e).forEach((function(e){var t=new u(e);e.data={imageRevealInstance:t},t.load()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(472);var i,o=n(7),a=n(14),s=(i=a)&&i.__esModule?i:{default:i};var l=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.is_overlay=n,this.hover_bounding_rect=r,this.hover_area=this.container,this.peek_window=this.container.querySelector(".js-rrmc-image-reveal-peek"),this.peek_canvas=this.container.querySelector(".js-rrmc-image-reveal-peek-canvas"),this.peek_canvas_context=this.peek_canvas.getContext("2d"),this.peek_dimension=125,this.peek_canvas.width=this.peek_dimension,this.peek_canvas.height=this.peek_dimension,this.reveal_image_desktop_url=this.container.getAttribute("data-hover-image-reveal-desktop-url"),this.reveal_image_desktop_width=parseInt(this.container.getAttribute("data-hover-image-reveal-desktop-width")),this.reveal_image_desktop_height=parseInt(this.container.getAttribute("data-hover-image-reveal-desktop-height")),this.reveal_image_mobile_url=this.container.getAttribute("data-hover-image-reveal-mobile-url"),this.reveal_image_mobile_width=parseInt(this.container.getAttribute("data-hover-image-reveal-mobile-width")),this.reveal_image_mobile_height=parseInt(this.container.getAttribute("data-hover-image-reveal-mobile-height")),this.peek_prev_pageX=0,this.peek_prev_pageY=0,this.peek_window_pos_x=0,this.peek_window_pos_y=0,this.on_mouse_move=function(e){i.is_hovering||i.show_peek();var t=e.pageX,n=e.pageY;i.peek_prev_pageX=t,i.peek_prev_pageY=n,i.udpate_peek_window_pos(t,n),i.move_peek_window()},this.on_scroll=function(){i.get_container_pos(),i.is_overlay?i.setup_orientation():i.hide_peek(),i.move_peek_window()},this.on_resize=function(){i.get_container_pos(),i.is_overlay?i.setup_orientation():i.hide_peek(),i.move_peek_window()},this.on_mouse_enter=function(){i.show_peek()},this.on_mouse_leave=function(){i.hide_peek()},this.on_orientation=function(e){var t=e.beta,n=e.gamma;t>=0&&i.move_by(.001*t,"up"),t<0&&i.move_by(.001*t,"down"),n>=0&&i.move_by(.001*n,"right"),n<0&&i.move_by(.001*n,"left"),i.move_peek_window()},this.movement_configuration={left:{local:"peek_window_pos_x",scaled:"peek_window_pos_x_scaled",axis:"width"},right:{local:"peek_window_pos_x",scaled:"peek_window_pos_x_scaled",axis:"width"},up:{local:"peek_window_pos_y",scaled:"peek_window_pos_y_scaled",axis:"height"},down:{local:"peek_window_pos_y",scaled:"peek_window_pos_y_scaled",axis:"height"}}}return r(e,[{key:"move_by",value:function(e,t){var n=this.movement_configuration[t],r=n.local,i=n.scaled,o=n.axis,a=this[i],s=this[r];this[i]=this[i]+e,this[r]=this[i]*this.hover_area_dimensions[o];var l=this[r]-this.hover_area_dimensions[o]/2,c=this[i]>1||this[i]<0;(Math.abs(l)>Math.abs(this.bounding_box_area_dimensions[o]/2)||c)&&(this[i]=a,this[r]=s)}},{key:"setup_orientation",value:function(){this.container.classList.add("show-peek"),this.peek_window_pos_x=this.hover_area_dimensions.width/2,this.peek_window_pos_y=this.hover_area_dimensions.height/2,this.peek_window_pos_x_scaled=.5,this.peek_window_pos_y_scaled=.5}},{key:"show_peek",value:function(){this.is_hovering=!0,this.container.classList.add("show-peek"),s.default.sub_cursor.next(["scale_large","enter"])}},{key:"hide_peek",value:function(){this.is_hovering=!1,this.container.classList.remove("show-peek"),s.default.sub_cursor.next(["scale_large","leave"])}},{key:"udpate_peek_window_pos",value:function(e,t){var n=window.pageXOffset,r=window.pageYOffset,i=e-n-this.hover_area_dimensions.left,o=t-r-this.hover_area_dimensions.top,a=i/this.hover_area_dimensions.width,s=o/this.hover_area_dimensions.height;this.peek_window_pos_x=i,this.peek_window_pos_y=o,this.peek_window_pos_x_scaled=a,this.peek_window_pos_y_scaled=s}},{key:"move_peek_window",value:function(){this.peek_window_pos_x_scaled<0||this.peek_window_pos_y_scaled<0||(o.TweenLite.set(this.peek_window,{x:this.peek_window_pos_x,y:this.peek_window_pos_y}),this.draw_peek_image(this.peek_window_pos_x_scaled,this.peek_window_pos_y_scaled))}},{key:"get_container_pos",value:function(){var e=this.hover_area.getBoundingClientRect();this.hover_area_dimensions=e,this.is_overlay&&(this.bounding_box_area_dimensions=this.hover_bounding_rect.getBoundingClientRect())}},{key:"draw_peek_image",value:function(e,t){var n=e*this.reveal_image_width,r=t*this.reveal_image_height;this.peek_canvas_context.drawImage(this.reveal_image,Math.floor(n-this.peek_dimension/2),Math.floor(r-this.peek_dimension/2),this.peek_dimension,this.peek_dimension,0,0,this.peek_dimension,this.peek_dimension)}},{key:"is_desktop",value:function(){return window.innerWidth>1024}},{key:"supports_orientation",value:function(){var e="ontouchstart"in window,t=window.DeviceOrientationEvent;return e&&t}},{key:"load",value:function(){var e=this;this.get_container_pos(),this.reveal_image=new Image,this.reveal_image.onload=function(){e.on_scroll(),e.supports_orientation()?(e.setup_orientation(),setTimeout((function(){window.addEventListenerRR("deviceorientation",e.on_orientation)}),1e3)):(e.hover_area.addEventListenerRR("mousemove",e.on_mouse_move),e.hover_area.addEventListenerRR("mouseenter",e.on_mouse_enter),e.hover_area.addEventListenerRR("mouseleave",e.on_mouse_leave))},this.reveal_image.src=this.is_desktop()?this.reveal_image_desktop_url:this.reveal_image_mobile_url,this.reveal_image_width=this.is_desktop()?this.reveal_image_desktop_width:this.reveal_image_mobile_width,this.reveal_image_height=(this.is_desktop(),this.reveal_image_desktop_height)}},{key:"destroy",value:function(){this.hover_area.removeEventListenerRR("mousemove",this.on_mouse_move),this.hover_area.removeEventListenerRR("mouseenter",this.on_mouse_enter),this.hover_area.removeEventListenerRR("mouseleave",this.on_mouse_leave),window.removeEventListenerRR("deviceorientation",this.on_orientation)}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(598);var i=n(27),o=c(n(76)),a=n(116),s=c(n(599)),l=n(7);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.image_original=this.container.querySelector(".js-rrmc-image-scratch-original-img"),this.image_in_page=this.container.querySelector(".js-rrmc-image-scratch-in-page-img"),this.hover_area=this.container.querySelector(".js-rrmc-image-scratch-hover-area"),this.elm_display=this.container.querySelector(".js-rrmc-image-scratch-display"),this.f_original_image_aspect_ratio_desktop=this.hover_area.getAttribute("data-scratch-image-original-desktop-aspect-ratio"),this.f_original_image_aspect_ratio_mobile=this.hover_area.getAttribute("data-scratch-image-original-mobile-aspect-ratio"),this.on_resize=function(){n.get_container_pos(),n.set_aspect_ratio(),n.inst_scratch_reveal&&n.inst_scratch_reveal.on_resize()},this.on_scroll=function(){n.get_container_pos(),n.inst_scratch_reveal&&n.inst_scratch_reveal.on_scroll()};var r=this;this.on_display=function(){r.make_overlay().animate_in()}}return r(e,[{key:"is_desktop",value:function(){return window.innerWidth>1024}},{key:"get_container_pos",value:function(){var e=this.hover_area.getBoundingClientRect();this.hover_area_dimensions=e}},{key:"make_overlay",value:function(){var e=this,t=(new DOMParser).parseFromString('<div class="rrmc-image-scratch-overlay">\n        <div class="rrmc-image-scratch-overlay-position">\n          <div class="rrmc-overlay-nav-bar rrmc-overlay-nav-bar-dark">\n            <button data-overlay-action="overlayClose" type="button" data-theme="dark"\n             class="js-rrmc-hover-cta-close rrmc-cta-component rrmc-button--regular-icon-stroked rrmc-button--dark rrmc-button--close">\n              <span class="rrmc-cta-i" data-icon="close" style="transform: matrix(1, 0, 0, 1, 0, -23);">\n                <span class="rrmc-cta-icon-placeholder"><svg width="16" height="16" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M13.3139,2.0003 L14.7279,3.4143 L11.8989,6.2433 L10.4849,4.8293 L13.3139,2.0003 Z M3.4139,2.0003 L14.7279,13.3143 L13.3139,14.7283 L8.3639,9.7783 L3.4139,14.7283 L1.9999,13.3143 L6.9499,8.3643 L1.9999,3.4143 L3.4139,2.0003 Z" id="close"></path></defs><g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon/close"><mask id="mask-2" fill="white"><use xlink:href="#close"></use></mask><use id="Combined-Shape" fill="currentColor" xlink:href="#close"></use></g></g></svg></span>\n          <svg class="rrmc-button-svg-anim" width="46" height="46" viewBox="0 0 46 46" xmlns="http://www.w3.org/2000/svg">\n            <g transform="rotate(90 23 23)">\n            \n            <path class="rrmc-initial-path" d="\n                     M 0.5 23\n                     A 22.5 22.5 0 0 1 23 0.5\n                     L 23 0.5\n                     A 22.5 22.5 0 0 1 45.5 23\n                     A 22.5 22.5 0 0 1 23 45.5\n                     L 23 45.5\n                     A 22.5 22.5 0 0 1 0.5 23\n                     " stroke="#6D30A7" stroke-opacity="1" stroke-width="1" stroke-linecap="square" stroke-linejoin="round" fill="transparent"></path>\n            <path class="rrmc-button-svg-anim-path" d="\n                     M 0.5 23\n                     A 22.5 22.5 0 0 1 23 0.5\n                     L 23 0.5\n                     A 22.5 22.5 0 0 1 45.5 23\n                     A 22.5 22.5 0 0 1 23 45.5\n                     L 23 45.5\n                     A 22.5 22.5 0 0 1 0.5 23\n                     " stroke-dasharray="143.3716694115407 143.3716694115407" stroke-dashoffset="-143.3716694115407" stroke="#57208c" stroke-width="1" stroke-linecap="square" stroke-linejoin="round" fill="transparent"></path>\n   \n           </g>\n          </svg>\n      </span>\n              <span class="rrmc-button-text js-rrmc-button-text"></span>\n              <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n            </button>\n          </div>\n          <div class="js-rrmc-image-scratch-overlay-content rrmc-image-scratch-overlay-content">\n            <div class="js-rrmc-image-scratch-overlay-content-wrapper rrmc-image-scratch-overlay-content-wrapper">\n            </div>\n          </div>\n        </div>\n      </div>',"text/html").body.firstChild;document.body.appendChild(t);var n=t.querySelector(".js-rrmc-hover-cta-close"),r=new o.default(n);r.load();var i=this.hover_area.cloneNode(!0),c=t.querySelector(".js-rrmc-image-scratch-overlay-content-wrapper");c.appendChild(i);var u=window.innerHeight,h=this.is_desktop()?i.getAttribute("data-scratch-image-original-desktop-aspect-ratio"):i.getAttribute("data-scratch-image-original-mobile-aspect-ratio"),d=(u-82-64)/(parseFloat(h)/100);c.style.width=d+"px";var p={animate_in:function(){(0,a.disableBodyScroll)(t),(new l.TimelineLite).to(t,.8,{y:"0%"}).add((function(){e.inst_scratch_reveal=new s.default(i,!0),e.inst_scratch_reveal.load()}))},animate_out:function(){(new l.TimelineLite).to(t,.8,{y:"100%"}).add((function(){(0,a.clearAllBodyScrollLocks)(),r.destroy(),document.body.removeChild(t)}))}};return n.addEventListenerRR("click",(function(){p.animate_out()})),p}},{key:"set_aspect_ratio",value:function(){var e=this.is_desktop()?this.f_original_image_aspect_ratio_desktop:this.f_original_image_aspect_ratio_mobile;this.hover_area.style.paddingBottom=e+"%"}},{key:"load",value:function(){this.get_container_pos(),this.set_aspect_ratio(),window.addEventListenerRR("resize",this.on_resize),window.addEventListenerRR("scroll",this.on_scroll),(0,i.pictureLazyLoaderPlain)(this.image_original),(0,i.pictureLazyLoaderPlain)(this.image_in_page),this.is_desktop()&&(this.inst_scratch_reveal=new s.default(this.hover_area,!1),this.inst_scratch_reveal.load()),this.cta_display_cta=new o.default(this.elm_display),this.cta_display_cta.load(),this.elm_display.addEventListenerRR("click",this.on_display)}},{key:"destroy",value:function(){window.removeEventListenerRR("resize",this.on_resize),window.removeEventListenerRR("scroll",this.on_scroll),this.inst_scratch_reveal&&this.inst_scratch_reveal.destroy()}}]),e}();t.default=u,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-image-scratch-container");[].slice.call(e).forEach((function(e){var t=new u(e);e.data={imageScratchInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.is_overlay=n,this.hover_area=this.container,this.reveal_window=this.container.querySelector(".js-rrmc-image-scratch-peek"),this.reveal_canvas=this.container.querySelector(".js-rrmc-image-scratch-canvas"),this.reveal_canvas_context=this.reveal_canvas.getContext("2d"),this.scratch_dimension=100,this.reveal_canvas.width=this.scratch_dimension,this.reveal_canvas.height=this.scratch_dimension,this.scratch_image_desktop_url=this.container.getAttribute("data-scratch-image-reveal-desktop-url"),this.scratch_image_desktop_width=parseInt(this.container.getAttribute("data-scratch-image-reveal-desktop-width")),this.scratch_image_desktop_height=parseInt(this.container.getAttribute("data-scratch-image-reveal-desktop-height")),this.scratch_image_mobile_url=this.container.getAttribute("data-scratch-image-reveal-mobile-url"),this.scratch_image_mobile_width=parseInt(this.container.getAttribute("data-scratch-image-reveal-mobile-width")),this.scratch_image_mobile_height=parseInt(this.container.getAttribute("data-scratch-image-reveal-mobile-height")),this.reveal_prev_pageX=0,this.reveal_prev_pageY=0,this.reveal_window_pos_x=0,this.reveal_window_pos_y=0,this.brush_size=.04,this.on_mouse_move=function(e){var t=e.pageX,n=e.pageY;void 0===t&&(t=e.touches[0].pageX,n=e.touches[0].pageY),r.udpate_reveal_coord(t,n),r.move_reveal_window(),r.reveal_prev_window_pos_x=t,r.reveal_prev_window_pos_y=n},this.on_scroll=function(){r.store_image(),r.get_container_pos(),r.restore_image()},this.on_resize=function(){r.store_image(),r.get_container_pos(),r.restore_image()}}return r(e,[{key:"create_buffer",value:function(){this.bufferCanvas=document.createElement("canvas"),this.bufferCanvas.width=this.reveal_canvas.width,this.bufferCanvas.height=this.reveal_canvas.height,this.bufferCanvasCtx=this.bufferCanvas.getContext("2d")}},{key:"store_image",value:function(){this.bufferCanvasCtx&&(this.bufferCanvasCtx.clearRect(0,0,this.bufferCanvas.width,this.bufferCanvas.height),this.bufferCanvasCtx.drawImage(this.reveal_canvas,0,0,this.reveal_canvas.width,this.reveal_canvas.height,0,0,this.bufferCanvas.width,this.bufferCanvas.height))}},{key:"restore_image",value:function(){this.bufferCanvas&&this.reveal_canvas_context.drawImage(this.bufferCanvas,0,0,this.bufferCanvas.width,this.bufferCanvas.height,0,0,this.reveal_canvas.width,this.reveal_canvas.height)}},{key:"udpate_reveal_coord",value:function(e,t){var n=window.pageXOffset,r=window.pageYOffset,i=e-n-this.hover_area_dimensions.left,o=t-r-this.hover_area_dimensions.top,a=i/this.hover_area_dimensions.width,s=o/this.hover_area_dimensions.height;this.reveal_window_pos_x=i,this.reveal_window_pos_y=o,this.reveal_window_pos_x_scaled=a,this.reveal_window_pos_y_scaled=s}},{key:"move_reveal_window",value:function(){this.reveal_window_pos_x_scaled<0||this.reveal_window_pos_y_scaled<0||this.draw_reveal_image(this.reveal_window_pos_x_scaled,this.reveal_window_pos_y_scaled)}},{key:"get_container_pos",value:function(){var e=this.hover_area.getBoundingClientRect();this.hover_area_dimensions=e,this.reveal_canvas.width=this.scratch_image_width,this.reveal_canvas.height=this.scratch_image_height}},{key:"draw_reveal_image",value:function(e,t){var n=e*this.scratch_image_width,r=t*this.scratch_image_height,i=e*this.scratch_image_width,o=t*this.scratch_image_height,a=this.scratch_dimension,s=a,l=this.scratch_dimension,c=l;this.offscreenCanvasCtx.clearRect(0,0,l,c),this.offscreenCanvasCtx.drawImage(this.scratch_image,n-.5*a,r-.5*s,a,s,0,0,l,c),this.reveal_canvas_context.save(),this.reveal_canvas_context.drawImage(this.offscreenCanvas,0,0,Math.floor(l),Math.floor(c),i-.5*l,o-.5*c,l,c),this.reveal_canvas_context.restore()}},{key:"create_prerender_canvas",value:function(){var e=this.scratch_dimension,t=e;this.offscreenCanvas=document.createElement("canvas"),this.offscreenCanvas.width=e,this.offscreenCanvas.height=t,this.offscreenCanvasCtx=this.offscreenCanvas.getContext("2d"),this.smoothing_gradient=this.offscreenCanvasCtx.createRadialGradient(e/2,t/2,0,e/2,t/2,e/2),this.smoothing_gradient.addColorStop(0,"rgba(255, 0, 0, 255)"),this.smoothing_gradient.addColorStop(1,"rgba(255, 0, 0, 0)")}},{key:"is_desktop",value:function(){return window.innerWidth>1024}},{key:"supports_touch",value:function(){return"ontouchstart"in window}},{key:"load",value:function(){var e=this;this.scratch_image=new Image,this.scratch_image.onload=function(){e.get_container_pos(),e.create_prerender_canvas(),e.create_buffer(),e.supports_touch()?e.hover_area.addEventListenerRR("touchmove",e.on_mouse_move):e.hover_area.addEventListenerRR("mousemove",e.on_mouse_move)},this.scratch_image.src=this.is_desktop()?this.scratch_image_desktop_url:this.scratch_image_mobile_url,this.scratch_image_width=this.is_desktop()?this.scratch_image_desktop_width:this.scratch_image_mobile_width,this.scratch_image_height=this.is_desktop()?this.scratch_image_desktop_height:this.scratch_image_mobile_height}},{key:"destroy",value:function(){this.hover_area.removeEventListenerRR("mousemove",this.on_mouse_move)}}]),e}();t.default=i},function(e,t,n){},function(e,t,n){"use strict";var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(7),a=n(14),s=(r=a)&&r.__esModule?r:{default:r};function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function e(){u(this,e)}return i(e,[{key:"waitFor",value:function(e,t,n){var r=this;if(t())return n();setTimeout((function(){r.waitFor(1.1*e,t,n)}),e)}},{key:"start",value:function(){throw new Error("KryptosApp::start is undefined")}}]),e}(),d=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,[{key:"startKryptos",value:function(){this.waitFor(1e3,(function(){return window.run_kryptos}),(function(){return window.run_kryptos()}))}},{key:"start",value:function(){this.startKryptos()}}]),t}(h),p=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,[{key:"startPlaceholder",value:function(){var e=document.querySelectorAll(".rrmc-section");[].slice.call(e).forEach((function(e){o.TweenLite.set(e,{opacity:0,display:"block"}),o.TweenLite.to(e,3,{opacity:1,ease:o.Linear.easeNone})}))}},{key:"start",value:function(){this.startPlaceholder()}}]),t}(h),f=function(){function e(t){var n=this;u(this,e),this.user_agent=t,this.is_mobile=function(){var e=n.user_agent;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e.substr(0,4))}}return i(e,[{key:"createApp",value:function(){return this.is_mobile()?new d:new p}}]),e}(),m=function(){function e(t){u(this,e),this.user_agent=navigator.userAgent||navigator.vendor||window.opera,this.container=t}return i(e,[{key:"onDeviceInfoLoaded",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=["devicePreviousVisit","deviceName","deviceVersion","deviceOs","deviceOsVersion","deviceBrowser","deviceBrowserVersion","deviceBrowserLanguage","deviceReferringUrl","deviceCarModelPagesVisited"][Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(this.epaas.isUsageAllowed(a)){var s=this.epaas.getPersistence(a),l="Not available";""!=s&&(l=s),e[a]=l}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return e}},{key:"load",value:function(){var e=this,t=new f(this.user_agent).createApp();s.default.sub_epaas.subscribe({next:function(n){e.epaas=n.epaas,window.rrmc_kryptos_form_meta_data=e.onDeviceInfoLoaded(),t.start()}})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-kryptos-quiz-container");[].slice.call(e).forEach((function(e){new m(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.languageService=t.LanguagePreference=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.localeToLanguage=function(e){return l[e]};var i,o=n(14),a=(i=o)&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l={en_GB:"en",en_US:"us",ja_JP:"ja",ru_RU:"ru",ko_KR:"ko"};var c=t.LanguagePreference=function(){function e(){s(this,e),this.preference={}}return r(e,[{key:"set_language",value:function(e){this.preference.language=e}},{key:"get_language",value:function(){return this.preference.language}},{key:"set_from_string",value:function(e){null!==e&&this.set_language(e)}},{key:"to_string",value:function(){return this.get_language()}}]),e}(),u=function(){function e(){var t=this;s(this,e),a.default.sub_epaas.subscribe({next:function(e){var n=e.epaas;t.epaas=n,t.initialise_language_service()}})}return r(e,[{key:"check_use_allowed",value:function(){this.use_allowed=this.epaas.isUsageAllowed("rrmc-language")}},{key:"is_use_allowed",value:function(){return this.use_allowed}},{key:"is_use_not_allowed",value:function(){return!this.is_use_allowed()}},{key:"read_persistence",value:function(){return this.epaas.getPersistence("rrmc-language")}},{key:"set_persistence",value:function(e){return this.epaas.setPersistence("rrmc-language",e)}},{key:"set_preference",value:function(e){this.preference=e}},{key:"get_preference",value:function(){return this.preference}},{key:"read_language_preference",value:function(){var e=new c;e.set_from_string(this.read_persistence()),this.set_preference(e)}},{key:"store_language_preference",value:function(){this.set_persistence(this.preference.to_string())}},{key:"initialise_language_service",value:function(){this.check_use_allowed(),this.is_use_not_allowed()||(this.read_language_preference(),a.default.sub_preferred_language.next(this.get_preference()))}},{key:"select_language",value:function(e){this.set_preference(e),this.store_language_preference()}},{key:"subscribe",value:function(e){return a.default.sub_preferred_language.subscribe({next:e})}}]),e}();t.languageService=new u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(605);var i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),a=n(27),s=n(7),l=n(46),c=(i=l)&&i.__esModule?i:{default:i};var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.linkBanner=t,this.loaded=!1,this.linkBanner&&(this.title=this.linkBanner.querySelector(".js-rrmc-link-banner-title"),this.description=this.linkBanner.querySelector(".js-rrmc-link-banner-description"),this.link=this.linkBanner.querySelector(".js-rrmc-link-banner-link"),this.image=this.linkBanner.querySelector(".js-rrmc-link-banner-image")),this.on_click=function(){o.fireCustomEvent({event:"linkBannerClick",eventCategory:"tbd",eventAction:"tbd",eventLabel:"tbd",eventCallback:function(e){this.link&&"_blank"!==e.target.getAttribute("target")&&(window.location=this.link)}})}}return r(e,[{key:"load",value:function(){var e=this;this.image&&(0,a.pictureLazyLoader)(this.image,(function(){"objectFit"in document.documentElement.style||(0,c.default)(e.image.querySelector("img")),e.animateIn()})),this.link.addEventListenerRR("click",this.on_click)}},{key:"animateIn",value:function(){this.tlForward=s.gsap.timeline(),this.tlForward.add("start"),this.tlForward.to(this.linkBanner,.5,{y:-48,ease:s.Linear.easeNone},"start"),this.tlForward.to(this.linkBanner,.5,{opacity:1,ease:s.Linear.easeNone},"start=+0.25"),this.tlForward.set(this.linkBanner,{pointerEvents:"auto"})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-link-banner");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(607);var i,o=n(14),a=(i=o)&&i.__esModule?i:{default:i},s=n(45);var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.parallax_on=this.container.hasAttribute("data-parallax-on"),this.col_a_wrapper=t.querySelector(".js-long-copy-title-wrapper"),this.col_a=t.querySelector(".js-long-copy-title-fixed-wrapper"),this.margin_top_const=200,this.on_scroll=function(){if((0,s.is_tablet_portrait_down)())return n.col_a.classList.remove(n.old_pos_classname),n.old_pos_classname=null,n.col_a.style.marginTop=null,void(n.col_a.style.marginBottom=null);var e=window.pageYOffset,t=e-n.container_top,r=n.container_top+n.container_height-n.margin_top_const-n.content_height,i=void 0;(i=t>=-n.margin_top_const&&e<r?"fixed":t>=-n.margin_top_const&&e>r?"static-bottom":"static")!=n.old_pos_classname&&(n.col_a.classList.add(i),n.col_a.classList.remove(n.old_pos_classname),"static-bottom"==i?n.set_margin_to_bottom():"fixed"==i?n.set_margin():n.set_margin_static(),n.old_pos_classname=i)},this.on_resize=function(){n.init_container(),"static-bottom"==n.old_pos_classname?n.set_margin_to_bottom():"fixed"==n.old_pos_classname?n.set_margin():n.set_margin_static(),n.on_scroll()}}return r(e,[{key:"load",value:function(){this.init_container(),this.parallax_on&&(window.addEventListenerRR("scroll",this.on_scroll),window.addEventListenerRR("resize",this.on_resize),a.default.sub_height_resize.subscribe({next:this.on_resize}),this.on_scroll())}},{key:"set_margin_to_bottom",value:function(){(0,s.is_tablet_portrait_down)()?this.col_a.style.marginTop=null:this.col_a.style.marginTop=this.container_height-this.content_height+"px"}},{key:"set_margin",value:function(){(0,s.is_tablet_portrait_down)()?this.col_a.style.marginTop=null:this.col_a.style.marginTop=this.margin_top_const+"px"}},{key:"set_margin_static",value:function(){(0,s.is_tablet_portrait_down)(),this.col_a.style.marginTop=null}},{key:"init_container",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset;var t=this.col_a.getBoundingClientRect();this.content_height=t.height}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-long-copy");[].slice.call(e).forEach((function(e){new l(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(609),n(109);var i=n(610),o=u(n(46)),a=n(611),s=n(7),l=u(n(76)),c=n(18);function u(e){return e&&e.__esModule?e:{default:e}}var h,d=function(){function e(t){var n,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.grid=this.container.querySelector(".js-rrmc-meet-the-team-grid"),this.rows=this.container.querySelectorAll(".rrmc-meet-the-team-row-container"),this.inactive=this.container.querySelector(".rrmc-meet-the-team-grid-inactive"),this.active=this.container.querySelector(".rrmc-meet-the-team-grid-active"),this.elm_storage=this.container.querySelector(".js-rrmc-meet-the-team-card-storage"),this.row_template=this.container.querySelector(".rrmc-row-template"),this.elm_load_more=this.container.querySelector(".js-load-more"),this.elm_load_more_container=this.container.querySelector(".js-rrmc-meet-the-team-load-more-container"),this.is_expanded=!1,this.parent_el=this.container.parentElement,this.setRevealCardsListener=function(){r.unsubScroll(),document.addEventListenerRR("scroll",r.scrollListenerCardReveal)},this.unsubScroll=function(){document.removeEventListenerRR("scroll",r.scrollListenerCardReveal)},this.scrollListenerCardReveal=(n=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.is_expanded){e.next=6;break}return t=r.getRowsInGrid()[0],(0,i.revealRow)(t),r.getRowCtas(t).forEach((function(e){r.isCtaElmInit(e)||(new l.default(e).load(),r.markCtaElmInit(e))})),r.getRowContacts(t).forEach(r.assign_contact_listener),e.abrupt("return");case 6:(0,i.revealCards)(r.grid,r.unsubScroll),r.getRowsInGrid().forEach((function(e){r.getRowCtas(e).forEach((function(e){r.isCtaElmInit(e)||(r.markCtaElmInit(e),new l.default(e).load())})),r.getRowContacts(e).forEach(r.assign_contact_listener)}));case 8:case"end":return e.stop()}}),e,r)})),function(){var e=n.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))}),this.assign_contact_listener=function(e){var t=e.getAttribute("data-contact-name");r.getRowContactLinks(e).forEach((function(e){r.isCtaElmInit(e)||(r.markCtaElmInit(e),e.addEventListenerRR("click",r.generate_contact_click_listener(t)))}))},this.generate_contact_click_listener=function(e){return function(t){var n=t.currentTarget.getAttribute("href").split(":"),r="tel"===n[0]?"call":"mailto",i=n[1];(0,c.fireTronActivityClickEvent)(),(0,c.fireCustomEvent)({event:"CallDealerTeam",eventCategory:"dealers-team",eventAction:r,eventLabel:e+"-"+i})}},this.on_resize=function(){r.cardMarkup.rememberLayout(),r.cardMarkup.updateLayout(window.innerWidth),r.cardMarkup.hasLayoutChanged()&&(r.grid.innerHTML="",r.grid.appendChild(r.cardMarkup.arrangeCards()),r.hideRows(),r.setRevealCardsListener(),r.hideLoadMoreIfOneRowOnly())},this.on_load_more=function(e){(0,c.fireTronActivityClickEvent)(),e.currentTarget.blur(),(new s.TimelineLite).to(r.elm_load_more_container,.4,{opacity:0,ease:s.Linear.easeNone}).add(r.revealAllRows(),"+=.2").set(r.elm_load_more_container,{display:"none"},"+=.1").add(r.scrollListenerCardReveal)}}return r(e,[{key:"markCtaElmInit",value:function(e){e.data={ctaInitialised:!0}}},{key:"isCtaElmInit",value:function(e){return e.data&&e.data.ctaInitialised}},{key:"getRowCtas",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-meet-the-team-tile-cta"))}},{key:"getRowContacts",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-meet-the-team-tile"))}},{key:"getRowContactLinks",value:function(e){return[].slice.call(e.querySelectorAll(".js-rrmc-meet-the-team-tile-contact-link"))}},{key:"getRowsInGrid",value:function(){return[].slice.call(this.grid.querySelectorAll(".js-rrmc-row-template"))}},{key:"revealAllRows",value:function(){var e=this,t=this.getRowsInGrid(),n=this.grid.getBoundingClientRect(),r=n.height,i=t.length*r,o=window.pageYOffset+n.top+r-100;return(new s.TimelineLite).to(window,.8,{scrollTo:{y:o}}).fromTo(this.grid,.8,{height:r},{height:i,ease:s.Linear.easeNone}).add((function(){return t.forEach((function(t){return e.setRowDisplayVisible(t)}))})).set(this.grid,{clearProps:"height"}).add((function(){e.is_expanded=!0}))}},{key:"setRowDisplayNone",value:function(e){e.setAttribute("data-disabled","")}},{key:"setRowDisplayVisible",value:function(e){e.removeAttribute("data-disabled")}},{key:"hideRows",value:function(){var e=this;this.getRowsInGrid().forEach((function(t,n){(0,i.hideRow)(t),!e.is_expanded&&n>0&&e.setRowDisplayNone(t)}))}},{key:"hideLoadMoreIfOneRowOnly",value:function(){this.is_expanded||(1===this.getRowsInGrid().length?s.TweenLite.set(this.elm_load_more_container,{display:"none"}):s.TweenLite.set(this.elm_load_more_container,{display:"block"}))}},{key:"polyfill_tile_images",value:function(){"objectFit"in document.documentElement.style==!1&&(0,o.default)(this.grid.querySelectorAll(".rrmc-meet-the-team-tile-img-wrapper-img"))}},{key:"load",value:function(){this.polyfill_tile_images(),this.inst_load_more=new l.default(this.elm_load_more),this.inst_load_more.load(),this.elm_load_more.addEventListener("click",this.on_load_more);var e=[].slice.call(this.elm_storage.querySelectorAll(".js-rrmc-meet-the-team-tile"));this.cardMarkup=new a.CardMarkup({rowTemplate:this.container.querySelector(".js-rrmc-row-template"),cardsArray:e,classPrefix:"rrmc-meet-the-team-row-"}),this.setRevealCardsListener(),window.addEventListenerRR("resize",this.on_resize),this.on_resize()}}]),e}();h=document.querySelectorAll(".js-rrmc-meet-team"),document.addEventListener("DOMContentLoaded",(function(){[].slice.call(h).forEach((function(e){var t=new d(e);e.data={meetTeamInstance:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.revealCardRow=i,t.hideCardRow=o,t.revealRow=a,t.hideRow=function(e){e.setAttribute("data-row-to-animate","true"),o(e)},t.revealCards=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=e.querySelectorAll('[data-row-to-animate="true"]');0===n.length&&t();[].slice.call(n).forEach((function(e){a(e)}))};var r=n(7);function i(e){var t=e.querySelectorAll(".rrmc-meet-the-team-tile");r.gsap.timeline().staggerFromTo(t,1,{opacity:0,y:"100px"},{opacity:1,y:"0"},.15)}function o(e){var t=e.querySelectorAll(".rrmc-meet-the-team-tile");r.gsap.timeline().set(t,{opacity:0,y:"100px"})}function a(e){if("false"!==e.getAttribute("data-row-to-animate")){var t=e.getBoundingClientRect().top+window.pageYOffset;window.pageYOffset+window.innerHeight>t&&(e.setAttribute("data-row-to-animate","false"),i(e))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t){a(this,e),this.cards=t.cardsArray,this.splitEvery=t.splitEvery,this.index=-1,this.length=this.cards.length}return r(e,[{key:"isValidIndex",value:function(){return this.index<this.length}},{key:"hasMore",value:function(){return this.index+1<this.length}},{key:"advanceIndex",value:function(){this.index+=1}},{key:"getCurrent",value:function(){return this.isValidIndex()?this.cards[this.index]:null}},{key:"isFirstInSegment",value:function(){return this.index%this.splitEvery==0}},{key:"getNext",value:function(){return this.advanceIndex(),this.isValidIndex()?this.getCurrent():null}}]),e}(),l=function(){function e(t){a(this,e),this.config=t}return r(e,[{key:"cardsPerRow",value:function(){return 3}},{key:"createDocumentFragment",value:function(){this.activeFragment=document.createDocumentFragment()}},{key:"getActiveFragment",value:function(){return this.activeFragment}},{key:"addClassWithNumberOfActiveRowItems",value:function(){var e=this.getNumberOfCardsInActiveRow();this.activeRow.classList.add(this.config.classPrefix+"-"+e)}},{key:"appendActiveRowToActiveFragment",value:function(){this.activeRow&&(this.addClassWithNumberOfActiveRowItems(),this.activeFragment.appendChild(this.activeRow))}},{key:"cloneRowFromConfig",value:function(){return this.config.rowTemplate.cloneNode(!1)}},{key:"resetCardsInActiveRowCounter",value:function(){this.cardsInRow=0}},{key:"incrementCardsInActiveRowCounter",value:function(){this.cardsInRow+=1}},{key:"getNumberOfCardsInActiveRow",value:function(){return this.cardsInRow}},{key:"createRow",value:function(){this.activeRow=this.cloneRowFromConfig(),this.resetCardsInActiveRowCounter()}},{key:"appendCardToActiveRow",value:function(e){this.activeRow.appendChild(e),this.incrementCardsInActiveRowCounter()}},{key:"assignCardRows",value:function(){for(var e=this.createCardsIterator();e.hasMore();){var t=e.getNext();e.isFirstInSegment()&&(this.appendActiveRowToActiveFragment(),this.createRow()),this.appendCardToActiveRow(t)}this.appendActiveRowToActiveFragment()}},{key:"createCardsIterator",value:function(){return new s({cardsArray:this.config.cardsArray,splitEvery:this.cardsPerRow()})}},{key:"arrangeCards",value:function(){return this.createDocumentFragment(),this.assignCardRows(),this.getActiveFragment()}},{key:"getClassName",value:function(){return this.constructor.getClassName()}}]),e}(),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,[{key:"cardsPerRow",value:function(){return 2}}],[{key:"appliesTo",value:function(e){return e<=1024}},{key:"getClassName",value:function(){return"CardMarkupTablet"}}]),t}(l),u=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),r(t,[{key:"cardsPerRow",value:function(){return 3}}],[{key:"appliesTo",value:function(){return!0}},{key:"getClassName",value:function(){return"CardMarkupDesktop"}}]),t}(l),h={rowTemplate:document.createElement("div"),cardsArray:[],classPrefix:"rrmc-row-"};t.CardMarkup=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;a(this,e),this.config=t}return r(e,[{key:"getClassList",value:function(){return[c,u]}},{key:"getSuitableClass",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.getClassList()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a.appliesTo(e))return a}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}return u}},{key:"isTheSameLayout",value:function(e){return!!this.layout&&this.layout.getClassName()===e.getClassName()}},{key:"rememberLayout",value:function(){this.layout&&(this.prevLayoutName=this.layout.getClassName())}},{key:"hasLayoutChanged",value:function(){return this.prevLayoutName!==this.layout.getClassName()}},{key:"updateLayout",value:function(e){var t=this.getSuitableClass(e);this.isTheSameLayout(t)||(this.layout=new t(this.config))}},{key:"arrangeCards",value:function(){return this.layout.arrangeCards(this)}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(613);var i=S(n(424)),o=S(n(425)),a=S(n(429)),s=S(n(430)),l=S(n(431)),c=S(n(432)),u=S(n(433)),h=S(n(441)),d=S(n(434)),p=S(n(435)),f=S(n(436)),m=S(n(437)),v=S(n(438)),g=S(n(439)),y=S(n(440)),_=S(n(427)),b=S(n(14)),w=n(62),x=n(204);function S(e){return e&&e.__esModule?e:{default:e}}var k=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.carousel=this.container.querySelector(".js-rrmc-multi-carousel"),this.nodes=this.container.querySelectorAll(".js-rrmc-multi-item-node"),this.currentSize=window.innerWidth>1023?"desktop":"mobile",this.slides=this.container.querySelectorAll(".rrmc-multi-carousel-slide"),this.bibs=this.container.querySelectorAll(".rrmc-cc-carousel-bullets"),this.bibsContainer=this.container.querySelector(".rrmc-cc-carousel-bullets-container"),this.multiOverlay=document.querySelector(".js-rrmc-multi-image-carousel-overlay"),this.dynamicOverlay=this.container.querySelector(".rrmc-dynamic-overlay"),this.dynamicOverlayParsys=this.container.querySelector(".rrmc-dynamic-overlay-parsys"),this.checkGlideInstance=function(){var e=n.currentSize;n.currentSize=window.innerWidth>=1023?"desktop":"mobile",e!=n.currentSize&&("desktop"==n.currentSize?n.init():(n.glideInstance.destroy(),n.bibsContainer.parentNode.removeChild(n.bibsContainer)))}}return r(e,[{key:"init",value:function(){this.glideInstance=new i.default(this.carousel,{type:"carousel",perView:1,focusAt:"center",gap:0,peek:0,bibsContainer:this.bibs}),this.glideInstance.mount({Html:a.default,Translate:s.default,Transition:l.default,Direction:c.default,Peek:u.default,Sizes:h.default,Gaps:d.default,Move:p.default,Clones:f.default,Resize:m.default,Build:v.default,Run:g.default,Swipe:o.default,Autoplay:y.default,Bibs:_.default})}},{key:"populateNodeList",value:function(){var e=this;this.mobileGalleryWrap=this.container.querySelector(".rrmc-multi-image-node-content-wrap"),[].slice.call(this.nodes).forEach((function(t,n){t.setAttribute("data-multi-image-node-index",n),t.addEventListenerRR("click",(function(){return e.getNodeIndex(t)})),0==n&&(e.mobileGalleryWrap.setAttribute("data-multi-image-node-index",n),e.mobileGalleryWrap.addEventListenerRR("click",(function(){return e.getNodeIndex(t)})))}))}},{key:"getNodeIndex",value:function(e){var t=e.dataset.multiImageNodeIndex,n=this.dynamicOverlay.dataset.overlayName;b.default.sub_overlay_manager_bus.next({action:w.overlayOpen,data:{overlayName:n,activeIndex:t}})}},{key:"populateOverlayCarousel",value:function(){var e=(0,x.reach_overlay_container_type)("local").overlay_container_wrapper;(0,x.reach_overlay_container_list)(e).appendChild(this.dynamicOverlayParsys)}},{key:"load",value:function(){"desktop"==this.currentSize&&this.init(),this.populateNodeList(),this.populateOverlayCarousel(),window.addEventListenerRR("resize",this.checkGlideInstance)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".multi-image-carousel-wrapper");[].slice.call(e).forEach((function(e){new k(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(615);var o=m(n(76)),a=m(n(14)),s=n(62),l=n(7),c=n(204),u=n(18),h=m(n(117)),d=n(64),p=n(201),f=n(458);function m(e){return e&&e.__esModule?e:{default:e}}function v(e){return'<div class="overlay parsys aem-GridColumn aem-GridColumn--default--12 rrmc-dynamic-overlay-parsys">\n              <div class="rrmc-dynamic-overlay rrmc-overlay-component"  data-overlay-name="l-accessory-change">\n                <div class="rrmc-overlay-nav-bar rrmc-overlay-nav-bar-light">\n      <button data-overlay-action="overlayBack" type="button" data-theme="light"\n          class="rrmc-overlay-back-button rrmc-cta-component rrmc-button--regular-label-stroked">\n        <span class="rrmc-button-background js-rrmc-button-background" data-color="#151515"></span>\n        <span class="rrmc-cta-i" data-icon="arrow-left">\n                <span class="rrmc-cta-icon-placeholder"></span>\n             </span>\n        <span class="rrmc-button-text js-rrmc-button-text">'+(0,d.getI18nComponent)("Back")+'</span>\n      </button>\n      <button data-overlay-action="overlayClose" type="button" class="rrmc-cta-component rrmc-button--regular-icon-stroked">\n        <span class="rrmc-button-background js-rrmc-button-background" data-color="#151515"></span>\n        <span class="rrmc-cta-i" data-icon="close">\n                <span class="rrmc-cta-icon-placeholder"></span>\n             </span>\n        <span class="rrmc-button-text js-rrmc-button-text"></span>\n      </button>\n                </div>\n                <div class="default-overlay js-overlay rrmc-overlay-body-light">\n                  <div class="js-rrmc-multi-image-carousel-overlay rrmc-multi-image-carousel-overlay">\n                  '+function(e){var t=e.disclaimer?'\n        <div class="rrmc-accessory-disclaimer">\n            <span class="rrmc-accessory-disclaimer-icon"></span>\n            <span class="rrmc-accessory-disclaimer-text">'+(0,d.getI18nComponent)(e.disclaimer)+"</span>\n        </div>\n  ":"";return'<div class="rrmc-accessory js-rrmc-lazy-load" data-lazy-load-class="accessory-handler-lazy-load">\n      <div class="rrmc-accessory-wrapper rrmc-component-grid-container">\n      <section class="rrmc-accessory-col-a">\n        <h5 class="rrmc-accessory-subtitle">'+(0,d.getI18nComponent)(e.category)+'</h5>\n        <h4 class="rrmc-accessory-title">'+(0,d.getI18nComponent)(e.title)+'</h4>\n        <h5 class="rrmc-accessory-price">'+(0,d.getI18nComponent)("Price on Request")+'</h5>\n        <div class="rrmc-accessory-description"></div>\n            <div class="rrmc-accessory-mobile-image-container">\n                <picture class="rrmc-accessory-picture">\n                    <source data-srcset="'+e.heroImage.renditions+'" \n                    data-webp-srcset="'+e.heroImage.webpRenditions+'" sizes="100vw" media="(min-width: 160px)">\n                    \x3c!--/* Mobile */--\x3e\n                    <img class="rrmc-accessory-image"\n                         src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="\n                         data-src="'+e.heroImage.original+'"\n                         alt="'+(e.summary||e.title)+'">\n                </picture>\n                <div class="rrmc-accessory-hero--treadplate-container">\n                </div>\n            </div>\n        <div class="rrmc-accessory-mobile-image-container"></div>\n        <div class="rrmc-dropdown-container">\n        </div>\n        '+(0,d.getI18nComponent)(t)+'\n        <div class="rrmc-accessory-customise-button-container">\n          <button data-action="open-luggage-overlay"\n                  data-theme="light"\n                  data-lazy-load-class="cta-lazy-load"\n                  class="rrmc-cta-component rrmc-button--secondary js-rrmc-lazy-load js-rrmc-button">\n              <span class="rrmc-button-background js-rrmc-button-background"></span>\n              <span class="rrmc-button-text js-rrmc-button-text">'+(0,d.getI18nComponent)("Customise Yours")+'</span>\n              <span class="rrmc-button-arrow js-rrmc-button-arrow" data-icon="customize"></span>\n          </button>\n        </div>\n        <div class="rrmc-accessory-select-button-container">\n          <button data-action="save-to-my-list"\n                  data-action-text="'+(0,d.getI18nComponent)("Changed")+'"\n                  data-lazy-load-class="cta-lazy-load"\n                  class="rrmc-cta-component rrmc-button--primary js-rrmc-lazy-load">\n            <span class="rrmc-button-background js-rrmc-button-background"></span>\n            <span class="rrmc-button-text js-rrmc-button-text">'+(0,d.getI18nComponent)("Change")+'</span>\n            <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n          </button>\n        </div>\n      </section>\n      <div class="rrmc-accessory-col-b">\n            <div class="rrmc-accessory-hero-img-container">\n                <picture class="rrmc-accessory-picture">\n                    <source data-srcset="'+e.heroImage.renditions+'"\n                     data-webp-srcset="'+e.heroImage.webpRenditions+'" sizes="100vw" media="(min-width: 160px)">\n                    <img class="rrmc-accessory-image"\n                         src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="\n                         data-src="'+e.heroImage.original+'"\n                         alt="'+(e.summary||e.title)+'">\n                </picture>\n                <div class="rrmc-accessory-hero--treadplate-container">\n                </div>\n            </div>\n      </div>\n  </div>\n  <div class="rrmc-accessory-learn-more-wrapper-overlay">\n        <div class="rrmc-accessory-learn-more-wrapper" id="learn-more">\n            <div>\n                <div class="rrmc-component-grid-container rrmc-long-copy">\n                    <div class="rrmc-long-copy-title-wrapper">\n                        <div class="rrmc-long-copy-title-fixed-wrapper rrmc-component-grid-container">\n                            <div class="rrmc-long-copy-title-cell">\n                                <h2 class="rrmc-long-copy-heading">'+(0,d.getI18nComponent)("Item description")+'</h2>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="rrmc-long-copy-description-wrapper">\n                        <div class="rrmc-long-copy-description">\n                            '+(0,d.getI18nComponent)(e.description)+"\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n  </div>\n    "}(e)+"\n                  </div>\n                </div>\n              </div>\n    </div>"}var g=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.items=this.container.querySelector(".rrmc-my-list-items"),this.items_container=this.container.querySelector(".rrmc-my-list-items-container"),this.items_container_height_controller=this.container.querySelector(".rrmc-my-list-items-container-height-controller"),this.elms_btn_submit=this.container.querySelectorAll(".js-rrmc-submit-my-list"),this.elm_btn_submit_row=this.container.querySelector(".js-rrmc-my-list-submit-bottom-row"),this.elm_picture_frames=this.container.querySelectorAll(".rrmc-my-list-item-picture-frame"),this.const_class_divider="js-list-item-divider",this.const_class_container="js-list-item-container",this.const_class_undo="rrmc-my-list-item-undo",this.const_class_undo_cta="rrmc-my-list-item-undo-cta",this.const_class_picture="rrmc-my-list-item-picture",this.const_class_description="rrmc-my-list-item-description",this.is_edit_mode=this.container.hasAttribute("data-is-edit-mode"),this.map_reduce_items=function(e){return[].slice.call(n.container.querySelectorAll("."+e)).map((function(e){return{elm:e,id:e.getAttribute("data-id")}})).reduce((function(e,t){return e[t.id]=t.elm,e}),{})},this.collect_list=function(){n.elms_divider=n.map_reduce_items(n.const_class_divider),n.elms_container=n.map_reduce_items(n.const_class_container),n.elms_container_undo=n.map_reduce_items(n.const_class_undo),n.elms_container_undo_cta=n.map_reduce_items(n.const_class_undo_cta),n.elms_container_picture=n.map_reduce_items(n.const_class_picture),n.elms_container_description=n.map_reduce_items(n.const_class_description),n.raw_container_height={},n.timeout_undo=null,n.timeout_to_remove=[]},this.set_list=function(e){var t=e.map((function(e){var t=e.allVariants.reduce((function(e,t){return t.selected?t:e}),{}),n=t.id,r=[];return t.bespokeFields&&(r=t.bespokeFields.map((function(e){return void 0!==e.value?{label:e.label,value:e.value}:{label:e.label,value:e.values.reduce((function(e,t){return t.selected?t.name:e}),"")}}))),{parent:e.contentPath,id:n,bespokeFields:r}}));a.default.sub_my_list_manager_bus.next({action:"set",data:t})},this.submit_my_list=function(){var e=n.get_product_and_variant();return(0,u.fireCustomEvent)({event:"ee-checkout",ecommerce:{checkout:{actionField:{step:1},products:e}}}),n.is_dealer_selected()?n.open_request_accessories():n.open_find_dealer()},this.open_find_dealer=function(){var e=n.get_product_and_variant();a.default.sub_overlay_manager_bus.next({action:s.overlayOpen,data:{overlayName:"g-dealer-locator",overlayPurpose:"accessoriesRequest",wishListProducts:e}})},this.open_request_accessories=function(){var e=n.get_product_and_variant();a.default.sub_overlay_manager_bus.next({action:s.overlayOpen,data:{overlayName:"g-request-accessories",overlayPurpose:"accessoriesRequest",wishListProducts:e,dealership_title:n.get_selected_dealer_trading_name(),dealership_number:n.get_selected_dealer_number()}})},this.on_undo=function(e){var t=e.currentTarget.getAttribute("data-id");n.do_undo_item(t);var r=n.get_product_and_variant(t);(0,u.fireCustomEvent)({event:"ee-undoRemove",ecommerce:{add:{products:r}}})},this.on_resize=function(){n.update_grid()},this.on_change=function(e){var t=e.currentTarget.getAttribute("data-id");n.change_item(t)},this.on_remove=function(e){var t=e.currentTarget,i=t.getAttribute("data-id"),o=t.getAttribute("data-variant-id"),a=n.get_product_and_variant(i);n.do_remove_item(i);var s=window.rrmc_accessories.find((function(e){return e.list_id==i}));if(s){var l=s.allVariants.find((function(e){return e.id==o})),c=(0,f.make_tree)(s.filters,s.allVariants),h=r(c,1)[0],d=(0,u.makeOptionsFromVariant)({variant:l,store:h,accessory:s});u.tronConfiguratorEvents.conListRemove({options:d})}(0,u.fireCustomEvent)({event:"ee-removeFromCart",ecommerce:{remove:{products:a}}})},this.on_response=function(e){window.rrmc_accessories=e.accessories,n.timeout_to_remove=[],n.timeout_undo=null,n.dispose_change_remove(),n.populate_list(),n.setup_change_remove()},this.update_my_list=function(e){var t=e.data,r=e.type;try{0===t.length&&n.redirect_to_empty(),n.my_list_items=t,n.my_list_update_type=r,n.load_items()}catch(e){console.log(e),n.redirect_to_empty()}}}return i(e,[{key:"redirect_to_empty",value:function(){if(!this.is_edit_mode){var e=document.querySelector(".js-rrmc-secondary-nav-models-link--empty");if(e){var t=e.getAttribute("href");window.location.href=""+t}}}},{key:"enable_undo",value:function(e){l.TweenLite.set(this.elms_container_picture[e],{display:"none"}),l.TweenLite.set(this.elms_container_description[e],{display:"none"}),l.TweenLite.set(this.elms_container_undo[e],{display:"block"}),this.elms_container_undo_cta[e].addEventListenerRR("click",this.on_undo)}},{key:"disable_undo",value:function(e){l.TweenLite.set(this.elms_container_picture[e],{display:"block"}),l.TweenLite.set(this.elms_container_description[e],{display:"block"}),l.TweenLite.set(this.elms_container_undo[e],{display:"none"}),this.elms_container_undo_cta[e].removeEventListenerRR("click",this.on_undo)}},{key:"do_undo_item",value:function(e){var t=this;this.timeout_to_remove=this.timeout_to_remove.filter((function(t){return t!==e})),clearTimeout(this.timeout_undo),this.start_removal_countdown();var n=this.raw_container_height[e];(new l.TimelineLite).to(this.elms_container[e],.2,{opacity:0}).add((function(){t.disable_undo(e)})).to(this.elms_container[e],.6,{height:n}).to(this.elms_container[e],.2,{opacity:1})}},{key:"do_remove_item_final",value:function(e){return(new l.TimelineLite).addLabel("start").to(this.elms_divider[e],.4,{opacity:0,height:0,"margin-bottom":0},"start").to(this.elms_container[e],.4,{opacity:0,height:0,"margin-bottom":0},"start")}},{key:"do_remove_item",value:function(e){var t=this,n=this.elms_container[e].getBoundingClientRect().height;this.raw_container_height[e]=n,this.timeout_to_remove.push(e),(new l.TimelineLite).set(this.elms_container[e],{height:n}).to(this.elms_container[e],.2,{opacity:0}).add((function(){t.enable_undo(e)})).to(this.elms_container[e],.6,{height:10}).to(this.elms_container[e],.2,{opacity:1}),clearTimeout(this.timeout_undo),this.start_removal_countdown()}},{key:"start_removal_countdown",value:function(){var e=this;0!==this.timeout_to_remove.length&&(this.timeout_undo=setTimeout((function(){var t=e.timeout_to_remove.map((function(t){return e.do_remove_item_final(t)}));(new l.TimelineLite).addLabel("all").add(t,"all").add((function(){a.default.sub_my_list_manager_bus.next({action:"remove",data:e.timeout_to_remove.map((function(t){return e.get_ordinal(t)}))})}))}),2e3))}},{key:"change_item",value:function(e){this.dispose_overlay&&this.dispose_overlay();var t=window.rrmc_accessories.reduce((function(t,n){return n.list_id===e?n:t}),{});this.dispose_overlay=this.init_change_overlay(t),window.rrmc_accessory=t,a.default.sub_overlay_manager_bus.next({action:s.overlayOpen,data:{overlayName:"l-accessory-change",accessoryId:e,accessoryType:t.accessoryType,variant:this.my_list_items[this.get_ordinal(e)]}})}},{key:"init_change_overlay",value:function(e){var t=v(e),n=(0,c.reach_overlay_container_type)("local").overlay_container_wrapper,r=(0,c.reach_overlay_container_list)(n),i=document.createElement("div");i.innerHTML=t;var o=i.firstChild;return r.appendChild(o),function(){r.removeChild(o)}}},{key:"update_grid",value:function(){this.update_picture_heights()}},{key:"update_picture_heights",value:function(){[].slice.call(this.elm_picture_frames).forEach((function(e){var t=e.getBoundingClientRect().width;e.style.height=t+"px"}))}},{key:"endpoint_get_accessories",value:function(){return"/bin/public/cart"}},{key:"make_id",value:function(e,t){return e+"-"+t}},{key:"get_ordinal",value:function(e){return e.split("-").shift()}},{key:"populate_list",value:function(){var e=this;if("update_my_list_total"===this.my_list_update_type){var t=this.items_container_height_controller.getBoundingClientRect().height;l.TweenLite.set(this.items_container_height_controller,{height:t})}else l.TweenLite.set(this.items_container_height_controller,{clearProps:"height"});this.items_container.innerHTML="";var n=this.my_list_items,r=Date.now();if(this.item_list=n.map((function(t,n){var i=window.rrmc_accessories[n].allVariants.reduce((function(e,n){return n.id===t.id?n:e}),{}),o=window.rrmc_accessories[n],a=e.make_id(n,r);window.rrmc_accessories[n].list_id=a;var s=e.fragment_list_entry(a,o,i),l=document.createElement("div");return l.classList.add("rrmc-my-list-item"),l.innerHTML=s,l})),this.item_list.forEach((function(t){e.items_container.appendChild(t)})),this.collect_list(),this.elm_picture_frames=this.items_container.querySelectorAll(".rrmc-my-list-item-picture-frame"),this.on_resize(),"update_my_list_total"===this.my_list_update_type){var i=this.items_container.getBoundingClientRect().height;(new l.TimelineLite).to(this.items_container_height_controller,1,{height:i,delay:.5}).set(this.items_container_height_controller,{clearProps:"height"}).staggerFromTo(this.items_container.querySelectorAll(".rrmc-my-list-item"),.6,{opacity:0,y:100},{opacity:1,y:0},.1).to(this.elm_btn_submit_row,.4,{opacity:1})}}},{key:"fragment_list_entry",value:function(e,t,n){var r=n.variantImage.original||t.heroImage.original,i=n.variantImage.renditions||t.heroImage.renditions;return'<div class="'+this.const_class_divider+' rrmc-my-list-divider-grid rrmc-component-grid-container" data-id="'+e+'">\n        <div class="rrmc-my-list-divider"></div>\n      </div>\n      <div class="'+this.const_class_container+' rrmc-my-list-item-grid rrmc-component-grid-container" data-id="'+e+'">\n        <div class="'+this.const_class_undo+'" data-id="'+e+'"><button data-id="'+e+'" class="rrmc-my-list-item-description-button '+this.const_class_undo_cta+'" type="button">'+(0,d.getI18nComponent)("Undo")+'</button></div>\n        <div class="'+this.const_class_picture+'" data-id="'+e+'">\n          <div class="rrmc-my-list-item-picture-frame">\n            <img class="rrmc-my-list-item-picture-frame-tag"\n            src="'+r+'"\n            srcset="'+i+'" alt="'+t.title+'"\n            sizes="(min-width: 768px) 33vw, 100vw">\n          </div>\n        </div>\n        <div class="'+this.const_class_description+'" data-id="'+e+'">\n          <div class="rrmc-my-list-item-description--title-row">\n            <h2><a class="rrmc-my-list-item-description-title" href="'+t.path+'">'+(0,d.getI18nComponent)(t.title)+'</a></h2>\n            <div class="rrmc-my-list-item-description-remove">\n              <button class="rrmc-my-list-item-description-button rrmc-my-list-item-description-button-remove"\n                      data-variant-id="'+n.id+'"\n                      data-id="'+e+'"\n                      type="button">'+(0,d.getI18nComponent)("Remove")+'</button>\n            </div>\n          </div>\n          <div class="rrmc-my-list-item-description--price-row">\n            <span class="rrmc-my-list-item-description--price">'+(0,d.getI18nComponent)("Price on request")+'</span>\n          </div>\n          <div class="rrmc-my-list-item-description--controls-row">\n            <button class="rrmc-my-list-item-description-button rrmc-my-list-item-description-button-remove"\n                    data-variant-id="'+n.id+'"\n                    data-id="'+e+'"\n                    type="button">'+(0,d.getI18nComponent)("Remove")+'</button>\n            <button class="rrmc-my-list-item-description-button rrmc-my-list-item-description-button-change"\n                    data-id="'+e+'"\n                    type="button">'+(0,d.getI18nComponent)("Change")+'</button>\n          </div>\n          <div class="rrmc-my-list-item-description--divider-row"></div>\n          <div class="rrmc-my-list-item-description--options-row">\n            <div class="rrmc-my-list-item-description--options">\n              <div class="rrmc-my-list-item-description--options-list">\n                '+this.fragment_item_options(e,t,n)+'\n              </div>\n            </div>\n            <div class="rrmc-my-list-item-description--change">\n              <button class="rrmc-my-list-item-description-button rrmc-my-list-item-description-button-change"\n                      data-id="'+e+'"\n                      type="button">'+(0,d.getI18nComponent)("Change")+"</button>\n            </div>\n          </div>\n        </div>\n      </div>"}},{key:"fragment_item_options",value:function(e,t,n){for(var r="",i="",o="",a=n.bespoke,s=!1,l=[{label:"Model",field:"modelLabel"}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t.filters)),c=0;c<l.length;c++){var u=l[c],h=u.label,p=n[u.field],f=!1,m=void 0;p.code&&(f=!!p.code.includes("rgb"),m='style="background: '+p.code+'"'),r+='<div class="rrmc-my-list-item-description--options-item">\n          <span class="rrmc-my-list-item-description--options-item-label">'+(0,d.getI18nComponent)(h)+':</span>\n          <span class="rrmc-my-list-item-description--options-item-value">\n          '+(f?"<span class='rrmc-my-list-item-description--options-item-value--disk' "+m+"></span>":(0,d.getI18nComponent)(p))+"\n          </span>\n      </div>"}if(a){var v=!1;if([].slice.call(n.bespokeFields).forEach((function(e){if((0,d.getI18nComponent)(e.label)===(0,d.getI18nComponent)("Font"))for(var t=0;e.values.length>t;t++)!0===e.values[t].selected&&(v=e.values[t].name);if(void 0===e.value){var n=[].slice.call(e.values).findIndex((function(e){return!0===e.selected})),r=!!e.values[n].code.includes("rgb"),a='style="background: '+e.values[n].code+'"';r?(s=!0,o+="<span class='rrmc-my-list-item-description--options-item-value--disk rrmc-my-list-item-description--options-item-value--multi-disk' "+a+"></span>"):i+='<div class="rrmc-my-list-item-description--options-item">\n              <span class="rrmc-my-list-item-description--options-item-label">'+(0,d.getI18nComponent)(e.label)+':</span>\n              <span class="rrmc-my-list-item-description--options-item-value">\n              '+e.values[n].name+"\n              </span>\n              </div>\n            "}else i+='<div class="rrmc-my-list-item-description--options-item">\n              <span class="rrmc-my-list-item-description--options-item-label">\n                '+("Default"!==e.value&&e.value!==(0,d.getI18nComponent)("Default")?(0,d.getI18nComponent)("Bespoke"):"")+"\n                "+(0,d.getI18nComponent)(e.label)+':</span>\n              <span class="rrmc-my-list-item-description--options-item-value" '+(v.length>0?'style="font-family:'+v+'"':"")+"> \n              "+e.value+"\n              </span>\n              </div>\n              "})),s){var g=(0,d.getI18nComponent)("Bespoke Colours");t.id.includes("viewing-suite")&&(g=(0,d.getI18nComponent)("Carpet Colour"));var y=function(e,t){return'<div class="rrmc-my-list-item-description--options-item">\n    <span class="rrmc-my-list-item-description--options-item-label">'+(0,d.getI18nComponent)(t)+':</span>\n    <span class="rrmc-my-list-item-description--options-item-value">\n      '+e+"\n      </span>\n  </div>"}(o,g);i+=y}}return r+=i}},{key:"load_items",value:function(){var e=this;return new Promise((function(t,n){$.ajax({type:"POST",url:e.endpoint_get_accessories(),data:JSON.stringify(e.my_list_items),contentType:"application/json",processData:!1,success:function(e){return t(e)},error:function(e){return n(e)}})})).then(this.on_response.bind(this)).catch((function(e){console.log(e)}))}},{key:"setup_change_remove",value:function(){var e=this;this.elms_btn_change=this.container.querySelectorAll(".rrmc-my-list-item-description-button-change"),this.elms_btn_remove=this.container.querySelectorAll(".rrmc-my-list-item-description-button-remove"),[].slice.call(this.elms_btn_change).forEach((function(t){t.addEventListenerRR("click",e.on_change)})),[].slice.call(this.elms_btn_remove).forEach((function(t){t.addEventListenerRR("click",e.on_remove)}))}},{key:"dispose_change_remove",value:function(){var e=this;this.elms_btn_change&&[].slice.call(this.elms_btn_change).forEach((function(t){t.removeEventListenerRR("click",e.on_change)})),this.elms_btn_remove&&[].slice.call(this.elms_btn_remove).forEach((function(t){t.removeEventListenerRR("click",e.on_remove)}))}},{key:"load",value:function(){var e=this;new Promise((function(t){var n=h.default.parse(location.search),r=!1;n.id&&(r=n.id),r?$.ajax({type:"GET",url:"/bin/public/cart?id="+r,success:function(n){e.set_list(n),t()},error:function(e){console.log(e),t()}}):t()})).then((function(){a.default.sub_my_list_updated.subscribe({next:e.update_my_list})})).catch((function(e){console.error(e)})),[].slice.call(this.elms_btn_submit).forEach((function(t){new o.default(e.elm_btn_submit).load(),t.addEventListenerRR("click",e.submit_my_list)})),window.addEventListenerRR("resize",this.on_resize),this.on_resize(),p.dealerService.subscribe((function(t){e.update_dealer_preference(t)}))}},{key:"update_dealer_preference",value:function(e){this.dealer_preference=e}},{key:"is_dealer_selected",value:function(){var e=this.dealer_preference;return!!e&&!!e.get_name()}},{key:"get_selected_dealer_trading_name",value:function(){return this.dealer_preference.get_trading_name()}},{key:"get_selected_dealer_number",value:function(){return this.dealer_preference.get_number()}},{key:"destroy",value:function(){}},{key:"get_product_and_variant",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=this.my_list_items,r=n.map((function(e){return e.id})),i=t?window.rrmc_accessories.filter((function(e){return e.list_id==t})):window.rrmc_accessories,o=[];return Array.isArray(i)&&i.forEach((function(t){var n=t.allVariants.filter((function(e){return r.includes(e.id)})).shift();e.colour=n.bespoke?"Bespoke":n.color!={}?n.color.name:void 0;var i={id:t.id,name:t.title,category:t.category,brand:n.modelLabel,variant:n.id,price:"0.00",quantity:1,dimension17:n.marketingTitle,dimension18:e.colour};o.push(i)})),o}}]),e}();t.default=g,document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-my-list");[].slice.call(e).forEach((function(e){new g(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoLocaleBanner=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(617);var i,o=n(7),a=n(117),s=(i=a)&&i.__esModule?i:{default:i};var l=t.NoLocaleBanner=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=document.querySelector(".js-rrmc-no-locale-banner"),this.container&&(this.parse_query_string(),this.btn_close=this.container.querySelector(".js-rrmc-no-locale-banner-accept"),this.elm_paragraph=this.container.querySelector(".js-rrmc-no-locale-banner-description"),this.on_close=function(){t.detach_callbacks(),t.conceal_banner()})}return r(e,[{key:"parse_query_string",value:function(){this.qs=s.default.parse(location.search)}},{key:"get_locale_from_query_string",value:function(){return this.qs.locale}},{key:"is_redirected_from_different_locale",value:function(){return!!this.get_locale_from_query_string()}},{key:"update_copy",value:function(){window.rrmc_no_locale_copy&&(this.elm_paragraph.textContent=window.rrmc_no_locale_copy[this.get_locale_from_query_string()])}},{key:"clear_copy",value:function(){this.elm_paragraph.textContent=""}},{key:"load",value:function(){if(this.container){if(!this.is_redirected_from_different_locale())return this.clear_copy();this.update_copy(),this.reveal_banner()}}},{key:"destroy",value:function(){}},{key:"attach_callbacks",value:function(){this.btn_close.addEventListenerRR("click",this.on_close)}},{key:"detach_callbacks",value:function(){this.btn_close.removeEventListenerRR("click",this.on_close)}},{key:"reveal_banner",value:function(){var e=this;o.TweenLite.set(this.container,{display:"block"}),o.TweenLite.to(this.container,.75,{y:0,ease:o.Power2.easeInOut,onComplete:function(){e.attach_callbacks()}})}},{key:"conceal_banner",value:function(){var e=this;o.TweenLite.to(this.container,.75,{y:"100%",ease:o.Power2.easeInOut,onComplete:function(){e.container.style.display="none"}})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){(new l).load()}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(619);var i=E(n(424)),o=E(n(425)),a=E(n(427)),s=E(n(429)),l=E(n(430)),c=E(n(431)),u=E(n(432)),h=E(n(433)),d=E(n(434)),p=E(n(435)),f=E(n(436)),m=E(n(437)),v=E(n(438)),g=E(n(439)),y=E(n(440)),_=E(n(441)),b=E(n(14)),w=n(62),x=E(n(46)),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),k=n(7),A=n(27);function E(e){return e&&e.__esModule?e:{default:e}}var C=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.carousel=this.container.querySelector(".js-rrmc-og-carousel"),this.settingPipsStyle=this.carousel.getAttribute("data-pips-style"),this.settingPipsMobileStyle=this.carousel.getAttribute("data-pips-mobile-style"),this.flagPipsVisible=this.carousel.hasAttribute("data-pips-visible"),this.settingAutoplayDelay=parseFloat(this.carousel.getAttribute("data-autoplay-delay")),this.flagZoomEnabled=this.carousel.hasAttribute("data-zoom-enabled"),this.flagEditMode=this.carousel.hasAttribute("data-edit-mode"),this.slides=this.carousel.querySelectorAll(".rrmc-og-carousel-slide"),this.caption_container=this.container.querySelector(".js-rrmc-og-captions"),this.captions=this.caption_container.querySelectorAll(".rrmc-og-carousel-caption"),this.peek_container=this.container.querySelector(".js-rrmc-og-peek-container"),this.peek_items=this.peek_container.querySelectorAll(".rrmc-og-carousel-peek-item"),this.peek_aligner=this.peek_container.querySelector(".rrmc-og-carousel-peek-aligner"),this.bibs_container=this.container.querySelector(".rrmc-og-carousel-bullets-container"),this.carousel_cta=this.container.querySelectorAll(".rrmc-og-carousel-caption-cta a"),this.carousel_metadata=this.carousel.getAttribute("data-metadata"),this.caption_current=0,this.peek_current=1,this.init=function(){if(!n.flagEditMode){n.glideCarousel=new i.default(n.carousel,{type:"carousel",perView:1,focusAt:"center",startAt:0,peek:0,gap:0,animationDuration:1e3,autoplay:parseInt(n.settingAutoplayDelay)>0&&1e3*n.settingAutoplayDelay,hoverpause:!1,bibsContainer:n.container.querySelectorAll(".rrmc-og-carousel-bullets"),bibsColour:"light"===n.settingPipsStyle?"ffffff":"000000"}),n.glideCarousel.on("run.before",(function(e){var t=e.direction;if(">"==t){var r=n.caption_current+1>=n.slides.length?0:n.caption_current+1;n.caption_next=r}else if("<"==t){var i=n.caption_current-1<0?n.slides.length-1:n.caption_current-1;n.caption_next=i}else if("="==t){var o=e.steps;n.caption_next=o}n.peek_next=n.caption_next>=n.slides.length-1?0:parseInt(n.caption_next)+1,"="==t&&n.caption_next!==n.caption_current?n.transition_direction=n.caption_next-n.caption_current>0?">":"<":"="==t&&n.caption_next===n.caption_current?n.transition_direction="=":n.transition_direction=t,n.transition_caption(),n.transition_peek(),n.stop_video(n.get_active_slide())})),n.glideCarousel.on("run.after",(function(){n.caption_current=parseInt(n.caption_next),n.peek_current=n.peek_next,n.init_video(n.get_active_slide())})),n.glideCarousel.on("mount.after",(function(){n.polyfill_slide_images()})),n.glideCarousel.on("swipe.start",(function(){n.swipe_start=!0})),n.glideCarousel.on("swipe.move",(function(){n.swipe_move=!0,S.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Swipe",eventLabel:"off grid carousel"})})),n.glideCarousel.on("swipe.end",(function(){n.swipe_end=!0})),n.glideCarousel.on("resize",(function(){n.polyfill_slide_images()}));var e={Html:s.default,Translate:l.default,Transition:c.default,Direction:u.default,Peek:h.default,Gaps:d.default,Sizes:_.default,Move:p.default,Clones:f.default,Resize:m.default,Build:v.default,Run:g.default,Swipe:o.default,Autoplay:y.default};n.flagPipsVisible&&(e.Bibs=a.default),n.glideCarousel.mount(e),n.init_captions(),n.init_peek(),n.init_video(n.get_active_slide())}},this.on_resize=function(){n.size_captions(),n.size_peek()},this.on_mouseover=function(){b.default.sub_cursor.next(["scale","enter","arrow-right"])},this.on_mouseleave=function(){b.default.sub_cursor.next(["scale","leave"])},this.on_click=function(){n.lock_peek||(n.glideCarousel.go(">"),S.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Peek Right Click",eventLabel:"off grid carousel"}))},this.bibsClickHandler=function(e){"path"!==e.target.tagName&&"svg"!==e.target.tagName||S.fireCustomEvent({event:"carouselPan",eventCategory:"Carousel",eventAction:"Bib Click "+(parseInt(n.caption_next)+1),eventLabel:"off grid carousel"})}}var t,n;return r(e,[{key:"get_active_slide",value:function(){return this.container.querySelector(".rrmc-og-carousel-slide.glide__slide--active")}},{key:"stop_video",value:function(e){var t=e.querySelector("video-js");if(t){var n=videojs.getPlayer(t),r=n.player_.el_.querySelector("video");k.TweenLite.to(r,.33,{opacity:0}),n.autoplay()?n.pause():(n.trigger("dispose"),n.dispose())}}},{key:"init_video",value:function(e){var t=e.querySelector(".video-js");if(t){var n=e.querySelector("video-js");if(n){var r=videojs.getPlayer(n),i=r.player_.el_.querySelector("video"),o=r.getChild("errorDisplay");return o.off(r,"error",o.open),o.dispose(),r.autoplay()?(k.TweenLite.to(i,.33,{opacity:1}),void r.play()):void 0}for(var a=document.createElement("video-js"),s=0;s<t.attributes.length;++s)a.setAttribute(t.attributes.item(s).name,t.attributes.item(s).value);t.parentNode.appendChild(a),k.TweenLite.to(a,.33,{opacity:1});var l=bc(a),c=l.player_.el_,u=c.querySelector("video");if(l.reloadSourceOnError({errorInterval:5}),c.getAttribute("autoplay")&&k.TweenLite.to(u,.33,{opacity:1}),l.controls()){var h=!1;a.addEventListenerRR("mouseenter",(function(){h=!0,l.paused()?b.default.sub_cursor.next(["scale","enter","play"]):b.default.sub_cursor.next(["scale","enter","pause"])})),a.addEventListenerRR("mouseleave",(function(){h=!1,b.default.sub_cursor.next(["scale","leave"])})),l.on("play",(function(){h&&(k.TweenLite.to(u,.33,{opacity:1}),b.default.sub_cursor.next(["scale","enter","pause"]))})),l.on("pause",(function(){h&&(k.TweenLite.to(u,.33,{opacity:0}),b.default.sub_cursor.next(["scale","enter","play"]))})),l.on("dispose",(function(){h&&b.default.sub_cursor.next(["scale","leave"])}))}}}},{key:"on_video_cursor_enter",value:function(){}},{key:"transition_caption",value:function(){if("="!==this.transition_direction){var e=">"==this.transition_direction?["-20px","50px"]:["20px","-50px"],t=this.captions.item(this.caption_current),n=this.captions.item(this.caption_next);k.TweenLite.killTweensOf(t),k.TweenLite.killTweensOf(n),(new k.TimelineLite).addLabel("start").fromTo(t,.4,{opacity:1,x:0,zIndex:10,pointerEvents:"none"},{opacity:0,x:e[0],ease:k.Linear.easeNone}).fromTo(n,.4,{opacity:0,x:e[1],zIndex:20,pointerEvents:"auto"},{opacity:1,x:"0px",ease:k.Linear.easeNone},"start+=.6")}}},{key:"transition_peek",value:function(){var e=this;if("="!==this.transition_direction){this.lock_peek=!0;var t=">"==this.transition_direction?[-50,-100,50,-50]:[-50,0,-150,-50];k.gsap.registerEase("bezierEase","0.165, 0.84, 0.44, 1");var n=this.peek_items.item(this.peek_current),r=this.peek_items.item(this.peek_next);k.TweenLite.killTweensOf(n),k.TweenLite.killTweensOf(r),(new k.TimelineLite).addLabel("start").set(r.querySelector(".rrmc-image-aspect-img"),{opacity:1}).fromTo(n,{xPercent:t[0],zIndex:10,opacity:1},{xPercent:t[1],ease:"bezierEase",duration:1.4}).set(n,{opacity:0}).fromTo(n.querySelector(".rrmc-image-aspect-img"),1,{opacity:1},{opacity:.5,ease:"bezierEase"},"start").fromTo(r,1,{xPercent:t[2],zIndex:20,opacity:1},{xPercent:t[3],ease:"bezierEase"},"start+=.1").add((function(){e.lock_peek=!1}))}}},{key:"init_captions",value:function(){k.TweenLite.set(this.captions.item(this.caption_current),{opacity:1})}},{key:"size_captions",value:function(){var e=[].slice.call(this.captions).map((function(e){return e.offsetHeight})).reduce((function(e,t){return t>e?t:e}),0);this.caption_container.style.height=e+"px"}},{key:"size_peek",value:function(){this.peek_width=this.peek_aligner.getBoundingClientRect().width}},{key:"init_peek",value:function(){k.TweenLite.set(this.peek_items.item(this.peek_current),{opacity:1}),"objectFit"in document.documentElement.style==!1&&(0,x.default)(this.peek_container.querySelectorAll(".rrmc-image-aspect-img"))}},{key:"polyfill_slide_images",value:function(){"objectFit"in document.documentElement.style==!1&&(0,x.default)(this.carousel.querySelectorAll(".rrmc-image-aspect-img"))}},{key:"loadImgs",value:function(){var e=this;return new Promise((function(t){var n=e.container.querySelectorAll(".rrmc-image-aspect-img"),r=n[n.length-1];[].slice.call(n).forEach((function(e,i){(0,A.srcsetLazyLoaderPlain)(e,(function(){n[i]===r&&t(!0)}))}))}))}},{key:"load",value:(t=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadImgs();case 2:if(e.sent){if(this.init(),window.addEventListenerRR("resize",this.on_resize),this.peek_container.addEventListenerRR("mouseover",this.on_mouseover),this.peek_container.addEventListenerRR("mouseleave",this.on_mouseleave),this.peek_container.addEventListenerRR("click",this.on_click),this.bibs_container.addEventListenerRR("click",this.bibsClickHandler),this.on_resize(),b.default.sub_overlay_manager_bus.subscribe({next:function(e){var n=e.action;n!==w.overlayOpen&&n!==w.overlayClose&&n!==w.openDefaultForm||setTimeout((function(){t.glideCarousel.update()}),100)}}),this.carousel_metadata){try{this.carousel_metadata_parsed=JSON.parse(this.carousel_metadata),this.carousel_list=Array.isArray(this.carousel_metadata_parsed)?this.carousel_metadata_parsed[0].list:this.carousel_metadata_parsed.list}catch(e){this.carousel_list="Off Grid Carousel"}this.carousel_cta.forEach((function(e){var n=e.getAttribute("href")+"?productList="+encodeURIComponent(t.carousel_list);e.setAttribute("href",n)}))}S.trackCarouselMetadata(this.carousel_metadata)}case 4:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return n.apply(this,arguments)})}]),e}();window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-off-grid-carousel");[].slice.call(e).forEach((function(e){new C(e).load()}))}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(7),a=p(n(421)),s=p(n(624)),l=n(27),c=p(n(14)),u=n(443),h=p(n(76)),d=n(64);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.default.sub_luggage_overlay.subscribe({next:function(e){n.selectedLuggage=e.selectedLuggage,n.accessoryId=e.accessoryId,n.previousLuggage=e.previousLuggage}}),this.luggageConfigurator=t,this.bespokeOptions=this.selectedLuggage.bespokeFields,this.luggageType=this.selectedLuggage.marketingTitle;var r=this.luggageType.replace(/\s+/g,"-").toLowerCase();this.images_path="/content/dam/rrmc/marketUK/rollsroycemotorcars_com/boutique/"+this.accessoryId+"/configurator/subassets/"+r,this.input_arr=[],this.currentImg="",this.luggageTitle=this.luggageConfigurator.querySelector(".rrmc-selected-luggage-title"),this.optionsContainer=this.luggageConfigurator.querySelector(".rrmc-luggage-configurator-options-container"),this.previewWrapper=this.luggageConfigurator.querySelector(".rrmc-luggage-configurator-img"),this.hasPlaque=!1,this.selected_options={primary:{value:"",label:""},secondary:{value:"",label:""},tertiary:{value:"",label:""},plaqueType:{value:"Default",label:"Plaque"},plaqueText:{value:"",label:""}},this.dropdown_cb_open=function(e,t){[].slice.call(n.input_arr).forEach((function(e){void 0!==e.instance&&e.instance!==t&&"Dropdown"===e.instance.constructor.name&&e.instance.closeDropdown()}))},this.plaque_cb_update=function(e){var t=e.returnFieldValue();t.type===(0,d.getI18nComponent)("Bespoke")?n.selected_options.plaqueText=t.value:t.type===(0,d.getI18nComponent)("Default")&&(n.selected_options.plaqueText="")},this.dropdown_cb_select=function(e,t){var r=t.returnFieldValue(),i=t.dropdown.getAttribute("data-color-pos"),o=["primary","secondary","tertiary"];i?(n.selected_options[o[i]].label=r.label,n.selected_options[o[i]].value=r.value):n.selected_options.push(r),""!==n.selected_options.primary.value&&""!==n.selected_options.secondary.value&&n.retrieveLuggageImage()}}return r(e,[{key:"collect_selected_luggage",value:function(){var e=[],t={label:this.selected_options.primary.label,value:this.selected_options.primary.value},n={label:this.selected_options.secondary.label,value:this.selected_options.secondary.value},r={label:this.selected_options.tertiary.label,value:this.selected_options.tertiary.value};e.push(t,n,r);var i=void 0;return this.hasPlaque&&(i={label:this.selected_options.plaqueType.label,value:this.selected_options.plaqueText.length>0?this.selected_options.plaqueText:this.selected_options.plaqueType.label},e.push(i)),e}},{key:"destroy",value:function(){[].slice.call(this.input_arr).forEach((function(e){e.instance.destroy()}))}},{key:"retrieveLuggageImage",value:function(){var e=this,t=this.images_path+"/base-"+this.selected_options.primary.value.replace(/\s+/g,"")+"-"+this.selected_options.secondary.value.replace(/\s+/g,"")+".jpg";if(this.currentImg!==t){var n=this.previewWrapper;n.setAttribute("data-src",t),o.TweenLite.to(n,.5,{opacity:0,onComplete:function(){(0,l.imageLazyLoaderOriginal)(n,(function(){o.TweenLite.to(n,.5,{opacity:1}),e.currentImg=t}))}})}}},{key:"createPlaqueEditor",value:function(e){var t=this,n=document.createElement("div"),r={label:e.label,length:e.maxLength,placeholder:e.placeholder,image:e.image};n.classList.add("rrmc-dropdown-wrapper","rrmc-plaque-dropdown-wrapper"),n.innerHTML=function(e){var t='\n    <option value="Default">'+(0,d.getI18nComponent)("Default")+'</option>\n    <option value="Bespoke">'+(0,d.getI18nComponent)("Bespoke")+"</option>",n='<div data-label="Bespoke" class="rrmc-plaque-editor--wrapper">\n      <div class="rrmc-accessory-plaque-editor--scaler" style="'+("padding-top: "+e.image.height/e.image.width*100+"%")+'">\n        <div class="rrmc-accessory-plaque-editor--aligner">\n          <img class="rrmc-accessory-plaque-editor--image" src="'+e.image.original+'" alt="Plaque Preview">\n          <div class="rrmc-accessory-plaque-editor--input-container">\n            <input type="text" maxlength="'+e.length+'" placeholder="'+(0,d.getI18nComponent)("Type here")+'" class="rrmc-accessory-plaque-editor--input">\n          </div>\n        </div>\n      </div>\n    </div>';return'<div class="rrmc-accessory-plaque-dropdown" data-is-bespoke="true" data-plaque-dropdown-status="closed">\n                <select class="rrmc-accessory-plaque-dropdown--select select-hidden">\n                    '+t+'\n                </select>\n                <div class="rrmc-accessory-plaque-dropdown--container">\n                    <span class="rrmc-accessory-plaque-dropdown--label" data-original-label="'+e.label+'">'+(0,d.getI18nComponent)(e.label)+'</span>\n                    <span class="rrmc-accessory-plaque-dropdown--value"></span>\n                    <span class="rrmc-accessory-dropdown--icon rrmc-accessory-dropdown--icon-plaque"></span>\n                </div>\n                <div class="rrmc-accessory-plaque-dropdown--custom-select">\n                    <div class="rrmc-accessory-plaque-dropdown--custom-select-list">\n                      <button data-selection="default" class="rrmc-accessory-plaque-option">\n                        <span class="rrmc-accessory-plaque-checkbox"></span>\n                        <span class="rrmc-accessory-plaque-checkbox-value">'+(0,d.getI18nComponent)("Default")+'</span>\n                      </button>\n                        <button data-selection="bespoke" class="rrmc-accessory-plaque-option">\n                          <span class="rrmc-accessory-plaque-checkbox"></span>\n                          <span class="rrmc-accessory-plaque-checkbox-value">'+(0,d.getI18nComponent)("Bespoke")+'</span>\n                      </button>\n                    </div>\n                    <div class="rrmc-accessory-plaque-dropdown--preview">\n                      '+n+'\n                      <p class="rrmc-plaque-editor--text-input-charcount"><span class="rrmc-plaque-editor--counter">'+e.length+"</span> "+(0,d.getI18nComponent)("characters left")+"</p>\n                    </div>\n                </div>\n            </div>"}(r);var i=new s.default(n.querySelector(".rrmc-accessory-plaque-dropdown"),this.optionsContainer);i.load(),this.previousLuggage&&[].slice.call(this.previousLuggage).forEach((function(e){e.label===(0,d.getI18nComponent)("Plaque")&&(i.preselect(e.value,!1),e.value!==(0,d.getI18nComponent)("Default")&&(t.selected_options.plaqueType.value="Bespoke",t.selected_options.plaqueText=e.value))})),""===i.returnFieldValue().value&&i.preselect((0,d.getI18nComponent)("Default"),!1),this.input_arr.push({wrapper:n,instance:i});i.addEventListener("update",(function(){t.plaque_cb_update(i)})),i.addEventListener("close",(function(){t.plaque_cb_update(i)}))}},{key:"createColorDropdown",value:function(e,t,n){var r=this;t=t.sort((0,u.sort_obj_vals_alphabetically)("name"));var o=document.createElement("div");o.classList.add("rrmc-dropdown-wrapper"),o.innerHTML=function(e,t){var n="",r="",o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;r+='<option data-dropdown-value="'+u.name+'" value="'+u.name+'">'+(0,d.getI18nComponent)(u.name)+"</option>"}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var h=!0,p=!1,f=void 0;try{for(var m,v=t.entries()[Symbol.iterator]();!(h=(m=v.next()).done);h=!0){var g=m.value,y=i(g,2)[1];n+='<li class="rrmc-accessory-dropdown--select-option rrmc-accessory-dropdown--color" data-dropdown-value="'+y.name+'">'+(0,d.getI18nComponent)(y.name)+'</li>\n                  <span style="background-color: '+y.code+';" class="rrmc-accessory-dropdown--color-disk"></span>'}}catch(e){p=!0,f=e}finally{try{!h&&v.return&&v.return()}finally{if(p)throw f}}return'<div class="rrmc-accessory-dropdown" data-is-bespoke="true" data-dropdown-status="closed" data-dropdown-type="color">\n                <select class="rrmc-accessory-dropdown--select select-hidden">\n                    '+r+'\n                </select>\n                <div class="rrmc-accessory-dropdown--container">\n                    <span class="rrmc-accessory-dropdown--label" data-key-label="'+e+'">'+(0,d.getI18nComponent)(e)+'</span>\n                    <span class="rrmc-accessory-dropdown--value"></span>\n                    <span class="rrmc-accessory-dropdown--icon rrmc-accessory-dropdown--icon-color"></span>\n                </div>\n                <div class="rrmc-accessory-dropdown--custom-select">\n                    <ul class="rrmc-accessory-dropdown--custom-select-list">\n                      '+n+"\n                    </ul>\n                </div>\n            </div>"}(e,t);var s=new a.default(o.querySelector(".rrmc-accessory-dropdown"));s.load(),s.dropdown.setAttribute("data-color-pos",n),this.input_arr.push({wrapper:o,instance:s});s.addEventListener("select",(function(){r.dropdown_cb_select(e,s)})),s.addEventListener("open",(function(){r.dropdown_cb_open(e,s)})),this.previousLuggage&&[].slice.call(this.previousLuggage).forEach((function(e){if(s.dropdownLabel.innerText===e.label){var n=t.findIndex((function(t){return t.name===e.value}));s.preselect(t[n].name,!1,t[n].code)}})),""===s.returnFieldValue().value?s.preselect(t[0].name,!1,t[0].code):s.preselect(s.returnFieldValue().value,!1,t[0].code)}},{key:"appendDoneCta",value:function(){var e=this,t=document.createElement("div");t.innerHTML='<div class="rrmc-accessory-done-button-container">\n      <button data-action="close-luggage-overlay"\n              data-lazy-load-class="cta-lazy-load"\n              class="rrmc-cta-component rrmc-button--primary js-rrmc-lazy-load js-rrmc-button">\n          <span class="rrmc-button-background js-rrmc-button-background"></span>\n          <span class="rrmc-button-text js-rrmc-button-text">'+(0,d.getI18nComponent)("Done")+'</span>\n          <span class="rrmc-button-arrow js-rrmc-button-arrow" data-icon="my-list"></span>\n      </button>\n    </div>',this.optionsContainer.appendChild(t),this.doneCta=t.querySelector(".js-rrmc-button"),this.doneCtaInstance=new h.default(this.doneCta),this.doneCtaInstance.load(),this.doneCta.addEventListener("click",(function(){var t=e.collect_selected_luggage();e.finished_done(t)})),o.TweenLite.to(this.doneCta,.5,{opacity:1,pointerEvents:"all"})}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.luggageTitle.innerHTML=(0,d.getI18nComponent)(this.luggageType),[].slice.call(this.bespokeOptions).forEach((function(t,n){"color"===t.type?e.createColorDropdown(t.label,t.values,n):(e.hasPlaque=!0,e.createPlaqueEditor(t,n))})),[].slice.call(this.input_arr).forEach((function(t){e.optionsContainer.appendChild(t.wrapper)})),this.retrieveLuggageImage(),this.appendDoneCta(),this.finished_done=t.done}}]),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=n(153),a=n(422),s=n(64),l=n(211);var c=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.plaqueDropdown=t,this.optionsGrid=n,this.plaqueDropdownContainer=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-dropdown--container"),this.customSelector=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-dropdown--custom-select"),this.previewWrapper=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-dropdown--preview"),this.plaqueDropdownListWrapper=this.customSelector.querySelector(".rrmc-accessory-plaque-dropdown--custom-select-list"),this.plaqueDropdownEntries=this.plaqueDropdownListWrapper.querySelectorAll(".rrmc-accessory-plaque-option"),this.plaqueDropdownStatus=this.plaqueDropdown.dataset.plaqueDropdownStatus,this.htmlSelector=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-dropdown--select"),this.visibleSelector=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-dropdown--value"),this.plaqueDropdownLabel=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-dropdown--label"),this.plaqueInput=this.plaqueDropdown.querySelector(".rrmc-accessory-plaque-editor--input"),this.plaqueCounter=this.plaqueDropdown.querySelector(".rrmc-plaque-editor--counter"),this.subs={},this.subs.open=new o.Subject,this.subs.close=new o.Subject,this.subs.select=new o.Subject,this.subs.update=new o.Subject,this.unsubs={},this.returnFieldValue=function(){return{type:r.visibleSelector.innerText,value:(0,l.escapeEntry)(r.plaqueInput)}},this.clearPlaqueDropdown=function(){r.plaqueInput.value="",r.plaqueCounter.innerHTML=r.plaqueInput.getAttribute("maxlength"),r.subs.update.next()},this.updatePlaqueInput=function(){var e=r.plaqueInput.getAttribute("maxlength");r.plaqueCounter.innerHTML=e-r.plaqueInput.value.length},this.updatePlaqueDropdown=function(e){var t=e.currentTarget.querySelector(".rrmc-accessory-plaque-checkbox-value").innerText;t!==r.visibleSelector.innerText?(r.htmlSelector.value=t,r.visibleSelector.innerText=t,"small"!==r.plaqueDropdownLabel.getAttribute("data-label-pos")&&(0,a.animateLabelSelect)("small",r.plaqueDropdownLabel,"dropdown",r.visibleSelector),r.setCheckboxValue(r.plaqueDropdownEntries),t===(0,s.getI18nComponent)("Bespoke")?r.openSecondLevelPlaque():(r.closePlaqueDropdown(),t===(0,s.getI18nComponent)("Default")&&r.clearPlaqueDropdown()),r.currentValue=t,r.subs.select.next(t)):r.closePlaqueDropdown()},this.handlePlaqueDropdown=function(){"closed"===r.plaqueDropdownStatus?(r.subs.open.next(),r.openPlaqueDropdown()):(r.subs.close.next(),r.closePlaqueDropdown())},this.triggerClosePlaqueDropdown=function(e){r.plaqueDropdown.contains(e.target)||(r.closePlaqueDropdown(),document.removeEventListenerRR("click",r.triggerClosePlaqueDropdown))}}return r(e,[{key:"preselect",value:function(e,t){e!==(0,s.getI18nComponent)("Default")?(this.previousText=e,e=(0,s.getI18nComponent)("Bespoke"),this.plaqueInput.value=this.previousText,this.updatePlaqueInput(),this.plaqueDropdownEntries[1].querySelector(".rrmc-accessory-plaque-checkbox").classList.add("rrmc-accessory-plaque-checkbox--active")):this.plaqueDropdownEntries[0].querySelector(".rrmc-accessory-plaque-checkbox").classList.add("rrmc-accessory-plaque-checkbox--active"),this.htmlSelector.value=e,this.visibleSelector.innerText=e,this.currentValue=e,(0,a.animateLabelSelect)("small",this.plaqueDropdownLabel,"dropdown",this.visibleSelector),this.subs.select.next(e),t&&(this.plaqueDropdownContainer.classList.add("rrmc-plaque-dropdown--disabled"),this.plaqueDropdownContainer.removeEventListener("click",this.handlePlaqueDropdown))}},{key:"addEventListener",value:function(e,t){this.unsubs[e]||(this.unsubs[e]={}),this.unsubs[e][t]=this.subs[e].subscribe({next:t})}},{key:"removeEventListener",value:function(e,t){this.unsubs[e]&&this.unsubs[e][t]&&this.unsubs[e][t].unsubscribe()}},{key:"updatePlaqueDropdownStatus",value:function(e){this.plaqueDropdown.setAttribute("data-plaque-dropdown-status",e),this.plaqueDropdownStatus=this.plaqueDropdown.getAttribute("data-plaque-dropdown-status")}},{key:"returnPlaqueDropdownStatus",value:function(){return this.plaqueDropdownStatus}},{key:"setCheckboxValue",value:function(){var e=this.visibleSelector.innerText;[].slice.call(this.plaqueDropdownEntries).forEach((function(t){var n=t.querySelector(".rrmc-accessory-plaque-checkbox-value").innerHTML;e===n?t.querySelector(".rrmc-accessory-plaque-checkbox").classList.add("rrmc-accessory-plaque-checkbox--active"):t.querySelector(".rrmc-accessory-plaque-checkbox").classList.contains("rrmc-accessory-plaque-checkbox--active")&&t.querySelector(".rrmc-accessory-plaque-checkbox").classList.remove("rrmc-accessory-plaque-checkbox--active")}))}},{key:"openPlaqueDropdown",value:function(){var e=this;document.addEventListenerRR("click",this.triggerClosePlaqueDropdown);var t=this.optionsGrid.clientHeight-(this.plaqueDropdown.clientHeight+100),n=this.optionsGrid.querySelectorAll([".rrmc-accessory-dropdown",".rrmc-accessory-done-button-container"]),r=this.plaqueDropdownContainer.querySelector(".rrmc-accessory-dropdown--icon-plaque");this.updatePlaqueDropdownStatus("open"),this.revealPlaqueDropdownItems(this.plaqueDropdownEntries),i.gsap.timeline().addLabel("start").set(this.customSelector,{visibility:"visible"}).to(n,.5,{opacity:0},"start").to([this.plaqueDropdownContainer,this.customSelector],1,{y:"-"+t+"px"},"start+=0.6").to(this.customSelector,1,{height:"130px"},"start+=1.6").add((function(){r.classList.add("rrmc-plaque-dropdown-arrow"),e.currentValue===(0,s.getI18nComponent)("Bespoke")&&e.openSecondLevelPlaque()}))}},{key:"closePlaqueDropdown",value:function(){var e=this;this.subs.update.next(),document.removeEventListener("click",this.triggerClosePlaqueDropdown),this.reversePlaqueDropdownItems(this.plaqueDropdownEntries);var t=this.optionsGrid.querySelectorAll([".rrmc-accessory-dropdown",".rrmc-accessory-done-button-container"]),n=this.plaqueDropdownContainer.querySelector(".rrmc-accessory-dropdown--icon-plaque");i.gsap.timeline().addLabel("start").to([this.plaqueDropdownContainer,this.customSelector],1,{y:"0"},"start+=1").add((function(){n.classList.remove("rrmc-plaque-dropdown-arrow")})).to(this.customSelector,1,{height:"0"},"start+=1").to(t,1,{opacity:1},"start+=1"),i.gsap.timeline().addLabel("start").to(this.previewWrapper,1,{opacity:0,height:"0"},"start").eventCallback("onComplete",(function(){e.updatePlaqueDropdownStatus("closed"),e.customSelector.style.visibility="hidden",e.customSelector.scrollTop=0,e.resetPlaqueDropdownAnim(e.plaqueDropdownEntries)}))}},{key:"openSecondLevelPlaque",value:function(){i.gsap.timeline().addLabel("start").to(this.customSelector,1,{height:"425px"},"start").to(this.previewWrapper,1,{opacity:1,height:"300px"},"start")}},{key:"closeSecondLevelPlaque",value:function(){var e=this;i.gsap.timeline().addLabel("start").to(this.customSelector,1,{height:"130px"},"start").to(this.previewWrapper,1,{opacity:0,height:"0"},"start").eventCallback("onComplete",(function(){e.closePlaqueDropdown()}))}},{key:"initListeners",value:function(){var e=this;this.plaqueDropdownContainer.addEventListener("click",this.handlePlaqueDropdown),[].slice.call(this.plaqueDropdownEntries).forEach((function(t){t.addEventListener("click",e.updatePlaqueDropdown)})),this.plaqueInput.addEventListener("input",this.updatePlaqueInput)}},{key:"destroy",value:function(){var e=this,t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(this.subs)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.subs[a].complete()}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}this.plaqueDropdownContainer.removeEventListener("click",this.handlePlaqueDropdown),[].slice.call(this.plaqueDropdownEntries).forEach((function(t){t.removeEventListener("click",e.updatePlaqueDropdown)}))}},{key:"load",value:function(){this.initListeners()}},{key:"revealPlaqueDropdownItems",value:function(e){this.forwardTl=i.gsap.timeline();this.forwardTl.add("start").staggerTo(e,.25,{opacity:1,y:0,delay:.5},.2,"start")}},{key:"reversePlaqueDropdownItems",value:function(e){this.reverseTl=i.gsap.timeline();this.reverseTl.add("start").staggerTo(e,.25,{opacity:0,y:-10,delay:.25},.2,"start")}},{key:"resetPlaqueDropdownAnim",value:function(e){i.TweenMax.set(e,{clearProps:"opacity,transform"})}}]),e}();t.default=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(626);var i=n(7),o=n(629),a=f(n(14)),s=f(n(630)),l=f(n(209)),c=f(n(631));n(203),n(632);var u=f(n(117));n(633);var h=f(n(637)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),p=f(n(638));function f(e){return e&&e.__esModule?e:{default:e}}i.gsap.registerPlugin(o.ScrollToPlugin);var m,v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elm_canvas=document.querySelector(".rrmc-page-canvas"),this.overlay_manager=new c.default,this.wishlist_manager=new h.default,this.mobileCheck=window.matchMedia("(max-width: 767px)"),this.callback_resize=function(){t.resize_spacer()},this.enable_touch=function(){document.body.classList.add("touch-detected"),document.body.classList.remove("no-touch"),document.removeEventListenerRR("touchstart",t.enable_touch)},this.enable_highlight=function(e){9===e.keyCode&&(document.body.classList.remove("no-highlight"),document.addEventListenerRR("mousemove",t.disable_highlight),document.removeEventListenerRR("keydown",t.enable_highlight))},this.disable_highlight=function(){document.body.classList.add("no-highlight"),document.removeEventListenerRR("mousemove",t.disable_highlight),document.addEventListenerRR("keydown",t.enable_highlight)},this.set_dealer=function(e){var t=e.epaas;window.location.href.indexOf("isDealer")>-1&&t.setPersistence("isDealer","true")},(0,l.default)(this,"var_footer_height",a.default.sub_footer_height,this.resize_spacer)}return r(e,[{key:"resize_spacer",value:function(){this.elm_canvas.style.marginBottom=this.var_footer_height.value()+"px"}},{key:"store_utms",value:function(e){var t=e.epaas,n=location.search;if(0!==n.length){var r=u.default.parse(n);t.isUsageAllowed("utm_source")&&r.utm_source&&t.setPersistence("utm_source",r.utm_source),t.isUsageAllowed("utm_medium")&&r.utm_medium&&t.setPersistence("utm_medium",r.utm_medium),t.isUsageAllowed("utm_campaign")&&r.utm_campaign&&t.setPersistence("utm_campaign",r.utm_campaign),t.isUsageAllowed("campaign_id")&&r.campaign_id&&t.setPersistence("campaign_id",r.campaign_id)}}},{key:"scrollToFocusedElement",value:function(e){var t="false"===u.default.parse(location.scroll)?0:2,n={y:"#"+e,offsetY:this.mobileCheck.matches?60:0};i.gsap.timeline().delay(1).to(window,{duration:t,scrollTo:n,ease:"none",onComplete:a.default.sub_broadcast.next({action:"focus"})}).to(window,{duration:t,scrollTo:n,autoKill:!0})}},{key:"load",value:function(){var e=this;d.setup(),this.resize_spacer(),window.addEventListenerRR("resize",this.callback_resize),document.addEventListenerRR("touchstart",this.enable_touch),document.addEventListenerRR("keydown",this.enable_highlight),this.overlay_manager.load(),a.default.sub_epaas.subscribe({next:function(t){e.store_utms(t),e.wishlist_manager.load(t),e.set_dealer(t),e.epaas=t}}),a.default.sub_epaas_consent_change.subscribe({next:function(){e.store_utms(e.epaas)}});var t=u.default.parse(location.search);if(t.focus&&window.addEventListenerRR("load",(function(){a.default.sub_broadcast.next({action:"load"}),i.gsap.delayedCall(1,(function(){return e.scrollToFocusedElement(t.focus)}))})),t.overlay){var n=t.overlay;window.addEventListenerRR("load",(function(){return a.default.sub_overlay_manager_bus.next({action:"open-default-form",data:{overlayName:n}})}))}document.querySelector(".js-rrmc-height-change-listener").contentWindow.addEventListener("resize",(function(){var e=document.body.offsetHeight;a.default.sub_height_resize.next({event:"resize",data:e})})),a.default.sub_cursor.next(["default","enter"]);var r=document.querySelectorAll("a, button");[].slice.call(r).forEach((function(e){e.addEventListenerRR("mouseover",(function(){a.default.sub_cursor.next(["scale_cta","enter"])})),e.addEventListenerRR("mouseleave",(function(){a.default.sub_cursor.next(["scale","leave"])}))})),[].slice.call(document.querySelectorAll("div.aem-Grid>div")).filter((function(e){return e.querySelectorAll(".js-rrmc-button").length>0})).forEach((function(e,t){var n=e.querySelectorAll(".js-rrmc-button");[].slice.call(n).forEach((function(e,n){e.setAttribute("data-cta-index",t+"."+n)}))})),navigator.userAgent.match("Android")?document.body.classList.add("backdrop-filter-off"):window.CSS&&window.CSS.supports&&(CSS.supports("backdrop-filter: blur(20px)")||CSS.supports("-webkit-backdrop-filter: blur(20px)")||document.body.classList.add("backdrop-filter-off"));var o=document.querySelector('[data-overlay-name="g-dealer-locator"]');if(o&&o.classList.contains("rrmc-overlay-light")){o.classList.remove("rrmc-overlay-light"),o.classList.add("rrmc-overlay-dark");var s=o.querySelector(".rrmc-overlay-body-light");s.classList.remove("rrmc-overlay-body-light"),s.classList.add("rrmc-overlay-body-dark")}(0,p.default)()}}]),e}();m=new v,document.addEventListenerRR("DOMContentLoaded",(function(){m.load(),(new s.default).load()}))},function(e,t,n){"use strict";n.r(t),function(e){var t=n(480),r=n(228),i=n(229),o=n(230),a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();"function"!=typeof a.Promise?a.Promise=t.a:(a.Promise.prototype.finally||(a.Promise.prototype.finally=r.a),a.Promise.allSettled||(a.Promise.allSettled=i.a),a.Promise.any||(a.Promise.any=o.a))}.call(this,n(88))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(628),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(88))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,c={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,r(l),l++},d.clearImmediate=p}function p(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(88),n(448))},function(e,t,n){!function(e){"use strict";
/*!
	 * ScrollToPlugin 3.12.5
	 * https://gsap.com
	 *
	 * @license Copyright 2008-2024, GreenSock. All rights reserved.
	 * Subject to the terms at https://gsap.com/standard-license or for
	 * Club GSAP members, the agreement issued with that membership.
	 * @author: Jack Doyle, jack@greensock.com
	*/var t,n,r,i,o,a,s,l,c=function(){return"undefined"!=typeof window},u=function(){return t||c()&&(t=window.gsap)&&t.registerPlugin&&t},h=function(e){return"string"==typeof e},d=function(e){return"function"==typeof e},p=function(e,t){var n="x"===t?"Width":"Height",a="scroll"+n,s="client"+n;return e===r||e===i||e===o?Math.max(i[a],o[a])-(r["inner"+n]||i[s]||o[s]):e[a]-e["offset"+n]},f=function(e,t){var n="scroll"+("x"===t?"Left":"Top");return e===r&&(null!=e.pageXOffset?n="page"+t.toUpperCase()+"Offset":e=null!=i[n]?i:o),function(){return e[n]}},m=function(e,t){if(!(e=a(e)[0])||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var n=e.getBoundingClientRect(),s=!t||t===r||t===o,l=s?{top:i.clientTop-(r.pageYOffset||i.scrollTop||o.scrollTop||0),left:i.clientLeft-(r.pageXOffset||i.scrollLeft||o.scrollLeft||0)}:t.getBoundingClientRect(),c={x:n.left-l.left,y:n.top-l.top};return!s&&t&&(c.x+=f(t,"x")(),c.y+=f(t,"y")()),c},v=function(e,t,n,r,i){return isNaN(e)||"object"==typeof e?h(e)&&"="===e.charAt(1)?parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+r-i:"max"===e?p(t,n)-i:Math.min(p(t,n),m(e,t)[n]-i):parseFloat(e)-i},g=function(){t=u(),c()&&t&&"undefined"!=typeof document&&document.body&&(r=window,o=document.body,i=document.documentElement,a=t.utils.toArray,t.config({autoKillThreshold:7}),s=t.config(),n=1)},y={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(e){t=e,g()},init:function(e,i,o,a,s){n||g();var c=t.getProperty(e,"scrollSnapType");this.isWin=e===r,this.target=e,this.tween=o,i=function(e,t,n,r){if(d(e)&&(e=e(t,n,r)),"object"!=typeof e)return h(e)&&"max"!==e&&"="!==e.charAt(1)?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var i,o={};for(i in e)o[i]="onAutoKill"!==i&&d(e[i])?e[i](t,n,r):e[i];return o}(i,a,e,s),this.vars=i,this.autoKill=!!i.autoKill,this.getX=f(e,"x"),this.getY=f(e,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),l||(l=t.core.globals().ScrollTrigger),"smooth"===t.getProperty(e,"scrollBehavior")&&t.set(e,{scrollBehavior:"auto"}),c&&"none"!==c&&(this.snap=1,this.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),null!=i.x?(this.add(this,"x",this.x,v(i.x,e,"x",this.x,i.offsetX||0),a,s),this._props.push("scrollTo_x")):this.skipX=1,null!=i.y?(this.add(this,"y",this.y,v(i.y,e,"y",this.y,i.offsetY||0),a,s),this._props.push("scrollTo_y")):this.skipY=1},render:function(e,t){for(var n,i,o,a,c,u=t._pt,h=t.target,d=t.tween,f=t.autoKill,m=t.xPrev,v=t.yPrev,g=t.isWin,y=t.snap,_=t.snapInline;u;)u.r(e,u.d),u=u._next;n=g||!t.skipX?t.getX():m,o=(i=g||!t.skipY?t.getY():v)-v,a=n-m,c=s.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),f&&(!t.skipX&&(a>c||a<-c)&&n<p(h,"x")&&(t.skipX=1),!t.skipY&&(o>c||o<-c)&&i<p(h,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(d.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(d,t.vars.onAutoKillParams||[]))),g?r.scrollTo(t.skipX?n:t.x,t.skipY?i:t.y):(t.skipY||(h.scrollTop=t.y),t.skipX||(h.scrollLeft=t.x)),!y||1!==e&&0!==e||(i=h.scrollTop,n=h.scrollLeft,_?h.style.scrollSnapType=_:h.style.removeProperty("scroll-snap-type"),h.scrollTop=i+1,h.scrollLeft=n+1,h.scrollTop=i,h.scrollLeft=n),t.xPrev=t.x,t.yPrev=t.y,l&&l.update()},kill:function(e){var t="scrollTo"===e,n=this._props.indexOf(e);return(t||"scrollTo_x"===e)&&(this.skipX=1),(t||"scrollTo_y"===e)&&(this.skipY=1),n>-1&&this._props.splice(n,1),!this._props.length}};y.max=p,y.getOffset=m,y.buildGetter=f,u()&&t.registerPlugin(y),e.ScrollToPlugin=y,e.default=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(14)),o=s(n(442)),a=n(7);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.make_structure(),this.on_scroll=function(){var e=window.pageYOffset;t.set_vertical_offset(e)},this.mousemove_triggered=!1,this.on_mousemove=function(e){t.mousemove_triggered||(t.mousemove_triggered=!0,t.fade_in_inner()),t.c.style.transform="translate3d("+e.clientX+"px, "+e.clientY+"px, 0)"},this.on_document_over=function(){t.fade_in_inner()},this.on_document_leave=function(){t.fade_out_inner()},this.anim=new o.default(this)}return r(e,[{key:"set_vertical_offset",value:function(e){this.c.style.top=e+"px"}},{key:"fade_in_inner",value:function(){a.TweenLite.to(this.c_inner,.2,{opacity:1})}},{key:"fade_out_inner",value:function(){a.TweenLite.to(this.c_inner,.2,{opacity:0})}},{key:"make_structure",value:function(){var e=(new DOMParser).parseFromString('<div class="rrmc-cursor">\n        <div class="rrmc-cursor-inner" style="opacity: 0">\n          <div class="rrmc-cursor-border"></div>\n          <div class="rrmc-cursor-icon"></div>\n        </div>\n      </div>',"text/html");this.c=e.body.firstChild,this.c_border=this.c.querySelector(".rrmc-cursor-border"),this.c_icon=this.c.querySelector(".rrmc-cursor-icon"),this.c_inner=this.c.querySelector(".rrmc-cursor-inner"),document.body.appendChild(this.c)}},{key:"load",value:function(){var e=this;this.queue_subscription=i.default.sub_cursor.subscribe({next:function(t){if(Array.isArray(t))e.anim.queue(t);else if("fullscreen_enter"===t.action){var n=t.elm;e.set_vertical_offset(0),n.appendChild(e.c)}else"fullscreen_leave"===t.action&&(document.body.appendChild(e.c),e.on_scroll())}}),i.default.sub_touch_update.subscribe({next:function(t){t&&e.queue_subscription&&(e.queue_subscription.unsubscribe(),document.removeEventListenerRR("scroll",e.on_scroll),document.removeEventListenerRR("mousemove",e.on_mousemove))}}),document.addEventListenerRR("scroll",this.on_scroll),this.on_scroll(),document.addEventListenerRR("mousemove",this.on_mousemove),document.addEventListenerRR("mouseenter",this.on_document_over),document.addEventListenerRR("mouseleave",this.on_document_leave),[].slice.call(document.querySelectorAll(".disable-cursor")).forEach((function(t){t.addEventListenerRR("mouseenter",e.on_document_leave),t.addEventListenerRR("mouseleave",e.on_document_over)}));var t=i.default.sub_touch_update.subscribe({next:function(n){n&&(document.removeEventListenerRR("mouseenter",e.on_document_over),document.removeEventListenerRR("mouseleave",e.on_document_leave),[].slice.call(document.querySelectorAll(".disable-cursor")).forEach((function(t){t.removeEventListenerRR("mouseenter",e.on_document_leave),t.removeEventListenerRR("mouseleave",e.on_document_over)})),a.TweenLite.set(e.c_inner,{display:"none"}),t.unsubscribe())}})}}]),e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(14)),o=n(7),a=n(62),s=n(204),l=h(n(475)),c=n(116),u=h(n(75));function h(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=(0,s.reach_overlay_container_type)("local"),n=(0,s.reach_overlay_container_type)("shared");this.localOverlayContainer=t.overlay_container,this.sharedOverlayContainer=n.overlay_container,this.is_overlay_open=!1,this.history_clear()}return r(e,[{key:"get_overlay_type",value:function(e,t){var n=(0,s.reach_overlay_container_type)(e),r=[];if(n&&n.overlay_container_wrapper){var i=(0,s.reach_overlay_container_list)(n.overlay_container_wrapper);i&&i.children&&(r=[].slice.call(i.children).filter((function(e){return e&&e.children.item(0)&&e.children.item(0).getAttribute("data-overlay-name")===t})))}if(r.length>0){var o=r.shift(),a=o?o.querySelector(".rrmc-overlay-component"):null;return{elm_overlay_container:n.overlay_container,elm_overlay:a}}return{elm_overlay_container:null,elm_overlay:null}}},{key:"get_overlay",value:function(e){var t=this.get_overlay_type("shared",e);if(t.elm_overlay_container)return{elm_overlay_container:t.elm_overlay_container,elm_overlay:t.elm_overlay};var n=this.get_overlay_type("local",e);return n.elm_overlay_container?{elm_overlay_container:n.elm_overlay_container,elm_overlay:n.elm_overlay}:{elm_overlay_container:null,elm_overlay:null}}},{key:"history_push",value:function(e){this.history_overlay.push(e),this.history_overlay.length>1&&this.layout_back_btn_reveal()}},{key:"history_pop",value:function(){this.history_overlay.pop();var e=this.history_overlay.length;return e<=1&&this.layout_back_btn_hide(),this.history_overlay[e-1]}},{key:"history_clear",value:function(){this.history_overlay=[],this.layout_back_btn_hide()}},{key:"layout_back_btn_reveal",value:function(){this.localOverlayContainer&&this.localOverlayContainer.classList.add("rrmc-back-button-enable"),this.sharedOverlayContainer&&this.sharedOverlayContainer.classList.add("rrmc-back-button-enable")}},{key:"layout_back_btn_hide",value:function(){this.localOverlayContainer.classList.remove("rrmc-back-button-enable"),this.sharedOverlayContainer&&this.sharedOverlayContainer.classList.remove("rrmc-back-button-enable")}},{key:"openOverlay",value:function(e){var t=this,n=e.data,r=n?n.overlayName:null,i=this.get_overlay(r),a=i.elm_overlay_container,s=i.elm_overlay;(this.overlayContainer=a,null!=this.overlayContainer)&&(this.overlayElement=s,(0,c.disableBodyScroll)(this.overlayElement),u.default.scrollify.isDisabled()||u.default.scrollify.disable(),this.is_overlay_open=!0,(new o.TimelineLite).set(this.overlayContainer,{display:"block",y:"100%",ease:o.Power2.easeInOut}).set(this.overlayElement,{display:"block"}).add((function(){t.overlayComponent=new l.default(t.overlayElement),t.overlayComponent.load(n)})).to(this.overlayContainer,1,{y:"0%",ease:o.Power2.easeInOut}))}},{key:"swapOverlay",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.data,i=r?r.overlayName:null,a=this.get_overlay(i),s=a.elm_overlay_container,u=a.elm_overlay;this.nextOverlayContainer=s,this.nextOverlayElement=u,(0,c.disableBodyScroll)(this.nextOverlayElement);var h=new o.TimelineLite;h.set(this.nextOverlayElement.parentElement,{position:"absolute",top:0,left:0,width:"100%",opacity:0}).set(this.nextOverlayElement,{display:"block"}).add((function(){t.nextOverlayComponent=new l.default(t.nextOverlayElement),t.nextOverlayComponent.load(r,n.data)})).addLabel("fadeOut").to(this.nextOverlayElement.parentElement,.5,{opacity:1},"fadeOut").to(this.overlayElement.parentElement,.5,{opacity:0},"fadeOut").add((function(){t.overlayComponent.destroy()})).to(this.overlayElement.parentElement,.5,{clearProps:"all"}).set(this.overlayElement,{display:"none"}).set(this.nextOverlayElement.parentElement,{clearProps:"all"}).add((function(){t.overlayComponent=t.nextOverlayComponent,t.overlayContainer=t.nextOverlayContainer,t.overlayElement=t.nextOverlayElement}))}},{key:"closeOverlay",value:function(){var e=this;(0,c.clearAllBodyScrollLocks)(),u.default.scrollify.isDisabled()&&u.default.scrollify.enable(),(new o.TimelineLite).to(this.overlayContainer,1,{y:"100%"}).set(this.localOverlayContainer,{display:"none"}).set(this.sharedOverlayContainer,{display:"none"}).add((function(){e.overlayComponent.on_close_after(),e.overlayComponent.destroy(),e.is_overlay_open=!1})).set(this.overlayElement,{display:"none"})}},{key:"handleEvent",value:function(e){if(e.action===a.overlayOpen||e.action===a.openDefaultForm)this.history_push(e),this.is_overlay_open?this.swapOverlay(e):this.openOverlay(e);else if(e.action===a.overlayClose)this.history_clear(),this.closeOverlay(e);else if(e.action===a.overlayBack){var t=this.history_pop();this.swapOverlay(t,e)}}},{key:"modifyEvent",value:function(e){try{if(window.rrmc_overlay_event_modifiers){var t=!0,n=!1,r=void 0;try{for(var i,o=window.rrmc_overlay_event_modifiers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){(0,i.value)(e)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}catch(e){console.log(e)}}},{key:"load",value:function(){var e=this;i.default.sub_overlay_manager_bus.subscribe({next:function(t){e.modifyEvent(t),e.handleEvent(t)}})}}]),e}();t.default=d},function(e,t,n){},function(e,t,n){"use strict";var r=o(n(634)),i=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t){var n,r,i,o=(n=window.location.href.toLowerCase(),r=!1,i=!1,["ghost-extended","phantom-extended","black-badge-ghost","black-badge-cullinan","ghost","phantom","cullinan"].forEach((function(e){!i&&n.indexOf(e)>-1&&(i=!0,r=e)})),r),a=JSON.parse(e.getPersistence(t))||[];o&&-1===a.indexOf(o)&&(a.push(o),e.setPersistence(t,JSON.stringify(a)))},s=function(e,t,n){if(e.isUsageAllowed(t)){var i=e.getPersistence(t);if("devicePreviousVisit"===t)i||function(e){var t=e.getPersistence("deviceCurrentVisit"),n=e.getPersistence("devicePreviousVisit"),r=Math.floor((new Date).getTime());null!==t&&new Date(t)!==r?(e.setPersistence("devicePreviousVisit",t),e.setPersistence("devicePreviousVisit",t)):null!==n&&e.setPersistence("devicePreviousVisit",n),(null===t||null!==t&&new Date(t)!==r)&&e.setPersistence("deviceCurrentVisit",r)}(e);else if("deviceCarModelPagesVisited"===t)a(e,t);else if(!i||null!==i&&n){var o=void 0;switch(t){case"deviceBrowser":o=r.default.browser.name;break;case"deviceBrowserVersion":o=r.default.browser.version+" ("+r.default.browser.fullVersion+")";break;case"deviceName":o=r.default.device.name;break;case"deviceVersion":o=parseInt(r.default.device.version,10)>-1?r.default.device.version:"not available";break;case"deviceBrowserLanguage":o=navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage;break;case"deviceOs":o=r.default.os.name;break;case"deviceOsVersion":o=r.default.os.version+" ("+r.default.os.fullVersion+")";break;case"deviceReferringUrl":o=window.location.href.substring(0,250)}e.setPersistence(t,o)}}};i.default.sub_epaas.subscribe({next:function(e){!function(e){var t=e.epaas;$(document).ready((function(){s(t,"devicePreviousVisit"),s(t,"deviceName"),s(t,"deviceVersion"),s(t,"deviceOs"),s(t,"deviceOsVersion"),s(t,"deviceBrowser"),s(t,"deviceBrowserVersion"),s(t,"deviceBrowserLanguage"),s(t,"deviceReferringUrl",!0),s(t,"deviceCarModelPagesVisited")}))}(e)}})},function(e,t,n){"use strict";var r=n(635),i=n(636),o=(navigator.userAgent||"")+" "+(navigator.appVersion||"")+" "+(navigator.vendor||""),a=new r(i);function s(e){var t=a.parse(e),n=function(e){if(!i.re_msie.test(e))return null;var t,n,r=void 0,o=void 0,a=void 0;if(-1!==e.indexOf("trident/")&&(r=/\btrident\/([0-9.]+)/.exec(e))&&r.length>=2){o=r[1];var s=r[1].split(".");s[0]=parseInt(s[0],10)+4,a=s.join(".")}n=(r=i.re_msie.exec(e))[1];var l=r[1].split(".");return void 0===a&&(a=n),l[0]=parseInt(l[0],10)-4,t=l.join("."),void 0===o&&(o=t),{browserVersion:a,browserMode:n,engineVersion:o,engineMode:t,compatible:o!==t}}(e);if(n){var r=t.engine.name,o=n.engineVersion||n.engineMode,s=parseFloat(o),l=n.engineMode;t.engine={name:r,version:s,fullVersion:o,mode:parseFloat(l),fullMode:l,compatible:!!n&&n.compatible},t.engine[t.engine.name]=s;var c=t.browser.name,u=t.browser.fullVersion;"ie"===c&&(u=n.browserVersion);var h=n.browserMode,d=parseFloat(u);t.browser={name:c,version:d,fullVersion:u,mode:parseFloat(h),fullMode:h,compatible:!!n&&n.compatible},t.browser[c]=d}return t}var l=s(o);l.parse=s,e.exports=l},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i={name:"na",version:"-1"};function o(e){return function(t){return Object.prototype.toString.call(t)==="[object "+e+"]"}}var a=o("String"),s=o("RegExp"),l=o("Object"),c=o("Function");function u(e,t,n,r){var o=i;!function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,e[n],n);n++);}(t,(function(t){var n=function(e,t,n){var r=c(t)?t.call(null,n):t;if(!r)return null;var i={name:e,version:"-1",codename:""};if(!0===r)return i;if(a(r)){if(-1!==n.indexOf(r))return i}else{if(l(r))return r.hasOwnProperty("version")&&(i.version=r.version),i;if(s(r)){var o=r.exec(n);if(o)return o.length>=2&&o[1]?i.version=o[1].replace(/_/g,"."):i.version="-1",i}}}(t[0],t[1],e);if(n)return o=n,!1})),n.call(r,o.name,o.version)}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rules=t}return r(e,[{key:"parse",value:function(e){e=(e||"").toLowerCase();var t={};u(e,this._rules.device,(function(e,n){var r=parseFloat(n);t.device={name:e,version:r,fullVersion:n},t.device[e]=r}),t),u(e,this._rules.os,(function(e,n){var r=parseFloat(n);t.os={name:e,version:r,fullVersion:n},t.os[e]=r}),t);var n=this.IEMode(e);return u(e,this._rules.engine,(function(e,r){var i=r;n&&(r=n.engineVersion||n.engineMode,i=n.engineMode);var o=parseFloat(r);t.engine={name:e,version:o,fullVersion:r,mode:parseFloat(i),fullMode:i,compatible:!!n&&n.compatible},t.engine[e]=o}),t),u(e,this._rules.browser,(function(e,r){var i=r;n&&("ie"===e&&(r=n.browserVersion),i=n.browserMode);var o=parseFloat(r);t.browser={name:e,version:o,fullVersion:r,mode:parseFloat(i),fullMode:i,compatible:!!n&&n.compatible},t.browser[e]=o}),t),t}},{key:"IEMode",value:function(e){if(!this._rules.re_msie.test(e))return null;var t,n,r=void 0,i=void 0,o=void 0;if(-1!==e.indexOf("trident/")&&(r=/\btrident\/([0-9.]+)/.exec(e))&&r.length>=2){i=r[1];var a=r[1].split(".");a[0]=parseInt(a[0],10)+4,o=a.join(".")}n=(r=this._rules.re_msie.exec(e))[1];var s=r[1].split(".");return void 0===o&&(o=n),s[0]=parseInt(s[0],10)-4,t=s.join("."),void 0===i&&(i=t),{browserVersion:o,browserMode:n,engineVersion:i,engineMode:t,compatible:i!==t}}}]),e}();e.exports=h},function(e,t,n){"use strict";(function(t){var n="undefined"==typeof window?t:window,r=n.external,i=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,o=/\bbb10\b.+?\bversion\/([\d.]+)/,a=/\bblackberry\b.+\bversion\/([\d.]+)/,s=/\bblackberry\d+\/([\d.]+)/,l=[["wp",function(e){return-1!==e.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==e.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==e.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(e){return/\bcpu(?: iphone)? os /.test(e)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==e.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",function(e){return e.indexOf("android")>=0?/\bandroid[ \/-]?([0-9.x]+)?/:e.indexOf("adr")>=0?e.indexOf("mqqbrowser")>=0?/\badr[ ]\(linux; u; ([0-9.]+)?/:/\badr(?:[ ]([0-9.]+))?/:"android"}],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["blackberry",function(e){var t=e.match(o)||e.match(a)||e.match(s);return t?{version:t[1]}:"blackberry"}]];function c(e){if(r)try{var t=r.twGetRunPath.toLowerCase(),i=r.twGetSecurityID(n),o=r.twGetVersion(i);if(t&&-1===t.indexOf(e))return!1;if(o)return{version:o}}catch(e){}}var u=[["edgehtml",/edge\/([0-9.]+)/],["trident",i],["blink",function(){return"chrome"in n&&"CSS"in n&&/\bapplewebkit[\/]?([0-9.+]+)/}],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",function(e){var t=e.match(/\brv:([\d\w.]+).*\bgecko\/(\d+)/);if(t)return{version:t[1]+"."+t[2]}}],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/],["u2",/\bu2\/([0-9.]+)/],["u3",/\bu3\/([0-9.]+)/]],h=[["edge",/edge\/([0-9.]+)/],["sogou",function(e){return e.indexOf("sogoumobilebrowser")>=0?/sogoumobilebrowser\/([0-9.]+)/:e.indexOf("sogoumse")>=0||/ se ([0-9.x]+)/}],["theworld",function(){var e=c("theworld");return void 0!==e?e:/theworld(?: ([\d.])+)?/}],["360",function(e){var t=c("360se");return void 0!==t?t:-1!==e.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["maxthon",function(){try{if(r&&(r.mxVersion||r.max_version))return{version:r.mxVersion||r.max_version}}catch(e){}return/\b(?:maxthon|mxbrowser)(?:[ \/]([0-9.]+))?/}],["micromessenger",/\bmicromessenger\/([\d.]+)/],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["liebao",function(e){if(e.indexOf("liebaofast")>=0)return/\bliebaofast\/([0-9.]+)/;if(-1===e.indexOf("lbbrowser"))return!1;var t=void 0;try{r&&r.LiebaoGetVersion&&(t=r.LiebaoGetVersion())}catch(e){}return{version:t||"-1"}}],["tao",/\btaobrowser\/([0-9.]+)/],["coolnovo",/\bcoolnovo\/([0-9.]+)/],["saayaa","saayaa"],["baidu",/\b(?:ba?idubrowser|baiduhd)[ \/]([0-9.x]+)/],["ie",i],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(e){var t=/\bopera.+version\/([0-9.ab]+)/;return t.test(e)?t:/\bopr\/([0-9.]+)/}],["oupeng",/\boupeng\/([0-9.]+)/],["yandex",/yabrowser\/([0-9.]+)/],["ali-ap",function(e){return e.indexOf("aliapp")>0?/\baliapp\(ap\/([0-9.]+)\)/:/\balipayclient\/([0-9.]+)\b/}],["ali-ap-pd",/\baliapp\(ap-pd\/([0-9.]+)\)/],["ali-am",/\baliapp\(am\/([0-9.]+)\)/],["ali-tb",/\baliapp\(tb\/([0-9.]+)\)/],["ali-tb-pd",/\baliapp\(tb-pd\/([0-9.]+)\)/],["ali-tm",/\baliapp\(tm\/([0-9.]+)\)/],["ali-tm-pd",/\baliapp\(tm-pd\/([0-9.]+)\)/],["uc",function(e){return e.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:e.indexOf("ubrowser/")>=0?/\bubrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(e)?/\buc\/([0-9.]+)/:e.indexOf("ucweb")>=0?/\bucweb([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["android",function(e){if(-1!==e.indexOf("android"))return/\bversion\/([0-9.]+(?: beta)?)/}],["blackberry",function(e){var t=e.match(o)||e.match(a)||e.match(s);return t?{version:t[1]}:"blackberry"}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]];e.exports={device:[["nokia",function(e){return-1!==e.indexOf("nokia ")?/\bnokia ([0-9]+)?/:/\bnokia([a-z0-9]+)?/}],["samsung",function(e){return-1!==e.indexOf("samsung")?/\bsamsung(?:[ \-](?:sgh|gt|sm))?-([a-z0-9]+)/:/\b(?:sgh|sch|gt|sm)-([a-z0-9]+)/}],["wp",function(e){return-1!==e.indexOf("windows phone ")||-1!==e.indexOf("xblwp")||-1!==e.indexOf("zunewp")||-1!==e.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build|\)))/],["hongmi",/\bhm[ \-]?([a-z0-9]+)/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",function(e){return e.indexOf("meizu")>=0?/\bmeizu[\/ ]([a-z0-9]+)\b/:/\bm([0-9cx]{1,4})\b/}],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(e){var t=/\bmediapad (.+?)(?= build\/huaweimediapad\b)/;return-1!==e.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:t.test(e)?t:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(e){return-1!==e.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(e){return/\bzte\-[tu]/.test(e)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo(?: ([a-z0-9]+))?/],["htc",function(e){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(e)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android",/\bandroid\b|\badr\b/],["blackberry",function(e){return e.indexOf("blackberry")>=0?/\bblackberry\s?(\d+)/:"bb10"}]],os:l,browser:h,engine:u,re_msie:i}}).call(this,n(88))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(14),a=(r=o)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"load",value:function(e){var t=e.epaas;this.epaas=t,this.my_list=this.retrieve_my_list(),this.list_length=this.my_list?JSON.parse(this.my_list).length:0,this.init_listeners(),this.update_my_list_total()}},{key:"init_listeners",value:function(){var e=this;a.default.sub_my_list_manager_bus.subscribe({next:function(t){return e.manage_my_list(t)}})}},{key:"manage_my_list",value:function(e){"add"===e.action?this.add_to_my_list(e.data):"change"===e.action?this.change_my_list(e.data):"remove"===e.action?this.remove_from_my_list(e.data):"set"===e.action&&this.set_list(e.data,e.options)}},{key:"set_list",value:function(e,t){var n=e,r=JSON.stringify(n);this.epaas.setPersistence("wishlistLongterm",JSON.stringify(n))||this.epaas.setPersistence("wishlistSession",JSON.stringify(n)),this.my_list=r,t&&!1===t.broadcast||a.default.sub_my_list_updated.next({data:n,type:"set_list"})}},{key:"update_my_list_total",value:function(){var e=JSON.parse(this.my_list);a.default.sub_my_list_updated.next({data:e,type:"update_my_list_total"})}},{key:"add_to_my_list",value:function(e){var t=JSON.parse(this.retrieve_my_list());t.push(e);var n=JSON.stringify(t);this.epaas.setPersistence("wishlistLongterm",n)||this.epaas.setPersistence("wishlistSession",n),this.my_list=n,a.default.sub_my_list_updated.next({data:t,type:"add_to_my_list"})}},{key:"change_my_list",value:function(e){var t=JSON.parse(this.retrieve_my_list()),n=e.accessoryId;delete e.accessoryId;var r=n.split("-").shift();t.splice(r,1,e);var i=JSON.stringify(t);this.epaas.setPersistence("wishlistLongterm",i)||this.epaas.setPersistence("wishlistSession",i),this.my_list=i,a.default.sub_my_list_updated.next({data:t,type:"change_my_list"})}},{key:"remove_from_my_list",value:function(e){var t=JSON.parse(this.retrieve_my_list()),n=!0,r=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value;t.splice(l,1,"remove")}}catch(e){r=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw i}}t=t.filter((function(e){return"remove"!==e}));var c=JSON.stringify(t);this.epaas.setPersistence("wishlistLongterm",c)||this.epaas.setPersistence("wishlistSession",c),this.my_list=c,a.default.sub_my_list_updated.next({data:t,type:"remove_from_my_list"})}},{key:"retrieve_my_list",value:function(){return this.epaas.getPersistence("wishlistLongterm")||this.epaas.getPersistence("wishlistSession")||this.epaas.setPersistence("wishlistLongterm","[]")||this.epaas.setPersistence("wishlistSession","[]"),this.epaas.getPersistence("wishlistLongterm")||this.epaas.getPersistence("wishlistSession")}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(window.epaas&&window.epaas.api||window).addEventListener("consentcontroller.api.initialized",p)};var r,i=n(14),o=(r=i)&&r.__esModule?r:{default:r},a=n(18);function s(){if(window.epaas.api.isUsageAllowed("EvergageProcessing")){var e=document,t=e.createElement("script"),n=e.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.defer=!0,t.src=window.rrmc_everage_src,n.parentNode.insertBefore(t,n)}else window.rrmc_experiences&&window.rrmc_experiences.push({campaign:"none",experience:"none"}),window.localStorage.removeItem("evergage"),window.localStorage.removeItem("evergage_update")}function l(e){window.dataLayer&&window.dataLayer.push(e)}window.consent_cache={};var c=[{title:"GoogleAdvertising",dataLayerTitle:"googleAdvertising"},{title:"LinkedInAds",dataLayerTitle:"linkedInInsightTag"},{title:"fbPagePixel",dataLayerTitle:"facebookPixel"},{title:"GoogleAnalytics",dataLayerTitle:"googleAnalytics"},{title:"RRMCFeatureComponents",dataLayerTitle:"RRMCFeatureComponents"}];function u(){return function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t[s.dataLayerTitle]=window.epaas.api.isUsageAllowed(s.title)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return t}(c)}function h(e){window.consent_cache=u();var t=function(){(function(e,t){var n=!0,r=!1,i=void 0;try{for(var o,a=Object.keys(e)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(e[s]!==t[s])return!1}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return!0})(window.consent_cache,u())||(window.consent_cache=u(),e())},n=!0,r=!1,i=void 0;try{for(var o,a=c[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;window.epaas.api.registerOnUserConsentChange(s.title,t)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}function d(){l({event:"consent_status",processingConsent:u()}),h((function(){var e;l({event:"consent_update",processingConsent:u()}),e=u(),o.default.sub_epaas_consent_change.next(e)})),(0,a.firePageEvent)()}function p(e){e.detail?(s(),o.default.sub_epaas.next({epaas:window.epaas.api}),d()):console.log("ERROR: epaas api initialization failed")}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=n(45),a=c(n(147)),s=c(n(14));n(640);var l=n(27);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function e(t){var n=this;u(this,e),this.container=t,this.parallax_on=this.container.hasAttribute("data-parallax-on"),this.video_on=this.container.hasAttribute("data-video-on"),this.align=this.container.getAttribute("data-align"),this.video=this.container.querySelector(".rrmc-two-col-video");var r=t.querySelector(".js-two-col-parallax-a"),i=t.querySelector(".js-two-col-parallax-b");this.image_container=i,this.body_height=0,"right"==this.align?(this.content_a=i,this.content_b=r):(this.content_a=r,this.content_b=i),this.on_scroll=function(){var e=document.body.clientHeight;e!=n.body_height&&(n.body_height=e,n.on_resize()),n.update_parallax()},this.on_resize=function(){n.tl_a&&n.tl_a.kill(),n.tl_b&&n.tl_b.kill(),n.clear_elm_props(),n.init_container(),n.init_parallax()},this.on_start_and_stop_video_on_scroll_after_loaded=function(){n.scroll_pos=window.pageYOffset,n.window_height=window.innerHeight,n.user_focus=n.scroll_pos+n.window_height/2;var e=n.container_top+n.container_height/2,t=e-n.window_height/2,r=e+n.window_height/2;n.user_focus>t&&n.user_focus<r?n.toggle_video_play_pause(!0):n.toggle_video_play_pause(!1)},this.toggle_video_play_pause=function(e){n.is_video_playing!==e&&(n.is_video_playing=e,e?n.player.play():n.player.pause())},this.load_video=function(){(n.force_load||window.pageYOffset+window.innerHeight+300>n.container_top)&&(window.removeEventListenerRR("scroll",n.load_video),n.init_video(),window.addEventListenerRR("scroll",n.on_start_and_stop_video_on_scroll_after_loaded))},this.apply_aspect_ratio=function(e){var t=e.videoWidth(),r=e.videoHeight()/t;n.image_container.querySelector(".rrmc-image-aspect").style.paddingBottom=100*r+"%",n.init_container(),n.init_parallax(),n.reveal()},this.loadImages=function(){var e=n.container.querySelectorAll(".rrmc-image-aspect-img"),t=e[e.length-1];[].slice.call(e).forEach((function(r,i){r.classList.contains("video-js")&&e[i]!==t||(r.classList.contains("video-js")&&e[i]===t?n.load():(0,l.srcsetLazyLoaderPlain)(r,(function(){e[i]===t&&n.load()})))}))},this.loadImages()}return r(e,[{key:"init_video",value:function(){var e=this;this.player=videojs(this.video),this.player.reloadSourceOnError({errorInterval:5}),0!=this.player.videoWidth()?this.apply_aspect_ratio(this.player):this.player.on("loadedmetadata",(function(){(0,a.default)((function(){return 0!=e.player.videoWidth()}),(function(){e.apply_aspect_ratio(e.player)}),e)}));var t=this.player.getChild("errorDisplay");t.off(this.player,"error",t.open),t.dispose(),this.player.play()}},{key:"clear_elm_props",value:function(){i.TweenLite.set([this.content_a,this.content_b],{clearProps:"all"})}},{key:"load",value:function(){var e=this;this.init_container(),this.init_parallax(),this.parallax_on?(window.addEventListenerRR("scroll",this.on_scroll),window.addEventListenerRR("resize",this.on_resize),this.video_on?(window.addEventListenerRR("scroll",this.load_video),this.load_video(),this.subscription_broadcast=s.default.sub_broadcast.subscribe({next:function(t){"load"===t.action&&(e.force_load=!0,e.load_video(),setTimeout((function(){e.subscription_broadcast.unsubscribe()})))}})):this.reveal()):(this.video_on&&this.init_video(),this.reveal())}},{key:"init_container",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset}},{key:"init_parallax",value:function(){!(0,o.is_mobile)()&&this.parallax_on&&(this.get_a_bearings(),this.get_b_bearings(),this.update_parallax(),this.reveal())}},{key:"reveal",value:function(){var e=this;(new i.TimelineLite).to([this.content_a,this.content_b],1,{opacity:1}).add((function(){e.content_a.classList.remove("is-init"),e.content_b.classList.remove("is-init"),s.default.sub_loaded_component.next(e.container)}))}},{key:"get_bearings",value:function(e,t){var n=e.getBoundingClientRect().height,r=-(window.innerHeight+n)/(2*(t+1)),o=-r*t,a=o,s=-o,l=-r,c=1/(l-r);return{bearings:{travel_factor:t,offset_start:a,offset_end:s,distance_start:r,distance_end:l,slope:c,intercept:0-c*r,progress_fn:function(e){var t=this.slope*e+this.intercept;return t>1?t=1:t<0&&(t=0),t}},tl:new i.TimelineLite({paused:!0}).fromTo(e,2,{y:a+"px"},{y:s+"px",ease:i.Linear.easeNone})}}},{key:"get_a_bearings",value:function(){var e=this.get_bearings(this.content_a,.2),t=e.bearings,n=e.tl;this.bearings_a=t,this.tl_a=n}},{key:"get_b_bearings",value:function(){var e=this.get_bearings(this.content_b,.4),t=e.bearings,n=e.tl;this.bearings_b=t,this.tl_b=n}},{key:"update_parallax_b",value:function(e){var t=this.bearings_b.progress_fn(e);this.tl_b.progress(t)}},{key:"update_parallax_a",value:function(e){var t=this.bearings_a.progress_fn(e);this.tl_a.progress(t)}},{key:"get_viewport_centre_offset",value:function(){var e=window.pageYOffset+window.innerHeight/2;return-(this.container_top+this.container_height/2)+e}},{key:"update_parallax",value:function(){if(!(0,o.is_mobile)()){var e=this.get_viewport_centre_offset();this.update_parallax_a(e),this.update_parallax_b(e)}}}]),e}(),d=function(){function e(){u(this,e),this.containers=document.querySelectorAll(".js-two-col-parallax")}return r(e,[{key:"load",value:function(){[].slice.call(this.containers).forEach((function(e){return new h(e)}))}}]),e}();window.addEventListenerRR("load",(function(){(new d).load()}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(89),o=n(7);n(642);var a=n(27),s=n(643),l=n(644),c=n(645),u=n(646);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.gsap.registerPlugin(i.ScrollTrigger);var d=function(){function e(t){var n=this;h(this,e),this.container=t,this.template=this.container.getAttribute("data-template"),this.parallax_on=this.container.hasAttribute("data-parallax-on"),this.block_layers=this.container.querySelectorAll(".rrmc-parallax-images-block-layer"),this.body_height=0,this.loadImages=function(){var e=n.container.querySelectorAll(".rrmc-parallax-images-block-layer"),t=e[e.length-1];[].slice.call(e).forEach((function(r,i){(0,a.pictureLazyLoaderPlain)(r,(function(){e[i]===t&&n.load()}))}))},this.loadImages()}return r(e,[{key:"clear_elm_props",value:function(){}},{key:"load",value:function(){this.init_container(),this.parallax_on&&this.reveal()}},{key:"init_container",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset}},{key:"reveal",value:function(){switch(this.template){case"template-a":(0,s.renderTemplateA)(this.container);break;case"template-b":(0,l.renderTemplateB)(this.container);break;case"template-c":(0,c.renderTemplateC)(this.container);break;case"template-d":(0,u.renderTemplateD)(this.container)}}}]),e}(),p=function(){function e(){h(this,e),this.containers=document.querySelectorAll(".js-parallax-images-block")}return r(e,[{key:"load",value:function(){[].slice.call(this.containers).forEach((function(e){return new d(e)}))}}]),e}();window.addEventListenerRR("load",(function(){(new p).load()}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplateA=void 0;var r=n(7),i=n(89);r.gsap.registerPlugin(i.ScrollTrigger);t.renderTemplateA=function(e){var t=e.querySelector(".rrmc-parallax-images-block-layer-a"),n=t.querySelector("img"),i=e.querySelector(".rrmc-parallax-images-block-layer-b"),o=i.querySelector("img"),a=e.querySelector(".rrmc-parallax-images-block-layer-c"),s=[];t&&s.push(t),i&&s.push(i),a&&s.push(a),r.gsap.timeline({scrollTrigger:{trigger:e,scrub:0,start:"top top",ease:"power4.out",end:"+=100"}});s.forEach((function(e){var t=e.querySelector("img"),n=e.classList.contains("rrmc-parallax-images-block-layer-a")?"a":e.classList.contains("rrmc-parallax-images-block-layer-b")?"b":"c";r.gsap.set(t,{rotateZ:.01}),r.gsap.to(t,{opacity:1,yPercent:"c"===n||"b"===n?0:-7,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:t,ease:"power4.out",start:{a:"top 85%",b:"top 50%",c:"top 85%"}[n],scrub:!1}})})),function(){r.gsap.set(s,{rotateZ:.01});var e=r.gsap.matchMedia();e.add("(max-width: 1023px)",(function(){i&&r.gsap.to(i,{yPercent:-35,rotateZ:.01,ease:"linear",scrollTrigger:{trigger:o,start:"top 100%",scrub:!0,invalidateOnRefresh:!0}}),a&&r.gsap.to(a,{yPercent:-14,rotateZ:.01,ease:"linear",scrollTrigger:{trigger:o,start:"top 100%",scrub:!0,invalidateOnRefresh:!0}})})),e.add("(min-width: 1024px)",(function(){t&&r.gsap.to(t,{yPercent:-40,ease:"linear",scrollTrigger:{trigger:n,start:"top 100%",scrub:!0,end:"+=8000",invalidateOnRefresh:!0}}),i&&r.gsap.to(i,{yPercent:15,ease:"power1.out",scrollTrigger:{trigger:n,start:"top 40%",scrub:!0,end:"+=6400",invalidateOnRefresh:!0}}),a&&r.gsap.to(a,{yPercent:-300,ease:"linear",scrollTrigger:{trigger:n,start:"top 90%",scrub:!0,end:"+=8000",invalidateOnRefresh:!0}})}))}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplateB=void 0;var r=n(7),i=n(89);r.gsap.registerPlugin(i.ScrollTrigger);t.renderTemplateB=function(e){var t,n=e.querySelector(".rrmc-parallax-images-block-layer-a"),i=e.querySelector(".rrmc-parallax-images-block-layer-b"),o=i.querySelector("img"),a=[n,i],s=i.querySelector("img");a.forEach((function(t){var n=t.querySelector("img"),i=r.gsap.matchMedia();i.add("(max-width: 1439px)",(function(){r.gsap.to(n,{opacity:1,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:e,ease:"power4.out",start:"top 85%",scrub:!1}})})),i.add("(min-width: 1440px)",(function(){r.gsap.to(n,{opacity:1,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:n,ease:"power4.out",start:"top 85%",scrub:!1}})}))})),t=r.gsap.matchMedia(),r.gsap.set([n,i],{rotateZ:.01}),t.add("(max-width: 1023px)",(function(){r.gsap.timeline({scrollTrigger:{trigger:e,scrub:0,start:"top 20%",ease:"power4.out",end:"+=900"}}),r.gsap.to(n,{yPercent:-160,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top bottom",scrub:!0,end:"+=2500"}}),r.gsap.to(i,{yPercent:20,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top bottom",scrub:!0,end:"+=2500"}}),r.gsap.to(o,{scale:1,ease:"easeOut",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 40%",scrub:!0,end:"+=800"}})})),t.add("(min-width: 1024px) and (max-width: 1439px)",(function(){r.gsap.timeline({scrollTrigger:{trigger:e,scrub:0,start:"top 20%",ease:"power4.out",end:"+=1800"}}),r.gsap.to(n,{yPercent:-42.5,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 10%",scrub:!0,end:"+=1800"}}),r.gsap.to(i,{yPercent:30,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top -15%",scrub:!0,end:"+=1200"}}),r.gsap.to(o,{scale:1,ease:"easeOut",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 60%",scrub:!0,end:"300"}})})),t.add("(min-width: 1440px)",(function(){r.gsap.timeline({scrollTrigger:{trigger:e,scrub:0,start:"top 20%",ease:"power4.out",end:"+=2450"}}),r.gsap.to(n,{yPercent:-42.5,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 40%",scrub:!0,end:"+=2450"}}),r.gsap.to(i,{yPercent:30,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top -15%",scrub:!0,end:"+=1750"}}),r.gsap.to(o,{scale:1,ease:"easeOut",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 60%",scrub:!0,end:"+=1750"}})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplateC=void 0;var r=n(7),i=n(89);r.gsap.registerPlugin(i.ScrollTrigger);t.renderTemplateC=function(e){var t=e.querySelector(".rrmc-parallax-images-block-layer-a"),n=e.querySelector(".rrmc-parallax-images-block-layer-b"),i=e.querySelector(".rrmc-parallax-images-block-layer-c"),o=[t,n,i],a=t.querySelector("img"),s=n.querySelector("img");r.gsap.timeline({scrollTrigger:{trigger:e,scrub:0,start:"top top",ease:"power4.out",end:"+=100"}});var l;o.forEach((function(e){var t=e.querySelector("img"),n=e.classList.contains("rrmc-parallax-images-block-layer-a")?"a":e.classList.contains("rrmc-parallax-images-block-layer-b")?"b":"c",i={a:"top 80%",b:"top 85%",c:"top 65%"},o=r.gsap.matchMedia();r.gsap.set([t],{rotateZ:.01}),o.add("(max-width: 1023px)",(function(){r.gsap.to(t,{opacity:1,yPercent:"b"===n?0:-7,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:a,ease:"power4.out",start:i[n],scrub:!1}})})),o.add("(min-width: 1024px)",(function(){r.gsap.to(t,{opacity:1,yPercent:"b"===n?0:-7,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:t,ease:"power4.out",start:i[n],scrub:!1}})}))})),l=r.gsap.matchMedia(),r.gsap.set([t,n,i],{rotateZ:.01}),l.add("(max-width: 1023px)",(function(){r.gsap.to(t,{yPercent:15,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=8000"}}),r.gsap.to(n,{yPercent:0,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=8000"}}),r.gsap.to(i,{yPercent:-120,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=5000"}})})),l.add("(min-width: 1024px)",(function(){r.gsap.to(t,{yPercent:-90,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=8000"}}),r.gsap.to(n,{yPercent:15,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 40%",scrub:!0,end:"+=8000"}}),r.gsap.to(i,{yPercent:-40,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 90%",scrub:!0,end:"+=9000"}})}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTemplateD=void 0;var r=n(7),i=n(89);r.gsap.registerPlugin(i.ScrollTrigger);t.renderTemplateD=function(e){var t=e.querySelector(".rrmc-parallax-images-block-layer-a"),n=e.querySelector(".rrmc-parallax-images-block-layer-b"),i=e.querySelector(".rrmc-parallax-images-block-layer-c"),o=[t,n,i],a=t.querySelector("img"),s=n.querySelector("img");r.gsap.timeline({scrollTrigger:{trigger:e,scrub:0,start:"top top",ease:"power4.out",end:"+=100"}});var l;o.forEach((function(e){var t=e.querySelector("img"),n=e.classList.contains("rrmc-parallax-images-block-layer-a")?"a":e.classList.contains("rrmc-parallax-images-block-layer-b")?"b":"c",i={a:"top 80%",b:"top 85%",c:"top 65%"},o=r.gsap.matchMedia();r.gsap.set([t],{rotateZ:.01}),o.add("(max-width: 1023px)",(function(){r.gsap.to(t,{opacity:1,yPercent:"b"===n?0:-7,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:a,ease:"power4.out",start:i[n],scrub:!1}})})),o.add("(min-width: 1024px)",(function(){r.gsap.to(t,{opacity:1,yPercent:"b"===n?0:-7,duration:1,scrollTrigger:{toggleActions:"play none none none",trigger:t,ease:"power4.out",start:i[n],scrub:!1}})}))})),l=r.gsap.matchMedia(),r.gsap.set([t,n,i],{rotateZ:.01}),l.add("(max-width: 1023px)",(function(){r.gsap.to(t,{yPercent:15,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=5000"}}),r.gsap.to(n,{yPercent:0,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=8000"}}),r.gsap.to(i,{yPercent:-120,ease:"linear",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=8000"}})})),l.add("(min-width: 1024px)",(function(){r.gsap.to(t,{yPercent:-40,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 90%",scrub:!0,end:"+=9000"}}),r.gsap.to(n,{yPercent:15,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:s,start:"top 40%",scrub:!0,end:"+=8000"}}),r.gsap.to(i,{yPercent:-90,ease:"power1.out",scrollTrigger:{invalidateOnRefresh:!0,trigger:a,start:"top 100%",scrub:!0,end:"+=8000"}})}))}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(648);var i=n(7);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(t,n,r){o(this,e),this.x=t,this.y=n,this.img=r},s=function e(t,n){o(this,e),this.w=this.width=t,this.h=this.height=n},l=function(){function e(t){o(this,e),this.enabled=!1,this.elements=[],this.scrollOffsetAmount=200,this.listenersEnabled=!1,this.container=t,this.parallaxWrap=t.querySelector(".parallax-wrap"),this.isDesktop=window.innerWidth>768,this.itemResolution=this.isDesktop?new s(1920,1080):new s(1080,1920),this.initialiseItemData(),this.addElements()}return r(e,[{key:"on_resize",value:function(){this.setHeight(),this.reInitialiseElements()}},{key:"load",value:function(){this.setHeight(),this.configureBackgroundMotion(),this.addPageListeners(),this.enabled=this.isElementInViewport(this.parallaxWrap)}},{key:"setHeight",value:function(){console.log("ParallaxInteractive setHeight()"),this.pageH=window.innerHeight-200}},{key:"initialiseItemData",value:function(){var e=this,t=this.container.getAttribute("data-items-model");(t=JSON.parse(t)).map((function(t){var n=e.isDesktop?t.desktopImage:t.mobileImage,r=e.isDesktop?t.posXDesktop:t.posXMobile,i=e.isDesktop?t.posYDesktop:t.posYMobile;e.elements.push(new a(r,i,n))})),console.log({itemData:t})}},{key:"addElements",value:function(){for(var e=this.elements.length,t=0;t<e;t++){var n=this.elements[t],r=document.createElement("span");r.id="item-"+t,r.className="hide-parallax-item js-effect",this.initialiseElement(r,t,e);var i=document.createElement("img");i.setAttribute("src",n.img),r.appendChild(i),this.parallaxWrap.appendChild(r)}this.applyFadeInFX()}},{key:"reInitialiseElements",value:function(){for(var e=this.elements.length,t=0;t<e;t++){var n="#item-"+t,r=this.parallaxWrap.querySelector(n);this.initialiseElement(r,t)}}},{key:"initialiseElement",value:function(e,t){var n=t%this.elements.length,r=this.elements[n],i=new s(this.parallaxWrap.offsetWidth,this.parallaxWrap.offsetHeight),o=i.w/this.itemResolution.w*r.x-i.w/2,a=i.h/this.itemResolution.h*r.y-i.h/2,l=this.itemResolution.w/2,c=Math.abs(r.x-l),u=Math.abs(8/l*(c-200)),h=.5+1/l*c;e.style.setProperty("--item-blur",u),e.style.setProperty("--item-x",o+"px"),e.style.setProperty("--item-y",a-this.scrollOffsetAmount/2+"px"),e.style.setProperty("--item-scale",h),e.style.setProperty("--item-z",2*h),e.style.setProperty("--item-loop-amount",.2+.8*(1-2*Math.random()))}},{key:"configureBackgroundMotion",value:function(){var e=this;this.motionRange=50,this.pingPongData={x:0,y:0},this.pingPongTween=i.TweenLite.fromTo(this.pingPongData,30,{x:-this.motionRange,y:-this.motionRange},{x:this.motionRange,y:this.motionRange,ease:"power1.inOut",repeat:-1,yoyo:!0,onUpdate:function(){e.container.style.setProperty("--item-motion-x",e.pingPongData.x),e.container.style.setProperty("--item-motion-y",e.pingPongData.y)}})}},{key:"applyScrollFX",value:function(){var e=this.parallaxWrap.getBoundingClientRect();this.parallaxWrap.style.setProperty("--item-scroll-y",-this.scrollOffsetAmount/this.pageH*e.top)}},{key:"applyFadeInFX",value:function(){this.parallaxWrap.style.getPropertyValue("--activated")||(this.parallaxWrap.style.setProperty("--activated",!0),this.parallaxWrap.querySelectorAll("span").forEach((function(e){e.className="fade-in-parallax-item js-effect"})))}},{key:"updateParallaxWrap",value:function(e){var t=e.clientX,n=e.clientY;if(this.enabled){var r=new s(this.parallaxWrap.offsetWidth,this.parallaxWrap.offsetHeight),o=50/(r.w/2)*-(r.w/2-t),a=50/r.h*n;i.TweenLite.to(this.parallaxWrap,{"--item-drag-x":o,"--item-drag-y":a,duration:3,ease:"power1.out",overwrite:"true"}),this.applyScrollFX()}}},{key:"onScroll",value:function(){this.isElementInViewport(this.parallaxWrap)?(this.applyScrollFX(),this.enabled=!0,this.pingPongTween.play()):(this.enabled=!1,this.pingPongTween.pause())}},{key:"addPageListeners",value:function(){var e=this;window.addEventListenerRR("resize",(function(){return e.on_resize()})),document.addEventListenerRR("mousemove",(function(t){return e.updateParallaxWrap(t)})),document.addEventListenerRR("scroll",(function(){return e.onScroll()}))}},{key:"removePageListeners",value:function(){var e=this;document.removeEventListenerRR("scroll",(function(){return e.onScroll()})),document.removeEventListenerRR("mousemove",(function(t){return e.updateParallaxWrap(t)}))}},{key:"isElementInViewport",value:function(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;return t.bottom>=0&&t.top<=n}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".rrmc-parallax-interactive");[].slice.call(e).forEach((function(e){new l(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(650);var i=n(7),o=n(27),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_video_bg=this.container.querySelector(".js-rrmc-password-reveal-bg"),this.elm_input=this.container.querySelector(".rrmc-password-reveal-input"),this.elm_input_field=this.container.querySelector(".rrmc-password-reveal-input-field"),this.video_url_desktop=this.container.getAttribute("data-video-desktop-url"),this.video_url_mobile=this.container.getAttribute("data-video-mobile-url"),this.video_aspect_ratio_desktop=16/9,this.video_aspect_ratio_mobile=9/16,this.elm_aligner=this.container.querySelector(".js-rrmc-password-reveal-aligner"),this.elm_padlock=this.container.querySelector(".js-rrmc-password-reveal-padlock"),this.elm_title=this.container.querySelector(".js-rrmc-password-reveal-title"),this.elm_image_bg=this.container.querySelector(".js-rrmc-bg-image-wrapper"),this.elm_password_img_wrapper=this.container.querySelector(".js-rrmc-bg-image-wrapper"),this.elm_password_img=this.container.querySelector(".js-rrmc-password-reveal-bg-img"),this.str_pass=this.container.getAttribute("data-w"),this.on_resize=function(){n.adjust_height()},this.on_scroll=function(){},this.on_focus=function(){n.elm_input.classList.add("rrmc-password-reveal-input-focus")},this.on_blur=function(){n.elm_input_field.value.length>0||n.elm_input.classList.remove("rrmc-password-reveal-input-focus")},this.on_keydown=function(e){13===e.which&&n.process_input()},this.on_change=function(){n.input_pass=n.elm_input_field.value}}return r(e,[{key:"process_input",value:function(){this.input_pass===this.str_pass?(this.elm_input_field.removeEventListenerRR("input",this.on_change),this.unlocked=!0,this.shift_padlock(),this.activate_padlock(),a.fireCustomEvent({event:"encryptedArea",eventCategory:"kryptosQuiz",eventAction:"submitCode",eventLabel:"successful"})):(this.pulse_padlock(),a.fireCustomEvent({event:"encryptedArea",eventCategory:"kryptosQuiz",eventAction:"submitCode",eventLabel:"unsuccessful"}))}},{key:"shift_padlock",value:function(){var e=this.elm_aligner.getBoundingClientRect(),t=this.elm_padlock.getBoundingClientRect(),n=(e.height-2*(t.top-e.top)-t.height)/2;(new i.TimelineLite).addLabel("start").to(this.elm_padlock,1,{y:n+"px"},"start+=.4").to(this.elm_title,.4,{opacity:0},"start").to(this.elm_input,.4,{opacity:0},"start")}},{key:"activate_padlock",value:function(){var e=this.container.querySelector("#svg-padlock-arc-1"),t=this.container.querySelector("#svg-padlock-arc-2");(new i.TimelineLite).to([e,t],2,{strokeDashoffset:"-552",ease:i.Power2.easeInOut})}},{key:"pulse_padlock",value:function(){var e=this.container.querySelector("#svg-pulse-group");(new i.TimelineLite).to(e,.7,{opacity:1,ease:i.Power2.easeInOut}).to(e,.7,{opacity:0,ease:i.Power2.easeInOut})}},{key:"hide_aligner_and_video",value:function(){var e=this;(new i.TimelineLite).addLabel("start").to(this.elm_aligner,.4,{opacity:0},"start").to(this.elm_video_wrapper,1,{opacity:0},"start+=.2").to(this.elm_password_img_wrapper,1,{opacity:1},"start+=.2").add((function(){e.elm_video.pause()}))}},{key:"adjust_height",value:function(){var e=window.innerWidth>1024?this.video_aspect_ratio_desktop:this.video_aspect_ratio_mobile,t=this.container.getBoundingClientRect().width;this.container.style.height=t/e+"px"}},{key:"set_bg_video",value:function(){var e=this,t=window.innerWidth>1024?this.video_url_desktop:this.video_url_mobile;this.elm_video_wrapper=document.createElement("div"),this.elm_video_wrapper.classList.add("rrmc-video-wrapper"),this.elm_video_wrapper.innerHTML='<video class="rrmc-bg-video" src="'+t+'" playsinline muted autoplay loop>',this.elm_video_bg.appendChild(this.elm_video_wrapper),this.elm_video=this.elm_video_wrapper.querySelector(".rrmc-bg-video");setInterval((function(){!e.unlocked&&e.elm_video.currentTime>=9.9&&(e.elm_video.currentTime=0),e.unlocked&&e.elm_video.currentTime>=23&&e.hide_aligner_and_video()}),1e3/60/2)}},{key:"load",value:function(){this.set_bg_video(),this.adjust_height(),(0,o.pictureLazyLoaderPlain)(this.elm_password_img),window.addEventListenerRR("resize",this.on_resize),window.addEventListenerRR("scroll",this.on_scroll),this.elm_input_field.addEventListenerRR("focus",this.on_focus),this.elm_input_field.addEventListenerRR("blur",this.on_blur),this.elm_input_field.addEventListenerRR("input",this.on_change),this.elm_input_field.addEventListenerRR("keypress",this.on_keydown)}},{key:"destroy",value:function(){}}]),e}();t.default=s,window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-password-reveal-container");[].slice.call(e).forEach((function(e){new s(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(652);var i,o=n(421),a=(i=o)&&i.__esModule?i:{default:i},s=n(7),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pdf=t,this.dropDownSelector=this.pdf.querySelector(".rrmc-accessory-dropdown"),this.input_arr=[],this.elm_customise_button_container=this.pdf.querySelector(".rrmc-accessory-customise-button-container"),this.elm_customise_button=this.elm_customise_button_container.querySelector(".js-rrmc-button"),this.tl_hide_bespoke_ctas={},this.unorderedListParent=this.pdf.querySelector(".rrmc-accessory-dropdown--custom-select-list"),this.select=this.pdf.querySelector(".rrmc-accessory-dropdown--select"),this.dropdownContainer=this.pdf.querySelector(".rrmc-accessory-dropdown--container"),this.date=new Date,this.isOpen=!1,this.dropdown_cb_open=function(e){[].slice.call(n.input_arr).forEach((function(t){t.instance!==e&&"Dropdown"===t.instance.constructor.name&&t.instance.closeDropdown()}))}}return r(e,[{key:"load",value:function(){this.createDropdownPDF()}},{key:"createDropdownPDF",value:function(){var e=this,t=new a.default(this.dropDownSelector);t.load();t.addEventListener("open",(function(){e.isOpen=!0;e.dropdown_cb_open(t);e.unorderedListParent.setAttribute("data-tracking-linkid","dropdown1instruction manualdropdown expanddropdown select list dropdown open")})),t.addEventListener("close",(function(){e.isOpen=!1;e.unorderedListParent.setAttribute("data-tracking-linkid","dropdown1instruction manualdropdown expanddropdown select list dropdown closed")})),this.unorderedListParent.addEventListenerRR("click",(function(t){var n=e.isOpen?"closed":"open";e.reveal_cta(e.elm_customise_button_container);var r=e.select.value,i="dropdown1instruction manualdropdown expanddropdown select list dropdown "+n;e.unorderedListParent.setAttribute("data-tracking-linkid",i),e.elm_customise_button.setAttribute("href",r);var o=t.target.innerText;l.fireTronActivityClickEvent(),l.fireCustomEvent({event:"accessoriesVariant",eventCategory:"boutique pdf",eventAction:"variant select",eventLabel:"manual language - "+o})})),this.elm_customise_button.addEventListenerRR("click",(function(){var t=e.select.value;l.fireTronActivityClickEvent(),window.open(t,"_blank").focus()})),this.dropdownContainer.addEventListenerRR("click",(function(){l.fireTronActivityClickEvent(),l.fireCustomEvent({event:"accessoriesVariant",eventCategory:"boutique pdf",eventAction:"variant expand",eventLabel:"manual language"})}))}},{key:"reveal_cta",value:function(e){this.cancel_hide_cta(e),s.gsap.timeline().addLabel("start").set(e,{visibility:"visible",height:"auto",clearProps:"padding"},"start").to(e,1,{opacity:1},"start+=0.5")}},{key:"cancel_hide_cta",value:function(e){var t=e.className;this.tl_hide_bespoke_ctas[t]&&this.tl_hide_bespoke_ctas[t].kill(),s.TweenLite.set(e,{clearProps:"all"})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".parent-dropdown");[].slice.call(e).forEach((function(e){new c(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(654);var i,o=n(7),a=n(14),s=(i=a)&&i.__esModule?i:{default:i};var l=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.podcastTrailer=t,this.playerEls=this.podcastTrailer.querySelectorAll(".rrmc-audio-trailer-content"),this.controlWrapper=this.podcastTrailer.querySelector(".js-rrmc-trailer-play-toggle"),this.playPause=this.podcastTrailer.querySelector(".rrmc-audio-play-button"),this.player=this.podcastTrailer.querySelector(".vjs-tech"),this.vjsPlayer=videojs.getPlayer(this.player),this.progress=0;var r=this.vjsPlayer.getChild("errorDisplay");r.off(this.vjsPlayer,"error",r.open),r.dispose(),this.toggleAudioPlay=function(){n.isPlaying?n.pausePlayer():n.playPlayer()},this.pausePlayer=function(){n.pause(),n.playPause.classList.remove("rrmc-audio-pause-button"),n.podcastTrailer.classList.remove("rrmc-audio-episode-playing"),n.playPause.setAttribute("aria-label","play"),n.isPlaying=!1},this.playPlayer=function(){n.play(),n.playPause.classList.add("rrmc-audio-pause-button"),n.podcastTrailer.classList.add("rrmc-audio-episode-playing"),n.playPause.setAttribute("aria-label","pause"),n.isPlaying=!0;var e=videojs.getPlayer(n.player);s.default.sub_audio_manager_bus.next({thisPlayer:e})}}return r(e,[{key:"play",value:function(){videojs(this.player).play();var e=document.querySelector(".rrmc-audio-episode-playing");if(e){var t=e.querySelector(".video-js"),n=e.querySelector(".rrmc-audio-play-button"),r=e.querySelector(".rrmc-audio-player-wrapper");n.classList.remove("rrmc-audio-pause-button"),videojs(t).pause(),o.gsap.timeline().add("start").to(r,.4,{height:0},"start")}}},{key:"pause",value:function(){videojs(this.player).pause()}},{key:"initListeners",value:function(){var e=this;this.controlWrapper.addEventListenerRR("click",this.toggleAudioPlay),s.default.sub_audio_manager_bus.subscribe({next:function(t){e.vjsPlayer.id()!==t.thisPlayer.id()&&e.pausePlayer()}}),this.vjsPlayer.on("ended",(function(){window.Evergage&&window.Evergage.sendEvent({action:"Podcast - Complete"}),e.progress=100})),this.vjsPlayer.on("play",(function(){window.Evergage&&window.Evergage.sendEvent({action:"Podcast - Start"}),e.progress=0})),this.vjsPlayer.on("timeupdate",(function(){var t=e.vjsPlayer.currentTime()/e.vjsPlayer.duration();t>=.8&&e.progress<80?(window.Evergage&&window.Evergage.sendEvent({action:"Podcast - 80%"}),e.progress=80):t>=.6&&e.progress<60?(window.Evergage&&window.Evergage.sendEvent({action:"Podcast - 60%"}),e.progress=60):t>=.4&&e.progress<40?(window.Evergage&&window.Evergage.sendEvent({action:"Podcast - 40%"}),e.progress=40):t>=.2&&e.progress<20&&(window.Evergage&&window.Evergage.sendEvent({action:"Podcast - 20%"}),e.progress=20)}))}},{key:"load",value:function(){this.initListeners()}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".podcast-trailer");[].slice.call(e).forEach((function(e){new l(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=d(n(14));n(478),n(656);var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),s=d(n(111)),l=n(112),c=n(201),u=n(62),h=n(45);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.menuCtaWrapper=document.querySelector(".rrmc-primary-nav--menu-wrapper"),this.compWrapper=document.querySelector(".primary-navigation"),this.primaryNav=document.querySelector(".js-rrmc-primary-nav"),this.primaryNavColor=this.primaryNav.className.split(" ").some((function(e){return/black/.test(e)}))?"dark":"light",this.proxyTween=i.TweenLite.to({},1,{paused:!0}),this.isMobile=window.innerWidth<768,this.navBackground=document.querySelector(".nav-background-container"),this.windowHeight=window.innerHeight,this.secondaryNav=document.querySelector(".rrmc-secondary-nav--menu-wrapper"),this.hasSecondary=!!this.secondaryNav,this.scrollPos=window.pageYOffset,this.collapsedNavHeight=this.hasSecondary?58:60,this.targetHeight=window.innerHeight-this.collapsedNavHeight,this.targetHeightReverse=this.hasSecondary?window.innerHeight-120:window.innerHeight-60,this.navArray=this.hasSecondary?[this.primaryNav,this.secondaryNav]:this.primaryNav,this.scrollDirection=!(window.pageYOffset>this.scrollPos),this.prevOffset=this.scrollPos,this.lastBreakpoint=0,this.navTint=this.primaryNav.getAttribute("data-menu-tint"),this.navBgShade="",this.secondaryKeyline=this.compWrapper.querySelector(".rrmc-secondary-keyline"),this.defaultBlur="true"===this.primaryNav.getAttribute("data-blur"),this.navEnquire=document.querySelector("#rrmc-nav-enquire-text"),this.url=window.location.href,this.isDealerPage="true"==this.primaryNav.getAttribute("data-is-dealer-page"),this.dealerNumber=window.rrmc_dealer_info.dealerNumber,this.dealerName=window.rrmc_dealer_info.dealerName,this.dealerEnName=window.rrmc_dealer_info.dealerEnName,this.dealerTradingName=window.rrmc_dealer_info.dealerTradingName,this.dealerWebsite=window.rrmc_dealer_info.dealerWebsite,this.setNavShade=function(){var e="light"===t.primaryNavColor?"rgba(255,255,255,0.3)":"rgba(21, 21, 21, 0.3)";return t.navTint?t.navTint:e},!0===this.defaultBlur&&(this.compWrapper.classList.add(this.secondaryNav?"secondary-default-blur":"primary-default-blur"),this.navBgShade=this.setNavShade(),i.TweenLite.set(this.navBackground,{"background-color":""+this.navBgShade}),this.navArray=this.hasSecondary?[this.primaryNav,this.navBackground,this.secondaryNav]:[this.primaryNav,this.navBackground]),this.navTimeline=i.gsap.timeline({paused:!0,ease:i.Linear.easeNone}),this.onScroll=function(){var e=window.pageYOffset;if(!(e<0))if(t.setCtaWrapperPos(),t.scrollDirection=!(e>t.scrollPos),t.scrollPos=e,t.primaryNav.style.cssText.indexOf("-60")>-1?t.primaryNav.classList.add("collapsed-menu"):t.primaryNav.classList.remove("collapsed-menu"),window.pageYOffset<t.prevOffset&&t.distLastBreakpoint<=0&&(t.lastBreakpoint=t.prevOffset),window.pageYOffset<t.targetHeightReverse){if(!1===t.defaultBlur&&(t.setNavBgScale(),i.TweenLite.to(t.navBackground,.25,{opacity:0})),t.reverseProgress<e/800)return;t.navTimeline.progress(e/800)}else{if(window.pageYOffset>=t.prevOffset&&t.distLastBreakpoint<=0||!t.hasSecondary)t.navTimeline.progress(e/800),!1===t.defaultBlur&&(t.setNavBgScale(),i.TweenLite.to(t.navBackground,.25,{backdropFilter:"blur(20px)",opacity:1,"background-color":t.navBgShade})),t.hasSecondary&&i.TweenLite.to(t.secondaryKeyline,.5,{opacity:0});else if(t.hasSecondary){t.distLastBreakpoint=t.lastBreakpoint-window.pageYOffset;var n=t.distLastBreakpoint/58*-.17+1;t.reverseProgress=n,t.hasSecondary&&t.scrollDirection?i.TweenLite.to(t.secondaryKeyline,.5,{opacity:.5}):t.hasSecondary&&!t.scrollDirection&&i.TweenLite.to(t.secondaryKeyline,.5,{opacity:0}),t.navTimeline.progress(n),t.distLastBreakpoint>58&&(t.distLastBreakpoint=58,t.lastBreakpoint=window.pageYOffset+58),!1===t.defaultBlur&&t.setReverseMotion()}t.prevOffset=window.pageYOffset}},this.menuPosEvent=function(){o.default.sub_menu_top.next(t.menuCta.getBoundingClientRect().top)},this.navAnimation=function(){var e=t.isMobile?-50:-60,n=(t.isMobile,-48),r=t.isMobile?-19:-30,o=t.isMobile?-23:-26,a=t.isMobile?-40:-60,s=t.isMobile?-95:-120,l=t.rrmcMonogram.classList.contains("js-rrmc-mono-kryptos")?.73:.63;t.navTimeline.addLabel("start").to(t.rrmcLogo,.5,{opacity:0,ease:i.Linear.easeNone},"start").to(t.rrmcMonogram,.5,{opacity:1,ease:i.Linear.easeNone},"start").to(t.rrmcMonogram,.5,{scale:l,ease:i.Linear.easeNone},"start+=0.25").to(t.keyline,.5,{opacity:0,y:24,ease:i.Linear.easeNone},"start+=0.25").to([t.enquireCta,t.rrmcLogoWrapper],.5,{y:30,ease:i.Linear.easeNone},"start+=0.25").to([t.menuCtaWrapper,t.menuCtaSpan],.5,{y:r,ease:i.Linear.easeNone,onUpdate:t.menuPosEvent},"start+=0.25"),t.hasSecondary?(i.TweenLite.set(t.keyline,{opacity:0}),t.navTimeline.to([t.enquireCta,t.rrmcLogoWrapper],.5,{y:25,ease:i.Linear.easeNone},"start+=0.25").to([t.menuCtaWrapper,t.menuCtaSpan],.5,{y:o,ease:i.Linear.easeNone,onUpdate:t.menuPosEvent},"start+=0.25").to(t.navArray,.5,{y:n,ease:i.Linear.easeNone},"start+=0.25").to(t.navArray,.5,{y:s,ease:i.Linear.easeNone,onUpdate:t.menuPosEvent},"start+=2.5").to([t.menuCtaWrapper,t.menuCtaSpan],.5,{y:-95,ease:i.Linear.easeNone,onUpdate:t.menuPosEvent},"start+=2.5")):!0===t.defaultBlur?(i.TweenLite.set(t.keyline,{opacity:0}),t.navTimeline.to({},.5,{},"start+=2.5").to(t.navArray,.5,{y:e,ease:i.Linear.easeNone},"start+=0.25").to(t.navBackground,.5,{y:a,ease:i.Linear.easeNone},"start+=0.25").to(t.keyline,.5,{opacity:0,y:0,ease:i.Linear.easeNone},"start+=0.25")):t.navTimeline.to({},.5,{},"start+=2.5").to(t.navArray,.5,{y:e,ease:i.Linear.easeNone},"start+=0.25").to(t.keyline,.5,{opacity:0,y:24,ease:i.Linear.easeNone},"start+=0.25")}}return r(e,[{key:"setup",value:function(){this.menuCtaSpan=this.primaryNav.querySelector(".js-global-menu-cta.button-placeholder"),this.menuCta=this.compWrapper.querySelector(".js-global-menu-cta"),this.enquireCta=this.primaryNav.querySelector(".js-global-enquire-button"),this.dealer_locator_label_elm=this.enquireCta.querySelector(".js-rrmc-nav-dealer-locator"),this.keyline=this.primaryNav.querySelector(".rrmc-keyline"),this.rrmcLogoWrapper=this.primaryNav.querySelector(".rrmc-logo"),this.rrmcLogoLink=this.primaryNav.querySelector(".rrmc-logo-link"),this.rrmcLogo=this.primaryNav.querySelector(".rrmc-logo-full"),this.rrmcMonogram=this.primaryNav.querySelector(".rrmc-logo-monogram"),this.navBgShade=this.setNavShade(),this.dealer_enquire_icon=this.enquireCta.querySelector(".js-rrmc-nav-dealer-locator-icon")}},{key:"initReverseMotion",value:function(){this.slopeReverse=(this.expandedScale-this.staticScale)/58,this.interceptReverse=this.staticScale}},{key:"setReverseMotion",value:function(){var e=this.slopeReverse*this.distLastBreakpoint+this.interceptReverse;if(e<this.expandedScale)return e="-"+100*this.expandedScale+"%",void i.TweenLite.set(this.navBackground,{y:e});e="-"+100*e+"%",i.TweenLite.set(this.navBackground,{y:e})}},{key:"initNavBgScale",value:function(){var e=this.isMobile?102:130;this.endScale=0/window.innerHeight,this.staticScale=(window.innerHeight-this.collapsedNavHeight)/window.innerHeight,this.expandedScale=(window.innerHeight-e)/window.innerHeight,this.slopeScale=(1-this.endScale)/window.innerHeight,this.intercept=0}},{key:"setNavBgScale",value:function(){var e=this.slopeScale*this.scrollPos+this.intercept;if(this.scrollPos>this.targetHeight)return e="-"+100*this.staticScale+"%",void i.TweenLite.set(this.navBackground,{y:e});e="-"+100*e+"%",i.TweenLite.set(this.navBackground,{y:e})}},{key:"getNavTextLabelMainSite",value:function(){return this.has_dealer_selected()?this.get_dealer_preference_name():this.choose_enquire_label_main_site()}},{key:"getNavTextLabel",value:function(){return this.isDealerPage?this.choose_enquire_label_dealers_site():this.getNavTextLabelMainSite()}},{key:"setNavText",value:function(){this.set_right_button_copy(this.getNavTextLabel())}},{key:"set_right_button_copy",value:function(e){this.navEnquire.querySelector(".rrmc-nav-dealer-locator-copy").textContent=e}},{key:"get_right_button_copy",value:function(){return this.navEnquire.querySelector(".rrmc-nav-dealer-locator-copy").textContent}},{key:"setCtaWrapperPos",value:function(){var e=this.menuCtaSpan.getBoundingClientRect();this.menuCtaWrapper.style.left=e.left+"px",this.init_cta_wrapper||(i.TweenLite.to([this.menuCtaWrapper,this.navArray],1,{opacity:1}),this.init_cta_wrapper=!0)}},{key:"triggerDealer",value:function(e){var t=this.get_right_button_copy();if(a.fireCustomEvent({event:"headerClick",eventCategory:"header",eventAction:"Click",eventLabel:t}),this.is_main_site_page_and_dealer_selected())return this.enquireCta.querySelector("a").setAttribute("href",this.get_dealer_preference_href());e.preventDefault(),a.fireTronActivityClickEvent(),a.fireCustomEvent({event:"fadOpen",eventCategory:"form",eventAction:"Find A Dealer",eventLabel:"Open"}),o.default.sub_overlay_manager_bus.next({action:u.overlayOpen,data:{overlayName:"g-dealer-locator"}})}},{key:"is_main_site_page_and_dealer_selected",value:function(){return this.has_dealer_selected()&&!this.isDealerPage}},{key:"load",value:function(){var e=this;this.setup(),o.default.sub_menu_top.next(this.menuCta.getBoundingClientRect().top),this.setCtaWrapperPos(),this.navAnimation(),this.setNavText(),!1===this.defaultBlur&&(this.initNavBgScale(),this.initReverseMotion()),this.enquireCta.querySelector("a").addEventListenerRR("click",(function(t){e.triggerDealer(t)})),window.addEventListenerRR("scroll",this.onScroll),this.onScroll(),window.addEventListenerRR("resize",(function(){e.isMobile=window.innerWidth<768,e.windowHeight=window.innerHeight,e.targetHeight=window.innerHeight-e.collapsedNavHeight,e.setCtaWrapperPos(),e.initNavBgScale(),e.initReverseMotion(),e.setNavText()})),this.rrmcLogoLink.addEventListenerRR("click",(function(e){e.preventDefault();var t=e.currentTarget.getAttribute("href");a.fireCustomEvent({event:"logoClick",eventCategory:"Primary Nav",eventAction:"Logo Click",eventLabel:"rolls-royce logo",eventCallback:function(){window.location=t},eventTimeout:2e3})})),this.store_dealer_from_nav(),this.init_dealer_lottie(),c.dealerService.subscribe((function(t){return e.update_label_and_action(t)}))}},{key:"init_dealer_lottie",value:function(){var e=this;this.on_search_hover_anim_finished=function(){e.search_hover_anim_in_progress=!1},this.on_search_icon_over=function(){e.search_hover_anim_in_progress||e.lottie_search&&(e.search_hover_anim_in_progress=!0,e.lottie_search.playSegments([0,30],!0),e.lottie_search.addEventListener("complete",e.on_search_hover_anim_finished))},this.gradient_type=this.enquireCta.getAttribute("data-style"),"gradient-black"!==this.gradient_type&&"solid-black"!==this.gradient_type||(l.anim_search.layers[0].shapes[0].it[1].c.k=[1,1,1,1],l.anim_search.layers[1].shapes[0].it[1].c.k=[1,1,1,1]),this.lottie_search=s.default.loadAnimation({container:this.dealer_enquire_icon,renderer:"svg",loop:!1,autoplay:!1,animationData:l.anim_search}),this.enquireCta.querySelector("a").addEventListenerRR("mouseenter",this.on_search_icon_over)}},{key:"store_dealer_from_nav",value:function(){if(this.isDealerPage){var e=new c.DealerPreference;e.set_name(this.dealerName),e.set_trading_name(this.dealerTradingName),e.set_english_name(this.dealerEnName),e.set_href(this.dealerWebsite),e.set_number(this.dealerNumber),c.dealerService.select_dealer(e),c.dealerService.publish_preference()}}},{key:"set_dealer_preference",value:function(e){this.dealer_preference=e}},{key:"is_dealer_preference_set",value:function(){return!!this.dealer_preference}},{key:"get_dealer_preference_name",value:function(){return this.dealer_preference.get_name()}},{key:"get_dealer_preference_href",value:function(){return this.dealer_preference.get_href()}},{key:"update_label_and_action",value:function(e){this.set_dealer_preference(e),this.apply_next_label_from_preference(),this.update_linkid_with_dealer_name()}},{key:"has_dealer_selected",value:function(){return!!this.is_dealer_preference_set()&&!!this.get_dealer_preference_name()}},{key:"replace_search_with_pin",value:function(){this.dealer_enquire_icon.classList.remove("rrmc-nav-dealer-locator-icon-search"),this.dealer_enquire_icon.classList.add("rrmc-nav-dealer-locator-icon-pin"),this.lottie_search.destroy(),this.lottie_search=null}},{key:"choose_enquire_label_main_site",value:function(){return(0,h.is_mobile)()?this.dealer_locator_label_elm.getAttribute("data-enquire-main-mobile"):this.dealer_locator_label_elm.getAttribute("data-enquire-main-desktop")}},{key:"choose_enquire_label_dealers_site",value:function(){return(0,h.is_mobile)()?this.dealer_locator_label_elm.getAttribute("data-enquire-dealers-mobile"):this.dealer_locator_label_elm.getAttribute("data-enquire-dealers-desktop")}},{key:"apply_next_label_from_preference",value:function(){this.setNavText(),this.is_main_site_page_and_dealer_selected()&&this.replace_search_with_pin()}},{key:"update_linkid_with_dealer_name",value:function(){var e=this.dealer_preference.get_name(),t=this.enquireCta.querySelector("a");t&&this.is_main_site_page_and_dealer_selected()&&t.setAttribute("data-tracking-linkid","icon-text3dealer|"+(e||"").toLowerCase()+"internal link")}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){document.querySelector(".js-rrmc-primary-nav")&&(new p).load()}))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45),o=n(7),a=n(116),s=n(456),l=y(n(111)),c=n(112),u=n(85),h=y(n(209)),d=y(n(14)),p=y(n(46)),f=y(n(75));n(478);var m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),v=n(201),g=n(27);function y(e){return e&&e.__esModule?e:{default:e}}var _=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elm_menu_cta=document.querySelector(".js-global-menu-cta"),this.elm_menu=document.querySelector(".js-menu"),this.elm_left=this.elm_menu.querySelector(".js-menu-pane-left"),this.elm_right=this.elm_menu.querySelector(".js-menu-pane-right-fade"),this.elm_right_content=null,this.elm_right_content_list=null,this.active_section=null,this.is_feature=!1,this.model_images_loaded=!1,this.elm_primary_container=this.elm_menu.querySelector(".rrmc-menu-links-container"),this.elm_scrollable_links=this.elm_menu.querySelector(".rrmc-menu-links"),this.elm_links=this.elm_primary_container.querySelectorAll(".js-menu-link"),this.elm_section_links=this.elm_primary_container.querySelectorAll(".js-menu-section-link[data-section]"),this.elm_direct_links=this.elm_primary_container.querySelectorAll(".js-menu-section-link:not([data-section])"),this.elm_shroud=this.elm_menu.querySelector(".js-menu-pane-shroud"),this.elm_secondary_container=null,this.elm_links_secondary=null,this.elm_close_secondary=null,this.elm_video_wrapper=this.elm_menu.querySelector(".js-menu-video-container"),this.elm_video_list=this.elm_video_wrapper.querySelectorAll(".rrmc-menu-video"),this.elm_image_list=document.querySelectorAll(".rrmc-menu-bg-right-picture-img"),this.elm_video=null,this.content_id="0",this.elm_dealer_link=this.elm_primary_container.querySelector(".js-menu-link-dealers"),this.active_link_container=null,this.active_content_container=null,this.is_animating=!1,this.hover_anim_in_progress=!1,this.menu_stack_open=!1,this.is_mobile=window.innerWidth<1024,this.primary_links_stagger_to=.9,this.contentContainer=document.querySelector(".rrmc-page-canvas"),this.setObjectFitFallback=function(){[].slice.call(t.elm_video_list).forEach((function(e){e.querySelector("video").classList.add("video-obj-fit")})),[].slice.call(t.elm_image_list).forEach((function(e){(0,p.default)(e)}))},[].slice.call(this.elm_direct_links).forEach((function(e){e.addEventListenerRR("click",(function(e){var t=void 0;t=e.target.getAttribute("href")?e.target.getAttribute("href"):e.target.parentNode.getAttribute("href");var n=e.target.innerText.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ");e.stopPropagation(),e.preventDefault(),m.fireCustomEvent({event:"sideNavClick",eventCategory:"Side Nav",eventAction:"Side Nav Click",eventLabel:n,eventCallback:function(){"_blank"!==e.target.getAttribute("target")&&(window.location=t)}})}))})),this.hover_anim_finished=function(){t.hover_anim_in_progress=!1},this.on_icon_over=function(){t.hover_anim_in_progress||t.menu_stack_open||(t.hover_anim_in_progress=!0,t.lottie_menu_stack.playSegments([0,30],!0),t.lottie_menu_stack.addEventListener("complete",t.hover_anim_finished))},this.init_vjs=function(){window.innerWidth>=1024?([].slice.call(t.elm_video_list).forEach((function(e){var t=videojs(e),n=t.getChild("errorDisplay");n.off(t,"error",n.open),n.dispose()})),t.elm_video_list=t.elm_video_wrapper.querySelectorAll(".rrmc-menu-video")):t.is_mobile=!0},this.update_sticky_ie11=function(){var e=t.elm_secondary_container.clientWidth;t.elm_link_back_container.style.width=e+"px"},this.handle_play=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=t.elm_video_list[e],r=n.querySelector("video");t.elm_video=n,videojs(n).play();var i=o.gsap.timeline();i.add(t.reveal_layer_video(n),"start").add(t.reveal_layer_video(r),"start"),[].slice.call(t.elm_video_list).forEach((function(e){return e!==n?videojs(e).pause():""}))},this.revert_content=function(){var e=t.active_link_container.querySelector('[data-content="0"]'),n=t.active_link_container.querySelector(".is-selected"),r=t.active_content_container.querySelector('[data-content="0"]');t.active_content_container.querySelector(".is-selected").classList.remove("is-selected"),r.classList.add("is-selected"),n.classList.remove("is-selected"),e.classList.add("is-selected"),[].slice.call(t.active_content_container.querySelectorAll("[data-content]")).forEach((function(e){return o.TweenLite.set(e,{clearProps:"opacity"})}))},this.transition_content=function(e,n,r,i){r.querySelector(".is-selected").classList.remove("is-selected"),n.classList.add("is-selected");var a=[].slice.call(i).filter((function(e){return e.classList.contains("is-selected")?e:""})).shift(),s=[].slice.call(i).filter((function(t){return t.getAttribute("data-content")===e?t:""})).shift(),l=a.querySelector(".js-rrmc-button");l.style.pointerEvents="none";var c=t.elm_video,u=t.elm_video_list[e].querySelector("video");o.gsap.timeline().call((function(){t.handle_play(e),t.is_animating=!0})).add(t.reveal_layer_video(u),"start").add(t.reveal_layer(s),"start").add(t.hide_layer(a),"0.25").add(t.hide_layer(c),"0.5").call((function(){a.classList.remove("is-selected"),s.classList.add("is-selected"),t.is_animating=!1,l.style="pointer-events: all"}))},this.secondary_content_handler=function(e,n,r){var i=e.getAttribute("data-content");t.content_id===i||t.is_animating||(t.content_id=i,t.transition_content(i,e,n,r))},this.stop_all_video=function(){return[].slice.call(t.elm_video_list).forEach((function(e){videojs(e.id).pause(),o.gsap.timeline().add(t.hide_layer(e),"start").call((function(){o.TweenLite.set(e,{clearProps:"opacity, z-index"})}))}))},this.open_secondary=function(e){m.fireTronActivityClickEvent(),[].slice.call(t.elm_section_links).forEach((function(e){return e.removeEventListenerRR("click",t.open_secondary)}));var n=e.currentTarget,r=n.getAttribute("data-section");t.active_section=r,t.is_feature=n.getAttribute("data-featured-section"),t.elm_secondary_container=t.elm_menu.querySelector('.rrmc-menu-links-container-secondary[data-section="'+r+'"]'),t.elm_secondary_container_scrollable=t.elm_secondary_container.querySelector(".rrmc-scroll-links"),t.elm_secondary_container_scrollable||(t.elm_secondary_container_scrollable=t.elm_secondary_container.querySelector(".rrmc-scrollhide")),t.elm_right_content=t.elm_menu.querySelector('.js-menu-bg-right-content-wrapper[data-section-bg="'+r+'"]'),t.elm_links_secondary=t.elm_secondary_container.querySelectorAll(".js-menu-link"),t.content_links_secondary=t.elm_secondary_container.querySelectorAll("[data-content]"),t.elm_close_secondary=t.elm_secondary_container.querySelector(".js-menu-close");var s=o.gsap.timeline().delay(.4);t.elm_links_back=t.elm_close_secondary.querySelector(".js-rrmc-menu-link-back-icon"),t.elm_view_all=t.elm_secondary_container.querySelector(".js-view-all-icon"),t.elm_link_back_container=t.elm_secondary_container.querySelector(".js-menu-link.rrmc-menu-link-anim.rrmc-menu-link-back"),t.flag_secondary_open=!0,t.adjust_back_offset(),t.elm_secondary_container.addEventListenerRR("click",t.secondary_click_handler),o.TweenLite.set(t.elm_shroud,{"pointer-events":"auto"}),(0,a.disableBodyScroll)(t.elm_secondary_container_scrollable),s.add((function(){t.elm_menu_cta.removeEventListenerRR("click",t.hide_menu)})).addLabel("start").add(t.fade_primary_container_out_right(),"start").add(t.display_secondary_container(t.elm_secondary_container),"start").add((function(){(0,u.is_ie11)()&&(t.update_sticky_ie11(),window.addEventListenerRR("resize",t.update_sticky_ie11))}),"start+=.1").add((function(){(0,i.is_tablet_portrait_down)()&&(t.elm_secondary_container_scrollable.scrollTop=0)})).add(t.reveal_secondary_links(t.elm_links_secondary),"start").add(t.reveal_back_icon(t.elm_links_back),"start+=.4").add((function(){t.elm_close_secondary.addEventListenerRR("click",t.close_secondary),t.elm_menu_cta.addEventListenerRR("click",t.close_two_stages)})),t.is_feature&&(t.elm_right_content_list=t.elm_right_content.querySelectorAll(".js-menu-bg-right-content"),s.add(t.reveal_video_pane(),"start").add(t.reveal_forward_icon(t.elm_view_all),"start+=.4").call((function(){!t.is_mobile&&t.handle_play()})),t.is_mobile||s.add(t.reveal_right_pane_content(),"start+=.1").add(t.reveal_right_pane_content_layer(),"start+=.1"),s.add(t.display_right_pane_content(t.elm_right_content),"start+=.1").add((function(){t.is_mobile||[].slice.call(t.content_links_secondary).forEach((function(e){e.addEventListenerRR("click",t.clickListener(e))}))}))),m.fireCustomEvent({event:"sideNavClick",eventCategory:"Side Nav",eventAction:"Side Nav Click",eventLabel:t.active_section.toLowerCase()})},this.clickListener=function(e){return function(){return t.secondary_content_handler(e,t.elm_secondary_container,t.elm_right_content_list)}},this.secondary_click_handler=function(e){var t=e.target.parentNode,n=e.target.innerText.toLowerCase(),r={event:"sideNavClick",eventCategory:"Side Nav",eventAction:"Side Nav Click",eventLabel:n};if(t.classList.contains("js-menu-close")&&(n+=" back"),"A"===t.tagName){var i=t.getAttribute("href");r.eventCallback=function(){window.location=i},r.eventTimeout=2e3}m.fireTronActivityClickEvent(),m.fireCustomEvent(r)},this.close_secondary=function(){m.fireTronActivityClickEvent(),t.flag_secondary_open=!1,t.elm_video=t.elm_video_wrapper.querySelector(".vjs-tech"),t.elm_secondary_container.removeEventListenerRR("click",t.secondary_click_handler),(0,u.is_ie11)()&&window.removeEventListenerRR("resize",t.update_sticky_ie11),t.active_link_container=t.elm_menu.querySelector('.rrmc-menu-links-container-secondary[data-section="'+t.active_section+'"]'),t.active_content_container=t.elm_menu.querySelector('.js-menu-bg-right-content-wrapper[data-section-bg="'+t.active_section+'"]');var e=o.gsap.timeline();e.addLabel("start").add((function(){t.elm_menu_cta.removeEventListenerRR("click",t.close_two_stages),o.TweenLite.set(t.elm_shroud,{"pointer-events":"none"})})).add(t.reveal_primary_container(),"start").add(t.animate_in_primary_container(),"start+=0.3").add(t.hide_secondary_container(t.elm_secondary_container),"start").add(t.reset_back_icon(t.elm_links_back),"start").add((function(){t.clear_secondary_layers(t.elm_secondary_container,t.elm_links_secondary),t.elm_menu_cta.addEventListenerRR("click",t.hide_menu),[].slice.call(t.elm_section_links).forEach((function(e){return e.addEventListenerRR("click",t.open_secondary)}))})),t.is_feature&&e.add(t.hide_right_pane_content(),"start").add(t.hide_video_pane(),"start").add(t.reset_view_all(t.elm_view_all),"start").call((function(){t.stop_all_video(),t.revert_content()})).add((function(){[].slice.call(t.elm_section_links).forEach((function(e){return e.addEventListenerRR("click",t.open_secondary)}))}))},this.load_model_images=function(){var e=document.querySelectorAll(".rrmc-menu-bg-right-picture");[].slice.call(e).forEach((function(e){(0,g.pictureLazyLoaderPlain)(e,(function(){}))})),t.model_images_loaded=!0},this.reveal_menu=function(){t.menu_cta_linkid_set_to_open(),m.fireTronActivityClickEvent(),t.model_images_loaded||t.load_model_images(),t.elm_menu.classList.add("is-enabled"),(0,a.disableBodyScroll)(t.elm_primary_container),f.default.scrollify.disable(),document.querySelector(".rrmc-homepage-carousel-section")&&document.body.classList.add("pause-hpc");var e=o.gsap.timeline();t.lottie_play_forward(),e.add((function(){t.elm_menu_cta.removeEventListenerRR("click",t.reveal_menu)})).add(t.reveal_primary_container(),"start").addLabel("start").add(t.reveal_left_pane(),"start").add(t.reveal_right_pane(),"start").add(t.reveal_primary_links(),"start+=.075").add((function(){[].slice.call(t.elm_section_links).forEach((function(e){return e.addEventListenerRR("click",t.open_secondary)})),t.elm_menu_cta.addEventListenerRR("click",t.hide_menu),t.elm_right.addEventListenerRR("click",t.hide_menu)})),m.fireCustomEvent({event:"menuClick",eventCategory:"Side Nav",eventAction:"Side Nav Open"}),t.menu_cta_linkid_set_to_close()},this.hide_menu=function(){m.fireTronActivityClickEvent(),(0,a.clearAllBodyScrollLocks)(),f.default.scrollify.enable(),document.querySelector(".rrmc-homepage-carousel-section")&&document.body.classList.remove("pause-hpc"),o.gsap.timeline().addLabel("start").add((function(){t.elm_menu_cta.removeEventListenerRR("click",t.hide_menu),t.elm_right.removeEventListenerRR("click",t.hide_menu)})).add(t.hide_primary_links()).add(t.hide_video_pane(),"start+=.4").add(t.hide_left_pane(),"start+=.65").add(t.hide_right_pane(),"start+=.4").add(t.hide_primary_container()).add((function(){t.elm_menu.classList.remove("is-enabled"),[].slice.call(t.elm_section_links).forEach((function(e){return e.removeEventListenerRR("click",t.open_secondary)})),t.elm_menu_cta.addEventListenerRR("click",t.reveal_menu),t.lottie_play_backward()})),m.fireCustomEvent({event:"sideNavClose",eventCategory:"Side Nav",eventAction:"Side Nav Close",eventLabel:"close"}),d.default.sub_mobile_menu.next(),t.menu_cta_linkid_set_to_open()},this.close_two_stages=function(){t.flag_secondary_open=!1,(0,a.clearAllBodyScrollLocks)(),f.default.scrollify.enable(),document.querySelector(".rrmc-homepage-carousel-section")&&document.body.classList.remove("pause-hpc");var e="-"+window.innerWidth+"px",n="-"+t.elm_left.clientWidth+"px";t.active_link_container=t.elm_menu.querySelector('.rrmc-menu-links-container-secondary[data-section="'+t.active_section+'"]'),t.active_content_container=t.elm_menu.querySelector('.js-menu-bg-right-content-wrapper[data-section-bg="'+t.active_section+'"]');var r=o.gsap.timeline();r.add((function(){t.elm_close_secondary.removeEventListenerRR("click",t.close_secondary),t.elm_menu_cta.removeEventListenerRR("click",t.close_two_stages),t.elm_right.removeEventListenerRR("click",t.hide_menu),(0,u.is_ie11)()&&window.removeEventListenerRR("resize",t.update_sticky_ie11)})).timeScale(1.2).addLabel("start"),t.is_feature&&r.set(t.elm_shroud,{overflow:"visible"}),r.add(t.hide_secondary_links(t.elm_links_secondary,{ease:o.Power3.easeInOut,x:n},2.357,0),"start").add(t.hide_left_pane({ease:o.Power3.easeInOut,x:n},2.0625),"start").add(t.hide_right_pane(),"start+=.1").add((function(){return t.lottie_play_backward()}),"start+=1.2").add((function(){t.elm_menu.classList.remove("is-enabled"),t.clear_primary_layers(),t.reset_back_icon(t.elm_links_back),t.clear_secondary_layers(t.elm_secondary_container,t.elm_links_secondary),[].slice.call(t.elm_section_links).forEach((function(e){return e.removeEventListenerRR("click",t.open_secondary)})),t.elm_menu_cta.addEventListenerRR("click",t.reveal_menu)})),t.is_feature&&r.add(t.hide_right_pane_content({ease:o.Power3.easeInOut,x:e},1.35),"start").add(t.hide_video_pane(),"start+=.1").add(t.hide_right_pane(),"start+=.1").add((function(){return t.reset_view_all(t.elm_view_all)})).call((function(){t.stop_all_video(),t.hide_video_pane(),t.revert_content()})).set(t.elm_shroud,{clearProps:"all"}),t.menu_cta_linkid_set_to_open()}}return r(e,[{key:"menu_cta_linkid_set_to_open",value:function(){var e=this.elm_menu_cta.getAttribute("data-tracking-linkid").replace("menu close","menu open").replace("close content","open content");this.elm_menu_cta.setAttribute("data-tracking-linkid",e)}},{key:"menu_cta_linkid_set_to_close",value:function(){var e=this.elm_menu_cta.getAttribute("data-tracking-linkid").replace("menu open","menu close").replace("open content","close content");this.elm_menu_cta.setAttribute("data-tracking-linkid",e)}},{key:"load",value:function(){var e=this;this.elm_menu_cta.addEventListenerRR("mouseenter",this.on_icon_over),this.elm_menu_cta.addEventListenerRR("click",this.reveal_menu),this.init_lottie(),this.init_vjs(),("objectFit"in document.documentElement.style==!1||/Edge/.test(navigator.userAgent))&&(this.setObjectFitFallback(),this.elm_left.classList.add("ie11-overflow-hidden")),window.addEventListenerRR("resize",(function(){e.is_mobile=window.innerWidth<1024})),(0,h.default)(this,"var_menu_top",d.default.sub_menu_top,this.adjust_back_offset),v.dealerService.subscribe((function(t){var n=t.get_name();if(n){var r=t.get_href();e.elm_primary_container.querySelector(".js-menu-link-dealers").classList.remove("rrmc-menu-link-hidden");var i=e.elm_dealer_link.querySelector("a"),o=i.getAttribute("data-tracking-linkid");i.setAttribute("href",r),i.setAttribute("data-tracking-linkid",o.replace("%dealer_location%",(n||"").toLowerCase())),i.setAttribute("aria-hidden","false"),i.setAttribute("aria-label",n),i.addEventListenerRR("click",(function(){m.fireTronActivityClickEvent()})),e.elm_dealer_link.querySelector("span").innerText=n,e.primary_links_stagger_to=.7}else e.elm_primary_container.querySelector(".js-menu-link-dealers").classList.add("rrmc-menu-link-hidden")}))}},{key:"adjust_back_offset",value:function(){if(this.flag_secondary_open&&(0,i.is_tablet_portrait_down)()){var e=this.var_menu_top.value();this.elm_link_back_container.style.paddingTop=e+"px"}}},{key:"init_lottie",value:function(){var e=this;this.menu_stack=document.querySelector(".rrmc-primary-nav--menu-wrapper .js-rrmc-primary-nav-icon"),this.menu_copy_open=document.querySelector(".rrmc-primary-nav--menu-wrapper .js-primary-nav-open"),this.menu_copy_close=document.querySelector(".rrmc-primary-nav--menu-wrapper .js-primary-nav-close");var t=c.anim_menu_stack;this.gradient_type=this.menu_stack.getAttribute("data-style"),this.invert_lottie_color=function(){e.lottie_menu_stack.destroy(),o.TweenLite.set(e.menu_stack,{opacity:0});var t=c.anim_menu_stack;t.layers[0].shapes[0].it[4].c.k=[1,1,1,1],t.layers[1].shapes[0].it[1].c.k=[1,1,1,1],t.layers[2].shapes[0].it[1].c.k=[1,1,1,1],t.layers[3].shapes[0].it[4].c.k=[1,1,1,1],t.layers[4].shapes[0].it[1].c.k=[1,1,1,1],t.layers[5].shapes[0].it[1].c.k=[1,1,1,1],e.lottie_menu_stack=l.default.loadAnimation({container:e.menu_stack,renderer:"svg",loop:!1,autoplay:!1,animationData:t}),e.lottie_menu_stack.playSegments([50,60],!0),o.TweenLite.to(e.menu_stack,.25,{opacity:1})},this.reset_lottie_color=function(){o.TweenLite.set(e.menu_stack,{opacity:0}),e.lottie_menu_stack.destroy();var t=c.anim_menu_stack;t.layers[0].shapes[0].it[4].c.k=[0,0,0,0],t.layers[1].shapes[0].it[1].c.k=[0,0,0,0],t.layers[2].shapes[0].it[1].c.k=[0,0,0,0],t.layers[3].shapes[0].it[4].c.k=[0,0,0,0],t.layers[4].shapes[0].it[1].c.k=[0,0,0,0],t.layers[5].shapes[0].it[1].c.k=[0,0,0,0],e.lottie_menu_stack=l.default.loadAnimation({container:e.menu_stack,renderer:"svg",loop:!1,autoplay:!1,animationData:t}),e.lottie_menu_stack.playSegments([40,30],!0),o.TweenLite.to(e.menu_stack,.25,{opacity:1})},"gradient-black"!==this.gradient_type&&"solid-black"!==this.gradient_type||(t.layers[0].shapes[0].it[4].c.k=[1,1,1,1],t.layers[1].shapes[0].it[1].c.k=[1,1,1,1],t.layers[2].shapes[0].it[1].c.k=[1,1,1,1],t.layers[3].shapes[0].it[4].c.k=[1,1,1,1],t.layers[4].shapes[0].it[1].c.k=[1,1,1,1],t.layers[5].shapes[0].it[1].c.k=[1,1,1,1]),this.lottie_menu_stack=l.default.loadAnimation({container:this.menu_stack,renderer:"svg",loop:!1,autoplay:!1,animationData:t})}},{key:"lottie_play_forward",value:function(){var e=this;this.menu_stack_open=!0;var t="gradient-white"===this.gradient_type||"solid-white"===this.gradient_type?[30,50]:[30,60];this.lottie_menu_stack.playSegments(t,!0),o.gsap.timeline().fromTo(this.menu_copy_open,.25,{opacity:1},{opacity:0,ease:o.Power2.easeInOut}).fromTo(this.menu_copy_close,.25,{opacity:0},{opacity:1,ease:o.Power2.easeInOut},"-=.2"),"gradient-white"!==this.gradient_type&&"solid-white"!==this.gradient_type||this.lottie_menu_stack.addEventListener("complete",(function(){e.lottie_menu_stack.removeEventListener("complete"),e.invert_lottie_color()}))}},{key:"lottie_play_backward",value:function(){var e=this;this.menu_stack_open=!1;var t="gradient-white"===this.gradient_type||"solid-white"===this.gradient_type?[60,40]:[60,30];this.lottie_menu_stack.playSegments(t,!0),"gradient-white"!==this.gradient_type&&"solid-white"!==this.gradient_type||this.lottie_menu_stack.addEventListener("complete",(function(){e.lottie_menu_stack.removeEventListener("complete"),e.reset_lottie_color()})),o.gsap.timeline().fromTo(this.menu_copy_close,.25,{opacity:1},{opacity:0,ease:o.Power2.easeInOut}).fromTo(this.menu_copy_open,.25,{opacity:0},{x:"0%",opacity:1,ease:o.Power2.easeInOut},"-=.2")}},{key:"reveal_primary_container",value:function(){return o.TweenLite.set(this.elm_primary_container,{overflow:"visible",display:"flex"})}},{key:"animate_in_primary_container",value:function(){return o.gsap.timeline().set(this.elm_primary_container,{x:"0%",opacity:1}).set(this.elm_links,{x:"20%",opacity:0}).staggerTo(this.elm_links,.9,{x:"0%",opacity:1,ease:o.Power3.easeOut},-.1)}},{key:"hide_primary_container",value:function(){return o.TweenLite.set(this.elm_primary_container,{overflow:"hidden",display:"none"})}},{key:"fade_primary_container_out_right",value:function(){var e=this;return o.TweenLite.to(this.elm_primary_container,.5,{x:"20%",opacity:0,ease:o.Power3.easeOut,onComplete:function(){o.TweenLite.set(e.elm_primary_container,{display:"none"})}})}},{key:"reveal_left_pane",value:function(){return o.TweenLite.to(this.elm_left,.8,{x:"0%",ease:o.Power3.easeOut})}},{key:"reveal_video_pane",value:function(){return o.TweenLite.to(this.elm_video_wrapper,1.2,{opacity:1,ease:o.Linear.easeNone})}},{key:"reveal_layer",value:function(e){return o.TweenLite.to(e,1,{opacity:1,ease:o.Linear.easeNone})}},{key:"reveal_layer_video",value:function(e){return o.TweenLite.to(e,1,{opacity:1,ease:o.Linear.easeNone})}},{key:"reveal_right_pane",value:function(){return o.TweenLite.to(this.elm_right,.4,{opacity:.8,ease:o.Linear.easeNone})}},{key:"display_right_pane_content",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elm_right_content;return o.TweenLite.set(e,{opacity:1,zIndex:1})}},{key:"reveal_right_pane_content",value:function(){return o.TweenLite.to(this.elm_right_content,1.1,{x:"0%",ease:o.Power3.easeOut})}},{key:"hide_right_pane_content",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r={x:"-100%",ease:o.Power3.easeOut,onComplete:function(){return o.TweenLite.set(e.elm_right_content,{opacity:0})}};return(0,s.assign)(r,t),o.TweenLite.to(this.elm_right_content,1.1*n,r)}},{key:"reveal_right_pane_content_layer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.elm_right_content_list[0];return o.TweenLite.to(e,1.1,{opacity:"1",ease:o.Power3.easeOut})}},{key:"reveal_primary_links",value:function(){return o.TweenMax.staggerTo(this.elm_links,this.primary_links_stagger_to,{x:"0%",opacity:1,ease:o.Power3.easeOut},-.1)}},{key:"reveal_secondary_links",value:function(e){if((0,i.is_tablet_portrait_down)()){this.elm_secondary_container_scrollable.scrollTop=0;var t=o.gsap.timeline();return t.set(e,{x:0,xPercent:-50}),t.to(e,{xPercent:0,opacity:1,ease:o.Power3.easeInOut,stagger:-.1,duration:2.2}),t}var n=o.gsap.timeline();return n.set(e,{x:0,xPercent:-50}),n.to(e,{xPercent:0,opacity:1,ease:o.Power3.easeInOut,duration:1.2,stagger:-.1}),n}},{key:"hide_secondary_links",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i={x:"-50%",opacity:0,ease:o.Power3.easeOut};return(0,s.assign)(i,t),o.TweenMax.staggerTo(e,.7*n,i,.04*r)}},{key:"hide_primary_links",value:function(){return o.TweenMax.staggerTo(this.elm_links,this.primary_links_stagger_to,{x:"-100%",opacity:0,ease:o.Power3.easeIn},.1)}},{key:"hide_left_pane",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r={x:"-100%",ease:o.Power3.easeIn,onComplete:function(){o.TweenLite.set(e.elm_left,{clearProps:"all"})}};return(0,s.assign)(r,t),o.TweenLite.to(this.elm_left,.8*n,r)}},{key:"hide_video_pane",value:function(){var e=this;return o.TweenLite.to(this.elm_video_wrapper,.2,{opacity:0,ease:o.Linear.easeNone,onComplete:function(){o.TweenLite.set(e.elm_video_wrapper,{clearProps:"all"}),[].slice.call(e.elm_video_list).forEach((function(e){var t=e.querySelectorAll("video");o.TweenLite.set(t,{clearProps:"opacity, z-index"})}))}})}},{key:"hide_layer",value:function(e){return o.TweenLite.to(e,1,{opacity:0,ease:o.Linear.easeNone})}},{key:"hide_right_pane",value:function(){var e=this;return o.TweenLite.to(this.elm_right,.2,{opacity:0,ease:o.Linear.easeNone,onComplete:function(){o.TweenLite.set(e.elm_right,{clearProps:"all"})}})}},{key:"display_secondary_container",value:function(e){return o.TweenLite.set(e,{display:"flex",opacity:1})}},{key:"hide_secondary_container",value:function(e){return o.TweenLite.to(e,1,{x:"-20%",opacity:0,ease:o.Power3.easeOut,onComplete:function(){o.TweenLite.set(e,{display:"none"})}})}},{key:"clear_secondary_layers",value:function(e,t){o.TweenLite.set(e,{clearProps:"all"}),o.TweenLite.set(t,{clearProps:"all"})}},{key:"clear_primary_layers",value:function(){o.TweenLite.set(this.elm_primary_container,{clearProps:"all"}),o.TweenLite.set(this.elm_links,{clearProps:"all"})}},{key:"reveal_back_icon",value:function(e){return o.TweenLite.to(e,1,{opacity:1,x:"-32px",ease:o.Power3.easeInOut})}},{key:"reveal_forward_icon",value:function(e){return o.TweenLite.to(e,1,{opacity:1,x:"32px",ease:o.Power3.easeInOut})}},{key:"reset_back_icon",value:function(e){return o.TweenLite.set(e,{clearProps:"all"})}},{key:"reset_view_all",value:function(e){return o.TweenLite.set(e,{clearProps:"all"})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){document.querySelector(".js-menu")&&(new _).load()}))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n(658);var o=h(n(76)),a=n(64),s=n(659),l=n(660),c=h(n(46)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){t.markup="<div>";var n=[];[].slice.call([{car:/Phantom/i,found:!1},{car:/Ghost/i,found:!1},{car:/Cullinan/i,found:!1},{car:/Wraith/i,found:!1},{car:/Dawn/i,found:!1}]).forEach((function(e){var r=!0,i=!1,o=void 0;try{for(var a,s=t.data.vehicles[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.modelGroup.match(e.car))return e.found=!0,void n.push(l)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}));var r=(0,s.mergeArrays)(n,t.data.vehicles).slice(0,3),o=!0,c=!1,u=void 0;try{for(var h,d=r.entries()[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){var p=h.value,f=i(p,2),m=f[0],v=f[1];window.renderedCars.push(v),t.markup+=""+t.generate_entry(m,v,e)}}catch(e){c=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(c)throw u}}return"provenance"===e&&(t.markup+='<div class="rrmc-provenance--view-all-wrapper">'+(0,l.generate_select_secondary_cta)({label:(0,a.getI18nComponent)("View All"),href:t.data.dealerInventoryUrl,linkid:"button"+(r.length+1)+"view alloutbound link"})+"</div>"),t.markup+="</div>",t.markup}var f,m=function(){function e(t){d(this,e),this.data=t,this.impressions=[],p("provenance",this)}return r(e,[{key:"generate_entry",value:function(e,t,n){var r=t.vehicleDisplayUrl.substring(0,t.vehicleDisplayUrl.length-1).split("/").pop();return'\n    <div class="rrmc-component-grid-container rrmc-provenance-new-entry-container">\n      <div class="rrmc-provenance-new-entry-left-section">\n       <div class="rrmc-provenance-details-aligner">\n          <div class="rrmc-provenance-specs-container">\n            <div class="rrmc-provenance-specs-header">\n              <h3 class="rrmc-provenance-specs-header-title">'+t.modelGroup+'</h3>\n              <div class="rrmc-provenance-specs-header-year">'+t.registrationYear+"\n              "+(t.modelVariant.indexOf("black badge")>-1?'<span class="rrmc-provenance-specs-header-year-bb">\n                  BLACK BADGE\n                  </span>':"")+'\n              </div>\n            </div>\n            <div class="rrmc-provenance-divider"></div>\n            <div class="rrmc-provenance-specs-features">\n              <div class="rrmc-provenance-specs-table">\n                '+(void 0!==t.exterior&&null!==t.exterior?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Exterior")+'</div>\n                  <div class="cell-text">'+t.exterior+"</div>\n                </div>\n                ":"")+"\n                "+(void 0!==t.interior&&null!==t.interior?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Interior")+'</div>\n                  <div class="cell-text">'+t.interior+"</div>\n                </div>\n                ":"")+"\n                "+(void 0!==t.veneer&&null!==t.veneer?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Veneer")+'</div>\n                  <div class="cell-text">'+t.veneer+"</div>\n                </div>\n                ":"")+"\n              \n                "+(void 0!==t.bespokeFeatures[0]&&null!==t.bespokeFeatures[0]?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Features")+'</div>\n                  <div class="cell-text">\n                    <ul>\n                      '+(void 0!==t.bespokeFeatures[0]?"<li>"+t.bespokeFeatures[0]+"</li>":"")+"\n                      "+(void 0!==t.bespokeFeatures[1]?"<li>"+t.bespokeFeatures[1]+"</li>":"")+"\n                      "+(void 0!==t.bespokeFeatures[2]?"<li>"+t.bespokeFeatures[2]+"</li>":"")+"\n                    </ul>\n                  </div>\n                </div>":"")+"\n                \n              </div>\n              "+(0,l.generate_select_secondary_cta)({label:(0,a.getI18nComponent)("View Details"),href:t.vehicleDisplayUrl,carId:r,carCatgeory:n,linkid:"button"+(e+1)+""+(t.modelGroup||"").toLowerCase()+" "+(t.registrationYear||"").toLowerCase()+"outbound link"})+'\n            </div>\n          </div>\n       </div>\n      </div>\n      <div class="rrmc-provenance-new-entry-right-section">\n        <img class="rrmc-provenance-entry-image" src="'+t.image+'" alt="'+t.description+'">\n      </div>\n      <div class="rrmc-provenance-card-divider"></div>\n    </div>'}},{key:"generate",value:function(){return this.markup}}]),e}(),v=function(){function e(t){d(this,e),this.data=t,this.markup=p("new",this)}return r(e,[{key:"generate_entry",value:function(e,t,n){var r=t.vehicleDisplayUrl.substring(0,t.vehicleDisplayUrl.length-1).split("/").pop();return'\n    <div class="rrmc-component-grid-container rrmc-provenance-new-entry-container">\n      <div class="rrmc-provenance-new-entry-left-section">\n       <div class="rrmc-provenance-details-aligner">\n          <div class="rrmc-provenance-specs-container">\n            <div class="rrmc-provenance-specs-header">\n              <h3 class="rrmc-provenance-specs-header-title">'+t.modelGroup+'</h3>\n              <div class="rrmc-provenance-specs-header-year">'+t.registrationYear+"\n                "+(t.modelVariant.indexOf("black badge")>-1?'<span class="rrmc-provenance-specs-header-year-bb">BLACK BADGE</span>':"")+'\n              </div>\n            </div>\n            <div class="rrmc-provenance-divider"></div>\n            <div class="rrmc-provenance-specs-features">\n              <div class="rrmc-provenance-specs-table">\n                '+(void 0!==t.exterior&&null!==t.exterior?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Exterior")+'</div>\n                  <div class="cell-text">'+t.exterior+"</div>\n                </div>\n                ":"")+"\n                "+(void 0!==t.interior&&null!==t.interior?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Interior")+'</div>\n                  <div class="cell-text">'+t.interior+"</div>\n                </div>\n                ":"")+"\n                "+(void 0!==t.veneer&&null!==t.veneer?'\n                <div class="rrmc-provenance-specs-row">\n                  <div class="cell-label">'+(0,a.getI18nComponent)("Veneer")+'</div>\n                  <div class="cell-text">'+t.veneer+"</div>\n                </div>\n                ":"")+"\n              \n                "+(void 0!==t.bespokeFeatures[0]&&null!==t.bespokeFeatures[0]?'\n                  <div class="rrmc-provenance-specs-row">\n                    <div class="cell-label">'+(0,a.getI18nComponent)("Features")+'</div>\n                    <div class="cell-text">\n                      <ul>\n                        '+(void 0!==t.bespokeFeatures[0]?"<li>"+t.bespokeFeatures[0]+"</li>":"")+"\n                        "+(void 0!==t.bespokeFeatures[1]?"<li>"+t.bespokeFeatures[1]+"</li>":"")+"\n                        "+(void 0!==t.bespokeFeatures[2]?"<li>"+t.bespokeFeatures[2]+"</li>":"")+"\n                      </ul>\n                    </div>\n                  </div>":"")+"\n              </div>\n              "+(0,l.generate_select_secondary_cta)({label:(0,a.getI18nComponent)("View Details"),href:t.vehicleDisplayUrl,carId:r,carCatgeory:n,linkid:"button"+(e+1)+""+(t.modelGroup||"").toLowerCase()+" "+(t.registrationYear||"").toLowerCase()+"outbound link"})+'\n            </div>\n          </div>\n       </div>\n      </div>\n      <div class="rrmc-provenance-new-entry-right-section">\n        <img class="rrmc-provenance-entry-image" src="'+t.image+'" alt="'+t.description+'">\n      </div>\n    </div>\n      '}},{key:"generate",value:function(){return this.markup}}]),e}(),g=function(){function e(t){var n=this;d(this,e),this.container=t,window.renderedCars=window.renderedCars||[],window.provenanceCounter=window.provenanceCounter||0,window.provenanceMin=2,this.dealer_number=this.container.getAttribute("data-dealer-number"),this.locale=this.container.getAttribute("data-locale"),this.type=this.container.getAttribute("data-type"),this.api_endpoint=this.container.getAttribute("data-api-endpoint"),this.intro_container=this.container.querySelector(".rrmc-provenance-intro--container"),this.MarkupGenerator="new"===this.type?v:m,this.elm_models=this.container.querySelector(".js-rrmc-provenance-models"),this.store_response=function(e){n.car_data=e}}var t,n;return r(e,[{key:"get_request_url",value:function(){var e=this,t="new"===this.type?"new":"retail",n=this.api_endpoint;return location.hostname.includes("localhost")&&(n="http://127.0.0.1:5000"),n+"/api/vehicles/make/rolls-royce/dealer/"+this.dealer_number+"/vehiclestatus/"+t+"/language/"+function(){switch(e.locale){case"en_GB":return"en_gb";case"en_US":return"en_us";case"de_DE":return"de_de";case"zh_CN":return"zh_cn";case"zh_TW":case"zh_HK":case"ru_RU":return"en_gb";case"ja_JP":return"ja_jp";case"tr_TR":case"az_AZ":case"uk_UA":case"pl_PL":case"cs_CZ":return"en_gb";case"ko_KR":return"ko_kr"}}()}},{key:"send_request",value:function(){var e=this;return new Promise((function(t,n){$.ajax({type:"GET",url:e.get_request_url(),success:function(e){return t(e)},error:function(e){window.provenanceMin=1,n(e)}}).then(e.store_response)}))}},{key:"apply_html",value:function(e){this.elm_models.innerHTML=e;var t=this.elm_models.querySelectorAll(".rrmc-provenance-entry-container"),n=t[t.length-1];n&&n.classList.add("rrmc-provenance-entry--last")}},{key:"init_ctas",value:function(){var e=[].slice.call(this.elm_models.querySelectorAll(".js-provenance-cta")),t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;new o.default(s).load()}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}},{key:"apply_analytics",value:function(){if(!(window.provenanceCounter<window.provenanceMin)){var e=[],t=document.querySelectorAll(".rrmc-provenance--view-details a");[].slice.call(t).forEach((function(t,n){if(t.hasAttribute("data-tracking-id")){t.setAttribute("data-index",""+(n+1));var r=window.renderedCars[n],i=r.modelVariant.indexOf("black badge")>-1?r.modelGroup+" Black Badge":r.modelGroup,o=void 0!==r.exterior&&null!==r.exterior?""+r.exterior.replace(/ /g,"_"):"",a={id:t.getAttribute("data-tracking-id"),name:i.replace(/ /g,"_"),category:t.getAttribute("data-car-category"),list:"dealer: "+window.rrmc_dealer_info.dealerName,variant:o,position:n+1};e.push(a)}})),u.fireCustomEvent({event:"ee-productImpression",ecommerce:{impressions:e}})}}},{key:"update_html",value:function(){if(this.car_data.vehicles.length>0){var e=new this.MarkupGenerator(this.car_data);this.apply_html(e.generate()),this.init_ctas(),this.polyfill_car_images(),this.intro_container.classList.add("provenance-is-loaded")}else this.container.remove();window.provenanceCounter=window.provenanceCounter+1,this.apply_analytics()}},{key:"load",value:(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send_request();case 2:this.update_html();case 3:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return n.apply(this,arguments)})},{key:"polyfill_car_images",value:function(){"objectFit"in document.documentElement.style==!1&&(0,c.default)(this.container.querySelectorAll(".rrmc-provenance-entry-image"))}}]),e}();f=document.querySelectorAll(".js-rrmc-provenance"),document.addEventListenerRR("DOMContentLoaded",(function(){[].slice.call(f).forEach((function(e){new g(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeArrays=function(){for(var e=[],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];n.forEach((function(t){e=[].concat(r(e),r(t))}));var o=e.reduce((function(e,t){return e.includes(t)?e:[].concat(r(e),[t])}),[]);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generate_select_secondary_cta=function(e){var t=e.label,n=e.href,i=e.carId,o=void 0===i?void 0:i,a=e.carCatgeory,s=void 0===a?void 0:a,l=e.linkid,c=void 0===l?void 0:l;return'<div class="rrmc-provenance--view-details"\n        href="'+n+'">\n      <a\n        '+(void 0!==c?"data-tracking-linkid='"+c+"'":"")+'\n        data-lazy-load-class="cta-lazy-load" style="color: #281432;"\n        aria-label="'+t+'"\n        href="'+n+'"\n        target="_blank"\n        '+(void 0!==o?"data-tracking-id='"+o+"'":"")+"\n        "+(void 0!==s?"data-car-category='"+s+"'":"")+'\n        class="rrmc-cta-component rrmc-button--secondary dealer-provenance-cta js-provenance-cta">\n          <span class="rrmc-button-background js-rrmc-button-background" data-color="#6d30a7"></span>\n          <span class="rrmc-button-text js-rrmc-button-text">'+(0,r.getI18nComponent)(t)+'</span>\n          <span class="rrmc-button-arrow js-rrmc-button-arrow" style="color: #6d30a7;"></span>\n        </a>\n      </div>\n      '},t.generate_select_primary_cta=function(e,t){return'<div class="rrmc-provenance--view-all"\n        href="'+t+'">\n      <a\n        data-lazy-load-class="cta-lazy-load" style="color: #FFFFFF;"\n        aria-label="'+(0,r.getI18nComponent)(e)+'"\n        href="'+t+'"\n        target="_blank"\n        class="rrmc-cta-component rrmc-button--primary dealer-provenance-cta js-provenance-cta">\n          <span class="rrmc-button-background js-rrmc-button-background" data-color="#6D30A7"></span>\n          <span class="rrmc-button-text js-rrmc-button-text">'+(0,r.getI18nComponent)(e)+'</span>\n          <span class="rrmc-button-arrow js-rrmc-button-arrow" style="color: #FFFFFF;"></span>\n        </a>\n      </div>\n      '};var r=n(64)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(662);var i,o=n(46),a=(i=o)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.images=[].slice.call(this.container.querySelectorAll(".rrmc-rr25-overlay-switch-img-tag"))}return r(e,[{key:"load",value:function(){if("objectFit"in document.documentElement.style==!1){var e=!0,t=!1,n=void 0;try{for(var r,i=this.images[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;(0,a.default)(o)}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}}}]),e}();window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-rr25-overlay-switch");[].slice.call(e).forEach((function(e){var t=new s(e);e.data={RR25OverlaySwitch:t},t.load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(664);var i=n(7),o=n(665),a=n(671);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=t,this.img_elm=this.component.querySelector(".rrmc-rr25-img"),this.wrapper_elm=this.component.querySelector(".rrmc-rr25-wrapper")}return r(e,[{key:"init_image",value:function(){this.path="/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/rr25/canvas.jpeg",this.img_width=4032,this.img_height=3032}},{key:"load",value:function(){this.island=new o.Island(this),this.island.load(),this.chapters=new a.ChaptersDirect(this),this.chapters.load()}},{key:"swap_main_ctas",value:function(e){var t=new i.TimelineLite,n=this.component.querySelector(".rrmc-rr25-chapters-ctas"),r=this.component.querySelector(".rrmc-rr25-island-ctas");i.TweenLite.killTweensOf(n),i.TweenLite.killTweensOf(r),"chapter"===e?t.to(r,.2,{opacity:0},0).to(r,0,{zIndex:1,pointerEvents:"none"},"+=0.2").to(n,0,{zIndex:2,pointerEvents:"auto"}).to(n,.2,{opacity:1}):t.to(n,.2,{opacity:0},0).to(n,0,{zIndex:1,pointerEvents:"none"},"+=0.2").to(r,0,{zIndex:2,pointerEvents:"auto"}).to(r,.2,{opacity:1})}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelector(".rrmc-rr25");e&&new s(e).load()}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Island=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(7),a=n(14),s=(r=a)&&r.__esModule?r:{default:r},l=n(666),c=n(667),u=n(668),h=n(670);t.Island=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.elm_island=this.ctx.wrapper_elm.querySelector(".rrmc-rr25-island--wrapper"),this.elm_preview=this.ctx.wrapper_elm.querySelector(".rrmc-rr25-island--preview"),this.elm_pins=[].slice.call(this.elm_island.querySelectorAll(".rrmc-rr25-island--pin")),this.elm_veil=this.ctx.wrapper_elm.querySelector(".rrmc-rr25-island--veil"),this.elm_reveal=this.ctx.wrapper_elm.querySelector(".rrmc-rr25-island--background-reveal"),this.elm_header_components=[].slice.call(this.ctx.wrapper_elm.querySelectorAll(".rrmc-rr25-island--header-component")),this.elm_begin_cta=this.ctx.wrapper_elm.querySelector(".rrmc-rr25-island--header-cta"),this.setup_desktop_actions(),this.on_pin_enter=function(e){n.pin_enter_action(e)},this.on_pin_leave=function(){n.pin_leave_action()},this.on_pin_move=function(e){n.pin_move_action(e)},this.on_pin_click=function(e){n.pin_click_action(e)}}var t,n;return i(e,[{key:"setup_desktop_actions",value:function(){var e=this;this.pin_click_action=function(t){e.ctx.chapters.reveal_chapter(t.id,t.chapterNo)},this.pin_enter_action=function(t){e.preview.show(t),e.header.fadeOut(t)},this.pin_leave_action=function(){e.preview.hide(),e.header.fadeIn()},this.pin_move_action=function(t){e.preview.move(t)}}},{key:"enable_touch_interface",value:function(){var e=this;this.elm_veil.addEventListenerRR("click",(function(){e.preview.hide_popup()})),this.touch_close=function(){o.TweenLite.to(e.elm_veil,.2,{opacity:0}),o.TweenLite.set(e.elm_veil,{clearProps:"pointerEvents"})},this.preview.set_mobile({onClose:this.touch_close,onClick:function(t,n){return e.ctx.chapters.reveal_chapter(t,n)}}),this.pin_click_action=function(t){o.TweenLite.to(e.elm_veil,.2,{opacity:1}),o.TweenLite.set(e.elm_veil,{pointerEvents:"auto"}),e.preview.show_popup(t)},this.pin_enter_action=function(){},this.pin_leave_action=function(){},this.pin_move_action=function(){}}},{key:"global_reveal",value:function(){var e=this;return new Promise((function(t){var n=new o.TimelineLite;n.to(e.elm_reveal,.8,{opacity:0}),n.staggerFromTo(e.elm_pins,.5,{opacity:0,scale:1.4},{opacity:1,scale:1,delay:.5},.12),n.staggerFromTo(e.elm_header_components,.5,{opacity:0,y:20},{opacity:1,y:0},.12),n.set(e.elm_reveal,{display:"none"}),n.call(t)}))}},{key:"load",value:(t=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Background.untilLoaded(this.ctx.wrapper_elm);case 2:return e.next=4,this.global_reveal();case 4:this.preview=new u.Preview(this.elm_preview),this.header=new h.Header(this.ctx.wrapper_elm),this.pins=this.elm_pins.map((function(e){var n=new c.Pin(e,{onMove:t.on_pin_move,onEnter:t.on_pin_enter,onLeave:t.on_pin_leave,onClick:t.on_pin_click});return n.load(),n})),s.default.sub_touch_update.subscribe({next:function(e){e&&t.enable_touch_interface()}}),this.elm_begin_cta.addEventListenerRR("click",(function(){t.ctx.chapters.reveal_chapter("spirit-electrified")}));case 9:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return n.apply(this,arguments)})}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Background=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.background_image=this.ctx.querySelector(".rrmc-rr25-island--background-img")}return r(e,[{key:"is_complete",value:function(){return this.background_image.complete}},{key:"set_onload",value:function(e){var t=this;this.background_image.onload=function(){t.background_image.onload=function(){},e()}}}],[{key:"untilLoaded",value:function(t){return new Promise((function(n){var r=new e(t);if(r.is_complete())return n();r.set_onload((function(){return n()}))}))}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.Pin=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.id=this.element.getAttribute("data-id"),this.chapterNo=this.element.getAttribute("data-chapter-no"),this.type=this.element.getAttribute("data-type"),this.fade=this.element.getAttribute("data-fade"),this.on_enter=function(e){n.onEnter({id:r.id,chapterNo:r.chapterNo,x:e.clientX,y:e.clientY,type:r.type,fade:r.fade})},this.on_leave=function(e){n.onLeave({id:r.id,chapterNo:r.chapterNo,x:e.clientX,y:e.clientY,type:r.type,fade:r.fade})},this.on_move=function(e){n.onMove({id:r.id,chapterNo:r.chapterNo,x:e.clientX,y:e.clientY,type:r.type,fade:r.fade})},this.on_click=function(e){n.onClick({id:r.id,chapterNo:r.chapterNo,x:e.clientX,y:e.clientY,type:r.type,fade:r.fade})}}return r(e,[{key:"load",value:function(){this.element.addEventListenerRR("mousemove",this.on_move),this.element.addEventListenerRR("mouseenter",this.on_enter),this.element.addEventListenerRR("mouseleave",this.on_leave),this.element.addEventListenerRR("click",this.on_click)}},{key:"destroy",value:function(){this.element.removeEventListenerRR("mousemove",this.on_move),this.element.removeEventListenerRR("mouseenter",this.on_enter),this.element.removeEventListenerRR("click",this.on_click)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(669),o=n(479),a=n(7);t.Preview=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elm_preview=t,this.elm_preview_content=this.elm_preview.querySelector(".rrmc-rr25-island--preview-content"),this.elm_video_container=this.elm_preview.querySelector(".rrmc-rr25-island--preview-content-video-container"),this.elm_close=this.elm_preview.querySelector(".rrmc-rr25-island--preview-content-close"),this.elm_open=this.elm_preview.querySelector(".rrmc-rr25-island--preview-content-open"),this.get_vertical_offset_bottom=function(e){return-(e.height+20)},this.get_vertical_offset_top=function(){return 20},this.preview_position=i.Spring.make((function(e,t){n.elm_preview.style.transform="translate("+t.x+"px, "+t.y+"px)"}),(0,o.vec)(window.innerWidth/2,window.innerHeight/2)),this.REVEAL_DURATION=.2,this.REVEAL_DELAY=.3,this.on_close_mobile_click=function(){n.hide_popup()},this.on_open_mobile_click=function(){n.on_mobile_play_callback(n.current_id,n.current_chapter_no)},this.elm_close.addEventListenerRR("click",this.on_close_mobile_click),this.elm_open.addEventListenerRR("click",this.on_open_mobile_click)}return r(e,[{key:"is_type_top",value:function(e){return"top"===e}},{key:"show",value:function(e){var t=e.id,n=e.type,r=e.chapter_no;this.current_id=t,this.current_chapter_no=r,a.TweenLite.killTweensOf(this.elm_preview_content),a.TweenLite.to(this.elm_preview_content,this.REVEAL_DURATION,{opacity:1}),this.elm_video_container.classList.remove("is-top"),this.is_type_top(n)&&this.elm_video_container.classList.add("is-top");var i=[].slice.call(this.elm_preview_content.querySelectorAll(".rrmc-rr25-island--preview-content-video")),o=[].slice.call(this.elm_preview_content.querySelectorAll(".rrmc-rr25-island--preview-content-label")),s=!0,l=!1,c=void 0;try{for(var u,h=i[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;d.getAttribute("data-id")===t?a.TweenLite.to(d,this.REVEAL_DURATION,{opacity:1}):a.TweenLite.to(d,this.REVEAL_DURATION,{opacity:0})}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}var p=!0,f=!1,m=void 0;try{for(var v,g=o[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var y=v.value;y.getAttribute("data-id")===t?a.TweenLite.to(y,this.REVEAL_DURATION,{opacity:1}):a.TweenLite.to(y,this.REVEAL_DURATION,{opacity:0})}}catch(e){f=!0,m=e}finally{try{!p&&g.return&&g.return()}finally{if(f)throw m}}}},{key:"apply_offset",value:function(e,t){var n=this.elm_preview.getBoundingClientRect();return this.is_type_top(t)?{x:e.x-n.width/2,y:e.y+this.get_vertical_offset_top()}:{x:e.x-n.width/2,y:e.y+this.get_vertical_offset_bottom(n)}}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};a.TweenLite.killTweensOf(this.elm_preview_content),a.TweenLite.to(this.elm_preview_content,this.REVEAL_DURATION,{opacity:0,delay:this.REVEAL_DELAY,onComplete:e})}},{key:"move",value:function(e){var t=e.x,n=e.y,r=e.type,i=(0,o.vec)(t,n),a=this.apply_offset(i,r);this.preview_position.set_target_value(a)}},{key:"show_popup",value:function(e){a.TweenLite.set(this.elm_preview,{zIndex:100}),this.show({id:e.id,type:"top",chapter_no:e.chapterNo})}},{key:"hide_popup",value:function(){var e=this;this.on_mobile_close_callback(),this.hide((function(){a.TweenLite.set(e.elm_preview,{clearProps:"zIndex"})}))}},{key:"set_mobile",value:function(e){var t=e.onClose,n=e.onClick;this.on_mobile_close_callback=function(){return t()},this.on_mobile_play_callback=function(e,t){return n(e,t)},this.REVEAL_DELAY=0,this.preview_position.detach_callback(),a.TweenLite.set(this.elm_preview,{clearProps:"transform"}),this.elm_preview.classList.add("is-mobile")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Spring=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(479);t.Spring=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.step=function(){t.next_step(),t.is_spring_idle()||requestAnimationFrame(t.step)}}return r(e,[{key:"next_step",value:function(){this.rate_of_change=(0,i.add_vectors)(this.rate_of_change,(0,i.add_vectors)((0,i.multiply_by)(this.rate_of_change,-.24),(0,i.multiply_by)((0,i.subtract_vectors)(this.target_value,this.current_value),.02))),this.current_value=(0,i.add_vectors)(this.current_value,this.rate_of_change),(0,i.magnitude)(this.rate_of_change)<.001&&(0,i.magnitude)((0,i.subtract_vectors)(this.target_value,this.current_value))<.001&&(this.rate_of_change=(0,i.vec)(0,0),this.current_value=(0,i.vec_copy)(this.target_value),this.stop_spring()),this.user_callback(this.rate_of_change,this.current_value)}},{key:"add_to_target_value_by_fn",value:function(e){this.target_value=e(this.target_value),this.is_spring_idle()&&this.start_spring()}},{key:"add_to_target_and_current_value_by_fn",value:function(e){this.target_value=e(this.target_value),this.current_value=e(this.current_value)}},{key:"set_target_value",value:function(e){this.target_value=e,this.is_spring_idle()&&this.start_spring()}},{key:"is_spring_idle",value:function(){return this.spring_idle}},{key:"start_spring",value:function(){this.spring_idle=!1,this.step()}},{key:"stop_spring",value:function(){this.spring_idle=!0}},{key:"get_target_value",value:function(){return this.target_value}},{key:"detach_callback",value:function(){this.user_callback=function(){}}}],[{key:"make",value:function(t,n){var r=new e;return r.rate_of_change=(0,i.vec)(0,0),r.spring_idle=!0,r.user_callback=t,r.current_value=(0,i.vec_copy)(n),r.target_value=(0,i.vec_copy)(n),r}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7);t.Header=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t,this.header=this.ctx.querySelector(".rrmc-rr25-island--header-wrapper"),this.tl=new i.TimelineLite}return r(e,[{key:"is_fade_type",value:function(e){return"fade"===e}},{key:"fadeOut",value:function(e){var t=e.fade;this.is_fade_type(t)&&(this.tl.kill(),this.tl=new i.TimelineLite,this.tl.to(this.header,.5,{opacity:.2}))}},{key:"fadeIn",value:function(){this.tl.kill(),this.tl=new i.TimelineLite,this.tl.to(this.header,.5,{opacity:1})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChaptersDirect=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));t.ChaptersDirect=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t}return r(e,[{key:"get_chapter_url",value:function(e){if(!window.rrmc_rr25_island)return"";var t=window.rrmc_rr25_island.filter((function(t){return t.locationId===e}));return t[0]?""+t[0].path:"/"}},{key:"reveal_chapter",value:function(e,t){var n=e.replace(/-/g," ");n=n.charAt(0).toUpperCase()+n.slice(1),i.fireCustomEvent({event:"islandClick",eventCategory:"engagement",eventAction:"rr25 island",eventLabel:"chapter "+t+" - "+n}),window.location=""+this.get_chapter_url(e)}},{key:"load",value:function(){}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(673);var i=n(7),o=n(85),a=n(674),s=n(675),l=n(676);function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_label_top=this.container.querySelector(".js-rrmc-scroll-animation-scrubber-label-top"),this.elm_label_bottom=this.container.querySelector(".js-rrmc-scroll-animation-scrubber-label-bottom"),this.attr_fallback_frame_number_first=parseInt(this.container.getAttribute("data-fallback-frame-number-first")),this.attr_fallback_frame_number_last=parseInt(this.container.getAttribute("data-fallback-frame-number-last")),this.on_go_up=function(){return n.go_up()},this.on_go_down=function(){return n.go_down()}}var t,n;return r(e,[{key:"fallback",value:(n=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.frame_list_desktop.preload();case 2:t=this.frame_list_desktop.get_frame_by_frame_number(this.attr_fallback_frame_number_first),n=this.frame_list_desktop.get_frame_by_frame_number(this.attr_fallback_frame_number_last),this.elm_top_fallback_image=this.container.querySelector(".js-rrmc-scroll-animation-fallback-image-1"),this.elm_bottom_fallback_image=this.container.querySelector(".js-rrmc-scroll-animation-fallback-image-2"),this.elm_top_fallback_image.src=t.src,this.elm_bottom_fallback_image.src=n.src;case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"fallback_needed",value:function(){return(0,o.is_ie11)()}},{key:"load",value:(t=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.FrameListConfig.build(this.container,"mobile"),n=l.FrameListConfig.build(this.container,"desktop"),this.frame_list_mobile=new s.FrameList(t),this.frame_list_desktop=new s.FrameList(n),!this.fallback_needed()){e.next=6;break}return e.abrupt("return",this.fallback());case 6:this.frame_animation=new a.FrameAnimation({frame_list_mobile:this.frame_list_mobile,frame_list_desktop:this.frame_list_desktop,container_element:this.container,sticky_element:this.container.querySelector(".rrmc-scroll-animation-frame-block"),canvas_element:this.container.querySelector(".rrmc-scroll-animation-canvas"),scrubber_element:this.container.querySelector(".rrmc-scroll-animation-scrubber"),progress_container_element:this.container.querySelector(".rrmc-scroll-animation-scrubber--progress-container"),progress_element:this.container.querySelector(".rrmc-scroll-animation-scrubber--progress")}),this.frame_animation.register_listener(),this.register_listener();case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"go_up",value:function(){i.TweenLite.to(window,1.2,{scrollTo:this.frame_animation.start_scroll_position})}},{key:"go_down",value:function(){i.TweenLite.to(window,1.2,{scrollTo:this.frame_animation.end_scroll_position})}},{key:"register_listener",value:function(){this.elm_label_top.addEventListener("click",this.on_go_up),this.elm_label_bottom.addEventListener("click",this.on_go_down)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-scroll-animation");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameAnimation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45);function o(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}t.FrameAnimation=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.on_scroll=function(){return n.scroll()},this.on_resize=function(){return n.resize()},this.init_component()}var t,n;return r(e,[{key:"init_component",value:(n=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.update_next_breakpoint(),e.next=3,this.set_current_frame_list();case 3:this.init_canvas_context(),this.init_scroll_parameters(),this.init_scrubber_parameters(),this.update_current_scroll_progress(),this.update_current_overscroll_progress(),this.paste_frame(),this.update_last_breakpoint();case 10:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"register_listener",value:function(){document.addEventListenerRR("scroll",this.on_scroll),window.addEventListenerRR("resize",this.on_resize)}},{key:"init_scroll_parameters",value:function(){var e=window.pageYOffset,t=this.config.sticky_element.getBoundingClientRect(),n=this.config.container_element.getBoundingClientRect();this.start_scroll_position=e+n.top,this.end_scroll_position=e+n.bottom-t.height,this.start_overscroll_position=this.end_scroll_position,this.end_overscroll_position=this.end_scroll_position+window.innerHeight,this.current_scroll_position=e}},{key:"init_scrubber_parameters",value:function(){var e=this.config.progress_container_element.getBoundingClientRect(),t=this.config.progress_element.getBoundingClientRect();this.end_y_offset=e.height-t.height}},{key:"paste_frame",value:function(){if(this.canvas_context){this.canvas_context.clearRect(0,0,this.canvas_context.canvas.width,this.canvas_context.canvas.height);var e=this.frame_list.get_frame_by_progress(this.current_scroll_progress);this.canvas_context.drawImage(e,0,0,this.canvas_context.canvas.width,this.canvas_context.canvas.height)}}},{key:"apply_overscroll_old",value:function(){if(this.current_overscroll_progress<=0||this.current_overscroll_progress>=1)return this.config.canvas_element.style.transform="",void(this.config.scrubber_element.style.transform="translateY(-50%)");var e=window.innerHeight,t=this.current_overscroll_progress*e;this.config.canvas_element.style.transform="translate3d(0, "+t+"px, 0)",this.config.scrubber_element.style.transform="translateY(calc(-50% + "+t+"px))"}},{key:"apply_overscroll",value:function(){return this.current_overscroll_progress<=0?(this.config.canvas_element.style.position="absolute",this.config.canvas_element.style.display="block",this.config.scrubber_element.style.position="absolute",void(this.config.scrubber_element.style.display="block")):this.current_overscroll_progress>=1?(this.config.canvas_element.style.position="absolute",this.config.canvas_element.style.display="none",this.config.scrubber_element.style.position="absolute",void(this.config.scrubber_element.style.display="none")):(this.config.canvas_element.style.position="fixed",this.config.canvas_element.style.display="block",this.config.scrubber_element.style.position="fixed",void(this.config.scrubber_element.style.display="block"))}},{key:"apply_scrubber",value:function(){var e=this.current_scroll_progress*this.end_y_offset;this.config.progress_element.style.transform="translate3d(0, "+e+"px, 0)"}},{key:"update_current_scroll_progress",value:function(){this.current_scroll_progress=(this.current_scroll_position-this.start_scroll_position)/(this.end_scroll_position-this.start_scroll_position),this.current_scroll_progress<=0&&(this.current_scroll_progress=0),this.current_scroll_progress>=1&&(this.current_scroll_progress=1)}},{key:"update_current_overscroll_progress",value:function(){this.current_overscroll_progress=(this.current_scroll_position-this.start_overscroll_position)/(this.end_overscroll_position-this.start_overscroll_position),this.current_overscroll_progress<=0&&(this.current_overscroll_progress=0),this.current_overscroll_progress>=1&&(this.current_overscroll_progress=1)}},{key:"set_current_frame_list",value:(t=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.frame_list=(0,i.is_mobile)()?this.config.frame_list_mobile:this.config.frame_list_desktop,e.next=3,this.frame_list.preload();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"has_breakpoint_remained",value:function(){return this.last_breakpoint_is_mobile===this.next_breakpoint_is_mobile}},{key:"update_next_breakpoint",value:function(){this.next_breakpoint_is_mobile=(0,i.is_mobile)()}},{key:"update_last_breakpoint",value:function(){this.last_breakpoint_is_mobile=this.next_breakpoint_is_mobile}},{key:"init_canvas_context",value:function(){this.has_breakpoint_remained()||(this.canvas_context=this.config.canvas_element.getContext("2d"),this.canvas_context.canvas.width=this.frame_list.config.frame_width,this.canvas_context.canvas.height=this.frame_list.config.frame_height)}},{key:"scroll",value:function(){var e=this;this.current_scroll_position=window.pageYOffset,this.update_current_scroll_progress(),this.update_current_overscroll_progress(),requestAnimationFrame((function(){e.paste_frame(),e.apply_overscroll(),e.apply_scrubber()}))}},{key:"resize",value:function(){this.init_component()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.FrameList=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config={frame_width:t.width,frame_height:t.height,file_name_padding:6,start_frame:t.start_frame_index,end_frame:t.end_frame_index,folder_name:t.folder_path,file_name_prefix:"",file_name_extension:t.file_extension},this.config.frame_number=this.config.end_frame-this.config.start_frame+1}return r(e,[{key:"preload",value:function(){if(!this.frames_ready)return this.preload_frames(),this.frames_ready}},{key:"iterate_over_frames",value:function(e){for(var t=this.config.start_frame,n=0;t<this.config.end_frame+1;++t,++n)e(n,t)}},{key:"get_frame_by_progress",value:function(e){var t=Math.round(e*(this.config.frame_number-1));return this.image_elements[t]}},{key:"get_frame_by_frame_number",value:function(e){return this.image_elements[e]}},{key:"get_first_frame",value:function(){return this.image_elements[0]}},{key:"get_last_frame",value:function(){return this.image_elements[this.config.frame_number-1]}},{key:"preload_frames",value:function(){var e,t,n=this;this.frames_ready=new Promise((e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.image_promises=[],n.image_elements=[],n.iterate_over_frames((function(){var e=new Image;n.image_elements.push(e);var t=new Promise((function(t){return e.addEventListener("load",(function(){return t()}))}));n.image_promises.push(t)})),Promise.all(n.image_promises).then((function(){return t()})),n.iterate_over_frames((function(e){var t=(""+e).padStart(n.config.file_name_padding,"0"),r=n.config.folder_name+"/"+n.config.file_name_prefix+t+"."+n.config.file_name_extension;n.image_elements[e].src=r}));case 5:case"end":return e.stop()}}),e,n)})),t=function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))},function(e){return t.apply(this,arguments)}))}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.FrameListConfig=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"build",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile",r=new e,i=t.getAttribute("data-"+n+"-first-frame"),o=i.split("/"),a=o[o.length-1],s=a.split("."),l=s[s.length-1],c=parseInt(t.getAttribute("data-"+n+"-frame-number"));return r.folder_path=i.substring(0,i.lastIndexOf("/")),r.file_extension=l,r.width=parseInt(t.getAttribute("data-"+n+"-image-width")),r.height=parseInt(t.getAttribute("data-"+n+"-image-height")),r.start_frame_index=parseInt(t.getAttribute("data-"+n+"-start-frame-index")),r.end_frame_index=c-1,r}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(678);var i,o=n(7),a=n(89),s=n(679),l=n(445),c=(i=l)&&i.__esModule?i:{default:i},u=n(85);o.gsap.registerPlugin(a.ScrollTrigger);var h=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.config=this.container.dataset,this.video=this.container.querySelector(".video-scrub"),this.videoContainer=this.container.querySelector(".video-scroll-container"),this.textEl=this.container.querySelector(".js-rrmc-rich-text"),this.textEl&&(this.textWrapperEl=this.textEl.querySelector(".rrmc-rich-text-wrapper")),this.elm_label_top=this.container.querySelector(".js-rrmc-scroll-video-animation-scrubber-label-top"),this.elm_label_bottom=this.container.querySelector(".js-rrmc-scroll-video-animation-scrubber-label-bottom"),this.on_go_up=function(){return n.go_up()},this.on_go_down=function(){return n.go_down()},this.aspectRatio=c.default.getClosestAspectRatio(window.innerWidth,window.innerHeight),this.verticalPin=null,this.horizontalAlign=null,this.videoTimelineScrub=null,this.src=null,this.isFirefox=(0,u.is_firefox)()}var t,n;return r(e,[{key:"init",value:(t=regeneratorRuntime.mark((function e(){var t,n,r,i,a,l,u,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(e,t){var n=void 0;switch(t){case"4:3":n=e.aemVideo_4_3;break;case"16:9":n=e.aemVideo_16_9;break;case"3:4":n=e.aemVideo_3_4;break;case"9:16":n=e.aemVideo_9_16;break;default:n=e.aemVideo_16_9}return n||(n=e.aemVideo_16_9),n},t=function(e,t,n,r){var i=function r(){e.removeEventListenerRR(t,r),n.apply(this,arguments)};return e.addEventListenerRR(t,i,r),i},i=function(){var e=h.video.play();h.isFirefox||(void 0!==e?e.then((function(){h.video.pause()})).catch((function(e){console.log("VIDEO play/pause failed",e)})):h.video.pause())},a=function(){var e=r(h.config,h.aspectRatio);return e!==h.src&&(h.src=e,void 0!==h.config.loadingVideoAsBlob?fetch(h.src).then((function(e){return e.blob()})).then((function(e){var n=URL.createObjectURL(e);h.src=n;var r=h.video.currentTime;h.video.setAttribute("src",h.src),h.video.currentTime=r+.01,t(document.documentElement,"touchstart",i)})):(h.video.setAttribute("src",h.src),t(document.documentElement,"touchstart",i)),t(h.video,"loadedmetadata",(function(){h.videoTimelineScrub&&h.videoTimelineScrub.scrollTrigger.refresh()})),!0)},l=function(){var e=parseFloat(h.video.duration),t=Math.max(.75*window.innerHeight,600),n=e*t;void 0!==h.config.scrollHeightAdjust&&(n+=parseInt(h.config.scrollHeightAdjust)),h.verticalPin=null,h.horizontalAlign=null;var r=0;if(h.textEl){switch(h.aspectRatio){case"4:3":h.verticalPin=h.config.textVerticalPin_4_3,h.horizontalAlign=h.config.textAlignment_4_3;break;case"16:9":h.verticalPin=h.config.textVerticalPin_16_9,h.horizontalAlign=h.config.textAlignment_16_9;break;case"3:4":h.verticalPin=h.config.textVerticalPin_3_4,h.horizontalAlign=h.config.textAlignment_3_4;break;case"9:16":h.verticalPin=h.config.textVerticalPin_9_16,h.horizontalAlign=h.config.textAlignment_9_16;break;default:h.verticalPin=h.config.textVerticalPin_16_9,h.horizontalAlign=h.config.textAlignment_16_9}h.verticalPin||(h.verticalPin=h.config.textVerticalPin_16_9),h.horizontalAlign||(h.horizontalAlign=h.config.textAlignment_16_9),h.container.classList.remove("text-vertical-pin-top","text-vertical-pin-center","text-vertical-pin-bottom","text-vertical-pin-below"),h.container.classList.add("text-vertical-pin-"+h.verticalPin),h.container.classList.remove("text-alignment-left","text-alignment-center","text-alignment-right"),h.container.classList.add("text-alignment-"+h.horizontalAlign),"below"===h.verticalPin?r=h.textEl.offsetHeight:n+=t}var i=h.container.parentElement;return i.style.height=h.isFirefox?"100vh":n+r+"px",i.querySelector(".loading-icon").style.display="none",n},u=function(){h.config.isScrollBarEnabled&&new s.ScrubberAnimation({container_element:h.container,sticky_element:h.container.querySelector(".rrmc-scroll-video-animation-frame-block"),canvas_element:h.container.querySelector(".rrmc-scroll-video-animation-canvas"),scrubber_element:h.container.querySelector(".rrmc-scroll-video-animation-scrubber"),progress_container_element:h.container.querySelector(".rrmc-scroll-video-animation-scrubber--progress-container"),progress_element:h.container.querySelector(".rrmc-scroll-video-animation-scrubber--progress")}).register_listener()},(n=function(){h.aspectRatio=c.default.getClosestAspectRatio(window.innerWidth,window.innerHeight);var e=void 0;switch(h.aspectRatio){case"4:3":e="aspect-ratio_4_3";break;case"16:9":e="aspect-ratio_16_9";break;case"3:4":e="aspect-ratio_3_4";break;case"9:16":e="aspect-ratio_9_16";break;default:e="aspect-ratio_16_9"}h.container.classList.remove("aspect-ratio_4_3","aspect-ratio_16_9","aspect-ratio_3_4","aspect-ratio_9_16"),h.container.classList.add(e)})(),a(),u(),t(h.video,"loadedmetadata",(function(){var e=l();if(h.isFirefox||(h.videoTimelineScrub=o.gsap.timeline({scrollTrigger:{trigger:h.videoContainer,start:"top top",end:"+="+e+" bottom",markers:void 0!==h.config.showScrollMarkers,scrub:.33,invalidateOnRefresh:!0,pin:!0}}),h.videoTimelineScrub.fromTo(h.video,{currentTime:0},{duration:parseFloat(h.video.duration),currentTime:parseFloat(h.video.duration)||1},0)),h.textEl&&"below"!==h.verticalPin){h.videoTimelineScrub&&h.videoTimelineScrub.fromTo(h.textWrapperEl,{y:64,opacity:0,duration:2},{y:0,opacity:1},">0.2"),h.videoTimelineScrub&&h.videoTimelineScrub.to(h.textWrapperEl,{y:0,duration:.5},">0.5"),h.textWrapperEl.style.opacity="0 !important";var t=window.scrollY;new IntersectionObserver((function(e,n){var r=window.scrollY;e.forEach((function(e){e.isIntersecting&&r>t&&(n.disconnect(),h.textWrapperEl.style.opacity=0,setTimeout((function(){h.textWrapperEl.style.opacity=0}),600))})),t=r}),{threshold:0}).observe(h.textWrapperEl)}if(h.isFirefox){var n=0,r=!1,i=!0;h.textWrapperEl&&h.textWrapperEl.classList.add("fade-out"),window.addEventListener("scroll",(function(){var e=window.scrollY;r=e<n,i=e>n,n=e})),new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&i&&h.video.play()}))}),{threshold:.75}).observe(h.video),new IntersectionObserver((function(e){e.forEach((function(e){!e.isIntersecting&&r&&(h.video.currentTime=0,h.video.pause(),h.textWrapperEl&&(h.textWrapperEl.classList.remove("fade-in"),h.textWrapperEl.classList.add("fade-out")))}))}),{threshold:0}).observe(h.video)}})),h.isFirefox&&h.video.addEventListenerRR("ended",(function(){h.textWrapperEl&&(h.textWrapperEl.classList.remove("fade-out"),h.textWrapperEl.classList.add("fade-in")),h.video.pause()})),c.default.listenToBodyResize((function(){n(),!a()&&h.videoTimelineScrub&&h.videoTimelineScrub.scrollTrigger.refresh()}));case 9:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return n.apply(this,arguments)})},{key:"go_up",value:function(){o.TweenLite.to(window,1.2,{scrollTo:this.frame_animation.start_scroll_position})}},{key:"go_down",value:function(){o.TweenLite.to(window,1.2,{scrollTo:this.frame_animation.end_scroll_position})}},{key:"register_listener",value:function(){this.elm_label_top.addEventListener("click",this.on_go_up),this.elm_label_bottom.addEventListener("click",this.on_go_down)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-scroll-video-animation");[].slice.call(e).forEach((function(e){new h(e).init()}))}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrubberAnimation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45);function o(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}t.ScrubberAnimation=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.on_scroll=function(){return n.scroll()},this.on_resize=function(){return n.resize()},this.init_component()}var t,n;return r(e,[{key:"init_component",value:(n=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.update_next_breakpoint(),this.init_scroll_parameters(),this.init_scrubber_parameters(),this.update_current_scroll_progress(),this.update_current_overscroll_progress(),this.update_last_breakpoint();case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"register_listener",value:function(){document.addEventListenerRR("scroll",this.on_scroll),window.addEventListenerRR("resize",this.on_resize)}},{key:"init_scroll_parameters",value:function(){var e=window.pageYOffset,t=this.config.container_element.getBoundingClientRect();this.start_scroll_position=e+t.top+window.innerHeight/2,this.end_scroll_position=e+t.bottom-window.innerHeight/2,this.start_overscroll_position=this.end_scroll_position,this.end_overscroll_position=this.end_scroll_position+window.innerHeight,this.current_scroll_position=e}},{key:"init_scrubber_parameters",value:function(){var e=this.config.progress_container_element.getBoundingClientRect(),t=this.config.progress_element.getBoundingClientRect();this.end_y_offset=e.height-t.height}},{key:"apply_scrubber",value:function(){var e=this.current_scroll_progress*this.end_y_offset;this.config.progress_element.style.transform="translate3d(0, "+e+"px, 0)"}},{key:"update_current_scroll_progress",value:function(){this.current_scroll_progress=(this.current_scroll_position-this.start_scroll_position)/(this.end_scroll_position-this.start_scroll_position),this.current_scroll_progress<=0&&(this.current_scroll_progress=0),this.current_scroll_progress>=1&&(this.current_scroll_progress=1)}},{key:"update_current_overscroll_progress",value:function(){this.current_overscroll_progress=(this.current_scroll_position-this.start_overscroll_position)/(this.end_overscroll_position-this.start_overscroll_position),this.current_overscroll_progress<=0&&(this.current_overscroll_progress=0),this.current_overscroll_progress>=1&&(this.current_overscroll_progress=1)}},{key:"set_current_frame_list",value:(t=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.frame_list=(0,i.is_mobile)()?this.config.frame_list_mobile:this.config.frame_list_desktop,e.next=3,this.frame_list.preload();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"has_breakpoint_remained",value:function(){return this.last_breakpoint_is_mobile===this.next_breakpoint_is_mobile}},{key:"update_next_breakpoint",value:function(){this.next_breakpoint_is_mobile=(0,i.is_mobile)()}},{key:"update_last_breakpoint",value:function(){this.last_breakpoint_is_mobile=this.next_breakpoint_is_mobile}},{key:"init_canvas_context",value:function(){this.has_breakpoint_remained()}},{key:"scroll",value:function(){var e=this;this.current_scroll_position=window.pageYOffset,this.update_current_scroll_progress(),this.update_current_overscroll_progress(),requestAnimationFrame((function(){e.apply_scrubber()}))}},{key:"resize",value:function(){this.init_component()}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(681);var i=m(n(682)),o=m(n(14)),a=n(7),s=n(710),l=n(154),c=m(n(117)),u=n(85),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),d=n(116),p=n(683),f=n(62);function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=function(){function e(){var t=this;y(this,e),this.wrapper=document.querySelector(".rrmc-secondary-nav--menu-wrapper"),this.dropdown=document.querySelector(".rrmc-secondary-nav--models-dropdown"),this.dropdownBg=document.querySelector(".rrmc-secondary-nav--models-dropdown-bg"),this.linksWrapper=this.wrapper.querySelector(".rrmc-secondary-nav-models-links-container"),this.dropdownCta=document.querySelector(".rrmc-secondary-nav-dropdown-cta"),this.mobDropdownCta=document.querySelector(".rrmc-secondary-nav-dropdown-cta-mobile"),this.mobDropdownBg=document.querySelector(".rrmc-secondary-nav--menu-mobile"),this.scrollHint=this.wrapper.querySelector(".rrmc-secondary-nav-scroller-right"),this.desktopArrow=this.wrapper.querySelector(".rrmc-secondary-nav-arrow-desktop"),this.mobileArrow=this.wrapper.querySelector(".rrmc-secondary-nav-arrow-mobile"),this.mobileBackgroundBlur=document.querySelector(".mobile-nav-background-blur"),this.elm_empty_list=this.wrapper.querySelector(".js-rrmc-secondary-nav-models-link--empty"),this.elm_empty_list&&(this.path_empty_list=this.elm_empty_list.getAttribute("href")),this.elm_my_list=this.wrapper.querySelector(".js-rrmc-secondary-nav-models-link--list"),this.elm_my_list&&(this.path_my_list=this.elm_my_list.getAttribute("href")),this.mobVisible=!1,this.desktopVisible=!1,this.navType=this.wrapper.getAttribute("data-nav").trim(),this.draggableSetup=!1,this.isIE=(0,u.is_ie11)(),this.windowWidth=window.innerWidth,this.mobileHeight=new p.MobileHeight(this),this.save_current_page_path();this.currentPath=(window.location.pathname.match(/(.*)[a-z]{2}_[A-Z]{2}/g)||["en_GB"])[0],this.forceMobileDropdownClose=function(){t.mobVisible&&t.dropdownMobile(null,!0)},this.dropdownMobile=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.mobVisible?0:t.mobileHeight.get();a.TweenLite.to(t.mobDropdownBg,.5,{height:r,autoRound:!1,ease:a.Linear.easeNone}),a.TweenLite.to(t.mobileArrow,.33,{rotation:180,ease:a.Linear.easeNone}),t.mobVisible?((0,d.clearAllBodyScrollLocks)(),a.TweenLite.to(t.mobileArrow,.33,{rotation:0,ease:a.Linear.easeNone}),a.TweenLite.to(t.mobileBackgroundBlur,.5,{opacity:0,onComplete:function(){a.TweenLite.set([t.mobileBackgroundBlur,t.mobDropdownBg],{display:"none"})}})):(a.TweenLite.set(t.mobileBackgroundBlur,{display:"block"}),t.isIE?a.TweenLite.set(t.mobDropdownBg,{display:"-ms-grid"}):a.TweenLite.set(t.mobDropdownBg,{display:"grid"}),a.TweenLite.to(t.mobileBackgroundBlur,.5,{opacity:1}),(0,d.disableBodyScroll)(t.mobDropdownBg)),t.mobVisible=!t.mobVisible,n||(h.fireTronActivityClickEvent(),h.fireCustomEvent({event:"secondaryNavClick",eventCategory:"Secondary Nav",eventAction:"Top Click",eventLabel:e.target.innerText.toLowerCase()}))},this.dropdownDesktop=function(e){var n=t.desktopVisible?0:60;a.TweenLite.to(t.dropdownBg,.5,{height:n,autoRound:!1,ease:a.Linear.easeNone}),a.TweenLite.to(t.desktopArrow,.33,{rotation:180,ease:a.Linear.easeNone}),t.desktopVisible&&(t.scrollReset(),a.TweenLite.to(t.desktopArrow,.33,{rotation:0,ease:a.Linear.easeNone})),t.desktopVisible=!t.desktopVisible,h.fireTronActivityClickEvent(),h.fireCustomEvent({event:"secondaryNavClick",eventCategory:"Secondary Nav",eventAction:"Top Click",eventLabel:e.target.innerText.toLowerCase()})},this.topClickHandler=function(e){e.preventDefault();var n=e.target.getAttribute("href");if(e.target instanceof HTMLAnchorElement){var r=t.make_dropdown_label(e.target);h.fireCustomEvent({event:"secondaryNavClick",eventCategory:"Secondary Nav",eventAction:"Top Click",eventLabel:r,eventCallback:function(){window.location=n},eventTimeout:2e3})}},this.make_dropdown_label=function(e){var t=e.getAttribute("data-type"),n=e.innerText.toLowerCase();return"language"===t?"language: "+n:n},this.bottomClickHandler=function(e){e.preventDefault();var n=e.target.getAttribute("href");if(e.target instanceof HTMLAnchorElement){var r=t.make_dropdown_label(e.target);h.fireCustomEvent({event:"secondaryNavSubClick",eventCategory:"Secondary Nav",eventAction:"Sub Click",eventLabel:r,eventCallback:function(){window.location=n},eventTimeout:2e3})}},this.hideHint=function(){a.TweenLite.to(t.scrollHint,.5,{opacity:0})},this.scrollRight=function(){t.dropdown.scrollLeft=1e3,t.hideHint()},this.draggable=function(){"models"===t.navType?t.draggableObj=s.Draggable.create(t.dropdown,{edgeResistance:.5,type:"scrollLeft",throwProps:!1,cursor:"none",onDragStart:t.hideHint}):(t.draggableObj=s.Draggable.create(t.linksWrapper,{edgeResistance:.5,type:"scrollLeft",throwProps:!1,cursor:"none"}),t.linksWrapper.scrollLeft=1e3),a.TweenLite.set([t.linksWrapper,t.dropdown],{overflow:"hidden",cursor:"none"})},this.closeAllDropdowns=function(){var e=[];t.mobDropdownBg&&e.push(t.mobDropdownBg),t.dropdownBg&&e.push(t.dropdownBg),a.TweenLite.to(e,.5,{height:0,autoRound:!1,onComplete:function(){var e=[];t.mobileBackgroundBlur&&e.push(t.mobileBackgroundBlur),t.mobDropdownBg&&e.push(t.mobDropdownBg),a.TweenLite.set(e,{display:"none"})}}),t.mobVisible=!1,t.desktopVisible=!1,t.scrollReset();var n=[];t.desktopArrow&&n.push(t.desktopArrow),t.mobileArrow&&n.push(t.mobileArrow),a.TweenLite.to(n,.5,{rotation:0,ease:a.Linear.easeNone})},this.scrollReset=function(){a.TweenLite.set(t.dropdown,{clearProps:"transform"}),a.TweenLite.to(t.scrollHint,.5,{opacity:1}),t.dropdown.scrollLeft=0},this.handleOverlay=function(e){e.preventDefault();var t=e.target,n=t.getAttribute("data-action"),r=t.getAttribute("data-overlay");o.default.sub_overlay_manager_bus.next({action:n,data:{overlayName:r}})},this.renderMyList=function(e){var n=e.data,r=n?n.length:0;r>0?t.elm_my_list.setAttribute("href",t.path_my_list):t.elm_my_list.setAttribute("href",t.path_empty_list);var i=t.wrapper.querySelector(".rrmc-secondary-nav-list");t.accTotal=t.wrapper.querySelectorAll(".rrmc-secondary-nav-list--total"),[].slice.call(t.accTotal).forEach((function(e){return e.innerHTML=r})),i.classList.contains("my-list-disabled")&&i.classList.remove("my-list-disabled")},this.checkForMyList=function(e){var n=e.epaas,r=n.getPersistence("wishlistLongterm")||n.getPersistence("wishlistSession")||[],i=JSON.parse(r);i>0?t.renderMyList(i):t.wrapper.querySelector(".rrmc-secondary-nav-list").classList.add("my-list-disabled")}}return r(e,[{key:"get_locale_and_page",value:function(e){return e.split("/").slice(-2).join("/").split("?").pop()}},{key:"save_current_page_path",value:function(){this.currentPage=this.get_locale_and_page(window.location.pathname)}},{key:"load",value:function(){var e=this,t=this.wrapper.querySelectorAll(".rrmc-secondary-nav-models-link");if(this.hook_before_load(),o.default.sub_mobile_menu.subscribe({next:this.forceMobileDropdownClose}),[].slice.call(t).forEach((function(t){if(t.getAttribute("data-action"))return t.addEventListenerRR("click",e.topClickHandler),void t.addEventListenerRR("click",(function(t){return e.handleOverlay(t)}));e.hook_link_modifier(t),e.get_locale_and_page(t.href)===e.currentPage?(t.classList.add("active"),t.addEventListenerRR("click",(function(e){return e.preventDefault()}))):t.addEventListenerRR("click",e.topClickHandler)})),this.dropdown){this.hook_dropdown_setup();var n=this.dropdown.querySelectorAll("a");[].slice.call(n).forEach((function(e){e.addEventListenerRR("mouseover",(function(){o.default.sub_cursor.next(["scale_cta","enter"])})),e.addEventListenerRR("mouseleave",(function(){o.default.sub_cursor.next(["scale","leave"])}))})),this.mobDropdownCta.addEventListenerRR("click",this.dropdownMobile),window.addEventListenerRR("resize",(function(){var t=window.innerWidth;e.windowWidth!==t&&(e.closeAllDropdowns(),e.windowWidth=t),e.dropdown.addEventListenerRR("click",e.bottomClickHandler)}))}}},{key:"hook_link_modifier",value:function(){}},{key:"hook_dropdown_setup",value:function(){}},{key:"hook_before_load",value:function(){}}],[{key:"get_navigation_type",value:function(){return document.querySelector(".rrmc-secondary-nav--menu-wrapper").getAttribute("data-nav")}},{key:"is_navigation_type_dealer",value:function(){return"dealer"===e.get_navigation_type()}},{key:"is_navigation_type_models",value:function(){return"models"===e.get_navigation_type()}},{key:"is_navigation_type_models_enq",value:function(){return"modelsEnq"===e.get_navigation_type()}},{key:"is_navigation_type_inspiring_greatness",value:function(){return"inspiring-greatness"===e.get_navigation_type()}},{key:"is_navigation_type_boutique",value:function(){return"boutique"===e.get_navigation_type()||"boutique-custom"===e.get_navigation_type()}},{key:"is_navigation_type_ownership",value:function(){return"ownership"===e.get_navigation_type()}},{key:"is_navigation_type_muse",value:function(){return"muse"===e.get_navigation_type()}},{key:"is_navigation_type_generic",value:function(){return"generic"===e.get_navigation_type()}},{key:"is_navigation_type_dropdown",value:function(){return"dropdown"===e.get_navigation_type()}},{key:"make_secondary_nav",value:function(){return e.is_navigation_type_dealer()?new b:e.is_navigation_type_models()||e.is_navigation_type_models_enq()?new C:e.is_navigation_type_inspiring_greatness()?new x:e.is_navigation_type_boutique()?new w:e.is_navigation_type_ownership()?new k:e.is_navigation_type_muse()?new S:e.is_navigation_type_generic()?new A:e.is_navigation_type_dropdown()?new E:void 0}}]),e}(),b=function(e){function t(){y(this,t);var e=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.flag_container=e.wrapper.querySelector(".js-rrmc-secondary-nav-link--flag"),e}return g(t,e),r(t,[{key:"hook_before_load",value:function(){if(this.flag_container){var e=this.flag_container.getAttribute("data-locale");this.flag_container.classList.add("iti__flag"),this.flag_container.classList.add(l.locale_language_map[e]),a.TweenLite.to(this.flag_container,1,{opacity:1,delay:1})}}},{key:"hook_dropdown_setup",value:function(){this.dropdownCta.addEventListenerRR("click",this.dropdownDesktop),this.scrollHint.addEventListenerRR("click",this.scrollRight)}}]),t}(_),w=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),r(t,[{key:"hook_link_modifier",value:function(e){if("all accessories"===e.textContent.toLowerCase()){var t=c.default.parse(location.search);if(t.models||t.categories){var n=e.getAttribute("href"),r={};t.models&&(r.models=t.models),t.categories&&(r.categories=t.categories),n+="?"+c.default.stringify(r),e.setAttribute("href",n)}}}},{key:"hook_before_load",value:function(){var e=this;o.default.sub_epaas.subscribe({next:function(t){e.checkForMyList(t)}}),o.default.sub_my_list_updated.subscribe({next:this.renderMyList})}},{key:"hook_dropdown_setup",value:function(){this.dropdownCta.addEventListenerRR("click",(function(){h.fireTronActivityClickEvent()}))}}]),t}(_),x=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),t}(_),S=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),r(t,[{key:"hook_dropdown_setup",value:function(){this.dropdownCta.addEventListenerRR("click",(function(){h.fireTronActivityClickEvent()}))}}]),t}(_),k=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),t}(_),A=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),t}(_),E=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),r(t,[{key:"hook_dropdown_setup",value:function(){this.dropdownCta.addEventListenerRR("click",this.dropdownDesktop),this.scrollHint.addEventListenerRR("click",this.scrollRight)}}]),t}(_),C=function(e){function t(){return y(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return g(t,e),r(t,[{key:"hook_dropdown_setup",value:function(){var e=this,t=i.default.reduce((function(t,n,r){var i=e.get_locale_and_page(n.path);return i===e.currentPage&&(n.path="javascript:void(0)"),"black-badge"===i?t+='<div class="rrmc-secnav-divider">|</div><a class="js-rrmc-secnav-model-dropdown-entry" href="'+e.currentPath+n.path+'.html" data-tracking-linkid="text'+(r+1)+""+n.label.toLowerCase()+'internal link">'+n.label+"</a>":n.allowedLocales.forEach((function(i){window.location.href.indexOf(i)>0&&n.secondaryMenu&&(t+='<a class="js-rrmc-secnav-model-dropdown-entry" href="'+e.currentPath+n.path+'.html" data-tracking-linkid="text'+(r+1)+""+n.label.toLowerCase()+'internal link">'+n.label+"</a>")})),t}),"");this.dropdown.innerHTML=t;var n=this.wrapper.querySelectorAll('[data-enq-id="secnav-enq-cta"]');n&&[].slice.call(n).forEach((function(e){e.addEventListenerRR("click",(function(e){o.default,f.overlayOpen,h.fireTronActivityClickEvent(),h.fireCustomEvent({event:"formOpen",eventCategory:"form",eventAction:"enquire",eventLabel:"open"}),e.preventDefault(),o.default.sub_overlay_manager_bus.next({data:{overlayName:"enquire"}})}))})),this.dropdownCta.addEventListenerRR("click",this.dropdownDesktop),this.scrollHint.addEventListenerRR("click",this.scrollRight)}}]),t}(_);document.addEventListenerRR("DOMContentLoaded",(function(){document.querySelector(".rrmc-secondary-nav--menu-wrapper")&&(new _.make_secondary_nav).load()}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=[{label:"Phantom",path:"/showroom/phantom",sfValue:"Phantom",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Phantom Extended",path:"/showroom/phantom-extended",sfValue:"Phantom Extended",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Cullinan Series II",path:"/showroom/cullinan",sfValue:"Cullinan",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Ghost",path:"/showroom/ghost",sfValue:"New Ghost",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Ghost Extended",path:"/showroom/ghost-extended",sfValue:"New Ghost Extended",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Spectre",path:"/showroom/spectre",sfValue:"Spectre",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Black Badge",path:"/showroom/black-badge",sfValue:"",secondaryMenu:!0,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]},{label:"Black Badge New Ghost",path:"/showroom/black-badge-ghost",sfValue:"New Ghost Black Badge",secondaryMenu:!1,allowedLocales:["en_GB","en_US","ko_KR","ja_JP","ru_RU"]}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MobileHeight=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.height=0,this.obtain_height()}return r(e,[{key:"get_mobile_item_height",value:function(){return 55}},{key:"get_mobile_spacer_height",value:function(){return this.get_mobile_item_height()}},{key:"is_boutique",value:function(){return"boutique"===this.parent.navType}},{key:"is_dealer",value:function(){return"dealer"===this.parent.navType}},{key:"is_generic",value:function(){return"generic"===this.parent.navType}},{key:"is_dropdown",value:function(){return"dropdown"===this.parent.navType}},{key:"obtain_totallinks",value:function(){this.totallinks=parseInt(this.parent.mobDropdownBg.getAttribute("totallinks")),this.totallinks_languages=parseInt(this.parent.mobDropdownBg.getAttribute("totallinkslanguages"))}},{key:"adapt_links_to_boutique",value:function(){this.totallinks-=1}},{key:"adapt_links_to_generic",value:function(){this.totallinks+=1}},{key:"adapt_links_to_dropdown",value:function(){this.totallinks+=1}},{key:"adapt_links_to_type",value:function(){this.is_boutique()&&this.adapt_links_to_boutique(),this.is_generic()&&this.adapt_links_to_generic(),this.is_dropdown()&&this.adapt_links_to_dropdown()}},{key:"adapt_height_to_dealer",value:function(){this.totallinks_languages>1&&(this.height+=this.totallinks_languages*this.get_mobile_item_height()+this.get_mobile_spacer_height())}},{key:"adapt_height_to_type",value:function(){this.is_dealer()&&this.adapt_height_to_dealer()}},{key:"calculate_height",value:function(){this.height=this.totallinks*this.get_mobile_item_height()}},{key:"obtain_height",value:function(){this.obtain_totallinks(),this.adapt_links_to_type(),this.calculate_height(),this.adapt_height_to_type()}},{key:"get",value:function(){return this.height}}]),e}()},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(685);var i=n(45),o=n(27),a=c(n(147)),s=c(n(14)),l=n(447);function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(t){var n=this;h(this,e),this.container=t,this.vertical_alignment_desktop=parseFloat(this.container.getAttribute("data-vertical-alignment-desktop")),this.vertical_alignment_tablet=parseFloat(this.container.getAttribute("data-vertical-alignment-tablet")),this.content=this.container.querySelector(".rrmc-section-adaptive-content-wrapper"),this.flag_video=this.container.hasAttribute("data-asset-video-on"),this.flag_mobile_bg_behaviour_background="background"===this.container.getAttribute("data-mobile-bg-behaviour"),this.elm_image=this.container.querySelector(".js-rrmc-section-adaptive-bg-img"),this.is_edit_mode=this.container.hasAttribute("data-is-edit-mode"),this.elm_image&&(this.elm_image_img=this.container.querySelector(".rrmc-section-adaptive-bg-img")),this.elm_video=this.container.querySelector(".rrmc-section-adaptive-bg-video"),this.video_id=this.container.getAttribute("data-video-id"),this.video_mobile_id=this.container.getAttribute("data-video-mobile-id"),this.flag_bg_off=this.container.hasAttribute("data-bg-asset-off"),this.prev_is_media_layout_mobile=(0,i.is_mobile)();var r=this.container.getAttribute("data-experience");this.target_experience=l.ExperienceList.makeExperienceList(r),this.set_top_margin=function(){if((0,i.is_mobile)())n.content.style.marginTop=null;else{var e=n.content.getBoundingClientRect().height,t=n.container.getBoundingClientRect().height-e,r=n.vertical_alignment_desktop;(0,i.is_tablet_portrait_down)()&&(r=n.vertical_alignment_tablet);var o=t*r;n.content.style.marginTop=o+"px"}},this.set_aspect_ratio=function(){if(n.flag_bg_off)return Promise.resolve();new Promise((function(e){n.flag_video?n.set_aspect_ratio_video(e):n.set_aspect_ratio_image(e)})).then((function(){n.on_resize()}))},this.set_aspect_ratio_image=function(e){(0,o.pictureLazyLoaderPlain)(n.elm_image,(function(){e()}))},this.set_aspect_ratio_video=function(e){n.player=videojs(n.elm_video),n.player.reloadSourceOnError({errorInterval:5});var t=n.get_current_video_id(),r=n.player.getChild("errorDisplay");r.off(n.player,"error",r.open),r.dispose(),n.player.catalog.getVideo(t,(function(t,r){t&&console.log(t),n.player.catalog.load(r),0!=n.player.videoWidth()?e():n.player.on("loadeddata",(function(){(0,a.default)((function(){return 0!=n.player.videoWidth()}),(function(){e()}),n)})),n.player.play()}))},this.on_start_and_stop_video_on_scroll_after_loaded=function(){n.scroll_pos=window.pageYOffset,n.window_height=window.innerHeight,n.user_focus=n.scroll_pos+n.window_height/2;var e=n.container_top+n.container_height/2,t=e-n.window_height/1.75,r=e+n.window_height/1.75;n.user_focus>t&&n.user_focus<r?n.toggle_video_play_pause(!0):n.toggle_video_play_pause(!1)},this.toggle_video_play_pause=function(e){n.is_video_playing!==e&&(n.is_video_playing=e,e?n.player.play():n.player.pause())},this.load_asset=function(){(n.force_load||n.is_edit_mode||window.pageYOffset+window.innerHeight+300>n.container_top)&&(window.removeEventListenerRR("scroll",n.load_asset),s.default.sub_height_resize.subscribe({next:function(){return n.on_resize()}}),n.set_aspect_ratio(),n.flag_video&&window.addEventListenerRR("scroll",n.on_start_and_stop_video_on_scroll_after_loaded))},this.on_resize_event=function(){var e=(0,i.is_mobile)();e!==n.prev_is_media_layout_mobile?n.load_asset():n.on_resize(),n.prev_is_media_layout_mobile=e},this.on_resize=function(){n.get_container_top(),n.set_container_aspect_ratio().then(n.set_top_margin)}}var t,n,c;return r(e,[{key:"get_current_video_id",value:function(){return this.video_id&&this.video_mobile_id?(0,i.is_mobile)()?this.video_mobile_id:this.video_id:this.video_mobile_id||this.video_id}},{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset}},{key:"set_container_aspect_ratio_image",value:function(e){var t=this;(0,a.default)((function(){return 0!==t.elm_image_img.naturalWidth}),(function(){var n=t.elm_image_img,r=n.naturalWidth,i=n.naturalHeight/r;t.set_container_padding_top(i),e()}),this)}},{key:"set_container_aspect_ratio_video",value:function(e){if(this.player){var t=this.player.videoWidth(),n=this.player.videoHeight()/t;if(this.set_container_padding_top(n),this.flag_mobile_bg_behaviour_background&&(0,i.is_mobile)()){var r=this.container.getBoundingClientRect();this.container_width=r.width,this.container_height=r.height;var o=this.player.videoWidth(),a=this.player.videoHeight()/o,s=this.container_width*a;this.container_height>s?(this.elm_video.style.height=this.container_height+"px",this.elm_video.style.width=this.container_height/a+"px"):(this.elm_video.style.height=this.container_width*a+"px",this.elm_video.style.width=this.container_width+"px"),this.elm_video.style.paddingTop=""}else this.elm_video.style.height=null,this.elm_video.style.width=null,this.elm_video.style.paddingTop=100*n+"%";e()}else e()}},{key:"set_container_padding_top",value:function(e){(0,i.is_mobile)()?this.container.style.paddingTop=null:this.container.style.paddingTop=100*e+"%"}},{key:"set_container_aspect_ratio",value:function(){var e=this;return this.flag_bg_off?Promise.resolve():new Promise((function(t){e.flag_video?e.set_container_aspect_ratio_video(t):e.set_container_aspect_ratio_image(t)}))}},{key:"is_default_experience",value:function(){return this.target_experience.isDefaultExperience()}},{key:"test_matching_experience",value:(c=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.EvergageStrategy.makeStrategy(this.target_experience),e.abrupt("return",t.doesLiveCampaignMatch());case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"has_matching_evergage_experience",value:(n=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.is_edit_mode){e.next=2;break}return e.abrupt("return",!0);case 2:if(!this.is_default_experience()){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.test_matching_experience();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"load",value:(t=u(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.has_matching_evergage_experience();case 2:if(e.sent){e.next=7;break}return this.container.style.display="none",e.abrupt("return");case 7:this.get_container_top(),window.addEventListenerRR("resize",this.on_resize_event),window.addEventListenerRR("scroll",this.load_asset),this.load_asset(),s.default.sub_height_resize.subscribe({next:function(){return t.get_container_top()}}),this.subscription_broadcast=s.default.sub_broadcast.subscribe({next:function(e){"load"===e.action&&(t.force_load=!0,t.load_asset(),setTimeout((function(){t.subscription_broadcast.unsubscribe()})))}});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),p=function(){function e(){h(this,e),this.sections=document.querySelectorAll(".rrmc-section-adaptive")}return r(e,[{key:"load",value:function(){[].slice.call(this.sections).forEach((function(e){new d(e).load()}))}}]),e}();window.addEventListenerRR("load",(function(){(new p).load()}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(687);var i=n(7),o=d(n(470)),a=d(n(117));n(109);var s=n(85),l=n(18),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),u=n(688),h=d(n(14));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(0,u.ScrollMagicPluginGsap)(o.default,i.gsap);var f=function(){function e(t){var n=this;p(this,e),this.sandbox=t.sandbox,this.index=t.index,this.video=this.sandbox.querySelector(".vjs-tech"),this.player=videojs.getPlayer(this.video),this.trigger=this.sandbox.querySelector(".rrmc-sticky-section-trigger"),this.pinnedSection=this.sandbox.querySelector(".rrmc-sticky-section-pinned"),this.videoWrapperMask=this.sandbox.querySelector(".js-rrmc-sticky-section-video-wrapper"),this.shader=this.sandbox.querySelector(".rrmc-sticky-section-shader"),this.desktopId=this.video.getAttribute("data-video-id-desktop"),this.mobileId=this.video.getAttribute("data-video-id-mobile"),this.scrollController,this.sectionContent=this.sandbox.querySelector(".rrmc-sticky-section-content"),this.userScrollAnimationRef=i.gsap.timeline({paused:!0}),this.currentWidth=window.innerWidth,this.shortAnimationON=this.sandbox.hasAttribute("data-short-animation"),this.sectionStickyTracking={firstPlay:!1,scrollTrack:!1},this.catchScroll=function(){window.scroll(0,window.scrollY)};var r=videojs(this.video),o=r.getChild("errorDisplay");o.off(r,"error",o.open),o.dispose(),("objectFit"in document.documentElement.style==!1||(0,s.is_edge)())&&this.video.classList.add("video-obj-fit"),this.scrollHandler=function(){var e=videojs(n.videoWrapperMask),t=n.sandbox,r=t.getBoundingClientRect();t.offsetTop-window.scrollY<=0&&r.bottom>=window.innerHeight&&(document.body.classList.add("rrmc-sticky-section-video-stop-scrolling"),window.addEventListenerRR("touchend",n.catchScroll,{passive:!1}),e.play(),setTimeout((function(){i.gsap.timeline().set(n.sectionContent,{transform:" matrix(1, 0, 0, 1, 0, 0)"})}),100),!1===n.sectionStickyTracking.firstPlay&&(n.sectionStickyTracking.firstPlay=!0,c.fireCustomEvent({event:"pinned-section-component",eventCategory:"pinned-section",eventAction:"vid-start",eventLabel:"position-"+n.index})))},this.scrollHandlerReverse=function(){var e=n.sandbox,t=videojs(n.videoWrapperMask);e.offsetTop-window.scrollY>=window.innerHeight&&(t.currentTime(0),n.sectionContent.style.opacity=0,window.removeEventListenerRR("scroll",n.scrollHandlerReverse),window.addEventListenerRR("scroll",n.scrollHandler))}}return r(e,[{key:"startHeroVideo",value:function(){var e=this,t=window.innerWidth>768?this.desktopId:this.mobileId;videojs.getPlayer(this.video).ready((function(){var n=this;n.catalog.getVideo(t,(function(e,t){n.catalog.load(t)})),function t(){videojs(e.video).paused()?setTimeout((function(){t()}),200):e.video.classList.add("rrmc-sticky-section-video-visible")}()}))}},{key:"init",value:function(){window.addEventListenerRR("scroll",this.scrollHandler)}},{key:"lockPageAtFirst",value:function(){$(document).ready((function(){history.scrollRestoration?history.scrollRestoration="manual":window.onbeforeunload=function(){window.scrollTo(0,0)}}))}},{key:"onVideoEnd",value:function(){var e=this,t=videojs(this.videoWrapperMask);t.on("play",(function(){l.tronVideoEvents.videoStarted((0,l.getBrightcoveProps)(t))})),t.on("ended",(function(){e.userScrollAnimationRef.progress(0),window.removeEventListenerRR("scroll",e.scrollHandler),window.addEventListenerRR("scroll",e.scrollHandlerReverse),window.removeEventListenerRR("touchend",e.catchScroll,{passive:!1}),document.body.classList.remove("rrmc-sticky-section-video-stop-scrolling"),e.sectionContent.style.opacity=1,l.tronVideoEvents.videoEnded((0,l.getBrightcoveProps)(t)),c.fireCustomEvent({event:"pinned-section-component",eventCategory:"pinned-section",eventAction:"vid-end",eventLabel:"position-"+e.index})}))}},{key:"sectionInView",value:function(){new IntersectionObserver(function(e){var t=this;e.forEach((function(e){e.isIntersecting&&t.player.paused()?t.shader.style.opacity=.5:t.shader.style.opacity=0}))}.bind(this),{root:null,threshold:.1}).observe(this.sectionContent)}},{key:"userScrollAnimation",value:function(){var e=this;this.userScrollAnimationRef=i.gsap.timeline({paused:!0});var t=i.gsap.timeline();t.fromTo(this.sectionContent,11,{y:0},{y:this.shortAnimationON?-Math.abs(this.sectionContent.scrollHeight):-Math.abs(window.innerHeight+this.sectionContent.scrollHeight-61),ease:i.Linear.noEase}),this.userScrollAnimationRef.add(t),this.scrollController=new o.default.Controller,new o.default.Scene({triggerElement:this.trigger,triggerHook:0,duration:2500}).setPin(this.pinnedSection).setTween(this.userScrollAnimationRef).addTo(this.scrollController).on("end",(function(t){t.progress=0,!1===e.sectionStickyTracking.scrollTrack&&(e.sectionStickyTracking.scrollTrack=!0,c.fireCustomEvent({event:"pinned-section-component",eventCategory:"pinned-section",eventAction:"scroll-end",eventLabel:"position-"+e.index}))}))}},{key:"load",value:function(){this.startHeroVideo(),this.scrollHandler(),this.sectionInView(),this.lockPageAtFirst(),this.init(),this.userScrollAnimation(),this.onVideoEnd(),window.addEventListenerRR("resize",function(){this.currentWidth!==window.innerWidth&&(this.currentWidth=window.innerWidth,this.scrollController.destroy(!0),this.userScrollAnimation())}.bind(this))}}]),e}(),m=function(){function e(){p(this,e),this.sections=document.querySelectorAll(".js-rrmc-sticky-section-video"),this.index=0}return r(e,[{key:"loadSectionStickyVideos",value:function(){var e=this;[].slice.call(this.sections).forEach((function(t){e.index++,new f({sandbox:t,index:e.index}).load()}))}},{key:"load",value:function(){var e=this;a.default.parse(location.search).focus?this.subscription_broadcast=h.default.sub_broadcast.subscribe({next:function(t){"focus"===t.action&&(e.loadSectionStickyVideos(),setTimeout((function(){e.subscription_broadcast.unsubscribe()})))}}):this.loadSectionStickyVideos()}}]),e}();window.addEventListenerRR("load",(function(){(new m).load()}))},function(e,t,n){},function(e,t){e.exports={ScrollMagicPluginGsap:function(e,t,n){var r=t,i="animation.gsap",o=window.console||{},a=Function.prototype.bind.call(o.error||o.log||function(){},o);e||a("("+i+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),r||a("("+i+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),e.Scene.addOption("tweenChanges",!1,(function(e){return!!e})),e.Scene.extend((function(){var e,t=this,o=function(){t._log&&(Array.prototype.splice.call(arguments,1,0,"("+i+")","->"),t._log.apply(this,arguments))};t.on("progress.plugin_gsap",(function(){a()})),t.on("destroy.plugin_gsap",(function(e){t.removeTween(e.reset)}));var a=function(){if(e){var n=t.progress(),r=t.state();e.repeat&&-1===e.repeat()?"DURING"===r&&e.paused()?e.play():"DURING"===r||e.paused()||e.pause():n!=e.progress()&&(0===t.duration()?n>0?e.play():e.reverse():t.tweenChanges()&&e.tweenTo?e.tweenTo(n*e.duration()):e.progress(n).pause())}};t.setTween=function(i,s,l){var c;arguments.length>1&&(arguments.length<3&&(l=s,s=1),i=r.to(i,s,l));try{(c=n?new n({smoothChildTiming:!0}).add(i):i).pause()}catch(e){return o(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),t}if(e&&t.removeTween(),e=c,i.repeat&&-1===i.repeat()&&(e.repeat(-1),e.yoyo(i.yoyo())),t.tweenChanges()&&!e.tweenTo&&o(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),e&&t.controller()&&t.triggerElement()&&t.loglevel()>=2){var u=r.getTweensOf(t.triggerElement()),h=t.controller().info("vertical");u.forEach((function(e,t){var n=e.vars.css||e.vars;if(h?void 0!==n.top||void 0!==n.bottom:void 0!==n.left||void 0!==n.right)return o(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1}))}if(parseFloat(r.version)>=1.14)for(var d,p,f=e.getChildren?e.getChildren(!0,!0,!1):[e],m=function(){o(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},v=0;v<f.length;v++)d=f[v],p!==m&&(p=d.vars.onOverwrite,d.vars.onOverwrite=function(){p&&p.apply(this,arguments),m.apply(this,arguments)});return o(3,"added tween"),a(),t},t.removeTween=function(n){return e&&(n&&e.progress(0).pause(),e.kill(),e=void 0,o(3,"removed tween (reset: "+(n?"true":"false")+")")),t}}))}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(690);var i=u(n(14)),o=n(27),a=n(45),s=u(n(147)),l=n(447),c=u(n(46));function u(e){return e&&e.__esModule?e:{default:e}}function h(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=function(){function e(t){var n=this;d(this,e),this.container=t,this.content=this.container.querySelector(".rrmc-section-content-wrapper"),this.flag_video=this.container.hasAttribute("data-asset-video-on"),this.flag_bg_off=this.container.hasAttribute("data-bg-asset-off"),this.is_edit_mode=this.container.hasAttribute("data-is-edit-mode"),this.elm_image=this.container.querySelector(".js-rrmc-section-bg-img"),this.elm_image&&(this.elm_image_img=this.container.querySelector(".rrmc-section-bg-img")),this.elm_video=this.container.querySelector(".rrmc-section-bg-video"),this.body_height=0,this.video_id=this.container.getAttribute("data-video-id"),this.video_mobile_id=this.container.getAttribute("data-video-mobile-id"),this.prev_is_media_layout_mobile=(0,a.is_mobile)();var r=this.container.getAttribute("data-experience");this.target_experience=l.ExperienceList.makeExperienceList(r),this.set_aspect_ratio=function(){return n.flag_bg_off?Promise.resolve():new Promise((function(e){n.flag_video?n.set_aspect_ratio_video(e):n.set_aspect_ratio_image(e)}))},this.set_aspect_ratio_image=function(e){(0,o.pictureLazyLoaderPlain)(n.elm_image,(function(){"objectFit"in document.documentElement.style==!1&&n.elm_image&&(0,c.default)(n.elm_image_img),e()}))},this.set_aspect_ratio_video=function(e){n.player=videojs(n.elm_video);var t=n.player.getChild("errorDisplay");t.off(n.player,"error",t.open),t.dispose();var r=n.get_current_video_id();n.player.catalog.getVideo(r,(function(t,r){t&&console.log(t),n.player.catalog.load(r),0!=n.player.videoWidth()?e():n.player.on("loadeddata",(function(){(0,s.default)((function(){return 0!=n.player.videoWidth()}),(function(){e()}),n)})),n.player.play()}))},this.attemp_resize=function(){var e=document.body.clientHeight;e!=n.body_height&&(n.body_height=e,n.on_resize())},this.load_asset=function(){(n.force_load||n.is_edit_mode||window.pageYOffset+window.innerHeight+300>n.container_top)&&(window.removeEventListenerRR("scroll",n.load_asset),i.default.sub_height_resize.subscribe({next:function(){return n.on_resize()}}),n.set_aspect_ratio().then(n.on_resize))},this.on_resize_event=function(){var e=(0,a.is_mobile)();e!==n.prev_is_media_layout_mobile?n.load_asset():n.on_resize(),n.prev_is_media_layout_mobile=e},this.on_resize=function(){if(n.flag_video&&n.player){var e=n.container.getBoundingClientRect();n.container_width=e.width,n.container_height=e.height;var t=n.player.videoWidth(),r=n.player.videoHeight()/t,i=n.container_width*r;n.container_height>i?(n.elm_video.style.height=n.container_height+"px",n.elm_video.style.width=n.container_height/r+"px"):(n.elm_video.style.height=n.container_width*r+"px",n.elm_video.style.width=n.container_width+"px")}}}var t,n,u;return r(e,[{key:"get_current_video_id",value:function(){return this.video_id&&this.video_mobile_id?(0,a.is_mobile)()?this.video_mobile_id:this.video_id:this.video_mobile_id||this.video_id}},{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_top=e.top+window.pageYOffset}},{key:"is_default_experience",value:function(){return this.target_experience.isDefaultExperience()}},{key:"test_matching_experience",value:(u=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.EvergageStrategy.makeStrategy(this.target_experience),e.abrupt("return",t.doesLiveCampaignMatch());case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"has_matching_evergage_experience",value:(n=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.is_edit_mode){e.next=2;break}return e.abrupt("return",!0);case 2:if(!this.is_default_experience()){e.next=4;break}return e.abrupt("return",!0);case 4:return e.next=6,this.test_matching_experience();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"load",value:(t=h(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.has_matching_evergage_experience();case 2:if(e.sent){e.next=7;break}return this.container.style.display="none",e.abrupt("return");case 7:this.get_container_top(),window.addEventListenerRR("resize",this.on_resize_event),window.addEventListenerRR("scroll",this.load_asset),this.load_asset(),i.default.sub_height_resize.subscribe({next:function(){return t.get_container_top()}}),this.subscription_broadcast=i.default.sub_broadcast.subscribe({next:function(e){"load"===e.action&&(t.force_load=!0,t.load_asset(),setTimeout((function(){t.subscription_broadcast.unsubscribe()})))}});case 13:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),f=function(){function e(){d(this,e),this.sections=document.querySelectorAll(".rrmc-section")}return r(e,[{key:"load",value:function(){[].slice.call(this.sections).forEach((function(e){new p(e).load()}))}}]),e}();window.addEventListenerRR("load",(function(){(new f).load()}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.space=t,this.on_resize=function(){n.setHeight()}}return r(e,[{key:"setHeight",value:function(){window.innerWidth<768?this.space.style.height=this.space.getAttribute("data-mobile")+"px":window.innerWidth<1024?this.space.style.height=this.space.getAttribute("data-tablet")+"px":this.space.style.height=this.space.getAttribute("data-desktop")+"px"}},{key:"load",value:function(){this.setHeight(),window.addEventListenerRR("resize",this.on_resize)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".rrmc-content-spacer");[].slice.call(e).forEach((function(e){new i(e).load()}))}))},function(e,t,n){"use strict";var r,i=n(7);n(693),r=document.querySelectorAll(".rrmc-content > *"),i.TweenMax.staggerFromTo(r,1,{y:-100,opacity:0},{y:0,opacity:1},.1)},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(695);var i,o=n(75),a=(i=o)&&i.__esModule?i:{default:i};var s="tr",l="td",c="rr-table--title",u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._currentColumn=0,this.position=0,this._scrolling=!1,this.$table=(0,a.default)(t).find("table"),this.$firstRow=this.$table.find(s).eq(0),this.$titleCells=this.$firstRow.find(l),this.$rows=(0,a.default)(t).find(s)}return r(e,[{key:"load",value:function(){var e=this;this.$titleCells.addClass(c),this.$rows.each((function(t){0!==t&&(0,a.default)(this).find(l).each((function(t){var n=e.$titleCells[t].innerHTML;(0,a.default)(this).attr("data-label",n)}))}))}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rr-table");[].slice.call(e).forEach((function(e){new u(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(697);var i=n(7);var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.component=t,this.elm_cta=this.component.querySelector(".rrmc-tempus-cta"),this.elm_soe=this.elm_cta.querySelector(".rrmc-tempus-cta-soe > .icon"),this.elm_close=this.elm_cta.querySelector(".rrmc-tempus-cta-close > .icon"),this.on_enter=function(){return n.enter()},this.on_leave=function(){return n.leave()},this.duration=.3}return r(e,[{key:"enter",value:function(){document.documentElement.classList.contains("touchevents")||(this.tl&&this.tl.kill(),this.tl=new i.TimelineLite,this.tl.addLabel("start"),this.tl.to(this.elm_soe,this.duration,{opacity:0,transform:"scale(.5)"},"start"),this.tl.fromTo(this.elm_close,this.duration,{opacity:0,transform:"scale(.5)"},{opacity:1,transform:"scale(1)"},"start"))}},{key:"leave",value:function(){document.documentElement.classList.contains("touchevents")||(this.tl&&this.tl.kill(),this.tl=new i.TimelineLite,this.tl.addLabel("start"),this.tl.to(this.elm_close,this.duration,{opacity:0,transform:"scale(.5)"},"start"),this.tl.fromTo(this.elm_soe,this.duration,{opacity:0,transform:"scale(.5)"},{opacity:1,transform:"scale(1)"},"start"))}},{key:"load",value:function(){this.elm_cta.addEventListenerRR("mouseenter",this.on_enter),this.elm_cta.addEventListenerRR("mouseleave",this.on_leave)}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelectorAll(".js-rrmc-tempus");[].slice.call(e).forEach((function(e){new o(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(699);var i=n(7),o=c(n(14)),a=c(n(209)),s=c(n(76)),l=c(n(203));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.container_motion=this.container.querySelector(".rrmc-tertiary-nav-container"),this.breaks=[].slice.call(n),this.nav_list=this.container.querySelector(".rrmc-tertiary-nav-list"),this.prev_section=null,this.prev_colour_section=null,this.label_preview=null,this.on_scroll=function(){r.updateDistances({top:"breaks_top",current_section:"current_section",current_distance:"current_distance",section_distance:"section_distance"}),r.updateDistances({top:"breaks_colour_top",current_section:"current_colour_section",current_distance:"current_colour_distance",section_distance:"section_colour_distance"}),r.updateScrolls(),r.updateColours()},this.on_label_click=function(e){var t=e.currentTarget.getAttribute("data-number");r.goToSection(t)},this.on_enter=function(){(0,l.default)()||r.flag_hover||(r.flag_hover=!0,null!==r.label_preview&&(r.tmln_preview.kill(),r.label_preview=null),r.nav_sections.forEach((function(e){(new i.TimelineLite).set(e.label_copy,{display:"block"}).to(e.label_copy,.4,{opacity:1})})))},this.on_leave=function(){(0,l.default)()||(r.nav_sections.forEach((function(e){(new i.TimelineLite).to(e.label_copy,.4,{opacity:0}).set(e.label_copy,{display:"none"})})),setTimeout((function(){r.flag_hover=!1}),400))}}return r(e,[{key:"goToSection",value:function(e){i.TweenLite.to(window,1,{scrollTo:this.breaks_top[e-1]})}},{key:"updateColours",value:function(){this.prev_colour_section!==this.current_colour_section&&(this.prev_colour_section=this.current_colour_section,this.changeColour(this.current_colour_section))}},{key:"updateScrolls",value:function(){if(window.innerHeight>window.pageYOffset){var e=window.innerHeight-window.pageYOffset;i.TweenLite.set(this.container_motion,{y:e})}else if(this.last_section_pos<window.pageYOffset+window.innerHeight){var t=window.pageYOffset+window.innerHeight-this.last_section_pos;i.TweenLite.set(this.container_motion,{y:-t}),i.TweenLite.to(this.container_motion,.6,{opacity:0})}else i.TweenLite.set(this.container_motion,{clearProps:"all"});(this.prev_section!==this.current_section&&(null!==this.prev_section&&i.TweenLite.to(this.nav_sections[this.prev_section].scrollable,.6,{height:0}),null!==this.current_section&&i.TweenLite.to(this.nav_sections[this.current_section].scrollable,.6,{height:150}),this.prev_section=this.current_section,this.highlightCopy(this.current_section)),this.current_section==this.breaks.length-1)&&(this.current_distance/this.section_distance>.75?this.container.classList.add("-hidden"):this.container.classList.remove("-hidden"));if(null!==this.current_section){var n=this.current_distance/this.section_distance;i.TweenLite.set(this.nav_sections[this.current_section].scroller,{y:135*n})}}},{key:"changeColour",value:function(e){if(null!==e){var t=this.nav_colour_sections[e].colour;this.nav_sections.concat(this.nav_ctas).forEach((function(e){if(i.TweenLite.set([e.label_number,e.label_copy],{color:t}),i.TweenLite.set([e.scroller,e.scrollable_background],{"background-color":t}),e.icon){var n=e.icon_init.replace("placeholder",t.slice(1));e.icon.style.backgroundImage=n}}))}}},{key:"highlightCopy",value:function(e){var t=this;this.flag_hover||(null!==this.label_preview&&(this.tmln_preview.kill(),(new i.TimelineLite).to(this.nav_sections[this.label_preview].label_copy,.5,{opacity:0}).set(this.nav_sections[this.label_preview].label_copy,{display:"none"}),this.label_preview=null),null!==e&&(this.label_preview=e,this.tmln_preview=new i.TimelineLite,this.tmln_preview.set(this.nav_sections[e].label_copy,{display:"block"}).to(this.nav_sections[e].label_copy,.5,{opacity:1}).to(this.nav_sections[e].label_copy,.5,{opacity:0},"+=1").set(this.nav_sections[e].label_copy,{display:"none"}).add((function(){t.label_preview=null}))))}},{key:"updateSectionBreaks",value:function(){this.breaks_top=this.breaks.filter((function(e){return e.hasAttribute("data-label")&&!e.hasAttribute("data-cta")})).map((function(e){return e.getBoundingClientRect().top+window.pageYOffset}))}},{key:"updateColourBreaks",value:function(){this.breaks_colour_top=this.breaks.filter((function(e){return!e.hasAttribute("data-cta")})).map((function(e){return e.getBoundingClientRect().top+window.pageYOffset}))}},{key:"updateDistances",value:function(e){for(var t=window.pageYOffset+window.innerHeight/2,n=null,r=this[e.top].length;r>=0;--r)if(t>this[e.top][r]){n=r;break}this[e.current_section]=n,null===this[e.current_section]?(this[e.current_distance]=0,this[e.section_distance]=0):(this[e.current_distance]=t-this[e.top][this[e.current_section]],this[e.current_section]+1<this[e.top].length?this[e.section_distance]=this[e.top][this[e.current_section]+1]-this[e.top][this[e.current_section]]:this[e.section_distance]=document.body.getBoundingClientRect().height-this[e.top][this[e.current_section]])}},{key:"get_container_top",value:function(){var e=this.container.getBoundingClientRect();this.container_top=e.top+window.pageYOffset;var t=document.querySelector(".js-rrmc-section-break[data-final-break]");this.last_section_pos=t?t.getBoundingClientRect().top+window.pageYOffset:document.body.getBoundingClientRect().height-this.footer_height-window.innerHeight/2}},{key:"load",value:function(){var e=this;(0,a.default)(this,"var_footer_height",o.default.sub_footer_height,this.set_footer_offset),this.generateNav(),this.get_container_top(),this.updateSectionBreaks(),this.updateColourBreaks(),document.addEventListenerRR("scroll",this.on_scroll),this.container.addEventListenerRR("mouseenter",this.on_enter),this.container.addEventListenerRR("mouseleave",this.on_leave),this.on_scroll(),this.nav_sections.forEach((function(t){t.label.addEventListenerRR("click",e.on_label_click)})),o.default.sub_height_resize.subscribe({next:function(){e.get_container_top(),e.updateSectionBreaks(),e.updateColourBreaks(),e.on_scroll()}})}},{key:"set_footer_offset",value:function(){this.footer_height=this.var_footer_height.value(),this.get_container_top(),this.updateSectionBreaks(),this.updateColourBreaks()}},{key:"generateNav",value:function(){var e=this.breaks.filter((function(e){return e.hasAttribute("data-label")})).map((function(e,t){return e.hasAttribute("data-cta")?'<div class="rrmc-tertiary-nav-item" data-colour="'+e.getAttribute("data-colour")+'" data-nav-cta>\n            <button type="button"\n                    aria-label="'+e.getAttribute("data-label")+'"\n                    data-number="'+(t+1)+'"\n                    data-action="'+e.getAttribute("data-cta-action")+'"\n                    data-overlay="'+e.getAttribute("data-cta-overlay-name")+'"\n                    class="rrmc-tertiary-nav-label" data-cta>\n              <span class="rrmc-tertiary-nav-number rrmc-tertiary-nav-cta-icon rrmc-button-placeholder--'+e.getAttribute("data-cta-icon")+'">\n                <span class="rrmc-cta-i js-icon-container" data-icon="document">\n                    <span class="rrmc-cta-icon-placeholder"></span>\n                 </span>\n              </span>\n              <div class="rrmc-tertiary-nav-copy rrmc-button-text">'+e.getAttribute("data-label")+'</div>\n            </button>\n            <div class="rrmc-tertiary-nav-scrollable">\n              <div class="rrmc-tertiary-nav-scroller"></div>\n              <div class="rrmc-tertiary-nav-scrollable-background"></div>\n            </div>\n          </div>':'<div class="rrmc-tertiary-nav-item" data-colour="'+e.getAttribute("data-colour")+'">\n            <button aria-label="'+e.getAttribute("data-label")+'" \n                    type="button" data-number="'+(t+1)+'" \n                    class="rrmc-tertiary-nav-label">\n              <div class="rrmc-tertiary-nav-number">'+(t+1)+'</div>\n              <div class="rrmc-tertiary-nav-copy">'+e.getAttribute("data-label")+'</div>\n            </button>\n            <div class="rrmc-tertiary-nav-scrollable">\n              <div class="rrmc-tertiary-nav-scroller"></div>\n              <div class="rrmc-tertiary-nav-scrollable-background"></div>\n            </div>\n          </div>'})).reduce((function(e,t){return e+t}),"");this.nav_list.innerHTML=e;var t=[].slice.call(this.nav_list.querySelectorAll(".rrmc-tertiary-nav-item")).filter((function(e){return!e.hasAttribute("data-cta")}));this.nav_sections=t.map((function(e){var t=e.querySelector(".js-icon-container"),n="";t&&(n=window.getComputedStyle(t).backgroundImage);return{colour:e.getAttribute("data-colour"),container:e,label:e.querySelector(".rrmc-tertiary-nav-label"),label_number:e.querySelector(".rrmc-tertiary-nav-number"),label_copy:e.querySelector(".rrmc-tertiary-nav-copy"),icon:t,icon_init:n,scrollable:e.querySelector(".rrmc-tertiary-nav-scrollable"),scroller:e.querySelector(".rrmc-tertiary-nav-scroller"),scrollable_background:e.querySelector(".rrmc-tertiary-nav-scrollable-background")}})),this.nav_ctas=[].slice.call(this.nav_list.querySelectorAll(".rrmc-tertiary-nav-item")).filter((function(e){return e.hasAttribute("data-nav-cta")})).map((function(e){var t=e.querySelector(".js-icon-container"),n="";t&&(n=window.getComputedStyle(t).backgroundImage);var r=e.querySelector("button[data-cta]");return new s.default(r).load(),{container:e,label:e.querySelector(".rrmc-tertiary-nav-label"),label_number:e.querySelector(".rrmc-tertiary-nav-number"),label_copy:e.querySelector(".rrmc-tertiary-nav-copy"),icon:t,icon_init:n,scrollable:e.querySelector(".rrmc-tertiary-nav-scrollable"),scroller:e.querySelector(".rrmc-tertiary-nav-scroller"),scrollable_background:e.querySelector(".rrmc-tertiary-nav-scrollable-background")}})),this.nav_colour_sections=this.breaks.filter((function(e){return!e.hasAttribute("data-cta")})).map((function(e){return{colour:e.getAttribute("data-colour")}}))}}]),e}();document.addEventListenerRR("DOMContentLoaded",(function(){var e=document.querySelector(".js-rrmc-tertiary-nav");if(e){var t=document.querySelectorAll(".js-rrmc-section-break");new u(e,t).load()}}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),o=s(n(147)),a=s(n(14));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(701);var c=function(){function e(t){var n=this;l(this,e),this.container=t,this.video_on=this.container.hasAttribute("data-video-on"),this.align=this.container.getAttribute("data-align"),this.video=this.container.querySelector(".rrmc-tout-col-video");var r=t.querySelector(".js-tout-a"),i=t.querySelector(".js-tout-b");this.image_container=i,this.body_height=0,"right"==this.align?(this.content_a=i,this.content_b=r):(this.content_a=r,this.content_b=i),this.on_scroll=function(){var e=document.body.clientHeight;e!=n.body_height&&(n.body_height=e,n.on_resize())},this.on_resize=function(){n.tl_a&&n.tl_a.kill(),n.tl_b&&n.tl_b.kill(),n.clear_elm_props(),n.init_container()},this.on_start_and_stop_video_on_scroll_after_loaded=function(){n.scroll_pos=window.pageYOffset,n.window_height=window.innerHeight,n.user_focus=n.scroll_pos+n.window_height/2;var e=n.container_top+n.container_height/2,t=e-n.window_height/2,r=e+n.window_height/2;n.user_focus>t&&n.user_focus<r?n.toggle_video_play_pause(!0):n.toggle_video_play_pause(!1)},this.toggle_video_play_pause=function(e){n.is_video_playing!==e&&(n.is_video_playing=e,e?n.player.play():n.player.pause())},this.load_video=function(){(n.force_load||window.pageYOffset+window.innerHeight+300>n.container_top)&&(window.removeEventListenerRR("scroll",n.load_video),n.init_video(),window.addEventListenerRR("scroll",n.on_start_and_stop_video_on_scroll_after_loaded))},this.apply_aspect_ratio=function(){n.init_container(),n.reveal()},this.load()}return r(e,[{key:"init_video",value:function(){var e=this;this.player=videojs(this.video),this.player.reloadSourceOnError({errorInterval:5}),0!=this.player.videoWidth()?this.apply_aspect_ratio(this.player):this.player.on("loadedmetadata",(function(){(0,o.default)((function(){return 0!=e.player.videoWidth()}),(function(){e.apply_aspect_ratio(e.player)}),e)})),this.player.play()}},{key:"clear_elm_props",value:function(){i.TweenLite.set([this.content_a,this.content_b],{clearProps:"all"})}},{key:"load",value:function(){var e=this;this.init_container(),window.addEventListenerRR("scroll",this.on_scroll),window.addEventListenerRR("resize",this.on_resize),this.video_on?(window.addEventListenerRR("scroll",this.load_video),this.load_video(),this.subscription_broadcast=a.default.sub_broadcast.subscribe({next:function(t){"load"===t.action&&(e.force_load=!0,e.load_video(),setTimeout((function(){e.subscription_broadcast.unsubscribe()})))}})):this.reveal()}},{key:"init_container",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset}},{key:"reveal",value:function(){var e=this;(new i.TimelineLite).to([this.content_a,this.content_b],1,{opacity:1}).add((function(){e.content_a.classList.remove("is-init"),e.content_b.classList.remove("is-init"),a.default.sub_loaded_component.next(e.container)}))}}]),e}(),u=function(){function e(){l(this,e),this.containers=document.querySelectorAll(".js-rrmc-tout")}return r(e,[{key:"load",value:function(){[].slice.call(this.containers).forEach((function(e){return new c(e)}))}}]),e}();window.addEventListenerRR("load",(function(){(new u).load()}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(703),n(468);var i=n(7),o=l(n(444)),a=l(n(212)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.elm_submit_btn=this.container.querySelector(".js-rrmc-recall-submit"),this.elm_request_cont=this.container.querySelector(".js-rrmc-vehicle-recall-request-container"),this.elm_response_cont=this.container.querySelector(".js-rrmc-vehicle-recall-response-container"),this.elm_response_accordion=this.elm_response_cont.querySelector(".js-rrmc-vehicle-recall-response-container-accordion"),this.elm_back_btn=this.elm_response_cont.querySelector(".js-rrmc-recall-back"),this.input_recall=this.container.querySelector("input[name=recall]"),this.input_label=this.elm_request_cont.querySelector(".rrmc-form-label"),this.input_error=this.elm_request_cont.querySelector(".rrmc-form-label-error"),this.on_submit=function(e){e&&e.preventDefault(),a.default.validateTextInput(n.input_recall)&&n.validateVinInput(n.input_recall)?((new i.TimelineLite).set(n.elm_request_cont,{display:"none"}).set(n.elm_response_cont,{display:"block"}),fetch(n.endpoint_recall(n.input_recall.value)).then((function(e){if(e.ok)return e.json();throw e.text()})).then(n.on_response).catch((function(e){e.then((function(e){return console.log(e)}))}))):s.fireCustomEvent({event:"recallSubmit",eventCategory:"form",eventAction:n.elm_request_cont.id,eventLabel:"submit error: invalid "+n.input_recall.name})},this.on_back=function(){(new i.TimelineLite).set(n.elm_request_cont,{display:"block"}).set(n.elm_response_cont,{display:"none"}),n.resp_accordion&&n.resp_accordion.destroy(),n.input_recall.value=null,n.input_label.classList.remove("-hidden"),n.on_input_blur()},this.on_response=function(e){var t=e.hasRecall,r=e.recalls,i=e.vin,a="False";if(t){var l='<div class="rrmc-accordion js-rrmc-lazy-load">',c=!0,u=!1,h=void 0;try{for(var d,p=r[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value,m=f.description,v=f.pdf,g=f.startDate;l+=n.templateAccordionRow(m,v,g)}}catch(e){u=!0,h=e}finally{try{!c&&p.return&&p.return()}finally{if(u)throw h}}l+="</div>",n.elm_response_accordion.innerHTML=l,n.resp_accordion=new o.default(n.elm_response_cont.querySelector(".rrmc-accordion")),n.resp_accordion.load(),a="True"}else n.elm_response_accordion.innerHTML="There are no open recalls for your vehicle.";s.fireCustomEvent({event:"recallSubmit",eventCategory:"form",eventAction:n.elm_request_cont.id,eventLabel:"Submit - "+a,vin:i})},this.on_input_focus=function(e){n.input_label.classList.add("input-focus"),i.TweenLite.set(n.input_recall,{"border-bottom":"2px solid #ddd"}),s.fireCustomEvent({event:"formClick",eventCategory:"form",eventAction:n.elm_request_cont.id,eventLabel:e.target.name})},this.on_input_blur=function(){i.TweenLite.set(n.input_recall,{"border-bottom":"2px solid #696969"}),0!==n.input_recall.value.length?i.TweenLite.set(n.input_recall,{"border-bottom":"2px solid #ddd"}):n.input_label.classList.remove("input-focus")},this.form_submit=function(e){e.preventDefault(),n.on_submit()}}return r(e,[{key:"validateVinInput",value:function(){return 17!=this.input_recall.value.trim().length?(i.TweenLite.set(this.input_recall,{"border-bottom":"2px solid #f94564"}),this.input_error.classList.remove("-hidden"),this.input_error.textContent="VIN must be 17 characters.",!1):(this.input_label.classList.add("-hidden"),!0)}},{key:"templateAccordionRow",value:function(e,t,n){return'\n                <div class="rrmc-accordion-item" style="color: white">\n                                <div class="rrmc-accordion-tab rrmc-body1-bold">\n                          '+e+" "+n+'\n                        <span class="rrmc-icon-expand">\n                              <svg width="16" height="16" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                  <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                      <g id="icon/add" fill="white">\n                                          <path d="M9.00045405,8.9999041 L8.9999041,16.0002612 L6.99949902,15.9995541 L7.0005989,8.9999041 L-0.000151011402,8.9999041 L-0.000151011402,7.00020612 L15.9995541,6.99949902 L16.0002612,8.9999041 L9.00045405,8.9999041 Z M7.00020612,-0.000151011402 L8.9999041,-0.000151011402 L9.00061121,3.99980104 L7.00020612,3.99909393 L7.00020612,-0.000151011402 Z" id="Shape">\n                                          </path>\n                                      </g>\n                                  </g>\n                              </svg>\n                          </span>\n                          <span class="rrmc-icon-collapse">\n                              <svg width="16" height="16" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                  <defs>\n                                      <polygon id="path-1" points="0 9 16 9 16 7 0 7"></polygon>\n                                  </defs>\n                                  <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                                      <g id="icon/minus">\n                                          <mask id="mask-2" fill="white">\n                                              <use xlink:href="#path-1"></use>\n                                          </mask>\n                                          <use id="Fill-1" fill="white" xlink:href="#path-1"></use>\n                                      </g>\n                                  </g>\n                              </svg>\n                          </span>\n                      </div>\n                      <div class="rrmc-accordion-body">\n                          <div class="rrmc-accordion-copy">\n                          <p class="rrmc-recall-description">\n                              There is currently a recall for your vehicle. Please, refer to this document for more information:\n                          </p>\n                             <div>\n                            <span class="rrmc-hero-cta-wrapper js-rrmc-hero-cta-wrapper">\n         <a href="'+t+'" data-theme="dark" target="_blank" class="js-rrmc-recall-submit rrmc-cta-component rrmc-button--primary rrmc-button--dark rrmc-button--close">\n           <span class="rrmc-cta-i"></span>\n           <span class="rrmc-button-text js-rrmc-button-text">Documentation</span>\n           <span class="rrmc-button-arrow js-rrmc-button-arrow"></span>\n         </a>\n                            </span>\n                             </div>\n                      </div>\n                  </div>\n              </div>\n\n    '}},{key:"endpoint_recall",value:function(e){return"/bin/public/recall?vin="+e}},{key:"load",value:function(){this.elm_submit_btn.addEventListenerRR("click",this.on_submit),this.elm_back_btn.addEventListenerRR("click",this.on_back),this.input_recall.addEventListenerRR("focus",this.on_input_focus),this.input_recall.addEventListenerRR("blur",this.on_input_blur),this.elm_request_cont.addEventListenerRR("submit",this.form_submit)}},{key:"destroy",value:function(){this.elm_submit_btn.removeEventListenerRR("click",this.on_submit),this.elm_back_btn.removeEventListenerRR("click",this.on_back),this.input_recall.removeEventListenerRR("focus",this.on_input_focus),this.input_recall.removeEventListenerRR("blur",this.on_input_blur),this.elm_request_cont.removeEventListenerRR("submit",this.form_submit)}}]),e}();window.addEventListenerRR("load",(function(){var e=document.querySelectorAll(".js-rrmc-vehicle-recall-container");[].slice.call(e).forEach((function(e){new c(e).load()}))}))},function(e,t,n){},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(45);n(705);var o=u(n(14)),a=n(62),s=n(204),l=u(n(46)),c=n(27);function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(t){var n=this;h(this,e),this.container=t,this.parallax_on=this.container.hasAttribute("data-parallax-on"),this.col_a_wrapper=t.querySelector(".js-vscroll-col-a-wrapper"),this.col_a=t.querySelector(".js-vscroll-col-a"),this.col_b=t.querySelector(".js-vscroll-col-b"),this.dynamicOverlayParsys=this.container.querySelector(".rrmc-dynamic-overlay-parsys"),this.dynamicOverlay=this.container.querySelector(".rrmc-dynamic-overlay"),this.dynamic_cta=this.container.querySelector(".rrmc-vscroll-cta-container .js-rrmc-button[data-action=open-overlay-local]"),this.on_open_overlay=function(){var e=n.dynamicOverlay.dataset.overlayName;o.default.sub_overlay_manager_bus.next({action:a.overlayOpen,data:{overlayName:e,activeIndex:0}})},this.on_scroll=function(){if((0,i.is_tablet_portrait_down)())return n.col_a.style.marginTop=null,void(n.col_a.style.marginBottom=null);var e=window.pageYOffset,t=window.innerHeight,r=e-n.container_top,o=n.container_top+n.container_height-t,a=void 0;(a=r>=0&&e<o?"fixed":r>=0&&e>o?"static-bottom":"static")!=n.old_pos_classname&&(n.col_a.classList.add(a),n.col_a.classList.remove(n.old_pos_classname),"static-bottom"==a?n.set_margin_to_bottom():n.set_margin(),n.old_pos_classname=a)},this.on_resize=function(){n.init_container(),"static-bottom"==n.old_pos_classname?n.set_margin_to_bottom():n.set_margin(),n.on_scroll(),"objectFit"in document.documentElement.style==!1&&(0,l.default)(n.col_b.querySelectorAll("img"))},this.loadImages=function(){var e=n.container.querySelectorAll(".rrmc-image-aspect-img"),t=e[e.length-1];[].slice.call(e).forEach((function(r,i){(0,c.srcsetLazyLoaderPlain)(r,(function(){e[i]===t&&n.load()}))}))},this.loadImages()}return r(e,[{key:"populateOverlayCarousel",value:function(){if(this.parallax_on){var e=(0,s.reach_overlay_container_type)("local").overlay_container_wrapper;(0,s.reach_overlay_container_list)(e).appendChild(this.dynamicOverlayParsys)}}},{key:"load",value:function(){this.populateOverlayCarousel(),this.init_container(),this.parallax_on&&(window.addEventListenerRR("scroll",this.on_scroll),window.addEventListenerRR("resize",this.on_resize),o.default.sub_height_resize.subscribe({next:this.on_resize}),this.on_resize()),this.dynamic_cta&&this.dynamic_cta.addEventListenerRR("click",this.on_open_overlay)}},{key:"set_margin_to_bottom",value:function(){(0,i.is_tablet_portrait_down)()?this.col_a.style.marginTop=null:this.container_height<window.innerHeight?this.set_margin():this.col_a.style.marginTop=(window.innerHeight-this.content_height)/2+this.container_height-window.innerHeight+"px"}},{key:"set_margin",value:function(){if((0,i.is_tablet_portrait_down)())this.col_a.style.marginTop=null;else{var e=window.innerHeight,t=(e-this.content_height)/2;if(this.col_a.style.marginTop=t+"px",this.col_a.style.marginBottom=t+"px",this.container_height<e){var n=(this.container_height-this.content_height)/2;this.col_a.style.marginTop=n+"px",this.col_a.style.marginBottom=n+"px"}}}},{key:"init_container",value:function(){var e=this.container.getBoundingClientRect();this.container_height=e.height,this.container_top=e.top+window.pageYOffset;var t=this.col_a.getBoundingClientRect();this.content_height=t.height}}]),e}(),p=function(){function e(){h(this,e),this.containers=document.querySelectorAll(".js-vscroll")}return r(e,[{key:"load",value:function(){[].slice.call(this.containers).forEach((function(e){return new d(e)}))}}]),e}();window.addEventListenerRR("load",(function(){(new p).load()}))},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"audit",(function(){return o})),n.d(t,"auditTime",(function(){return u})),n.d(t,"buffer",(function(){return h})),n.d(t,"bufferCount",(function(){return m})),n.d(t,"bufferTime",(function(){return b})),n.d(t,"bufferToggle",(function(){return D})),n.d(t,"bufferWhen",(function(){return R})),n.d(t,"catchError",(function(){return F})),n.d(t,"combineAll",(function(){return z})),n.d(t,"combineLatest",(function(){return H})),n.d(t,"concat",(function(){return q})),n.d(t,"concatAll",(function(){return W.a})),n.d(t,"concatMap",(function(){return X})),n.d(t,"concatMapTo",(function(){return Q})),n.d(t,"count",(function(){return K})),n.d(t,"debounce",(function(){return $})),n.d(t,"debounceTime",(function(){return ne})),n.d(t,"defaultIfEmpty",(function(){return ae})),n.d(t,"delay",(function(){return he})),n.d(t,"delayWhen",(function(){return ve})),n.d(t,"dematerialize",(function(){return we})),n.d(t,"distinct",(function(){return ke})),n.d(t,"distinctUntilChanged",(function(){return Ce})),n.d(t,"distinctUntilKeyChanged",(function(){return De})),n.d(t,"elementAt",(function(){return Ue})),n.d(t,"endWith",(function(){return Ge})),n.d(t,"every",(function(){return qe})),n.d(t,"exhaust",(function(){return Xe})),n.d(t,"exhaustMap",(function(){return Ze})),n.d(t,"expand",(function(){return tt})),n.d(t,"filter",(function(){return Pe.a})),n.d(t,"finalize",(function(){return it})),n.d(t,"find",(function(){return st})),n.d(t,"findIndex",(function(){return ut})),n.d(t,"first",(function(){return dt})),n.d(t,"groupBy",(function(){return pt.b})),n.d(t,"ignoreElements",(function(){return ft})),n.d(t,"isEmpty",(function(){return gt})),n.d(t,"last",(function(){return St})),n.d(t,"map",(function(){return Je.a})),n.d(t,"mapTo",(function(){return kt})),n.d(t,"materialize",(function(){return Ct})),n.d(t,"max",(function(){return Ot})),n.d(t,"merge",(function(){return Bt})),n.d(t,"mergeAll",(function(){return Nt.a})),n.d(t,"mergeMap",(function(){return Y.b})),n.d(t,"flatMap",(function(){return Y.a})),n.d(t,"mergeMapTo",(function(){return jt})),n.d(t,"mergeScan",(function(){return zt})),n.d(t,"min",(function(){return Ht})),n.d(t,"multicast",(function(){return qt})),n.d(t,"observeOn",(function(){return Yt.b})),n.d(t,"onErrorResumeNext",(function(){return Xt})),n.d(t,"pairwise",(function(){return Jt})),n.d(t,"partition",(function(){return tn})),n.d(t,"pluck",(function(){return nn})),n.d(t,"publish",(function(){return an})),n.d(t,"publishBehavior",(function(){return ln})),n.d(t,"publishLast",(function(){return un})),n.d(t,"publishReplay",(function(){return dn})),n.d(t,"race",(function(){return fn})),n.d(t,"reduce",(function(){return It})),n.d(t,"repeat",(function(){return mn})),n.d(t,"repeatWhen",(function(){return yn})),n.d(t,"retry",(function(){return wn})),n.d(t,"retryWhen",(function(){return kn})),n.d(t,"refCount",(function(){return Cn.a})),n.d(t,"sample",(function(){return Tn})),n.d(t,"sampleTime",(function(){return Ln})),n.d(t,"scan",(function(){return Dt})),n.d(t,"sequenceEqual",(function(){return On})),n.d(t,"share",(function(){return zn})),n.d(t,"shareReplay",(function(){return Vn})),n.d(t,"single",(function(){return Un})),n.d(t,"skip",(function(){return qn})),n.d(t,"skipLast",(function(){return Xn})),n.d(t,"skipUntil",(function(){return Jn})),n.d(t,"skipWhile",(function(){return er})),n.d(t,"startWith",(function(){return rr})),n.d(t,"subscribeOn",(function(){return sr})),n.d(t,"switchAll",(function(){return dr})),n.d(t,"switchMap",(function(){return cr})),n.d(t,"switchMapTo",(function(){return pr})),n.d(t,"take",(function(){return je})),n.d(t,"takeLast",(function(){return bt})),n.d(t,"takeUntil",(function(){return fr})),n.d(t,"takeWhile",(function(){return gr})),n.d(t,"tap",(function(){return xr})),n.d(t,"throttle",(function(){return Er})),n.d(t,"throttleTime",(function(){return Mr})),n.d(t,"throwIfEmpty",(function(){return Ie})),n.d(t,"timeInterval",(function(){return Ir})),n.d(t,"timeout",(function(){return Vr})),n.d(t,"timeoutWith",(function(){return Br})),n.d(t,"timestamp",(function(){return Ur})),n.d(t,"toArray",(function(){return qr})),n.d(t,"window",(function(){return Wr})),n.d(t,"windowCount",(function(){return Qr})),n.d(t,"windowTime",(function(){return Zr})),n.d(t,"windowToggle",(function(){return oi})),n.d(t,"windowWhen",(function(){return li})),n.d(t,"withLatestFrom",(function(){return hi})),n.d(t,"zip",(function(){return mi})),n.d(t,"zipAll",(function(){return vi}));var r=n(2),i=n(6);function o(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.durationSelector))},e}(),s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(e){return this.destination.error(e)}var n=Object(i.c)(t,new i.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.b),l=n(23),c=n(221);function u(e,t){return void 0===t&&(t=l.a),o((function(){return Object(c.a)(e,t)}))}function h(e){return function(t){return t.lift(new d(e))}}var d=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.closingNotifier))},e}(),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add(Object(i.c)(n,new i.a(r))),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(){var e=this.buffer;this.buffer=[],this.destination.next(e)},t}(i.b),f=n(4);function m(e,t){return void 0===t&&(t=null),function(n){return n.lift(new v(e,t))}}var v=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?y:g}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),g=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(f.a),y=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var a=r[o];a.push(e),a.length===t&&(r.splice(o,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(f.a),_=n(33);function b(e){var t=arguments.length,n=l.a;Object(_.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return t>=3&&(i=arguments[2]),function(t){return t.lift(new w(e,r,i,n))}}var w=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new S(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),x=function(){return function(){this.buffer=[]}}(),S=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=r,a.maxBufferSize=i,a.scheduler=o,a.contexts=[];var s=a.openContext();if(a.timespanOnly=null==r||r<0,a.timespanOnly){var l={subscriber:a,context:s,bufferTimeSpan:n};a.add(s.closeAction=o.schedule(k,n,l))}else{var c={subscriber:a,context:s},u={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:a,scheduler:o};a.add(s.closeAction=o.schedule(E,n,c)),a.add(o.schedule(A,r,u))}return a}return r.a(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(k,n,r))}},t.prototype.openContext=function(){var e=new x;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(f.a);function k(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function A(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(E,n,{subscriber:r,context:o})),this.schedule(e,t))}function E(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var C=n(17),T=n(49),M=n(66);function D(e,t){return function(n){return n.lift(new L(e,t))}}var L=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new P(e,this.openings,this.closingSelector))},e}(),P=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.closingSelector=r,i.contexts=[],i.add(Object(T.a)(i,n)),i}return r.a(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new C.a,r={buffer:[],subscription:n};t.push(r);var i=Object(T.a)(this,e,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},t}(M.a);function R(e){return function(t){return t.lift(new I(e))}}var I=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.closingSelector))},e}(),O=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},t.prototype.notifyNext=function(){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(e){return this.error(e)}e=new C.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(i.c)(t,new i.a(this))),this.subscribing=!1},t}(i.b);function F(e){return function(t){var n=new B(e),r=t.lift(n);return n.caught=r}}var B=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new N(e,this.selector,this.caught))},e}(),N=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle();var r=new i.a(this);this.add(r);var o=Object(i.c)(n,r);o!==r&&this.add(o)}},t}(i.b),j=n(159);function z(e){return function(t){return t.lift(new j.a(e))}}var V=n(24),U=n(41);function H(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(V.a)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(Object(U.a)([t].concat(e)),new j.a(n))}}var G=n(113);function q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(G.a.apply(void 0,[t].concat(e)))}}var W=n(218),Y=n(91);function X(e,t){return Object(Y.b)(e,t,1)}function Q(e,t){return X((function(){return e}),t)}function K(e){return function(t){return t.lift(new J(e,t))}}var J=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Z(e,this.predicate,this.source))},e}(),Z=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(f.a);function $(e){return function(t){return t.lift(new ee(e))}}var ee=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new te(e,this.durationSelector))},e}(),te=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(i.c)(t,new i.a(this)))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.b);function ne(e,t){return void 0===t&&(t=l.a),function(n){return n.lift(new re(e,t))}}var re=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new ie(e,this.dueTime,this.scheduler))},e}(),ie=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oe,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(f.a);function oe(e){e.debouncedNext()}function ae(e){return void 0===e&&(e=null),function(t){return t.lift(new se(e))}}var se=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new le(e,this.defaultValue))},e}(),le=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(f.a);function ce(e){return e instanceof Date&&!isNaN(+e)}var ue=n(68);function he(e,t){void 0===t&&(t=l.a);var n=ce(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new de(n,t))}}var de=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new pe(e,this.delay,this.scheduler))},e}(),pe=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new fe(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(ue.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(ue.a.createComplete()),this.unsubscribe()},t}(f.a),fe=function(){return function(e,t){this.time=e,this.notification=t}}(),me=n(8);function ve(e,t){return t?function(n){return new _e(n,t).lift(new ge(e))}:function(t){return t.lift(new ge(e))}}var ge=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ye(e,this.delayDurationSelector))},e}(),ye=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=Object(T.a)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(M.a),_e=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.a(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new be(e,this.source))},t}(me.a),be=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.a(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(f.a);function we(){return function(e){return e.lift(new xe)}}var xe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Se(e))},e}(),Se=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(f.a);function ke(e,t){return function(n){return n.lift(new Ae(e,t))}}var Ae=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new Ee(e,this.keySelector,this.flushes))},e}(),Ee=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.keySelector=n,o.values=new Set,r&&o.add(Object(i.c)(r,new i.a(o))),o}return r.a(t,e),t.prototype.notifyNext=function(){this.values.clear()},t.prototype.notifyError=function(e){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.b);function Ce(e,t){return function(n){return n.lift(new Te(e,t))}}var Te=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Me(e,this.compare,this.keySelector))},e}(),Me=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(e){return this.destination.error(e)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(e){return this.destination.error(e)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(f.a);function De(e,t){return Ce((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}var Le=n(86),Pe=n(67),Re=n(90);function Ie(e){return void 0===e&&(e=Be),function(t){return t.lift(new Oe(e))}}var Oe=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new Fe(e,this.errorFactory))},e}(),Fe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},t}(f.a);function Be(){return new Re.a}var Ne=n(40);function je(e){return function(t){return 0===e?Object(Ne.b)():t.lift(new ze(e))}}var ze=function(){function e(e){if(this.total=e,this.total<0)throw new Le.a}return e.prototype.call=function(e,t){return t.subscribe(new Ve(e,this.total))},e}(),Ve=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(f.a);function Ue(e,t){if(e<0)throw new Le.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(Pe.a)((function(t,n){return n===e})),je(1),n?ae(t):Ie((function(){return new Le.a})))}}var He=n(118);function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Object(G.a)(t,He.a.apply(void 0,e))}}function qe(e,t){return function(n){return n.lift(new We(e,t,n))}}var We=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Ye(e,this.predicate,this.thisArg,this.source))},e}(),Ye=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.a(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(f.a);function Xe(){return function(e){return e.lift(new Qe)}}var Qe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ke(e))},e}(),Ke=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(i.c)(e,new i.a(this))))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.b),Je=n(31);function Ze(e,t){return t?function(n){return n.pipe(Ze((function(n,r){return Object(U.a)(e(n,r)).pipe(Object(Je.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new $e(e))}}var $e=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new et(e,this.project))},e}(),et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.hasSubscription=!0,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new i.a(this),n=this.destination;n.add(t);var r=Object(i.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.b);function tt(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new nt(e,t,n))}}var nt=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new rt(e,this.project,this.concurrent,this.scheduler))},e}(),rt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(e){n.error(e)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add(Object(i.c)(e,new i.a(this)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this._next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.b);function it(e){return function(t){return t.lift(new ot(e))}}var ot=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new at(e,this.callback))},e}(),at=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new C.a(n)),r}return r.a(t,e),t}(f.a);function st(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new lt(e,n,!1,t))}}var lt=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new ct(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),ct=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.predicate=n,a.source=r,a.yieldIndex=i,a.thisArg=o,a.index=0,a}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(f.a);function ut(e,t){return function(n){return n.lift(new lt(e,n,!0,t))}}var ht=n(63);function dt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Pe.a)((function(t,n){return e(t,n,r)})):ht.a,je(1),n?ae(t):Ie((function(){return new Re.a})))}}var pt=n(208);function ft(){return function(e){return e.lift(new mt)}}var mt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new vt(e))},e}(),vt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.a(t,e),t.prototype._next=function(e){},t}(f.a);function gt(){return function(e){return e.lift(new yt)}}var yt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new _t(e))},e}(),_t=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(f.a);function bt(e){return function(t){return 0===e?Object(Ne.b)():t.lift(new wt(e))}}var wt=function(){function e(e){if(this.total=e,this.total<0)throw new Le.a}return e.prototype.call=function(e,t){return t.subscribe(new xt(e,this.total))},e}(),xt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(f.a);function St(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(Pe.a)((function(t,n){return e(t,n,r)})):ht.a,bt(1),n?ae(t):Ie((function(){return new Re.a})))}}function kt(e){return function(t){return t.lift(new At(e))}}var At=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new Et(e,this.value))},e}(),Et=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.a(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(f.a);function Ct(){return function(e){return e.lift(new Tt)}}var Tt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Mt(e))},e}(),Mt=function(e){function t(t){return e.call(this,t)||this}return r.a(t,e),t.prototype._next=function(e){this.destination.next(ue.a.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(ue.a.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(ue.a.createComplete()),e.complete()},t}(f.a);function Dt(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Lt(e,t,n))}}var Lt=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new Pt(e,this.accumulator,this.seed,this.hasSeed))},e}(),Pt=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(f.a),Rt=n(148);function It(e,t){return arguments.length>=2?function(n){return Object(Rt.a)(Dt(e,t),bt(1),ae(t))(n)}:function(t){return Object(Rt.a)(Dt((function(t,n,r){return e(t,n,r+1)})),bt(1))(t)}}function Ot(e){return It("function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t})}var Ft=n(219);function Bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(Ft.a.apply(void 0,[t].concat(e)))}}var Nt=n(160);function jt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(Y.b)((function(){return e}),t,n):("number"==typeof t&&(n=t),Object(Y.b)((function(){return e}),n))}function zt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Vt(e,t,n))}}var Vt=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new Ut(e,this.accumulator,this.seed,this.concurrent))},e}(),Ut=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var t=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,e,t)}catch(e){return n.error(e)}this.active++,this._innerSub(r)}else this.buffer.push(e)},t.prototype._innerSub=function(e){var t=new i.a(this),n=this.destination;n.add(t);var r=Object(i.c)(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e){var t=this.destination;this.acc=e,this.hasValue=!0,t.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(i.b);function Ht(e){return It("function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t})}var Gt=n(214);function qt(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new Wt(r,t));var i=Object.create(n,Gt.b);return i.source=n,i.subjectFactory=r,i}}var Wt=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}(),Yt=n(216);function Xt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&Object(V.a)(e[0])&&(e=e[0]),function(t){return t.lift(new Qt(e))}}var Qt=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new Kt(e,this.nextSources))},e}(),Kt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.a(t,e),t.prototype.notifyError=function(){this.subscribeToNextSource()},t.prototype.notifyComplete=function(){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new i.a(this),n=this.destination;n.add(t);var r=Object(i.c)(e,t);r!==t&&n.add(r)}else this.destination.complete()},t}(i.b);function Jt(){return function(e){return e.lift(new Zt)}}var Zt=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new $t(e))},e}(),$t=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.a(t,e),t.prototype._next=function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)},t}(f.a),en=n(227);function tn(e,t){return function(n){return[Object(Pe.a)(e,t)(n),Object(Pe.a)(Object(en.a)(e,t))(n)]}}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return Object(Je.a)(rn(e,n))(t)}}function rn(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=null!=r?r[e[i]]:void 0;if(void 0===o)return;r=o}return r}}var on=n(21);function an(e){return e?qt((function(){return new on.a}),e):qt(new on.a)}var sn=n(215);function ln(e){return function(t){return qt(new sn.a(e))(t)}}var cn=n(94);function un(){return function(e){return qt(new cn.a)(e)}}var hn=n(157);function dn(e,t,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new hn.a(e,t,r);return function(e){return qt((function(){return o}),i)(e)}}var pn=n(220);function fn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&Object(V.a)(e[0])&&(e=e[0]),t.lift.call(pn.a.apply(void 0,[t].concat(e)))}}function mn(e){return void 0===e&&(e=-1),function(t){return 0===e?Object(Ne.b)():e<0?t.lift(new vn(-1,t)):t.lift(new vn(e-1,t))}}var vn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new gn(e,this.count,this.source))},e}(),gn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.a(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(f.a);function yn(e){return function(t){return t.lift(new _n(e))}}var _n=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new bn(e,this.notifier,t))},e}(),bn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.a(t,e),t.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var t;this.notifications=new on.a;try{t=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=Object(i.c)(t,new i.a(this))},t}(i.b);function wn(e){return void 0===e&&(e=-1),function(t){return t.lift(new xn(e,t))}}var xn=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Sn(e,this.count,this.source))},e}(),Sn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(f.a);function kn(e){return function(t){return t.lift(new An(e,t))}}var An=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new En(e,this.notifier,this.source))},e}(),En=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.a(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new on.a;try{r=(0,this.notifier)(n)}catch(t){return e.prototype.error.call(this,t)}o=Object(i.c)(r,new i.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=void 0),t&&(t.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},t.prototype.notifyNext=function(){var e=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=e,this.source.subscribe(this)},t}(i.b),Cn=n(156);function Tn(e){return function(t){return t.lift(new Mn(e))}}var Mn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new Dn(e),r=t.subscribe(n);return r.add(Object(i.c)(this.notifier,new i.a(n))),r},e}(),Dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.a(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.b);function Ln(e,t){return void 0===t&&(t=l.a),function(n){return n.lift(new Pn(e,t))}}var Pn=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new Rn(e,this.period,this.scheduler))},e}(),Rn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(In,n,{subscriber:i,period:n})),i}return r.a(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(f.a);function In(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function On(e,t){return function(n){return n.lift(new Fn(e,t))}}var Fn=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new Bn(e,this.compareTo,this.comparator))},e}(),Bn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new Nn(t,i))),i}return r.a(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(e){this.destination.error(e)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(f.a),Nn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.a(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(f.a);function jn(){return new on.a}function zn(){return function(e){return Object(Cn.a)()(qt(jn)(e))}}function Vn(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=e.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=e.refCount,l=e.scheduler,c=0,u=!1,h=!1;return function(e){var r;c++,!t||u?(u=!1,t=new hn.a(i,a,l),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){u=!0,t.error(e)},complete:function(){h=!0,n=void 0,t.complete()}}),h&&(n=void 0)):r=t.subscribe(this),this.add((function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,t=void 0)}))}}(r))}}function Un(e){return function(t){return t.lift(new Hn(e,t))}}var Hn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Gn(e,this.predicate,this.source))},e}(),Gn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.a(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new Re.a)},t}(f.a);function qn(e){return function(t){return t.lift(new Wn(e))}}var Wn=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new Yn(e,this.total))},e}(),Yn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.a(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(f.a);function Xn(e){return function(t){return t.lift(new Qn(e))}}var Qn=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new Le.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new f.a(e)):t.subscribe(new Kn(e,this._skipCount))},e}(),Kn=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(f.a);function Jn(e){return function(t){return t.lift(new Zn(e))}}var Zn=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new $n(e,this.notifier))},e}(),$n=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var o=new i.a(r);r.add(o),r.innerSubscription=o;var a=Object(i.c)(n,o);return a!==o&&(r.add(a),r.innerSubscription=a),r}return r.a(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.b);function er(e){return function(t){return t.lift(new tr(e))}}var tr=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new nr(e,this.predicate))},e}(),nr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},t}(f.a);function rr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return Object(_.a)(n)?(e.pop(),function(t){return Object(G.a)(e,t,n)}):function(t){return Object(G.a)(e,t)}}var ir=n(149),or=n(96),ar=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=ir.a);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!Object(or.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=ir.a),i}return r.a(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=ir.a),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(me.a);function sr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new lr(e,t))}}var lr=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new ar(t,this.delay,this.scheduler).subscribe(e)},e}();function cr(e,t){return"function"==typeof t?function(n){return n.pipe(cr((function(n,r){return Object(U.a)(e(n,r)).pipe(Object(Je.a)((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new ur(e))}}var ur=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new hr(e,this.project))},e}(),hr=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.a(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t)},t.prototype._innerSub=function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new i.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(i.c)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=void 0},t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e){this.destination.next(e)},t}(i.b);function dr(){return cr(ht.a)}function pr(e,t){return t?cr((function(){return e}),t):cr((function(){return e}))}function fr(e){return function(t){return t.lift(new mr(e))}}var mr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new vr(e),r=Object(i.c)(this.notifier,new i.a(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),vr=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.a(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.b);function gr(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new yr(e,t))}}var yr=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new _r(e,this.predicate,this.inclusive))},e}(),_r=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.a(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(f.a),br=n(78),wr=n(87);function xr(e,t,n){return function(r){return r.lift(new Sr(e,t,n))}}var Sr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new kr(e,this.nextOrObserver,this.error,this.complete))},e}(),kr=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=br.a,o._tapError=br.a,o._tapComplete=br.a,o._tapError=r||br.a,o._tapComplete=i||br.a,Object(wr.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||br.a,o._tapError=n.error||br.a,o._tapComplete=n.complete||br.a),o}return r.a(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(f.a),Ar={leading:!0,trailing:!1};function Er(e,t){return void 0===t&&(t=Ar),function(n){return n.lift(new Cr(e,!!t.leading,!!t.trailing))}}var Cr=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new Tr(e,this.durationSelector,this.leading,this.trailing))},e}(),Tr=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.a(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=void 0},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=Object(i.c)(t,new i.a(this)))},t.prototype.tryDurationSelector=function(e){try{return this.durationSelector(e)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=void 0,t&&this.send()},t.prototype.notifyNext=function(){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.b);function Mr(e,t,n){return void 0===t&&(t=l.a),void 0===n&&(n=Ar),function(r){return r.lift(new Dr(e,t,n.leading,n.trailing))}}var Dr=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new Lr(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),Lr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.duration=n,a.scheduler=r,a.leading=i,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return r.a(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Pr,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(f.a);function Pr(e){e.subscriber.clearThrottle()}var Rr=n(161);function Ir(e){return void 0===e&&(e=l.a),function(t){return Object(Rr.a)((function(){return t.pipe(Dt((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),Object(Je.a)((function(e){var t=e.current,n=e.last,r=e.value;return new Or(r,t-n)})))}))}}var Or=function(){return function(e,t){this.value=e,this.interval=t}}(),Fr=n(217);function Br(e,t,n){return void 0===n&&(n=l.a),function(r){var i=ce(e),o=i?+e-n.now():Math.abs(e);return r.lift(new Nr(o,i,t,n))}}var Nr=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new jr(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),jr=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=r,a.withObservable=i,a.scheduler=o,a.scheduleTimeout(),a}return r.a(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(i.c)(t,new i.a(e)))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},t}(i.b),zr=n(158);function Vr(e,t){return void 0===t&&(t=l.a),Br(e,Object(zr.a)(new Fr.a),t)}function Ur(e){return void 0===e&&(e=l.a),Object(Je.a)((function(t){return new Hr(t,e.now())}))}var Hr=function(){return function(e,t){this.value=e,this.timestamp=t}}();function Gr(e,t,n){return 0===n?[t]:(e.push(t),e)}function qr(){return It(Gr,[])}function Wr(e){return function(t){return t.lift(new Yr(e))}}var Yr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new Xr(e),r=t.subscribe(n);return r.closed||n.add(Object(i.c)(this.windowBoundaries,new i.a(n))),r},e}(),Xr=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new on.a,t.next(n.window),n}return r.a(t,e),t.prototype.notifyNext=function(){this.openWindow()},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new on.a;t.next(n)},t}(i.b);function Qr(e,t){return void 0===t&&(t=0),function(n){return n.lift(new Kr(e,t))}}var Kr=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new Jr(e,this.windowSize,this.startWindowEvery))},e}(),Jr=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new on.a],i.count=0,t.next(i.windows[0]),i}return r.a(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s=this.count-r+1;if(s>=0&&s%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var l=new on.a;i.push(l),n.next(l)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(f.a);function Zr(e){var t=l.a,n=null,r=Number.POSITIVE_INFINITY;return Object(_.a)(arguments[3])&&(t=arguments[3]),Object(_.a)(arguments[2])?t=arguments[2]:Object(or.a)(arguments[2])&&(r=Number(arguments[2])),Object(_.a)(arguments[1])?t=arguments[1]:Object(or.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new $r(e,n,r,t))}}var $r=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new ti(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),ei=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.a(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(on.a),ti=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=r,a.maxWindowSize=i,a.scheduler=o,a.windows=[];var s=a.openWindow();if(null!==r&&r>=0){var l={subscriber:a,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:a,scheduler:o};a.add(o.schedule(ii,n,l)),a.add(o.schedule(ri,r,c))}else{var u={subscriber:a,window:s,windowTimeSpan:n};a.add(o.schedule(ni,n,u))}return a}return r.a(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new ei;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(f.a);function ni(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function ri(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a={action:this,subscription:null},s={subscriber:n,window:o,context:a};a.subscription=r.schedule(ii,t,s),this.add(a.subscription),this.schedule(e,i)}function ii(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function oi(e,t){return function(n){return n.lift(new ai(e,t))}}var ai=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new si(e,this.openings,this.closingSelector))},e}(),si=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(T.a)(i,n,n)),i}return r.a(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var o=void 0;try{o=(0,this.closingSelector)(t)}catch(e){return this.error(e)}var a=new on.a,s=new C.a,l={window:a,subscription:s};this.contexts.push(l);var c=Object(T.a)(this,o,l);c.closed?this.closeWindow(this.contexts.length-1):(c.context=l,s.add(c)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(M.a);function li(e){return function(t){return t.lift(new ci(e))}}var ci=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new ui(e,this.closingSelector))},e}(),ui=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.a(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new on.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(e){return this.destination.error(e),void this.window.error(e)}this.add(this.closingNotification=Object(T.a)(this,n))},t}(M.a);function hi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new di(r,n))}}var di=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new pi(e,this.observables,this.project))},e}(),pi=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(a=0;a<o;a++){var s=n[a];i.add(Object(T.a)(i,s,void 0,a))}return i}return r.a(t,e),t.prototype.notifyNext=function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(M.a),fi=n(162);function mi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(fi.b.apply(void 0,[t].concat(e)))}}function vi(e){return function(t){return t.lift(new fi.a(e))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"gsap",(function(){return vo})),n.d(t,"default",(function(){return vo})),n.d(t,"TweenMax",(function(){return go})),n.d(t,"CSSPlugin",(function(){return i.b})),n.d(t,"TweenLite",(function(){return r.w})),n.d(t,"TimelineMax",(function(){return r.v})),n.d(t,"TimelineLite",(function(){return r.u})),n.d(t,"Power0",(function(){return r.i})),n.d(t,"Power1",(function(){return r.j})),n.d(t,"Power2",(function(){return r.k})),n.d(t,"Power3",(function(){return r.l})),n.d(t,"Power4",(function(){return r.m})),n.d(t,"Linear",(function(){return r.h})),n.d(t,"Quad",(function(){return r.o})),n.d(t,"Cubic",(function(){return r.d})),n.d(t,"Quart",(function(){return r.p})),n.d(t,"Quint",(function(){return r.q})),n.d(t,"Strong",(function(){return r.t})),n.d(t,"Elastic",(function(){return r.e})),n.d(t,"Back",(function(){return r.a})),n.d(t,"SteppedEase",(function(){return r.s})),n.d(t,"Bounce",(function(){return r.b})),n.d(t,"Sine",(function(){return r.r})),n.d(t,"Expo",(function(){return r.f})),n.d(t,"Circ",(function(){return r.c})),n.d(t,"wrap",(function(){return r.ib})),n.d(t,"wrapYoyo",(function(){return r.jb})),n.d(t,"distribute",(function(){return r.U})),n.d(t,"random",(function(){return r.bb})),n.d(t,"snap",(function(){return r.eb})),n.d(t,"normalize",(function(){return r.Z})),n.d(t,"getUnit",(function(){return r.V})),n.d(t,"clamp",(function(){return r.S})),n.d(t,"splitColor",(function(){return r.fb})),n.d(t,"toArray",(function(){return r.gb})),n.d(t,"mapRange",(function(){return r.Y})),n.d(t,"pipe",(function(){return r.ab})),n.d(t,"unitize",(function(){return r.hb})),n.d(t,"interpolate",(function(){return r.X})),n.d(t,"shuffle",(function(){return r.db})),n.d(t,"selector",(function(){return r.cb})),n.d(t,"CustomEase",(function(){return Z})),n.d(t,"Draggable",(function(){return Ht})),n.d(t,"CSSRulePlugin",(function(){return Zt})),n.d(t,"EaselPlugin",(function(){return bn})),n.d(t,"SlowMo",(function(){return Dn})),n.d(t,"ExpoScaleEase",(function(){return Ln})),n.d(t,"RoughEase",(function(){return Pn})),n.d(t,"EasePack",(function(){return Rn})),n.d(t,"Flip",(function(){return Or})),n.d(t,"MotionPathPlugin",(function(){return ti})),n.d(t,"Observer",(function(){return hi.a})),n.d(t,"_isViewport",(function(){return hi.g})),n.d(t,"_scrollers",(function(){return hi.i})),n.d(t,"_getScrollFunc",(function(){return hi.c})),n.d(t,"_getProxyProp",(function(){return hi.b})),n.d(t,"_proxies",(function(){return hi.h})),n.d(t,"_getVelocityProp",(function(){return hi.e})),n.d(t,"_vertical",(function(){return hi.j})),n.d(t,"_horizontal",(function(){return hi.f})),n.d(t,"_getTarget",(function(){return hi.d})),n.d(t,"PixiPlugin",(function(){return Ui})),n.d(t,"ScrollToPlugin",(function(){return ao})),n.d(t,"ScrollTrigger",(function(){return so.ScrollTrigger})),n.d(t,"TextPlugin",(function(){return mo}));var r=n(3),i=n(155),o=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,a=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,s=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,l=/(^[#\.][a-z]|[a-y][a-z])/i,c=Math.PI/180,u=180/Math.PI,h=Math.sin,d=Math.cos,p=Math.abs,f=Math.sqrt,m=Math.atan2,v=function(e){return"string"==typeof e},g=function(e){return"number"==typeof e},y={},_={},b=function(e){return Math.round((e+1e8)%1*1e5)/1e5||(e<0?0:1)},w=function(e){return Math.round(1e5*e)/1e5||0},x=function(e){return Math.round(1e10*e)/1e10||0},S=function(e,t,n,r){var i=e[t],o=1===r?6:O(i,n,r);if((o||!r)&&o+n+2<i.length)return e.splice(t,0,i.slice(0,n+o+2)),i.splice(0,n+o),1},k=function(e,t,n){var r=e.length,i=~~(n*r);if(e[i]>t){for(;--i&&e[i]>t;);i<0&&(i=0)}else for(;e[++i]<t&&i<r;);return i<r?i:r-1},A=function(e,t){return t.totalLength=e.totalLength,e.samples?(t.samples=e.samples.slice(0),t.lookup=e.lookup.slice(0),t.minLength=e.minLength,t.resolution=e.resolution):e.totalPoints&&(t.totalPoints=e.totalPoints),t},E=function(e,t){var n=e.length,r=e[n-1]||[],i=r.length;n&&t[0]===r[i-2]&&t[1]===r[i-1]&&(t=r.concat(t.slice(2)),n--),e[n]=t};function C(e){var t,n=(e=v(e)&&l.test(e)&&document.querySelector(e)||e).getAttribute?e:0;return n&&(e=e.getAttribute("d"))?(n._gsPath||(n._gsPath={}),(t=n._gsPath[e])&&!t._dirty?t:n._gsPath[e]=z(e)):e?v(e)?z(e):g(e[0])?[e]:e:console.warn("Expecting a <path> element or an SVG path data string")}function T(e){var t,n=0;for(e.reverse();n<e.length;n+=2)t=e[n],e[n]=e[n+1],e[n+1]=t;e.reversed=!e.reversed}var M={rect:"rx,ry,x,y,width,height",circle:"r,cx,cy",ellipse:"rx,ry,cx,cy",line:"x1,x2,y1,y2"};function D(e,t){var n,r,i,o,s,l,c,u,h,d,p,f,m,v,g,y,_,b,w,x,S,k,A=e.tagName.toLowerCase(),E=.552284749831;return"path"!==A&&e.getBBox?(l=function(e,t){var n,r=document.createElementNS("http://www.w3.org/2000/svg","path"),i=[].slice.call(e.attributes),o=i.length;for(t=","+t+",";--o>-1;)n=i[o].nodeName.toLowerCase(),t.indexOf(","+n+",")<0&&r.setAttributeNS(null,n,i[o].nodeValue);return r}(e,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),k=function(e,t){for(var n=t?t.split(","):[],r={},i=n.length;--i>-1;)r[n[i]]=+e.getAttribute(n[i])||0;return r}(e,M[A]),"rect"===A?(o=k.rx,s=k.ry||o,r=k.x,i=k.y,d=k.width-2*o,p=k.height-2*s,n=o||s?"M"+(y=(v=(m=r+o)+d)+o)+","+(b=i+s)+" V"+(w=b+p)+" C"+[y,x=w+s*E,g=v+o*E,S=w+s,v,S,v-(v-m)/3,S,m+(v-m)/3,S,m,S,f=r+o*(1-E),S,r,x,r,w,r,w-(w-b)/3,r,b+(w-b)/3,r,b,r,_=i+s*(1-E),f,i,m,i,m+(v-m)/3,i,v-(v-m)/3,i,v,i,g,i,y,_,y,b].join(",")+"z":"M"+(r+d)+","+i+" v"+p+" h"+-d+" v"+-p+" h"+d+"z"):"circle"===A||"ellipse"===A?("circle"===A?u=(o=s=k.r)*E:(o=k.rx,u=(s=k.ry)*E),n="M"+((r=k.cx)+o)+","+(i=k.cy)+" C"+[r+o,i+u,r+(c=o*E),i+s,r,i+s,r-c,i+s,r-o,i+u,r-o,i,r-o,i-u,r-c,i-s,r,i-s,r+c,i-s,r+o,i-u,r+o,i].join(",")+"z"):"line"===A?n="M"+k.x1+","+k.y1+" L"+k.x2+","+k.y2:"polyline"!==A&&"polygon"!==A||(n="M"+(r=(h=(e.getAttribute("points")+"").match(a)||[]).shift())+","+(i=h.shift())+" L"+h.join(","),"polygon"===A&&(n+=","+r+","+i+"z")),l.setAttribute("d",H(l._gsRawPath=z(n))),t&&e.parentNode&&(e.parentNode.insertBefore(l,e),e.parentNode.removeChild(e)),l):e}function L(e,t,n){var r,i=e[t],o=e[t+2],a=e[t+4];return i+=(o-i)*n,i+=((o+=(a-o)*n)-i)*n,r=o+(a+(e[t+6]-a)*n-o)*n-i,i=e[t+1],i+=((o=e[t+3])-i)*n,i+=((o+=((a=e[t+5])-o)*n)-i)*n,w(m(o+(a+(e[t+7]-a)*n-o)*n-i,r)*u)}function P(e,t,n){n=void 0===n?1:x(n)||0,t=x(t)||0;var r=Math.max(0,~~(p(n-t)-1e-8)),i=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=A(e[n],e[n].slice(0));return A(e,t)}(e);if(t>n&&(t=1-t,n=1-n,function(e,t){var n=e.length;for(t||e.reverse();n--;)e[n].reversed||T(e[n])}(i),i.totalLength=0),t<0||n<0){var o=Math.abs(~~Math.min(t,n))+1;t+=o,n+=o}i.totalLength||I(i);var a,s,l,c,u,h,d,f,m=n>1,v=F(i,t,y,!0),g=F(i,n,_),b=g.segment,w=v.segment,k=g.segIndex,C=v.segIndex,M=g.i,D=v.i,P=C===k,R=M===D&&P;if(m||r){for(a=k<C||P&&M<D||R&&g.t<v.t,S(i,C,D,v.t)&&(C++,a||(k++,R?(g.t=(g.t-v.t)/(1-v.t),M=0):P&&(M-=D))),Math.abs(1-(n-t))<1e-5?k=C-1:!g.t&&k?k--:S(i,k,M,g.t)&&a&&C++,1===v.t&&(C=(C+1)%i.length),u=[],d=1+(h=i.length)*r,f=C,d+=(h-C+k)%h,c=0;c<d;c++)E(u,i[f++%h]);i=u}else if(l=1===g.t?6:O(b,M,g.t),t!==n)for(s=O(w,D,R?v.t/g.t:v.t),P&&(l+=s),b.splice(M+l+2),(s||D)&&w.splice(0,D+s),c=i.length;c--;)(c<C||c>k)&&i.splice(c,1);else b.angle=L(b,M+l,0),v=b[M+=l],g=b[M+1],b.length=b.totalLength=0,b.totalPoints=i.totalPoints=8,b.push(v,g,v,g,v,g,v,g);return i.totalLength=0,i}function R(e,t,n){t=t||0,e.samples||(e.samples=[],e.lookup=[]);var r,i,o,a,s,l,c,u,h,d,m,v,g,y,_,b,w,x=~~e.resolution||12,S=1/x,k=n?t+6*n+1:e.length,A=e[t],E=e[t+1],C=t?t/6*x:0,T=e.samples,M=e.lookup,D=(t?e.minLength:1e8)||1e8,L=T[C+n*x-1],P=t?T[C-1]:0;for(T.length=M.length=0,i=t+2;i<k;i+=6){if(o=e[i+4]-A,a=e[i+2]-A,s=e[i]-A,u=e[i+5]-E,h=e[i+3]-E,d=e[i+1]-E,l=c=m=v=0,p(o)<.01&&p(u)<.01&&p(s)+p(d)<.01)e.length>8&&(e.splice(i,6),i-=6,k-=6);else for(r=1;r<=x;r++)l=c-(c=((y=S*r)*y*o+3*(g=1-y)*(y*a+g*s))*y),m=v-(v=(y*y*u+3*g*(y*h+g*d))*y),(b=f(m*m+l*l))<D&&(D=b),P+=b,T[C++]=P;A+=o,E+=u}if(L)for(L-=P;C<T.length;C++)T[C]+=L;if(T.length&&D){if(e.totalLength=w=T[T.length-1]||0,e.minLength=D,w/D<9999)for(b=_=0,r=0;r<w;r+=D)M[b++]=T[_]<r?++_:_}else e.totalLength=T[0]=0;return t?P-T[t/2-1]:P}function I(e,t){var n,r,i;for(i=n=r=0;i<e.length;i++)e[i].resolution=~~t||12,r+=e[i].length,n+=R(e[i]);return e.totalPoints=r,e.totalLength=n,e}function O(e,t,n){if(n<=0||n>=1)return 0;var r=e[t],i=e[t+1],o=e[t+2],a=e[t+3],s=e[t+4],l=e[t+5],c=r+(o-r)*n,u=o+(s-o)*n,h=i+(a-i)*n,d=a+(l-a)*n,p=c+(u-c)*n,f=h+(d-h)*n,m=s+(e[t+6]-s)*n,v=l+(e[t+7]-l)*n;return u+=(m-u)*n,d+=(v-d)*n,e.splice(t+2,4,w(c),w(h),w(p),w(f),w(p+(u-p)*n),w(f+(d-f)*n),w(u),w(d),w(m),w(v)),e.samples&&e.samples.splice(t/6*e.resolution|0,0,0,0,0,0,0,0),6}function F(e,t,n,r){n=n||{},e.totalLength||I(e),(t<0||t>1)&&(t=b(t));var i,o,a,s,l,c,u,h=0,d=e[0];if(t)if(1===t)u=1,c=(d=e[h=e.length-1]).length-8;else{if(e.length>1){for(a=e.totalLength*t,l=c=0;(l+=e[c++].totalLength)<a;)h=c;t=(a-(s=l-(d=e[h]).totalLength))/(l-s)||0}i=d.samples,o=d.resolution,a=d.totalLength*t,s=(c=d.lookup.length?d.lookup[~~(a/d.minLength)]||0:k(i,a,t))?i[c-1]:0,(l=i[c])<a&&(s=l,l=i[++c]),u=1/o*((a-s)/(l-s)+c%o),c=6*~~(c/o),r&&1===u&&(c+6<d.length?(c+=6,u=0):h+1<e.length&&(c=u=0,d=e[++h]))}else u=c=h=0,d=e[0];return n.t=u,n.i=c,n.path=e,n.segment=d,n.segIndex=h,n}function B(e,t,n,r){var i,o,a,s,l,c,u,h,d,p=e[0],f=r||{};if((t<0||t>1)&&(t=b(t)),p.lookup||I(e),e.length>1){for(a=e.totalLength*t,l=c=0;(l+=e[c++].totalLength)<a;)p=e[c];t=(a-(s=l-p.totalLength))/(l-s)||0}return i=p.samples,o=p.resolution,a=p.totalLength*t,s=(c=p.lookup.length?p.lookup[t<1?~~(a/p.minLength):p.lookup.length-1]||0:k(i,a,t))?i[c-1]:0,(l=i[c])<a&&(s=l,l=i[++c]),d=1-(u=1/o*((a-s)/(l-s)+c%o)||0),h=p[c=6*~~(c/o)],f.x=w((u*u*(p[c+6]-h)+3*d*(u*(p[c+4]-h)+d*(p[c+2]-h)))*u+h),f.y=w((u*u*(p[c+7]-(h=p[c+1]))+3*d*(u*(p[c+5]-h)+d*(p[c+3]-h)))*u+h),n&&(f.angle=p.totalLength?L(p,c,u>=1?1-1e-9:u||1e-9):p.angle||0),f}function N(e,t,n,r,i,o,a){for(var s,l,c,u,h,d=e.length;--d>-1;)for(l=(s=e[d]).length,c=0;c<l;c+=2)u=s[c],h=s[c+1],s[c]=u*t+h*r+o,s[c+1]=u*n+h*i+a;return e._dirty=1,e}function j(e,t,n,r,i,o,a,s,l){if(e!==s||t!==l){n=p(n),r=p(r);var u=i%360*c,m=d(u),v=h(u),g=Math.PI,y=2*g,_=(e-s)/2,b=(t-l)/2,w=m*_+v*b,x=-v*_+m*b,S=w*w,k=x*x,A=S/(n*n)+k/(r*r);A>1&&(n=f(A)*n,r=f(A)*r);var E=n*n,C=r*r,T=(E*C-E*k-C*S)/(E*k+C*S);T<0&&(T=0);var M=(o===a?-1:1)*f(T),D=M*(n*x/r),L=M*(-r*w/n),P=(e+s)/2+(m*D-v*L),R=(t+l)/2+(v*D+m*L),I=(w-D)/n,O=(x-L)/r,F=(-w-D)/n,B=(-x-L)/r,N=I*I+O*O,j=(O<0?-1:1)*Math.acos(I/f(N)),z=(I*B-O*F<0?-1:1)*Math.acos((I*F+O*B)/f(N*(F*F+B*B)));isNaN(z)&&(z=g),!a&&z>0?z-=y:a&&z<0&&(z+=y),j%=y,z%=y;var V,U=Math.ceil(p(z)/(y/4)),H=[],G=z/U,q=4/3*h(G/2)/(1+d(G/2)),W=m*n,Y=v*n,X=v*-r,Q=m*r;for(V=0;V<U;V++)w=d(i=j+V*G),x=h(i),I=d(i+=G),O=h(i),H.push(w-q*x,x+q*w,I+q*O,O-q*I,I,O);for(V=0;V<H.length;V+=2)w=H[V],x=H[V+1],H[V]=w*W+x*X+P,H[V+1]=w*Y+x*Q+R;return H[V-2]=s,H[V-1]=l,H}}function z(e){var t,n,r,i,a,l,c,u,h,d,f,m,v,g,y,_=(e+"").replace(s,(function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t})).match(o)||[],b=[],w=0,x=0,S=_.length,k=0,A="ERROR: malformed path: "+e,E=function(e,t,n,r){d=(n-e)/3,f=(r-t)/3,c.push(e+d,t+f,n-d,r-f,n,r)};if(!e||!isNaN(_[0])||isNaN(_[1]))return console.log(A),b;for(t=0;t<S;t++)if(v=a,isNaN(_[t])?l=(a=_[t].toUpperCase())!==_[t]:t--,r=+_[t+1],i=+_[t+2],l&&(r+=w,i+=x),t||(u=r,h=i),"M"===a)c&&(c.length<8?b.length-=1:k+=c.length),w=u=r,x=h=i,c=[r,i],b.push(c),t+=2,a="L";else if("C"===a)c||(c=[0,0]),l||(w=x=0),c.push(r,i,w+1*_[t+3],x+1*_[t+4],w+=1*_[t+5],x+=1*_[t+6]),t+=6;else if("S"===a)d=w,f=x,"C"!==v&&"S"!==v||(d+=w-c[c.length-4],f+=x-c[c.length-3]),l||(w=x=0),c.push(d,f,r,i,w+=1*_[t+3],x+=1*_[t+4]),t+=4;else if("Q"===a)d=w+2/3*(r-w),f=x+2/3*(i-x),l||(w=x=0),w+=1*_[t+3],x+=1*_[t+4],c.push(d,f,w+2/3*(r-w),x+2/3*(i-x),w,x),t+=4;else if("T"===a)d=w-c[c.length-4],f=x-c[c.length-3],c.push(w+d,x+f,r+2/3*(w+1.5*d-r),i+2/3*(x+1.5*f-i),w=r,x=i),t+=2;else if("H"===a)E(w,x,w=r,x),t+=1;else if("V"===a)E(w,x,w,x=r+(l?x-w:0)),t+=1;else if("L"===a||"Z"===a)"Z"===a&&(r=u,i=h,c.closed=!0),("L"===a||p(w-r)>.5||p(x-i)>.5)&&(E(w,x,r,i),"L"===a&&(t+=2)),w=r,x=i;else if("A"===a){if(g=_[t+4],y=_[t+5],d=_[t+6],f=_[t+7],n=7,g.length>1&&(g.length<3?(f=d,d=y,n--):(f=y,d=g.substr(2),n-=2),y=g.charAt(1),g=g.charAt(0)),m=j(w,x,+_[t+1],+_[t+2],+_[t+3],+g,+y,(l?w:0)+1*d,(l?x:0)+1*f),t+=n,m)for(n=0;n<m.length;n++)c.push(m[n]);w=c[c.length-2],x=c[c.length-1]}else console.log(A);return(t=c.length)<6?(b.pop(),t=0):c[0]===c[t-2]&&c[1]===c[t-1]&&(c.closed=!0),b.totalPoints=k+t,b}function V(e,t){void 0===t&&(t=1);for(var n=e[0],r=0,i=[n,r],o=2;o<e.length;o+=2)i.push(n,r,e[o],r=(e[o]-n)*t/2,n=e[o],-r);return i}function U(e,t){p(e[0]-e[2])<1e-4&&p(e[1]-e[3])<1e-4&&(e=e.slice(2));var n,r,i,o,a,s,l,c,u,h,d,m,v,g,y=e.length-2,_=+e[0],b=+e[1],x=+e[2],S=+e[3],k=[_,b,_,b],A=x-_,E=S-b,C=Math.abs(e[y]-_)<.001&&Math.abs(e[y+1]-b)<.001;for(C&&(e.push(x,S),x=_,S=b,_=e[y-2],b=e[y-1],e.unshift(_,b),y+=4),t=t||0===t?+t:1,i=2;i<y;i+=2)n=_,r=b,_=x,b=S,x=+e[i+2],S=+e[i+3],_===x&&b===S||(o=A,a=E,A=x-_,E=S-b,c=((s=f(o*o+a*a))+(l=f(A*A+E*E)))*t*.25/f(Math.pow(A/l+o/s,2)+Math.pow(E/l+a/s,2)),d=_-((u=_-(_-n)*(s?c/s:0))+(((h=_+(x-_)*(l?c/l:0))-u)*(3*s/(s+l)+.5)/4||0)),g=b-((m=b-(b-r)*(s?c/s:0))+(((v=b+(S-b)*(l?c/l:0))-m)*(3*s/(s+l)+.5)/4||0)),_===n&&b===r||k.push(w(u+d),w(m+g),w(_),w(b),w(h+d),w(v+g)));return _!==x||b!==S||k.length<4?k.push(w(x),w(S),w(x),w(S)):k.length-=2,2===k.length?k.push(_,b,_,b,_,b):C&&(k.splice(0,6),k.length=k.length-6),k}function H(e){g(e[0])&&(e=[e]);var t,n,r,i,o="",a=e.length;for(n=0;n<a;n++){for(i=e[n],o+="M"+w(i[0])+","+w(i[1])+" C",t=i.length,r=2;r<t;r++)o+=w(i[r++])+","+w(i[r++])+" "+w(i[r++])+","+w(i[r++])+" "+w(i[r++])+","+w(i[r])+" ";i.closed&&(o+="z")}return o}
/*!
 * CustomEase 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var G,q,W=function(){return G||"undefined"!=typeof window&&(G=window.gsap)&&G.registerPlugin&&G},Y=function(){(G=W())?(G.registerEase("_CE",Z.create),q=1):console.warn("Please gsap.registerPlugin(CustomEase)")},X=function(e){return~~(1e3*e+(e<0?-.5:.5))/1e3},Q=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,K=/[cLlsSaAhHvVtTqQ]/g,J=function e(t,n,r,i,o,a,s,l,c,u,h){var d,p=(t+r)/2,f=(n+i)/2,m=(r+o)/2,v=(i+a)/2,g=(o+s)/2,y=(a+l)/2,_=(p+m)/2,b=(f+v)/2,w=(m+g)/2,x=(v+y)/2,S=(_+w)/2,k=(b+x)/2,A=s-t,E=l-n,C=Math.abs((r-s)*E-(i-l)*A),T=Math.abs((o-s)*E-(a-l)*A);return u||(u=[{x:t,y:n},{x:s,y:l}],h=1),u.splice(h||u.length-1,0,{x:S,y:k}),(C+T)*(C+T)>c*(A*A+E*E)&&(d=u.length,e(t,n,p,f,_,b,S,k,c,u,h),e(S,k,w,x,g,y,s,l,c,u,h+1+(u.length-d))),u},Z=function(){function e(e,t,n){q||Y(),this.id=e,this.setData(t,n)}var t=e.prototype;return t.setData=function(e,t){t=t||{};var n,r,i,o,a,s,l,c,u,h=(e=e||"0,0,1,1").match(Q),d=1,p=[],f=[],m=t.precision||1,v=m<=1;if(this.data=e,(K.test(e)||~e.indexOf("M")&&e.indexOf("C")<0)&&(h=z(e)[0]),4===(n=h.length))h.unshift(0,0),h.push(1,1),n=8;else if((n-2)%6)throw"Invalid CustomEase";for(0==+h[0]&&1==+h[n-2]||function(e,t,n){n||0===n||(n=Math.max(+e[e.length-1],+e[1]));var r,i=-1*+e[0],o=-n,a=e.length,s=1/(+e[a-2]+i),l=-t||(Math.abs(+e[a-1]-+e[1])<.01*(+e[a-2]-+e[0])?function(e){var t,n=e.length,r=1e20;for(t=1;t<n;t+=6)+e[t]<r&&(r=+e[t]);return r}(e)+o:+e[a-1]+o);for(l=l?1/l:-s,r=0;r<a;r+=2)e[r]=(+e[r]+i)*s,e[r+1]=(+e[r+1]+o)*l}(h,t.height,t.originY),this.segment=h,o=2;o<n;o+=6)r={x:+h[o-2],y:+h[o-1]},i={x:+h[o+4],y:+h[o+5]},p.push(r,i),J(r.x,r.y,+h[o],+h[o+1],+h[o+2],+h[o+3],i.x,i.y,1/(2e5*m),p,p.length-1);for(n=p.length,o=0;o<n;o++)l=p[o],c=p[o-1]||l,(l.x>c.x||c.y!==l.y&&c.x===l.x||l===c)&&l.x<=1?(c.cx=l.x-c.x,c.cy=l.y-c.y,c.n=l,c.nx=l.x,v&&o>1&&Math.abs(c.cy/c.cx-p[o-2].cy/p[o-2].cx)>2&&(v=0),c.cx<d&&(c.cx?d=c.cx:(c.cx=.001,o===n-1&&(c.x-=.001,d=Math.min(d,.001),v=0)))):(p.splice(o--,1),n--);if(a=1/(n=1/d+1|0),s=0,l=p[0],v){for(o=0;o<n;o++)u=o*a,l.nx<u&&(l=p[++s]),r=l.y+(u-l.x)/l.cx*l.cy,f[o]={x:u,cx:a,y:r,cy:0,nx:9},o&&(f[o-1].cy=r-f[o-1].y);f[n-1].cy=p[p.length-1].y-r}else{for(o=0;o<n;o++)l.nx<o*a&&(l=p[++s]),f[o]=l;s<p.length-1&&(f[o-1]=p[p.length-2])}return this.ease=function(e){var t=f[e*n|0]||f[n-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},this.ease.custom=this,this.id&&G&&G.registerEase(this.id,this.ease),this},t.getSVGData=function(t){return e.getSVGData(this,t)},e.create=function(t,n,r){return new e(t,n,r).ease},e.register=function(e){G=e,Y()},e.get=function(e){return G.parseEase(e)},e.getSVGData=function(t,n){var r,i,o,a,s,l,c,u,h,d,p=(n=n||{}).width||100,f=n.height||100,m=n.x||0,v=(n.y||0)+f,g=G.utils.toArray(n.path)[0];if(n.invert&&(f=-f,v=0),"string"==typeof t&&(t=G.parseEase(t)),t.custom&&(t=t.custom),t instanceof e)r=H(N([t.segment],p,0,0,-f,m,v));else{for(r=[m,v],a=1/(c=Math.max(5,200*(n.precision||1))),u=5/(c+=2),h=X(m+a*p),i=((d=X(v+t(a)*-f))-v)/(h-m),o=2;o<c;o++)s=X(m+o*a*p),l=X(v+t(o*a)*-f),(Math.abs((l-d)/(s-h)-i)>u||o===c-1)&&(r.push(h,d),i=(l-d)/(s-h)),h=s,d=l;r="M"+r.join(",")}return g&&g.setAttribute("d",r),r},e}();W()&&G.registerPlugin(Z),Z.version="3.12.5";
/*!
 * matrix 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var $,ee,te,ne,re,ie,oe,ae,se,le="transform",ce=le+"Origin",ue=function(e){var t=e.ownerDocument||e;!(le in e.style)&&"msTransform"in e.style&&(ce=(le="msTransform")+"Origin");for(;t.parentNode&&(t=t.parentNode););if(ee=window,oe=new be,t){$=t,te=t.documentElement,ne=t.body,(ae=$.createElementNS("http://www.w3.org/2000/svg","g")).style.transform="none";var n=t.createElement("div"),r=t.createElement("div"),i=t&&(t.body||t.firstElementChild);i&&i.appendChild&&(i.appendChild(n),n.appendChild(r),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),se=r.offsetParent!==n,i.removeChild(n))}return t},he=[],de=[],pe=function(){return ee.pageYOffset||$.scrollTop||te.scrollTop||ne.scrollTop||0},fe=function(){return ee.pageXOffset||$.scrollLeft||te.scrollLeft||ne.scrollLeft||0},me=function(e){return e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null)},ve=function e(t,n){if(t.parentNode&&($||ue(t))){var r=me(t),i=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=r?n?"rect":"g":"div",a=2!==n?0:100,s=3===n?100:0,l="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",c=$.createElementNS?$.createElementNS(i.replace(/^https/,"http"),o):$.createElement(o);return n&&(r?(ie||(ie=e(t)),c.setAttribute("width",.01),c.setAttribute("height",.01),c.setAttribute("transform","translate("+a+","+s+")"),ie.appendChild(c)):(re||((re=e(t)).style.cssText=l),c.style.cssText=l+"width:0.1px;height:0.1px;top:"+s+"px;left:"+a+"px",re.appendChild(c))),c}throw"Need document and parent."},ge=function(e){var t,n=e.getCTM();return n||(t=e.style[le],e.style[le]="none",e.appendChild(ae),n=ae.getCTM(),e.removeChild(ae),t?e.style[le]=t:e.style.removeProperty(le.replace(/([A-Z])/g,"-$1").toLowerCase())),n||oe.clone()},ye=function(e,t){var n,r,i,o,a,s,l=me(e),c=e===l,u=l?he:de,h=e.parentNode;if(e===ee)return e;if(u.length||u.push(ve(e,1),ve(e,2),ve(e,3)),n=l?ie:re,l)c?(o=-(i=ge(e)).e/i.a,a=-i.f/i.d,r=oe):e.getBBox?(i=e.getBBox(),o=(r=(r=e.transform?e.transform.baseVal:{}).numberOfItems?r.numberOfItems>1?function(e){for(var t=new be,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t}(r):r.getItem(0).matrix:oe).a*i.x+r.c*i.y,a=r.b*i.x+r.d*i.y):(r=new be,o=a=0),t&&"g"===e.tagName.toLowerCase()&&(o=a=0),(c?l:h).appendChild(n),n.setAttribute("transform","matrix("+r.a+","+r.b+","+r.c+","+r.d+","+(r.e+o)+","+(r.f+a)+")");else{if(o=a=0,se)for(r=e.offsetParent,i=e;i&&(i=i.parentNode)&&i!==r&&i.parentNode;)(ee.getComputedStyle(i)[le]+"").length>4&&(o=i.offsetLeft,a=i.offsetTop,i=0);if("absolute"!==(s=ee.getComputedStyle(e)).position&&"fixed"!==s.position)for(r=e.offsetParent;h&&h!==r;)o+=h.scrollLeft||0,a+=h.scrollTop||0,h=h.parentNode;(i=n.style).top=e.offsetTop-a+"px",i.left=e.offsetLeft-o+"px",i[le]=s[le],i[ce]=s[ce],i.position="fixed"===s.position?"fixed":"absolute",e.parentNode.appendChild(n)}return n},_e=function(e,t,n,r,i,o,a){return e.a=t,e.b=n,e.c=r,e.d=i,e.e=o,e.f=a,e},be=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),_e(this,e,t,n,r,i,o)}var t=e.prototype;return t.inverse=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.e,o=this.f,a=e*r-t*n||1e-10;return _e(this,r/a,-t/a,-n/a,e/a,(n*o-r*i)/a,-(e*o-t*i)/a)},t.multiply=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=this.e,a=this.f,s=e.a,l=e.c,c=e.b,u=e.d,h=e.e,d=e.f;return _e(this,s*t+c*r,s*n+c*i,l*t+u*r,l*n+u*i,o+h*t+d*r,a+h*n+d*i)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=this.e,a=this.f;return t===e.a&&n===e.b&&r===e.c&&i===e.d&&o===e.e&&a===e.f},t.apply=function(e,t){void 0===t&&(t={});var n=e.x,r=e.y,i=this.a,o=this.b,a=this.c,s=this.d,l=this.e,c=this.f;return t.x=n*i+r*a+l||0,t.y=n*o+r*s+c||0,t},e}();function we(e,t,n,r){if(!e||!e.parentNode||($||ue(e)).documentElement===e)return new be;var i=function(e){for(var t,n;e&&e!==ne;)(n=e._gsap)&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t}(e),o=me(e)?he:de,a=ye(e,n),s=o[0].getBoundingClientRect(),l=o[1].getBoundingClientRect(),c=o[2].getBoundingClientRect(),u=a.parentNode,h=!r&&function e(t){return"fixed"===ee.getComputedStyle(t).position||((t=t.parentNode)&&1===t.nodeType?e(t):void 0)}(e),d=new be((l.left-s.left)/100,(l.top-s.top)/100,(c.left-s.left)/100,(c.top-s.top)/100,s.left+(h?0:fe()),s.top+(h?0:pe()));if(u.removeChild(a),i)for(s=i.length;s--;)(l=i[s]).scaleX=l.scaleY=0,l.renderTransform(1,l);return t?d.inverse():d}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}
/*!
 * Draggable 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
var Se,ke,Ae,Ee,Ce,Te,Me,De,Le,Pe,Re,Ie,Oe,Fe,Be,Ne,je,ze,Ve,Ue,He,Ge,qe=0,We=function(){return"undefined"!=typeof window},Ye=function(){return Se||We()&&(Se=window.gsap)&&Se.registerPlugin&&Se},Xe=function(e){return"function"==typeof e},Qe=function(e){return"object"==typeof e},Ke=function(e){return void 0===e},Je=function(){return!1},Ze="transform",$e="transformOrigin",et=function(e){return Math.round(1e4*e)/1e4},tt=Array.isArray,nt=function(e,t){var n=Ae.createElementNS?Ae.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ae.createElement(e);return n.style?n:Ae.createElement(e)},rt=180/Math.PI,it=new be,ot=Date.now||function(){return(new Date).getTime()},at=[],st={},lt=0,ct=/^(?:a|input|textarea|button|select)$/i,ut=0,ht={},dt={},pt=function(e,t){var n,r={};for(n in e)r[n]=t?e[n]*t:e[n];return r},ft=function e(t,n){for(var r,i=t.length;i--;)n?t[i].style.touchAction=n:t[i].style.removeProperty("touch-action"),(r=t[i].children)&&r.length&&e(r,n)},mt=function(){return at.forEach((function(e){return e()}))},vt=function(){return!at.length&&Se.ticker.remove(mt)},gt=function(e){for(var t=at.length;t--;)at[t]===e&&at.splice(t,1);Se.to(vt,{overwrite:!0,delay:15,duration:0,onComplete:vt,data:"_draggable"})},yt=function(e,t,n,r){if(e.addEventListener){var i=Oe[t];r=r||(Re?{passive:!1}:null),e.addEventListener(i||t,n,r),i&&t!==i&&e.addEventListener(t,n,r)}},_t=function(e,t,n,r){if(e.removeEventListener){var i=Oe[t];e.removeEventListener(i||t,n,r),i&&t!==i&&e.removeEventListener(t,n,r)}},bt=function(e){e.preventDefault&&e.preventDefault(),e.preventManipulation&&e.preventManipulation()},wt=function e(t){Fe=t.touches&&qe<t.touches.length,_t(t.target,"touchend",e)},xt=function(e){Fe=e.touches&&qe<e.touches.length,yt(e.target,"touchend",wt)},St=function(e){return ke.pageYOffset||e.scrollTop||e.documentElement.scrollTop||e.body.scrollTop||0},kt=function(e){return ke.pageXOffset||e.scrollLeft||e.documentElement.scrollLeft||e.body.scrollLeft||0},At=function e(t,n){yt(t,"scroll",n),Ct(t.parentNode)||e(t.parentNode,n)},Et=function e(t,n){_t(t,"scroll",n),Ct(t.parentNode)||e(t.parentNode,n)},Ct=function(e){return!(e&&e!==Ee&&9!==e.nodeType&&e!==Ae.body&&e!==ke&&e.nodeType&&e.parentNode)},Tt=function(e,t){var n="x"===t?"Width":"Height",r="scroll"+n,i="client"+n;return Math.max(0,Ct(e)?Math.max(Ee[r],Ce[r])-(ke["inner"+n]||Ee[i]||Ce[i]):e[r]-e[i])},Mt=function e(t,n){var r=Tt(t,"x"),i=Tt(t,"y");Ct(t)?t=dt:e(t.parentNode,n),t._gsMaxScrollX=r,t._gsMaxScrollY=i,n||(t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0)},Dt=function(e,t,n){var r=e.style;r&&(Ke(r[t])&&(t=Le(t,e)||t),null==n?r.removeProperty&&r.removeProperty(t.replace(/([A-Z])/g,"-$1").toLowerCase()):r[t]=n)},Lt=function(e){return ke.getComputedStyle(e instanceof Element?e:e.host||(e.parentNode||{}).host||e)},Pt={},Rt=function(e){if(e===ke)return Pt.left=Pt.top=0,Pt.width=Pt.right=Ee.clientWidth||e.innerWidth||Ce.clientWidth||0,Pt.height=Pt.bottom=(e.innerHeight||0)-20<Ee.clientHeight?Ee.clientHeight:e.innerHeight||Ce.clientHeight||0,Pt;var t=e.ownerDocument||Ae,n=Ke(e.pageX)?e.nodeType||Ke(e.left)||Ke(e.top)?Pe(e)[0].getBoundingClientRect():e:{left:e.pageX-kt(t),top:e.pageY-St(t),right:e.pageX-kt(t)+1,bottom:e.pageY-St(t)+1};return Ke(n.right)&&!Ke(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):Ke(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},It=function(e,t,n){var r,i=e.vars,o=i[n],a=e._listeners[t];return Xe(o)&&(r=o.apply(i.callbackScope||e,i[n+"Params"]||[e.pointerEvent])),a&&!1===e.dispatchEvent(t)&&(r=!1),r},Ot=function(e,t){var n,r,i,o=Pe(e)[0];return o.nodeType||o===ke?Bt(o,t):Ke(e.left)?{left:r=e.min||e.minX||e.minRotation||0,top:n=e.min||e.minY||0,width:(e.max||e.maxX||e.maxRotation||0)-r,height:(e.max||e.maxY||0)-n}:(i={x:0,y:0},{left:e.left-i.x,top:e.top-i.y,width:e.width,height:e.height})},Ft={},Bt=function(e,t){t=Pe(t)[0];var n,r,i,o,a,s,l,c,u,h,d,p,f,m=e.getBBox&&e.ownerSVGElement,v=e.ownerDocument||Ae;if(e===ke)i=St(v),r=(n=kt(v))+(v.documentElement.clientWidth||e.innerWidth||v.body.clientWidth||0),o=i+((e.innerHeight||0)-20<v.documentElement.clientHeight?v.documentElement.clientHeight:e.innerHeight||v.body.clientHeight||0);else{if(t===ke||Ke(t))return e.getBoundingClientRect();n=i=0,m?(d=(h=e.getBBox()).width,p=h.height):(e.viewBox&&(h=e.viewBox.baseVal)&&(n=h.x||0,i=h.y||0,d=h.width,p=h.height),d||(h="border-box"===(f=Lt(e)).boxSizing,d=(parseFloat(f.width)||e.clientWidth||0)+(h?0:parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth)),p=(parseFloat(f.height)||e.clientHeight||0)+(h?0:parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth)))),r=d,o=p}return e===t?{left:n,top:i,width:r-n,height:o-i}:(s=(a=we(t,!0).multiply(we(e))).apply({x:n,y:i}),l=a.apply({x:r,y:i}),c=a.apply({x:r,y:o}),u=a.apply({x:n,y:o}),{left:n=Math.min(s.x,l.x,c.x,u.x),top:i=Math.min(s.y,l.y,c.y,u.y),width:Math.max(s.x,l.x,c.x,u.x)-n,height:Math.max(s.y,l.y,c.y,u.y)-i})},Nt=function(e,t,n,r,i,o){var a,s,l,c={};if(t)if(1!==i&&t instanceof Array){if(c.end=a=[],l=t.length,Qe(t[0]))for(s=0;s<l;s++)a[s]=pt(t[s],i);else for(s=0;s<l;s++)a[s]=t[s]*i;n+=1.1,r-=1.1}else Xe(t)?c.end=function(n){var r,o,a=t.call(e,n);if(1!==i)if(Qe(a)){for(o in r={},a)r[o]=a[o]*i;a=r}else a*=i;return a}:c.end=t;return(n||0===n)&&(c.max=n),(r||0===r)&&(c.min=r),o&&(c.velocity=0),c},jt=function e(t){var n;return!(!t||!t.getAttribute||t===Ce)&&(!("true"!==(n=t.getAttribute("data-clickable"))&&("false"===n||!ct.test(t.nodeName+"")&&"true"!==t.getAttribute("contentEditable")))||e(t.parentNode))},zt=function(e,t){for(var n,r=e.length;r--;)(n=e[r]).ondragstart=n.onselectstart=t?null:Je,Se.set(n,{lazy:!0,userSelect:t?"text":"none"})},Vt=function(e,t){e=Se.utils.toArray(e)[0],t=t||{};var n,r,i,o,a,s,l=document.createElement("div"),c=l.style,u=e.firstChild,h=0,d=0,p=e.scrollTop,f=e.scrollLeft,m=e.scrollWidth,v=e.scrollHeight,g=0,y=0,_=0;He&&!1!==t.force3D?(a="translate3d(",s="px,0px)"):Ze&&(a="translate(",s="px)"),this.scrollTop=function(e,t){if(!arguments.length)return-this.top();this.top(-e,t)},this.scrollLeft=function(e,t){if(!arguments.length)return-this.left();this.left(-e,t)},this.left=function(n,r){if(!arguments.length)return-(e.scrollLeft+d);var i=e.scrollLeft-f,o=d;if((i>2||i<-2)&&!r)return f=e.scrollLeft,Se.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-f),void(t.onKill&&t.onKill());(n=-n)<0?(d=n-.5|0,n=0):n>y?(d=n-y|0,n=y):d=0,(d||o)&&(this._skip||(c[Ze]=a+-d+"px,"+-h+s),d+g>=0&&(c.paddingRight=d+g+"px")),e.scrollLeft=0|n,f=e.scrollLeft},this.top=function(n,r){if(!arguments.length)return-(e.scrollTop+h);var i=e.scrollTop-p,o=h;if((i>2||i<-2)&&!r)return p=e.scrollTop,Se.killTweensOf(this,{top:1,scrollTop:1}),this.top(-p),void(t.onKill&&t.onKill());(n=-n)<0?(h=n-.5|0,n=0):n>_?(h=n-_|0,n=_):h=0,(h||o)&&(this._skip||(c[Ze]=a+-d+"px,"+-h+s)),e.scrollTop=0|n,p=e.scrollTop},this.maxScrollTop=function(){return _},this.maxScrollLeft=function(){return y},this.disable=function(){for(u=l.firstChild;u;)o=u.nextSibling,e.appendChild(u),u=o;e===l.parentNode&&e.removeChild(l)},this.enable=function(){if((u=e.firstChild)!==l){for(;u;)o=u.nextSibling,l.appendChild(u),u=o;e.appendChild(l),this.calibrate()}},this.calibrate=function(t){var o,a,s,u=e.clientWidth===n;p=e.scrollTop,f=e.scrollLeft,u&&e.clientHeight===r&&l.offsetHeight===i&&m===e.scrollWidth&&v===e.scrollHeight&&!t||((h||d)&&(a=this.left(),s=this.top(),this.left(-e.scrollLeft),this.top(-e.scrollTop)),o=Lt(e),u&&!t||(c.display="block",c.width="auto",c.paddingRight="0px",(g=Math.max(0,e.scrollWidth-e.clientWidth))&&(g+=parseFloat(o.paddingLeft)+(Ge?parseFloat(o.paddingRight):0))),c.display="inline-block",c.position="relative",c.overflow="visible",c.verticalAlign="top",c.boxSizing="content-box",c.width="100%",c.paddingRight=g+"px",Ge&&(c.paddingBottom=o.paddingBottom),n=e.clientWidth,r=e.clientHeight,m=e.scrollWidth,v=e.scrollHeight,y=e.scrollWidth-n,_=e.scrollHeight-r,i=l.offsetHeight,c.display="block",(a||s)&&(this.left(a),this.top(s)))},this.content=l,this.element=e,this._skip=!1,this.enable()},Ut=function(e){if(We()&&document.body){var t=window&&window.navigator;ke=window,Ae=document,Ee=Ae.documentElement,Ce=Ae.body,Te=nt("div"),ze=!!window.PointerEvent,(Me=nt("div")).style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",je="grab"===Me.style.cursor?"grab":"move",Be=t&&-1!==t.userAgent.toLowerCase().indexOf("android"),Ie="ontouchstart"in Ee&&"orientation"in ke||t&&(t.MaxTouchPoints>0||t.msMaxTouchPoints>0),r=nt("div"),i=nt("div"),o=i.style,a=Ce,o.display="inline-block",o.position="relative",r.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",r.appendChild(i),a.appendChild(r),n=i.offsetHeight+18>r.scrollHeight,a.removeChild(r),Ge=n,Oe=function(e){for(var t=e.split(","),n=(("onpointerdown"in Te?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in Te?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":e).split(",")),r={},i=4;--i>-1;)r[t[i]]=n[i],r[n[i]]=t[i];try{Ee.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Re=1}}))}catch(e){}return r}("touchstart,touchmove,touchend,touchcancel"),yt(Ae,"touchcancel",Je),yt(ke,"touchmove",Je),Ce&&Ce.addEventListener("touchstart",Je),yt(Ae,"contextmenu",(function(){for(var e in st)st[e].isPressed&&st[e].endDrag()})),Se=De=Ye()}var n,r,i,o,a;Se?(Ne=Se.plugins.inertia,Ve=Se.core.context||function(){},Le=Se.utils.checkPrefix,Ze=Le(Ze),$e=Le($e),Pe=Se.utils.toArray,Ue=Se.core.getStyleSaver,He=!!Le("perspective")):e&&console.warn("Please gsap.registerPlugin(Draggable)")},Ht=function(e){var t,n;function r(t,n){var i;i=e.call(this)||this,De||Ut(1),t=Pe(t)[0],i.styles=Ue&&Ue(t,"transform,left,top"),Ne||(Ne=Se.plugins.inertia),i.vars=n=pt(n||{}),i.target=t,i.x=i.y=i.rotation=0,i.dragResistance=parseFloat(n.dragResistance)||0,i.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,i.lockAxis=n.lockAxis,i.autoScroll=n.autoScroll||0,i.lockedAxis=null,i.allowEventDefault=!!n.allowEventDefault,Se.getProperty(t,"x");var o,a,s,l,c,u,h,d,p,f,m,v,g,y,_,b,w,x,S,k,A,E,C,T,M,D,L,P,R,I,O,F,B,N=(n.type||"x,y").toLowerCase(),j=~N.indexOf("x")||~N.indexOf("y"),z=-1!==N.indexOf("rotation"),V=z?"rotation":j?"x":"left",U=j?"y":"top",H=!(!~N.indexOf("x")&&!~N.indexOf("left")&&"scroll"!==N),G=!(!~N.indexOf("y")&&!~N.indexOf("top")&&"scroll"!==N),q=n.minimumMovement||2,W=xe(i),Y=Pe(n.trigger||n.handle||t),X={},Q=0,K=!1,J=n.autoScrollMarginTop||40,Z=n.autoScrollMarginRight||40,$=n.autoScrollMarginBottom||40,ee=n.autoScrollMarginLeft||40,te=n.clickableTest||jt,ne=0,re=t._gsap||Se.core.getCache(t),ie=function e(t){return"fixed"===Lt(t).position||((t=t.parentNode)&&1===t.nodeType?e(t):void 0)}(t),oe=function(e,n){return parseFloat(re.get(t,e,n))},ae=t.ownerDocument||Ae,se=function(e){return bt(e),e.stopImmediatePropagation&&e.stopImmediatePropagation(),!1},le=function e(n){if(W.autoScroll&&W.isDragging&&(K||w)){var r,i,o,s,l,c,u,h,p=t,f=15*W.autoScroll;for(K=!1,dt.scrollTop=null!=ke.pageYOffset?ke.pageYOffset:null!=ae.documentElement.scrollTop?ae.documentElement.scrollTop:ae.body.scrollTop,dt.scrollLeft=null!=ke.pageXOffset?ke.pageXOffset:null!=ae.documentElement.scrollLeft?ae.documentElement.scrollLeft:ae.body.scrollLeft,s=W.pointerX-dt.scrollLeft,l=W.pointerY-dt.scrollTop;p&&!i;)r=(i=Ct(p.parentNode))?dt:p.parentNode,o=i?{bottom:Math.max(Ee.clientHeight,ke.innerHeight||0),right:Math.max(Ee.clientWidth,ke.innerWidth||0),left:0,top:0}:r.getBoundingClientRect(),c=u=0,G&&((h=r._gsMaxScrollY-r.scrollTop)<0?u=h:l>o.bottom-$&&h?(K=!0,u=Math.min(h,f*(1-Math.max(0,o.bottom-l)/$)|0)):l<o.top+J&&r.scrollTop&&(K=!0,u=-Math.min(r.scrollTop,f*(1-Math.max(0,l-o.top)/J)|0)),u&&(r.scrollTop+=u)),H&&((h=r._gsMaxScrollX-r.scrollLeft)<0?c=h:s>o.right-Z&&h?(K=!0,c=Math.min(h,f*(1-Math.max(0,o.right-s)/Z)|0)):s<o.left+ee&&r.scrollLeft&&(K=!0,c=-Math.min(r.scrollLeft,f*(1-Math.max(0,s-o.left)/ee)|0)),c&&(r.scrollLeft+=c)),i&&(c||u)&&(ke.scrollTo(r.scrollLeft,r.scrollTop),Te(W.pointerX+c,W.pointerY+u)),p=r}if(w){var m=W.x,v=W.y;z?(W.deltaX=m-parseFloat(re.rotation),W.rotation=m,re.rotation=m+"deg",re.renderTransform(1,re)):a?(G&&(W.deltaY=v-a.top(),a.top(v)),H&&(W.deltaX=m-a.left(),a.left(m))):j?(G&&(W.deltaY=v-parseFloat(re.y),re.y=v+"px"),H&&(W.deltaX=m-parseFloat(re.x),re.x=m+"px"),re.renderTransform(1,re)):(G&&(W.deltaY=v-parseFloat(t.style.top||0),t.style.top=v+"px"),H&&(W.deltaX=m-parseFloat(t.style.left||0),t.style.left=m+"px")),!d||n||P||(P=!0,!1===It(W,"drag","onDrag")&&(H&&(W.x-=W.deltaX),G&&(W.y-=W.deltaY),e(!0)),P=!1)}w=!1},ce=function(e,n){var r,i,o=W.x,s=W.y;t._gsap||(re=Se.core.getCache(t)),re.uncache&&Se.getProperty(t,"x"),j?(W.x=parseFloat(re.x),W.y=parseFloat(re.y)):z?W.x=W.rotation=parseFloat(re.rotation):a?(W.y=a.top(),W.x=a.left()):(W.y=parseFloat(t.style.top||(i=Lt(t))&&i.top)||0,W.x=parseFloat(t.style.left||(i||{}).left)||0),(S||k||A)&&!n&&(W.isDragging||W.isThrowing)&&(A&&(ht.x=W.x,ht.y=W.y,(r=A(ht)).x!==W.x&&(W.x=r.x,w=!0),r.y!==W.y&&(W.y=r.y,w=!0)),S&&(r=S(W.x))!==W.x&&(W.x=r,z&&(W.rotation=r),w=!0),k&&((r=k(W.y))!==W.y&&(W.y=r),w=!0)),w&&le(!0),e||(W.deltaX=W.x-o,W.deltaY=W.y-s,It(W,"throwupdate","onThrowUpdate"))},ue=function(e,t,n,r){return null==t&&(t=-1e20),null==n&&(n=1e20),Xe(e)?function(i){var o=W.isPressed?1-W.edgeResistance:1;return e.call(W,(i>n?n+(i-n)*o:i<t?t+(i-t)*o:i)*r)*r}:tt(e)?function(r){for(var i,o,a=e.length,s=0,l=1e20;--a>-1;)(o=(i=e[a])-r)<0&&(o=-o),o<l&&i>=t&&i<=n&&(s=a,l=o);return e[s]}:isNaN(e)?function(e){return e}:function(){return e*r}},he=function(){var e,r,i,o;h=!1,a?(a.calibrate(),W.minX=m=-a.maxScrollLeft(),W.minY=g=-a.maxScrollTop(),W.maxX=f=W.maxY=v=0,h=!0):n.bounds&&(e=Ot(n.bounds,t.parentNode),z?(W.minX=m=e.left,W.maxX=f=e.left+e.width,W.minY=g=W.maxY=v=0):Ke(n.bounds.maxX)&&Ke(n.bounds.maxY)?(r=Ot(t,t.parentNode),W.minX=m=Math.round(oe(V,"px")+e.left-r.left),W.minY=g=Math.round(oe(U,"px")+e.top-r.top),W.maxX=f=Math.round(m+(e.width-r.width)),W.maxY=v=Math.round(g+(e.height-r.height))):(e=n.bounds,W.minX=m=e.minX,W.minY=g=e.minY,W.maxX=f=e.maxX,W.maxY=v=e.maxY),m>f&&(W.minX=f,W.maxX=f=m,m=W.minX),g>v&&(W.minY=v,W.maxY=v=g,g=W.minY),z&&(W.minRotation=m,W.maxRotation=f),h=!0),n.liveSnap&&(i=!0===n.liveSnap?n.snap||{}:n.liveSnap,o=tt(i)||Xe(i),z?(S=ue(o?i:i.rotation,m,f,1),k=null):i.points?A=function(e,t,n,r,i,o,a){return o=o&&o<1e20?o*o:1e20,Xe(e)?function(s){var l,c,u,h=W.isPressed?1-W.edgeResistance:1,d=s.x,p=s.y;return s.x=d=d>n?n+(d-n)*h:d<t?t+(d-t)*h:d,s.y=p=p>i?i+(p-i)*h:p<r?r+(p-r)*h:p,(l=e.call(W,s))!==s&&(s.x=l.x,s.y=l.y),1!==a&&(s.x*=a,s.y*=a),o<1e20&&(c=s.x-d)*c+(u=s.y-p)*u>o&&(s.x=d,s.y=p),s}:tt(e)?function(t){for(var n,r,i,a,s=e.length,l=0,c=1e20;--s>-1;)(a=(n=(i=e[s]).x-t.x)*n+(r=i.y-t.y)*r)<c&&(l=s,c=a);return c<=o?e[l]:t}:function(e){return e}}(o?i:i.points,m,f,g,v,i.radius,a?-1:1):(H&&(S=ue(o?i:i.x||i.left||i.scrollLeft,m,f,a?-1:1)),G&&(k=ue(o?i:i.y||i.top||i.scrollTop,g,v,a?-1:1))))},de=function(){W.isThrowing=!1,It(W,"throwcomplete","onThrowComplete")},pe=function(){W.isThrowing=!1},fe=function(e,r){var i,o,s,l;e&&Ne?(!0===e&&(i=n.snap||n.liveSnap||{},o=tt(i)||Xe(i),e={resistance:(n.throwResistance||n.resistance||1e3)/(z?10:1)},z?e.rotation=Nt(W,o?i:i.rotation,f,m,1,r):(H&&(e[V]=Nt(W,o?i:i.points||i.x||i.left,f,m,a?-1:1,r||"x"===W.lockedAxis)),G&&(e[U]=Nt(W,o?i:i.points||i.y||i.top,v,g,a?-1:1,r||"y"===W.lockedAxis)),(i.points||tt(i)&&Qe(i[0]))&&(e.linkedProps=V+","+U,e.radius=i.radius))),W.isThrowing=!0,l=isNaN(n.overshootTolerance)?1===n.edgeResistance?0:1-W.edgeResistance+.2:n.overshootTolerance,e.duration||(e.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?0===l||Qe(e)&&e.resistance>1e3?0:.5:n.minDuration,overshoot:l}),W.tween=s=Se.to(a||t,{inertia:e,data:"_draggable",inherit:!1,onComplete:de,onInterrupt:pe,onUpdate:n.fastMode?It:ce,onUpdateParams:n.fastMode?[W,"onthrowupdate","onThrowUpdate"]:i&&i.radius?[!1,!0]:[]}),n.fastMode||(a&&(a._skip=!0),s.render(1e9,!0,!0),ce(!0,!0),W.endX=W.x,W.endY=W.y,z&&(W.endRotation=W.x),s.play(0),ce(!0,!0),a&&(a._skip=!1))):h&&W.applyBounds()},me=function(e){var n,r=T;T=we(t.parentNode,!0),e&&W.isPressed&&!T.equals(r||new be)&&(n=r.inverse().apply({x:s,y:l}),T.apply(n,n),s=n.x,l=n.y),T.equals(it)&&(T=null)},ve=function(){var e,n,r,i=1-W.edgeResistance,o=ie?kt(ae):0,d=ie?St(ae):0;j&&(re.x=oe(V,"px")+"px",re.y=oe(U,"px")+"px",re.renderTransform()),me(!1),Ft.x=W.pointerX-o,Ft.y=W.pointerY-d,T&&T.apply(Ft,Ft),s=Ft.x,l=Ft.y,w&&(Te(W.pointerX,W.pointerY),le(!0)),F=we(t),a?(he(),u=a.top(),c=a.left()):(ge()?(ce(!0,!0),he()):W.applyBounds(),z?(e=t.ownerSVGElement?[re.xOrigin-t.getBBox().x,re.yOrigin-t.getBBox().y]:(Lt(t)[$e]||"0 0").split(" "),b=W.rotationOrigin=we(t).apply({x:parseFloat(e[0])||0,y:parseFloat(e[1])||0}),ce(!0,!0),n=W.pointerX-b.x-o,r=b.y-W.pointerY+d,c=W.x,u=W.y=Math.atan2(r,n)*rt):(u=oe(U,"px"),c=oe(V,"px"))),h&&i&&(c>f?c=f+(c-f)/i:c<m&&(c=m-(m-c)/i),z||(u>v?u=v+(u-v)/i:u<g&&(u=g-(g-u)/i))),W.startX=c=et(c),W.startY=u=et(u)},ge=function(){return W.tween&&W.tween.isActive()},ye=function(){!Me.parentNode||ge()||W.isDragging||Me.parentNode.removeChild(Me)},_e=function(e,i){var c;if(!o||W.isPressed||!e||!("mousedown"!==e.type&&"pointerdown"!==e.type||i)&&ot()-ne<30&&Oe[W.pointerEvent.type])O&&e&&o&&bt(e);else{if(M=ge(),B=!1,W.pointerEvent=e,Oe[e.type]?(C=~e.type.indexOf("touch")?e.currentTarget||e.target:ae,yt(C,"touchend",Le),yt(C,"touchmove",Ce),yt(C,"touchcancel",Le),yt(ae,"touchstart",xt)):(C=null,yt(ae,"mousemove",Ce)),L=null,ze&&C||(yt(ae,"mouseup",Le),e&&e.target&&yt(e.target,"mouseup",Le)),E=te.call(W,e.target)&&!1===n.dragClickables&&!i)return yt(e.target,"change",Le),It(W,"pressInit","onPressInit"),It(W,"press","onPress"),zt(Y,!0),void(O=!1);var u;if(D=!(!C||H===G||!1===W.vars.allowNativeTouchScrolling||W.vars.allowContextMenu&&e&&(e.ctrlKey||e.which>2))&&(H?"y":"x"),(O=!D&&!W.allowEventDefault)&&(bt(e),yt(ke,"touchforcechange",bt)),e.changedTouches?(e=y=e.changedTouches[0],_=e.identifier):e.pointerId?_=e.pointerId:y=_=null,qe++,u=le,at.push(u),1===at.length&&Se.ticker.add(mt),l=W.pointerY=e.pageY,s=W.pointerX=e.pageX,It(W,"pressInit","onPressInit"),(D||W.autoScroll)&&Mt(t.parentNode),!t.parentNode||!W.autoScroll||a||z||!t.parentNode._gsMaxScrollX||Me.parentNode||t.getBBox||(Me.style.width=t.parentNode.scrollWidth+"px",t.parentNode.appendChild(Me)),ve(),W.tween&&W.tween.kill(),W.isThrowing=!1,Se.killTweensOf(a||t,X,!0),a&&Se.killTweensOf(t,{scrollTo:1},!0),W.tween=W.lockedAxis=null,(n.zIndexBoost||!z&&!a&&!1!==n.zIndexBoost)&&(t.style.zIndex=r.zIndex++),W.isPressed=!0,d=!(!n.onDrag&&!W._listeners.drag),p=!(!n.onMove&&!W._listeners.move),!1!==n.cursor||n.activeCursor)for(c=Y.length;--c>-1;)Se.set(Y[c],{cursor:n.activeCursor||n.cursor||("grab"===je?"grabbing":je)});It(W,"press","onPress")}},Ce=function(e){var n,r,i,a,c,u,h=e;if(o&&!Fe&&W.isPressed&&e){if(W.pointerEvent=e,n=e.changedTouches){if((e=n[0])!==y&&e.identifier!==_){for(a=n.length;--a>-1&&(e=n[a]).identifier!==_&&e.target!==t;);if(a<0)return}}else if(e.pointerId&&_&&e.pointerId!==_)return;C&&D&&!L&&(Ft.x=e.pageX-(ie?kt(ae):0),Ft.y=e.pageY-(ie?St(ae):0),T&&T.apply(Ft,Ft),r=Ft.x,i=Ft.y,((c=Math.abs(r-s))!==(u=Math.abs(i-l))&&(c>q||u>q)||Be&&D===L)&&(L=c>u&&H?"x":"y",D&&L!==D&&yt(ke,"touchforcechange",bt),!1!==W.vars.lockAxisOnTouchScroll&&H&&G&&(W.lockedAxis="x"===L?"y":"x",Xe(W.vars.onLockAxis)&&W.vars.onLockAxis.call(W,h)),Be&&D===L))?Le(h):(W.allowEventDefault||D&&(!L||D===L)||!1===h.cancelable?O&&(O=!1):(bt(h),O=!0),W.autoScroll&&(K=!0),Te(e.pageX,e.pageY,p))}else O&&e&&o&&bt(e)},Te=function(e,t,n){var r,i,o,a,d,p,y=1-W.dragResistance,_=1-W.edgeResistance,x=W.pointerX,E=W.pointerY,C=u,M=W.x,D=W.y,L=W.endX,P=W.endY,R=W.endRotation,I=w;W.pointerX=e,W.pointerY=t,ie&&(e-=kt(ae),t-=St(ae)),z?(a=Math.atan2(b.y-t,e-b.x)*rt,(d=W.y-a)>180?(u-=360,W.y=a):d<-180&&(u+=360,W.y=a),W.x!==c||Math.abs(u-a)>q?(W.y=a,o=c+(u-a)*y):o=c):(T&&(p=e*T.a+t*T.c+T.e,t=e*T.b+t*T.d+T.f,e=p),(i=t-l)<q&&i>-q&&(i=0),(r=e-s)<q&&r>-q&&(r=0),(W.lockAxis||W.lockedAxis)&&(r||i)&&((p=W.lockedAxis)||(W.lockedAxis=p=H&&Math.abs(r)>Math.abs(i)?"y":G?"x":null,p&&Xe(W.vars.onLockAxis)&&W.vars.onLockAxis.call(W,W.pointerEvent)),"y"===p?i=0:"x"===p&&(r=0)),o=et(c+r*y),a=et(u+i*y)),(S||k||A)&&(W.x!==o||W.y!==a&&!z)&&(A&&(ht.x=o,ht.y=a,p=A(ht),o=et(p.x),a=et(p.y)),S&&(o=et(S(o))),k&&(a=et(k(a)))),h&&(o>f?o=f+Math.round((o-f)*_):o<m&&(o=m+Math.round((o-m)*_)),z||(a>v?a=Math.round(v+(a-v)*_):a<g&&(a=Math.round(g+(a-g)*_)))),(W.x!==o||W.y!==a&&!z)&&(z?(W.endRotation=W.x=W.endX=o,w=!0):(G&&(W.y=W.endY=a,w=!0),H&&(W.x=W.endX=o,w=!0)),n&&!1===It(W,"move","onMove")?(W.pointerX=x,W.pointerY=E,u=C,W.x=M,W.y=D,W.endX=L,W.endY=P,W.endRotation=R,w=I):!W.isDragging&&W.isPressed&&(W.isDragging=B=!0,It(W,"dragstart","onDragStart")))},Le=function e(r,i){if(o&&W.isPressed&&(!r||null==_||i||!(r.pointerId&&r.pointerId!==_&&r.target!==t||r.changedTouches&&!function(e,t){for(var n=e.length;n--;)if(e[n].identifier===t)return!0}(r.changedTouches,_)))){W.isPressed=!1;var a,s,l,c,u,h=r,d=W.isDragging,p=W.vars.allowContextMenu&&r&&(r.ctrlKey||r.which>2),f=Se.delayedCall(.001,ye);if(C?(_t(C,"touchend",e),_t(C,"touchmove",Ce),_t(C,"touchcancel",e),_t(ae,"touchstart",xt)):_t(ae,"mousemove",Ce),_t(ke,"touchforcechange",bt),ze&&C||(_t(ae,"mouseup",e),r&&r.target&&_t(r.target,"mouseup",e)),w=!1,d&&(Q=ut=ot(),W.isDragging=!1),gt(le),E&&!p)return r&&(_t(r.target,"change",e),W.pointerEvent=h),zt(Y,!1),It(W,"release","onRelease"),It(W,"click","onClick"),void(E=!1);for(s=Y.length;--s>-1;)Dt(Y[s],"cursor",n.cursor||(!1!==n.cursor?je:null));if(qe--,r){if((a=r.changedTouches)&&(r=a[0])!==y&&r.identifier!==_){for(s=a.length;--s>-1&&(r=a[s]).identifier!==_&&r.target!==t;);if(s<0&&!i)return}W.pointerEvent=h,W.pointerX=r.pageX,W.pointerY=r.pageY}return p&&h?(bt(h),O=!0,It(W,"release","onRelease")):h&&!d?(O=!1,M&&(n.snap||n.bounds)&&fe(n.inertia||n.throwProps),It(W,"release","onRelease"),Be&&"touchmove"===h.type||-1!==h.type.indexOf("cancel")||(It(W,"click","onClick"),ot()-ne<300&&It(W,"doubleclick","onDoubleClick"),c=h.target||t,ne=ot(),u=function(){ne===R||!W.enabled()||W.isPressed||h.defaultPrevented||(c.click?c.click():ae.createEvent&&((l=ae.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,ke,1,W.pointerEvent.screenX,W.pointerEvent.screenY,W.pointerX,W.pointerY,!1,!1,!1,!1,0,null),c.dispatchEvent(l)))},Be||h.defaultPrevented||Se.delayedCall(.05,u))):(fe(n.inertia||n.throwProps),W.allowEventDefault||!h||!1===n.dragClickables&&te.call(W,h.target)||!d||D&&(!L||D!==L)||!1===h.cancelable?O=!1:(O=!0,bt(h)),It(W,"release","onRelease")),ge()&&f.duration(W.tween.duration()),d&&It(W,"dragend","onDragEnd"),!0}O&&r&&o&&bt(r)},Re=function(e){if(e&&W.isDragging&&!a){var n=e.target||t.parentNode,r=n.scrollLeft-n._gsScrollX,i=n.scrollTop-n._gsScrollY;(r||i)&&(T?(s-=r*T.a+i*T.c,l-=i*T.d+r*T.b):(s-=r,l-=i),n._gsScrollX+=r,n._gsScrollY+=i,Te(W.pointerX,W.pointerY))}},He=function(e){var t=ot(),n=t-ne<100,r=t-Q<50,i=n&&R===ne,o=W.pointerEvent&&W.pointerEvent.defaultPrevented,a=n&&I===ne,s=e.isTrusted||null==e.isTrusted&&n&&i;if((i||r&&!1!==W.vars.suppressClickOnDrag)&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),n&&(!W.pointerEvent||!W.pointerEvent.defaultPrevented)&&(!i||s&&!a))return s&&i&&(I=ne),void(R=ne);(W.isPressed||r||n)&&(s&&e.detail&&n&&!o||bt(e)),n||r||B||(e&&e.target&&(W.pointerEvent=e),It(W,"click","onClick"))},Ge=function(e){return T?{x:e.x*T.a+e.y*T.c+T.e,y:e.x*T.b+e.y*T.d+T.f}:{x:e.x,y:e.y}};return(x=r.get(t))&&x.kill(),i.startDrag=function(e,n){var r,i,o,a;_e(e||W.pointerEvent,!0),n&&!W.hitTest(e||W.pointerEvent)&&(r=Rt(e||W.pointerEvent),i=Rt(t),o=Ge({x:r.left+r.width/2,y:r.top+r.height/2}),a=Ge({x:i.left+i.width/2,y:i.top+i.height/2}),s-=o.x-a.x,l-=o.y-a.y),W.isDragging||(W.isDragging=B=!0,It(W,"dragstart","onDragStart"))},i.drag=Ce,i.endDrag=function(e){return Le(e||W.pointerEvent,!0)},i.timeSinceDrag=function(){return W.isDragging?0:(ot()-Q)/1e3},i.timeSinceClick=function(){return(ot()-ne)/1e3},i.hitTest=function(e,t){return r.hitTest(W.target,e,t)},i.getDirection=function(e,n){var r,i,o,a,s,l,h="velocity"===e&&Ne?e:Qe(e)&&!z?"element":"start";return"element"===h&&(s=Rt(W.target),l=Rt(e)),r="start"===h?W.x-c:"velocity"===h?Ne.getVelocity(t,V):s.left+s.width/2-(l.left+l.width/2),z?r<0?"counter-clockwise":"clockwise":(n=n||2,i="start"===h?W.y-u:"velocity"===h?Ne.getVelocity(t,U):s.top+s.height/2-(l.top+l.height/2),a=(o=Math.abs(r/i))<1/n?"":r<0?"left":"right",o<n&&(""!==a&&(a+="-"),a+=i<0?"up":"down"),a)},i.applyBounds=function(e,r){var i,o,a,s,l,c;if(e&&n.bounds!==e)return n.bounds=e,W.update(!0,r);if(ce(!0),he(),h&&!ge()){if(i=W.x,o=W.y,i>f?i=f:i<m&&(i=m),o>v?o=v:o<g&&(o=g),(W.x!==i||W.y!==o)&&(a=!0,W.x=W.endX=i,z?W.endRotation=i:W.y=W.endY=o,w=!0,le(!0),W.autoScroll&&!W.isDragging))for(Mt(t.parentNode),s=t,dt.scrollTop=null!=ke.pageYOffset?ke.pageYOffset:null!=ae.documentElement.scrollTop?ae.documentElement.scrollTop:ae.body.scrollTop,dt.scrollLeft=null!=ke.pageXOffset?ke.pageXOffset:null!=ae.documentElement.scrollLeft?ae.documentElement.scrollLeft:ae.body.scrollLeft;s&&!c;)l=(c=Ct(s.parentNode))?dt:s.parentNode,G&&l.scrollTop>l._gsMaxScrollY&&(l.scrollTop=l._gsMaxScrollY),H&&l.scrollLeft>l._gsMaxScrollX&&(l.scrollLeft=l._gsMaxScrollX),s=l;W.isThrowing&&(a||W.endX>f||W.endX<m||W.endY>v||W.endY<g)&&fe(n.inertia||n.throwProps,a)}return W},i.update=function(e,n,r){if(n&&W.isPressed){var i=we(t),o=F.apply({x:W.x-c,y:W.y-u}),a=we(t.parentNode,!0);a.apply({x:i.e-o.x,y:i.f-o.y},o),W.x-=o.x-a.e,W.y-=o.y-a.f,le(!0),ve()}var s=W.x,l=W.y;return me(!n),e?W.applyBounds():(w&&r&&le(!0),ce(!0)),n&&(Te(W.pointerX,W.pointerY),w&&le(!0)),W.isPressed&&!n&&(H&&Math.abs(s-W.x)>.01||G&&Math.abs(l-W.y)>.01&&!z)&&ve(),W.autoScroll&&(Mt(t.parentNode,W.isDragging),K=W.isDragging,le(!0),Et(t,Re),At(t,Re)),W},i.enable=function(e){var r,i,s,l={lazy:!0};if(!1!==n.cursor&&(l.cursor=n.cursor||je),Se.utils.checkPrefix("touchCallout")&&(l.touchCallout="none"),"soft"!==e){for(ft(Y,H===G?"none":n.allowNativeTouchScrolling&&t.scrollHeight===t.clientHeight==(t.scrollWidth===t.clientHeight)||n.allowEventDefault?"manipulation":H?"pan-y":"pan-x"),i=Y.length;--i>-1;)s=Y[i],ze||yt(s,"mousedown",_e),yt(s,"touchstart",_e),yt(s,"click",He,!0),Se.set(s,l),s.getBBox&&s.ownerSVGElement&&H!==G&&Se.set(s.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":H?"pan-y":"pan-x"}),n.allowContextMenu||yt(s,"contextmenu",se);zt(Y,!1)}return At(t,Re),o=!0,Ne&&"soft"!==e&&Ne.track(a||t,j?"x,y":z?"rotation":"top,left"),t._gsDragID=r="d"+lt++,st[r]=W,a&&(a.enable(),a.element._gsDragID=r),(n.bounds||z)&&ve(),n.bounds&&W.applyBounds(),W},i.disable=function(e){for(var n,r=W.isDragging,i=Y.length;--i>-1;)Dt(Y[i],"cursor",null);if("soft"!==e){for(ft(Y,null),i=Y.length;--i>-1;)n=Y[i],Dt(n,"touchCallout",null),_t(n,"mousedown",_e),_t(n,"touchstart",_e),_t(n,"click",He,!0),_t(n,"contextmenu",se);zt(Y,!0),C&&(_t(C,"touchcancel",Le),_t(C,"touchend",Le),_t(C,"touchmove",Ce)),_t(ae,"mouseup",Le),_t(ae,"mousemove",Ce)}return Et(t,Re),o=!1,Ne&&"soft"!==e&&(Ne.untrack(a||t,j?"x,y":z?"rotation":"top,left"),W.tween&&W.tween.kill()),a&&a.disable(),gt(le),W.isDragging=W.isPressed=E=!1,r&&It(W,"dragend","onDragEnd"),W},i.enabled=function(e,t){return arguments.length?e?W.enable(t):W.disable(t):o},i.kill=function(){return W.isThrowing=!1,W.tween&&W.tween.kill(),W.disable(),Se.set(Y,{clearProps:"userSelect"}),delete st[t._gsDragID],W},i.revert=function(){this.kill(),this.styles&&this.styles.revert()},~N.indexOf("scroll")&&(a=i.scrollProxy=new Vt(t,function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}({onKill:function(){W.isPressed&&Le(null)}},n)),t.style.overflowY=G&&!Ie?"auto":"hidden",t.style.overflowX=H&&!Ie?"auto":"hidden",t=a.content),z?X.rotation=1:(H&&(X[V]=1),G&&(X[U]=1)),re.force3D=!("force3D"in n)||n.force3D,Ve(xe(i)),i.enable(),i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.register=function(e){Se=e,Ut()},r.create=function(e,t){return De||Ut(!0),Pe(e).map((function(e){return new r(e,t)}))},r.get=function(e){return st[(Pe(e)[0]||{})._gsDragID]},r.timeSinceDrag=function(){return(ot()-ut)/1e3},r.hitTest=function(e,t,n){if(e===t)return!1;var r,i,o,a=Rt(e),s=Rt(t),l=a.top,c=a.left,u=a.right,h=a.bottom,d=a.width,p=a.height,f=s.left>u||s.right<c||s.top>h||s.bottom<l;return f||!n?!f:(o=-1!==(n+"").indexOf("%"),n=parseFloat(n)||0,(r={left:Math.max(c,s.left),top:Math.max(l,s.top)}).width=Math.min(u,s.right)-r.left,r.height=Math.min(h,s.bottom)-r.top,!(r.width<0||r.height<0)&&(o?(n*=.01,(i=r.width*r.height)>=d*p*n||i>=s.width*s.height*n):r.width>n&&r.height>n))},r}(function(){function e(e){this._listeners={},this.target=e||this}var t=e.prototype;return t.addEventListener=function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);~n.indexOf(t)||n.push(t)},t.removeEventListener=function(e,t){var n=this._listeners[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},t.dispatchEvent=function(e){var t,n=this;return(this._listeners[e]||[]).forEach((function(r){return!1===r.call(n,{type:e,target:n.target})&&(t=!1)})),t},e}());!function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Ht.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1}),Ht.zIndex=1e3,Ht.version="3.12.5",Ye()&&Se.registerPlugin(Ht);
/*!
 * CSSRulePlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Gt,qt,Wt,Yt,Xt=function(){return"undefined"!=typeof window},Qt=function(){return Gt||Xt()&&(Gt=window.gsap)&&Gt.registerPlugin&&Gt},Kt=function(){return qt||(Jt(),Yt||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),qt},Jt=function(e){Gt=e||Qt(),Xt()&&(window,Wt=document),Gt&&(Yt=Gt.plugins.css)&&(qt=1)},Zt={version:"3.12.5",name:"cssRule",init:function(e,t,n,r,i){if(!Kt()||void 0===e.cssText)return!1;var o=e._gsProxy=e._gsProxy||Wt.createElement("div");this.ss=e,this.style=o.style,o.style.cssText=e.cssText,Yt.prototype.init.call(this,o,t,n,r,i)},render:function(e,t){for(var n,r=t._pt,i=t.style,o=t.ss;r;)r.r(e,r.d),r=r._next;for(n=i.length;--n>-1;)o[i[n]]=i[i[n]]},getRule:function(e){Kt();var t,n,r,i,o=Wt.all?"rules":"cssRules",a=Wt.styleSheets,s=a.length,l=":"===e.charAt(0);for(e=(l?"":",")+e.split("::").join(":").toLowerCase()+",",l&&(i=[]);s--;){try{if(!(n=a[s][o]))continue;t=n.length}catch(e){console.warn(e);continue}for(;--t>-1;)if((r=n[t]).selectorText&&-1!==(","+r.selectorText.split("::").join(":").toLowerCase()+",").indexOf(e)){if(!l)return r.style;i.push(r.style)}}return i},register:Jt};Qt()&&Gt.registerPlugin(Zt);
/*!
 * EaselPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var $t,en,tn,nn,rn,on,an="redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier,redOffset,greenOffset,blueOffset,alphaOffset".split(","),sn=function(){return"undefined"!=typeof window},ln=function(){return $t||sn()&&($t=window.gsap)&&$t.registerPlugin&&$t},cn=function(){return nn||tn&&tn.createjs||tn||{}},un=function(e){return console.warn(e)},hn=function(e){var t=e.getBounds&&e.getBounds();t||(t=e.nominalBounds||{x:0,y:0,width:100,height:100},e.setBounds&&e.setBounds(t.x,t.y,t.width,t.height)),e.cache&&e.cache(t.x,t.y,t.width,t.height),un("EaselPlugin: for filters to display in EaselJS, you must call the object's cache() method first. GSAP attempted to use the target's getBounds() for the cache but that may not be completely accurate. "+e)},dn=function(e,t,n){rn||(rn=cn().ColorFilter)||un("EaselPlugin error: The EaselJS ColorFilter JavaScript file wasn't loaded.");for(var r,i,o,a,s,l,c=e.filters||[],u=c.length;u--;)if(c[u]instanceof rn){i=c[u];break}if(i||(i=new rn,c.push(i),e.filters=c),o=i.clone(),null!=t.tint)r=$t.utils.splitColor(t.tint),a=null!=t.tintAmount?+t.tintAmount:1,o.redOffset=+r[0]*a,o.greenOffset=+r[1]*a,o.blueOffset=+r[2]*a,o.redMultiplier=o.greenMultiplier=o.blueMultiplier=1-a;else for(s in t)"exposure"!==s&&"brightness"!==s&&(o[s]=+t[s]);for(null!=t.exposure?(o.redOffset=o.greenOffset=o.blueOffset=255*(+t.exposure-1),o.redMultiplier=o.greenMultiplier=o.blueMultiplier=1):null!=t.brightness&&(a=+t.brightness-1,o.redOffset=o.greenOffset=o.blueOffset=a>0?255*a:0,o.redMultiplier=o.greenMultiplier=o.blueMultiplier=1-Math.abs(a)),u=8;u--;)i[s=an[u]]!==o[s]&&(l=n.add(i,s,i[s],o[s],0,0,0,0,0,1))&&(l.op="easel_colorFilter");n._props.push("easel_colorFilter"),e.cacheID||hn(e)},pn=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],fn=.212671,mn=.71516,vn=.072169,gn=function(e,t){if(!(e instanceof Array&&t instanceof Array))return t;var n,r,i=[],o=0,a=0;for(n=0;n<4;n++){for(r=0;r<5;r++)a=4===r?e[o+4]:0,i[o+r]=e[o]*t[r]+e[o+1]*t[r+5]+e[o+2]*t[r+10]+e[o+3]*t[r+15]+a;o+=5}return i},yn=function(e,t,n){on||(on=cn().ColorMatrixFilter)||un("EaselPlugin: The EaselJS ColorMatrixFilter JavaScript file wasn't loaded.");for(var r,i,o,a,s,l,c=e.filters||[],u=c.length;--u>-1;)if(c[u]instanceof on){o=c[u];break}for(o||(o=new on(pn.slice()),c.push(o),e.filters=c),i=o.matrix,r=pn.slice(),null!=t.colorize&&(r=function(e,t,n){isNaN(n)&&(n=1);var r=$t.utils.splitColor(t),i=r[0]/255,o=r[1]/255,a=r[2]/255,s=1-n;return gn([s+n*i*fn,n*i*mn,n*i*vn,0,0,n*o*fn,s+n*o*mn,n*o*vn,0,0,n*a*fn,n*a*mn,s+n*a*vn,0,0,0,0,0,1,0],e)}(r,t.colorize,Number(t.colorizeAmount))),null!=t.contrast&&(s=r,l=Number(t.contrast),r=isNaN(l)?s:gn([l+=.01,0,0,0,128*(1-l),0,l,0,0,128*(1-l),0,0,l,0,128*(1-l),0,0,0,1,0],s)),null!=t.hue&&(r=function(e,t){if(isNaN(t))return e;t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return gn([fn+n*(1-fn)+r*-fn,mn+n*-mn+r*-mn,vn+n*-vn+r*(1-vn),0,0,fn+n*-fn+.143*r,mn+n*(1-mn)+.14*r,vn+n*-vn+-.283*r,0,0,fn+n*-fn+r*-(1-fn),mn+n*-mn+r*mn,vn+n*(1-vn)+r*vn,0,0,0,0,0,1,0,0,0,0,0,1],e)}(r,Number(t.hue))),null!=t.saturation&&(r=function(e,t){if(isNaN(t))return e;var n=1-t,r=n*fn,i=n*mn,o=n*vn;return gn([r+t,i,o,0,0,r,i+t,o,0,0,r,i,o+t,0,0,0,0,0,1,0],e)}(r,Number(t.saturation))),u=r.length;--u>-1;)r[u]!==i[u]&&(a=n.add(i,u,i[u],r[u],0,0,0,0,0,1))&&(a.op="easel_colorMatrixFilter");n._props.push("easel_colorMatrixFilter"),e.cacheID||hn(),n._matrix=i},_n=function(e){$t=e||ln(),sn()&&(tn=window),$t&&(en=1)},bn={version:"3.12.5",name:"easel",init:function(e,t,n,r,i){var o,a,s,l,c,u,h;for(o in en||(_n(),$t||un("Please gsap.registerPlugin(EaselPlugin)")),this.target=e,t)if(c=t[o],"colorFilter"===o||"tint"===o||"tintAmount"===o||"exposure"===o||"brightness"===o)s||(dn(e,t.colorFilter||t,this),s=!0);else if("saturation"===o||"contrast"===o||"hue"===o||"colorize"===o||"colorizeAmount"===o)l||(yn(e,t.colorMatrixFilter||t,this),l=!0);else if("frame"===o){if("string"==typeof c&&"="!==c.charAt(1)&&(u=e.labels))for(h=0;h<u.length;h++)u[h].label===c&&(c=u[h].position);(a=this.add(e,"gotoAndStop",e.currentFrame,c,r,i,Math.round,0,0,1))&&(a.op=o)}else null!=e[o]&&this.add(e,o,"get",c)},render:function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next;t.target.cacheID&&t.target.updateCache()},register:_n,registerCreateJS:function(e){nn=e}};ln()&&$t.registerPlugin(bn);
/*!
 * EasePack 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var wn,xn,Sn=function(){return wn||"undefined"!=typeof window&&(wn=window.gsap)&&wn.registerPlugin&&wn},kn=function(e,t){return!!(void 0===e?t:e&&!~(e+"").indexOf("false"))},An=function(e){if(wn=e||Sn()){xn=wn.registerEase;var t,n=wn.parseEase(),r=function(e){return function(t){var n=.5+t/2;e.config=function(t){return e(2*(1-t)*t*n+t*t)}}};for(t in n)n[t].config||r(n[t]);for(t in xn("slow",Dn),xn("expoScale",Ln),xn("rough",Pn),Rn)"version"!==t&&wn.core.globals(t,Rn[t]);1}},En=function(e,t,n){var r=(e=Math.min(1,e||.7))<1?t||0===t?t:.7:0,i=(1-e)/2,o=i+e,a=kn(n);return function(e){var t=e+(.5-e)*r;return e<i?a?1-(e=1-e/i)*e:t-(e=1-e/i)*e*e*e*t:e>o?a?1===e?0:1-(e=(e-o)/i)*e:t+(e-t)*(e=(e-o)/i)*e*e*e:a?1:t}},Cn=function(e,t,n){var r=Math.log(t/e),i=t-e;return n&&(n=wn.parseEase(n)),function(t){return(e*Math.exp(r*(n?n(t):t))-e)/i}},Tn=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},Mn=function(e){"object"!=typeof e&&(e={points:+e||20});for(var t,n,r,i,o,a,s,l=e.taper||"none",c=[],u=0,h=0|(+e.points||20),d=h,p=kn(e.randomize,!0),f=kn(e.clamp),m=wn?wn.parseEase(e.template):0,v=.4*(+e.strength||1);--d>-1;)t=p?Math.random():1/h*d,n=m?m(t):t,r="none"===l?v:"out"===l?(i=1-t)*i*v:"in"===l?t*t*v:t<.5?(i=2*t)*i*.5*v:(i=2*(1-t))*i*.5*v,p?n+=Math.random()*r-.5*r:d%2?n+=.5*r:n-=.5*r,f&&(n>1?n=1:n<0&&(n=0)),c[u++]={x:t,y:n};for(c.sort((function(e,t){return e.x-t.x})),a=new Tn(1,1,null),d=h;d--;)o=c[d],a=new Tn(o.x,o.y,a);return s=new Tn(0,0,a.t?a:a.next),function(e){var t=s;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return s=t,t.v+(e-t.t)/t.gap*t.c}},Dn=En(.7);Dn.ease=Dn,Dn.config=En;var Ln=Cn(1,2);Ln.config=Cn;var Pn=Mn();Pn.ease=Pn,Pn.config=Mn;var Rn={SlowMo:Dn,RoughEase:Pn,ExpoScaleEase:Ln};for(var In in Rn)Rn[In].register=An,Rn[In].version="3.12.5";Sn()&&wn.registerPlugin(Dn);
/*!
 * Flip 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var On,Fn,Bn,Nn,jn,zn,Vn,Un,Hn=1,Gn=function(e,t){return e.actions.forEach((function(e){return e.vars[t]&&e.vars[t](e)}))},qn={},Wn=180/Math.PI,Yn=Math.PI/180,Xn={},Qn={},Kn={},Jn=function(e){return"string"==typeof e?e.split(" ").join("").split(","):e},Zn=Jn("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),$n=Jn("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),er=function(e){return On(e)[0]||console.warn("Element not found:",e)},tr=function(e){return Math.round(1e4*e)/1e4||0},nr=function(e,t,n){return e.forEach((function(e){return e.classList[n](t)}))},rr={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},ir={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},or=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},ar=function(e,t){var n,r={};for(n in e)t[n]||(r[n]=e[n]);return r},sr={},lr=function(e){var t=sr[e]=Jn(e);return Kn[e]=t.concat($n),t},cr=function(e,t,n){return e.forEach((function(e){return e.d=function e(t,n,r){void 0===r&&(r=0);for(var i=t.parentNode,o=1e3*Math.pow(10,r)*(n?-1:1),a=n?900*-o:0;t;)a+=o,t=t.previousSibling;return i?a+e(i,n,r+1):a}(n?e.element:e.t,t)})),e.sort((function(e,t){return e.d-t.d})),e},ur=function(e,t){for(var n,r,i=e.element.style,o=e.css=e.css||[],a=t.length;a--;)r=i[n=t[a]]||i.getPropertyValue(n),o.push(r?n:Qn[n]||(Qn[n]=or(n)),r);return i},hr=function(e){var t=e.css,n=e.element.style,r=0;for(e.cache.uncache=1;r<t.length;r+=2)t[r+1]?n[t[r]]=t[r+1]:n.removeProperty(t[r]);!t[t.indexOf("transform")+1]&&n.translate&&(n.removeProperty("translate"),n.removeProperty("scale"),n.removeProperty("rotate"))},dr=function(e,t){e.forEach((function(e){return e.a.cache.uncache=1})),t||e.finalStates.forEach(hr)},pr="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),fr=function(e,t,n){var r,i,o,a=e.element,s=e.width,l=e.height,c=e.uncache,u=e.getProp,h=a.style,d=4;if("object"!=typeof t&&(t=e),Bn&&1!==n)return Bn._abs.push({t:a,b:e,a:e,sd:0}),Bn._final.push((function(){return(e.cache.uncache=1)&&hr(e)})),a;for(i="none"===u("display"),e.isVisible&&!i||(i&&(ur(e,["display"]).display=t.display),e.matrix=t.matrix,e.width=s=e.width||t.width,e.height=l=e.height||t.height),ur(e,pr),o=window.getComputedStyle(a);d--;)h[pr[d]]=o[pr[d]];if(h.gridArea="1 / 1 / 1 / 1",h.transition="none",h.position="absolute",h.width=s+"px",h.height=l+"px",h.top||(h.top="0px"),h.left||(h.left="0px"),c)r=new Pr(a);else if((r=ar(e,Xn)).position="absolute",e.simple){var p=a.getBoundingClientRect();r.matrix=new be(1,0,0,1,p.left+fe(),p.top+pe())}else r.matrix=we(a,!1,!1,!0);return r=xr(r,e,!0),e.x=zn(r.x,.01),e.y=zn(r.y,.01),a},mr=function(e,t){return!0!==t&&(t=On(t),e=e.filter((function(e){if(-1!==t.indexOf((e.sd<0?e.b:e.a).element))return!0;e.t._gsap.renderTransform(1),e.b.isVisible&&(e.t.style.width=e.b.width+"px",e.t.style.height=e.b.height+"px")}))),e},vr=function(e){return cr(e,!0).forEach((function(e){return(e.a.isVisible||e.b.isVisible)&&fr(e.sd<0?e.b:e.a,e.b,1)}))},gr=function(e,t){return t&&e.idLookup[yr(t).id]||e.elementStates[0]},yr=function(e,t,n,r){return e instanceof Pr?e:e instanceof Lr?gr(e,r):new Pr("string"==typeof e?er(e)||console.warn(e+" not found"):e,t,n)},_r=function(e,t){var n,r=e.style||e;for(n in t)r[n]=t[n]},br=function(e){return e.map((function(e){return e.element}))},wr=function(e,t,n){return e&&t.length&&n.add(e(br(t),n,new Lr(t,0,!0)),0)},xr=function(e,t,n,r,i,o){var a,s,l,c,u,h,d,p=e.element,f=e.cache,m=e.parent,v=e.x,g=e.y,y=t.width,_=t.height,b=t.scaleX,w=t.scaleY,x=t.rotation,S=t.bounds,k=o&&Vn&&Vn(p,"transform"),A=e,E=t.matrix,C=E.e,T=E.f,M=e.bounds.width!==S.width||e.bounds.height!==S.height||e.scaleX!==b||e.scaleY!==w||e.rotation!==x,D=!M&&e.simple&&t.simple&&!i;return D||!m?(b=w=1,x=a=0):(h=(u=function(e){var t=e._gsap||Fn.core.getCache(e);return t.gmCache===Fn.ticker.frame?t.gMatrix:(t.gmCache=Fn.ticker.frame,t.gMatrix=we(e,!0,!1,!0))}(m)).clone().multiply(t.ctm?t.matrix.clone().multiply(t.ctm):t.matrix),x=tr(Math.atan2(h.b,h.a)*Wn),a=tr(Math.atan2(h.c,h.d)*Wn+x)%360,b=Math.sqrt(Math.pow(h.a,2)+Math.pow(h.b,2)),w=Math.sqrt(Math.pow(h.c,2)+Math.pow(h.d,2))*Math.cos(a*Yn),i&&(i=On(i)[0],c=Fn.getProperty(i),d=i.getBBox&&"function"==typeof i.getBBox&&i.getBBox(),A={scaleX:c("scaleX"),scaleY:c("scaleY"),width:d?d.width:Math.ceil(parseFloat(c("width","px"))),height:d?d.height:parseFloat(c("height","px"))}),f.rotation=x+"deg",f.skewX=a+"deg"),n?(b*=y!==A.width&&A.width?y/A.width:1,w*=_!==A.height&&A.height?_/A.height:1,f.scaleX=b,f.scaleY=w):(y=zn(y*b/A.scaleX,0),_=zn(_*w/A.scaleY,0),p.style.width=y+"px",p.style.height=_+"px"),r&&_r(p,t.props),D||!m?(v+=C-e.matrix.e,g+=T-e.matrix.f):M||m!==t.parent?(f.renderTransform(1,f),h=we(i||p,!1,!1,!0),s=u.apply({x:h.e,y:h.f}),v+=(l=u.apply({x:C,y:T})).x-s.x,g+=l.y-s.y):(u.e=u.f=0,v+=(l=u.apply({x:C-e.matrix.e,y:T-e.matrix.f})).x,g+=l.y),v=zn(v,.02),g=zn(g,.02),!o||o instanceof Pr?(f.x=v+"px",f.y=g+"px",f.renderTransform(1,f)):k&&k.revert(),o&&(o.x=v,o.y=g,o.rotation=x,o.skewX=a,n?(o.scaleX=b,o.scaleY=w):(o.width=y,o.height=_)),o||f},Sr=function(e,t){return e instanceof Lr?e:new Lr(e,t)},kr=function(e,t,n){var r=e.idLookup[n],i=e.alt[n];return!i.isVisible||(t.getElementState(i.element)||i).isVisible&&r.isVisible?r:i},Ar=[],Er="width,height,overflowX,overflowY".split(","),Cr=function(e){if(e!==Un){var t=jn.style,n=jn.clientWidth===window.outerWidth,r=jn.clientHeight===window.outerHeight,i=4;if(e&&(n||r)){for(;i--;)Ar[i]=t[Er[i]];n&&(t.width=jn.clientWidth+"px",t.overflowY="hidden"),r&&(t.height=jn.clientHeight+"px",t.overflowX="hidden"),Un=e}else if(Un){for(;i--;)Ar[i]?t[Er[i]]=Ar[i]:t.removeProperty(or(Er[i]));Un=e}}},Tr=function(e,t,n,r){e instanceof Lr&&t instanceof Lr||console.warn("Not a valid state object.");var i,o,a,s,l,c,u,h,d,p,f,m,v,g,y,_=n=n||{},b=_.clearProps,w=_.onEnter,x=_.onLeave,S=_.absolute,k=_.absoluteOnLeave,A=_.custom,E=_.delay,C=_.paused,T=_.repeat,M=_.repeatDelay,D=_.yoyo,L=_.toggleClass,P=_.nested,R=_.zIndex,I=_.scale,O=_.fade,F=_.stagger,B=_.spin,N=_.prune,j=("props"in n?n:e).props,z=ar(n,rr),V=Fn.timeline({delay:E,paused:C,repeat:T,repeatDelay:M,yoyo:D,data:"isFlip"}),U=z,H=[],G=[],q=[],W=[],Y=!0===B?1:B||0,X="function"==typeof B?B:function(){return Y},Q=e.interrupted||t.interrupted,K=V[1!==r?"to":"from"];for(o in t.idLookup)f=t.alt[o]?kr(t,e,o):t.idLookup[o],l=f.element,p=e.idLookup[o],e.alt[o]&&l===p.element&&(e.alt[o].isVisible||!f.isVisible)&&(p=e.alt[o]),p?(c={t:l,b:p,a:f,sd:p.element===l?0:f.isVisible?1:-1},q.push(c),c.sd&&(c.sd<0&&(c.b=f,c.a=p),Q&&ur(c.b,j?Kn[j]:$n),O&&q.push(c.swap={t:p.element,b:c.b,a:c.a,sd:-c.sd,swap:c})),l._flip=p.element._flip=Bn?Bn.timeline:V):f.isVisible&&(q.push({t:l,b:ar(f,{isVisible:1}),a:f,sd:0,entering:1}),l._flip=Bn?Bn.timeline:V);(j&&(sr[j]||lr(j)).forEach((function(e){return z[e]=function(t){return q[t].a.props[e]}})),q.finalStates=d=[],m=function(){for(cr(q),Cr(!0),s=0;s<q.length;s++)c=q[s],v=c.a,g=c.b,!N||v.isDifferent(g)||c.entering?(l=c.t,P&&!(c.sd<0)&&s&&(v.matrix=we(l,!1,!1,!0)),g.isVisible&&v.isVisible?(c.sd<0?(u=new Pr(l,j,e.simple),xr(u,v,I,0,0,u),u.matrix=we(l,!1,!1,!0),u.css=c.b.css,c.a=v=u,O&&(l.style.opacity=Q?g.opacity:v.opacity),F&&W.push(l)):c.sd>0&&O&&(l.style.opacity=Q?v.opacity-g.opacity:"0"),xr(v,g,I,j)):g.isVisible!==v.isVisible&&(g.isVisible?v.isVisible||(g.css=v.css,G.push(g),q.splice(s--,1),S&&P&&xr(v,g,I,j)):(v.isVisible&&H.push(v),q.splice(s--,1))),I||(l.style.maxWidth=Math.max(v.width,g.width)+"px",l.style.maxHeight=Math.max(v.height,g.height)+"px",l.style.minWidth=Math.min(v.width,g.width)+"px",l.style.minHeight=Math.min(v.height,g.height)+"px"),P&&L&&l.classList.add(L)):q.splice(s--,1),d.push(v);var t;if(L&&(t=d.map((function(e){return e.element})),P&&t.forEach((function(e){return e.classList.remove(L)}))),Cr(!1),I?(z.scaleX=function(e){return q[e].a.scaleX},z.scaleY=function(e){return q[e].a.scaleY}):(z.width=function(e){return q[e].a.width+"px"},z.height=function(e){return q[e].a.height+"px"},z.autoRound=n.autoRound||!1),z.x=function(e){return q[e].a.x+"px"},z.y=function(e){return q[e].a.y+"px"},z.rotation=function(e){return q[e].a.rotation+(B?360*X(e,h[e],h):0)},z.skewX=function(e){return q[e].a.skewX},h=q.map((function(e){return e.t})),(R||0===R)&&(z.modifiers={zIndex:function(){return R}},z.zIndex=R,z.immediateRender=!1!==n.immediateRender),O&&(z.opacity=function(e){return q[e].sd<0?0:q[e].sd>0?q[e].a.opacity:"+=0"}),W.length){F=Fn.utils.distribute(F);var r=h.slice(W.length);z.stagger=function(e,t){return F(~W.indexOf(t)?h.indexOf(q[e].swap.t):e,t,r)}}if(Zn.forEach((function(e){return n[e]&&V.eventCallback(e,n[e],n[e+"Params"])})),A&&h.length)for(o in U=ar(z,rr),"scale"in A&&(A.scaleX=A.scaleY=A.scale,delete A.scale),A)(i=ar(A[o],ir))[o]=z[o],!("duration"in i)&&"duration"in z&&(i.duration=z.duration),i.stagger=z.stagger,K.call(V,h,i,0),delete U[o];(h.length||G.length||H.length)&&(L&&V.add((function(){return nr(t,L,V._zTime<0?"remove":"add")}),0)&&!C&&nr(t,L,"add"),h.length&&K.call(V,h,U,0)),wr(w,H,V),wr(x,G,V);var p=Bn&&Bn.timeline;p&&(p.add(V,0),Bn._final.push((function(){return dr(q,!b)}))),a=V.duration(),V.call((function(){var e=V.time()>=a;e&&!p&&dr(q,!b),L&&nr(t,L,e?"remove":"add")}))},k&&(S=q.filter((function(e){return!e.sd&&!e.a.isVisible&&e.b.isVisible})).map((function(e){return e.a.element}))),Bn)?(S&&(y=Bn._abs).push.apply(y,mr(q,S)),Bn._run.push(m)):(S&&vr(mr(q,S)),m());var J=Bn?Bn.timeline:V;return J.revert=function(){return Mr(J,1,1)},J},Mr=function(e,t,n){if(e&&e.progress()<1&&(!e.paused()||n))return t&&(!function e(t){t.vars.onInterrupt&&t.vars.onInterrupt.apply(t,t.vars.onInterruptParams||[]),t.getChildren(!0,!1,!0).forEach(e)}(e),t<2&&e.progress(1),e.kill()),!0},Dr=function(e){for(var t,n=e.idLookup={},r=e.alt={},i=e.elementStates,o=i.length;o--;)n[(t=i[o]).id]?r[t.id]=t:n[t.id]=t},Lr=function(){function e(e,t,n){if(this.props=t&&t.props,this.simple=!(!t||!t.simple),n)this.targets=br(e),this.elementStates=e,Dr(this);else{this.targets=On(e);var r=t&&(!1===t.kill||t.batch&&!t.kill);Bn&&!r&&Bn._kill.push(this),this.update(r||!!Bn)}}var t=e.prototype;return t.update=function(e){var t=this;return this.elementStates=this.targets.map((function(e){return new Pr(e,t.props,t.simple)})),Dr(this),this.interrupt(e),this.recordInlineStyles(),this},t.clear=function(){return this.targets.length=this.elementStates.length=0,Dr(this),this},t.fit=function(e,t,n){for(var r,i,o=cr(this.elementStates.slice(0),!1,!0),a=(e||this).idLookup,s=0;s<o.length;s++)r=o[s],n&&(r.matrix=we(r.element,!1,!1,!0)),(i=a[r.id])&&xr(r,i,t,!0,0,r),r.matrix=we(r.element,!1,!1,!0);return this},t.getProperty=function(e,t){var n=this.getElementState(e)||Xn;return(t in n?n:n.props||Xn)[t]},t.add=function(e){for(var t,n,r,i=e.targets.length,o=this.idLookup,a=this.alt;i--;)(r=o[(n=e.elementStates[i]).id])&&(n.element===r.element||a[n.id]&&a[n.id].element===n.element)?(t=this.elementStates.indexOf(n.element===r.element?r:a[n.id]),this.targets.splice(t,1,e.targets[i]),this.elementStates.splice(t,1,n)):(this.targets.push(e.targets[i]),this.elementStates.push(n));return e.interrupted&&(this.interrupted=!0),e.simple||(this.simple=!1),Dr(this),this},t.compare=function(e){var t,n,r,i,o,a,s,l,c=e.idLookup,u=this.idLookup,h=[],d=[],p=[],f=[],m=[],v=e.alt,g=this.alt,y=function(e,t,n){return(e.isVisible!==t.isVisible?e.isVisible?p:f:e.isVisible?d:h).push(n)&&m.push(n)},_=function(e,t,n){return m.indexOf(n)<0&&y(e,t,n)};for(r in c)o=v[r],a=g[r],i=(t=o?kr(e,this,r):c[r]).element,n=u[r],a?(l=n.isVisible||!a.isVisible&&i===n.element?n:a,(s=!o||t.isVisible||o.isVisible||l.element!==o.element?t:o).isVisible&&l.isVisible&&s.element!==l.element?((s.isDifferent(l)?d:h).push(s.element,l.element),m.push(s.element,l.element)):y(s,l,s.element),o&&s.element===o.element&&(o=c[r]),_(s.element!==n.element&&o?o:s,n,n.element),_(o&&o.element===a.element?o:s,a,a.element),o&&_(o,a.element===o.element?a:n,o.element)):(n?n.isDifferent(t)?y(t,n,i):h.push(i):p.push(i),o&&_(o,n,o.element));for(r in u)c[r]||(f.push(u[r].element),g[r]&&f.push(g[r].element));return{changed:d,unchanged:h,enter:p,leave:f}},t.recordInlineStyles=function(){for(var e=Kn[this.props]||$n,t=this.elementStates.length;t--;)ur(this.elementStates[t],e)},t.interrupt=function(e){var t=this,n=[];this.targets.forEach((function(r){var i=r._flip,o=Mr(i,e?0:1);e&&o&&n.indexOf(i)<0&&i.add((function(){return t.updateVisibility()})),o&&n.push(i)})),!e&&n.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!n.length)},t.updateVisibility=function(){this.elementStates.forEach((function(e){var t=e.element.getBoundingClientRect();e.isVisible=!!(t.width||t.height||t.top||t.left),e.uncache=1}))},t.getElementState=function(e){return this.elementStates[this.targets.indexOf(er(e))]},t.makeAbsolute=function(){return cr(this.elementStates.slice(0),!0,!0).map(fr)},e}(),Pr=function(){function e(e,t,n){this.element=e,this.update(t,n)}var t=e.prototype;return t.isDifferent=function(e){var t=this.bounds,n=e.bounds;return t.top!==n.top||t.left!==n.left||t.width!==n.width||t.height!==n.height||!this.matrix.equals(e.matrix)||this.opacity!==e.opacity||this.props&&e.props&&JSON.stringify(this.props)!==JSON.stringify(e.props)},t.update=function(e,t){var n,r,i=this.element,o=Fn.getProperty(i),a=Fn.core.getCache(i),s=i.getBoundingClientRect(),l=i.getBBox&&"function"==typeof i.getBBox&&"svg"!==i.nodeName.toLowerCase()&&i.getBBox(),c=t?new be(1,0,0,1,s.left+fe(),s.top+pe()):we(i,!1,!1,!0);this.getProp=o,this.element=i,this.id=((r=(n=i).getAttribute("data-flip-id"))||n.setAttribute("data-flip-id",r="auto-"+Hn++),r),this.matrix=c,this.cache=a,this.bounds=s,this.isVisible=!!(s.width||s.height||s.left||s.top),this.display=o("display"),this.position=o("position"),this.parent=i.parentNode,this.x=o("x"),this.y=o("y"),this.scaleX=a.scaleX,this.scaleY=a.scaleY,this.rotation=o("rotation"),this.skewX=o("skewX"),this.opacity=o("opacity"),this.width=l?l.width:zn(o("width","px"),.04),this.height=l?l.height:zn(o("height","px"),.04),e&&function(e,t){for(var n=Fn.getProperty(e.element,null,"native"),r=e.props={},i=t.length;i--;)r[t[i]]=(n(t[i])+"").trim();r.zIndex&&(r.zIndex=parseFloat(r.zIndex)||0)}(this,sr[e]||lr(e)),this.ctm=i.getCTM&&"svg"===i.nodeName.toLowerCase()&&ge(i).inverse(),this.simple=t||1===tr(c.a)&&!tr(c.b)&&!tr(c.c)&&1===tr(c.d),this.uncache=0},e}(),Rr=function(){function e(e,t){this.vars=e,this.batch=t,this.states=[],this.timeline=t.timeline}var t=e.prototype;return t.getStateById=function(e){for(var t=this.states.length;t--;)if(this.states[t].idLookup[e])return this.states[t]},t.kill=function(){this.batch.remove(this)},e}(),Ir=function(){function e(e){this.id=e,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new Lr,this.timeline=Fn.timeline()}var t=e.prototype;return t.add=function(e){var t=this.actions.filter((function(t){return t.vars===e}));return t.length?t[0]:(t=new Rr("function"==typeof e?{animate:e}:e,this),this.actions.push(t),t)},t.remove=function(e){var t=this.actions.indexOf(e);return t>=0&&this.actions.splice(t,1),this},t.getState=function(e){var t=this,n=Bn,r=Nn;return Bn=this,this.state.clear(),this._kill.length=0,this.actions.forEach((function(n){n.vars.getState&&(n.states.length=0,Nn=n,n.state=n.vars.getState(n)),e&&n.states.forEach((function(e){return t.state.add(e)}))})),Nn=r,Bn=n,this.killConflicts(),this},t.animate=function(){var e,t,n=this,r=Bn,i=this.timeline,o=this.actions.length;for(Bn=this,i.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach((function(e){e.vars.animate&&e.vars.animate(e);var t,n,r=e.vars.onEnter,i=e.vars.onLeave,o=e.targets;o&&o.length&&(r||i)&&(t=new Lr,e.states.forEach((function(e){return t.add(e)})),(n=t.compare(Or.getState(o))).enter.length&&r&&r(n.enter),n.leave.length&&i&&i(n.leave))})),vr(this._abs),this._run.forEach((function(e){return e()})),t=i.duration(),e=this._final.slice(0),i.add((function(){t<=i.time()&&(e.forEach((function(e){return e()})),Gn(n,"onComplete"))})),Bn=r;o--;)this.actions[o].vars.once&&this.actions[o].kill();return Gn(this,"onStart"),i.restart(),this},t.loadState=function(e){e||(e=function(){return 0});var t=[];return this.actions.forEach((function(n){if(n.vars.loadState){var r,i=function i(o){o&&(n.targets=o),~(r=t.indexOf(i))&&(t.splice(r,1),t.length||e())};t.push(i),n.vars.loadState(i)}})),t.length||e(),this},t.setState=function(){return this.actions.forEach((function(e){return e.targets=e.vars.setState&&e.vars.setState(e)})),this},t.killConflicts=function(e){return this.state.interrupt(e),this._kill.forEach((function(t){return t.interrupt(e)})),this},t.run=function(e,t){var n=this;return this!==Bn&&(e||this.getState(t),this.loadState((function(){n._killed||(n.setState(),n.animate())}))),this},t.clear=function(e){this.state.clear(),e||(this.actions.length=0)},t.getStateById=function(e){for(var t,n=this.actions.length;n--;)if(t=this.actions[n].getStateById(e))return t;return this.state.idLookup[e]&&this.state},t.kill=function(){this._killed=1,this.clear(),delete qn[this.id]},e}(),Or=function(){function e(){}return e.getState=function(t,n){var r=Sr(t,n);return Nn&&Nn.states.push(r),n&&n.batch&&e.batch(n.batch).state.add(r),r},e.from=function(e,t){return"clearProps"in(t=t||{})||(t.clearProps=!0),Tr(e,Sr(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,-1)},e.to=function(e,t){return Tr(e,Sr(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,1)},e.fromTo=function(e,t,n){return Tr(e,t,n)},e.fit=function(e,t,n){var r=n?ar(n,ir):{},i=n||r,o=i.absolute,a=i.scale,s=i.getVars,l=i.props,c=i.runBackwards,u=i.onComplete,h=i.simple,d=n&&n.fitChild&&er(n.fitChild),p=yr(t,l,h,e),f=yr(e,0,h,p),m=l?Kn[l]:$n,v=Fn.context();return l&&_r(r,p.props),ur(f,m),c&&("immediateRender"in r||(r.immediateRender=!0),r.onComplete=function(){hr(f),u&&u.apply(this,arguments)}),o&&fr(f,p),r=xr(f,p,a||d,l,d,r.duration||s?r:0),v&&!s&&v.add((function(){return function(){return hr(f)}})),s?r:r.duration?Fn.to(f.element,r):null},e.makeAbsolute=function(e,t){return(e instanceof Lr?e:new Lr(e,t)).makeAbsolute()},e.batch=function(e){return e||(e="default"),qn[e]||(qn[e]=new Ir(e))},e.killFlipsOf=function(e,t){(e instanceof Lr?e.targets:On(e)).forEach((function(e){return e&&Mr(e._flip,!1!==t?1:2)}))},e.isFlipping=function(t){var n=e.getByTarget(t);return!!n&&n.isActive()},e.getByTarget=function(e){return(er(e)||Xn)._flip},e.getElementState=function(e,t){return new Pr(er(e),t)},e.convertCoordinates=function(e,t,n){var r=we(t,!0,!0).multiply(we(e));return n?r.apply(n):r},e.register=function(e){if(jn="undefined"!=typeof document&&document.body){Fn=e,ue(jn),On=Fn.utils.toArray,Vn=Fn.core.getStyleSaver;var t=Fn.utils.snap(.1);zn=function(e,n){return t(parseFloat(e)+n)}}},e}();Or.version="3.12.5","undefined"!=typeof window&&window.gsap&&window.gsap.registerPlugin(Or);
/*!
 * MotionPathPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Fr,Br,Nr,jr,zr,Vr,Ur="x,translateX,left,marginLeft,xPercent".split(","),Hr="y,translateY,top,marginTop,yPercent".split(","),Gr=Math.PI/180,qr=function(e,t,n,r){for(var i=t.length,o=2===r?0:r,a=0;a<i;a++)e[o]=parseFloat(t[a][n]),2===r&&(e[o+1]=0),o+=2;return e},Wr=function(e,t,n){return parseFloat(e._gsap.get(e,t,n||"px"))||0},Yr=function(e){var t,n=e[0],r=e[1];for(t=2;t<e.length;t+=2)n=e[t]+=n,r=e[t+1]+=r},Xr=function(e,t,n,r,i,o,a,s,l){"cubic"===a.type?t=[t]:(!1!==a.fromCurrent&&t.unshift(Wr(n,r,s),i?Wr(n,i,l):0),a.relative&&Yr(t),t=[(i?U:V)(t,a.curviness)]);return t=o($r(t,n,a)),ei(e,n,r,t,"x",s),i&&ei(e,n,i,t,"y",l),I(t,a.resolution||(0===a.curviness?20:12))},Qr=function(e){return e},Kr=/[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,Jr=function(e,t,n){var r,i=we(e),o=0,a=0;return"svg"===(e.tagName+"").toLowerCase()?(r=e.viewBox.baseVal).width||(r={width:+e.getAttribute("width"),height:+e.getAttribute("height")}):r=t&&e.getBBox&&e.getBBox(),t&&"auto"!==t&&(o=t.push?t[0]*(r?r.width:e.offsetWidth||0):t.x,a=t.push?t[1]*(r?r.height:e.offsetHeight||0):t.y),n.apply(o||a?i.apply({x:o,y:a}):{x:i.e,y:i.f})},Zr=function(e,t,n,r){var i,o=we(e.parentNode,!0,!0),a=o.clone().multiply(we(t)),s=Jr(e,n,o),l=Jr(t,r,o),c=l.x,u=l.y;return a.e=a.f=0,"auto"===r&&t.getTotalLength&&"path"===t.tagName.toLowerCase()&&(i=t.getAttribute("d").match(Kr)||[],c+=(i=a.apply({x:+i[0],y:+i[1]})).x,u+=i.y),i&&(c-=(i=a.apply(t.getBBox())).x,u-=i.y),a.e=c-s.x,a.f=u-s.y,a},$r=function(e,t,n){var r,i,o,a=n.align,s=n.matrix,l=n.offsetX,c=n.offsetY,u=n.alignOrigin,h=e[0][0],d=e[0][1],p=Wr(t,"x"),f=Wr(t,"y");return e&&e.length?(a&&("self"===a||(r=jr(a)[0]||t)===t?N(e,1,0,0,1,p-h,f-d):(u&&!1!==u[2]?Fr.set(t,{transformOrigin:100*u[0]+"% "+100*u[1]+"%"}):u=[Wr(t,"xPercent")/-100,Wr(t,"yPercent")/-100],o=(i=Zr(t,r,u,"auto")).apply({x:h,y:d}),N(e,i.a,i.b,i.c,i.d,p+i.e-(o.x-i.e),f+i.f-(o.y-i.f)))),s?N(e,s.a,s.b,s.c,s.d,s.e,s.f):(l||c)&&N(e,1,0,0,1,l||0,c||0),e):C("M0,0L0,0")},ei=function(e,t,n,r,i,o){var a=t._gsap,s=a.harness,l=s&&s.aliases&&s.aliases[n],c=l&&l.indexOf(",")<0?l:n,u=e._pt=new Br(e._pt,t,c,0,0,Qr,0,a.set(t,c,e));u.u=Nr(a.get(t,c,o))||0,u.path=r,u.pp=i,e._props.push(c)},ti={version:"3.12.5",name:"motionPath",register:function(e,t,n){Nr=(Fr=e).utils.getUnit,jr=Fr.utils.toArray,zr=Fr.core.getStyleSaver,Vr=Fr.core.reverting||function(){},Br=n},init:function(e,t,n){if(!Fr)return console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),!1;"object"==typeof t&&!t.style&&t.path||(t={path:t});var r,i,o,a,s=[],l=t,c=l.path,u=l.autoRotate,h=l.unitX,d=l.unitY,p=l.x,f=l.y,m=c[0],v=(o=t.start,a="end"in t?t.end:1,function(e){return o||1!==a?P(e,o,a):e});if(this.rawPaths=s,this.target=e,this.tween=n,this.styles=zr&&zr(e,"transform"),(this.rotate=u||0===u)&&(this.rOffset=parseFloat(u)||0,this.radians=!!t.useRadians,this.rProp=t.rotation||"rotation",this.rSet=e._gsap.set(e,this.rProp,this),this.ru=Nr(e._gsap.get(e,this.rProp))||0),Array.isArray(c)&&!("closed"in c)&&"number"!=typeof m){for(i in m)!p&&~Ur.indexOf(i)?p=i:!f&&~Hr.indexOf(i)&&(f=i);for(i in p&&f?s.push(Xr(this,qr(qr([],c,p,0),c,f,1),e,p,f,v,t,h||Nr(c[0][p]),d||Nr(c[0][f]))):p=f=0,m)i!==p&&i!==f&&s.push(Xr(this,qr([],c,i,2),e,i,0,v,t,Nr(c[0][i])))}else I(r=v($r(C(t.path),e,t)),t.resolution),s.push(r),ei(this,e,t.x||"x",r,"x",t.unitX||"px"),ei(this,e,t.y||"y",r,"y",t.unitY||"px")},render:function(e,t){var n=t.rawPaths,r=n.length,i=t._pt;if(t.tween._time||!Vr()){for(e>1?e=1:e<0&&(e=0);r--;)B(n[r],e,!r&&t.rotate,n[r]);for(;i;)i.set(i.t,i.p,i.path[i.pp]+i.u,i.d,e),i=i._next;t.rotate&&t.rSet(t.target,t.rProp,n[0].angle*(t.radians?Gr:1)+t.rOffset+t.ru,t,e)}else t.styles.revert()},getLength:function(e){return I(C(e)).totalLength},sliceRawPath:P,getRawPath:C,pointsToSegment:U,stringToRawPath:z,rawPathToString:H,transformRawPath:N,getGlobalMatrix:we,getPositionOnPath:B,cacheRawPathMeasurements:I,convertToPath:function(e,t){return jr(e).map((function(e){return D(e,!1!==t)}))},convertCoordinates:function(e,t,n){var r=we(t,!0,!0).multiply(we(e));return n?r.apply(n):r},getAlignMatrix:Zr,getRelativePosition:function(e,t,n,r){var i=Zr(e,t,n,r);return{x:i.e,y:i.f}},arrayToRawPath:function(e,t){var n=qr(qr([],e,(t=t||{}).x||"x",0),e,t.y||"y",1);return t.relative&&Yr(n),["cubic"===t.type?n:U(n,t.curviness)]}};(Fr||"undefined"!=typeof window&&(Fr=window.gsap)&&Fr.registerPlugin&&Fr)&&Fr.registerPlugin(ti);var ni,ri,ii,oi,ai,si,li,ci,ui,hi=n(5),di=function(){return"undefined"!=typeof window},pi=function(){return ni||di()&&(ni=window.gsap)&&ni.registerPlugin&&ni},fi=function(e){return"function"==typeof e},mi=function(e){return console.warn(e)},vi=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],gi=function(e){return fi(oi[e])?oi[e]:oi.filters[e]},yi=function(e,t){var n,r,i=[],o=0,a=0;for(n=0;n<4;n++){for(r=0;r<5;r++)a=4===r?e[o+4]:0,i[o+r]=e[o]*t[r]+e[o+1]*t[r+5]+e[o+2]*t[r+10]+e[o+3]*t[r+15]+a;o+=5}return i},_i=function(e,t){var n=1-t,r=.212671*n,i=.71516*n,o=.072169*n;return yi([r+t,i,o,0,0,r,i+t,o,0,0,r,i,o+t,0,0,0,0,0,1,0],e)},bi=function(e,t,n){var r=ri(t),i=r[0]/255,o=r[1]/255,a=r[2]/255,s=1-n;return yi([s+n*i*.212671,n*i*.71516,n*i*.072169,0,0,n*o*.212671,s+n*o*.71516,n*o*.072169,0,0,n*a*.212671,n*a*.71516,s+n*a*.072169,0,0,0,0,0,1,0],e)},wi=function(e,t){t*=Math.PI/180;var n=Math.cos(t),r=Math.sin(t);return yi([.212671+.787329*n+-.212671*r,.71516+-.71516*n+-.71516*r,.072169+-.072169*n+.927831*r,0,0,.212671+-.212671*n+.143*r,.71516+.28484*n+.14*r,.072169+-.072169*n+-.283*r,0,0,.212671+-.212671*n+-.787329*r,.71516+-.71516*n+.71516*r,.072169+.927831*n+.072169*r,0,0,0,0,0,1,0,0,0,0,0,1],e)},xi=function(e,t){return yi([t,0,0,0,.5*(1-t),0,t,0,0,.5*(1-t),0,0,t,0,.5*(1-t),0,0,0,1,0],e)},Si=function(e,t){var n,r=gi(t),i=e.filters||[],o=i.length;for(r||mi(t+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(i[o]instanceof r)return i[o];return n=new r,"BlurFilter"===t&&(n.blur=0),i.push(n),e.filters=i,n},ki=function(e,t,n,r){t.add(n,e,n[e],r[e]),t._props.push(e)},Ai=function(e,t){var n=new(gi("ColorMatrixFilter"));return n.matrix=t,n.brightness(e,!0),n.matrix},Ei={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},Ci=function(e,t,n){var r,i,o,a=Si(e,"ColorMatrixFilter"),s=e._gsColorMatrixFilter=e._gsColorMatrixFilter||function(e){var t,n={};for(t in e)n[t]=e[t];return n}(Ei),l=t.combineCMF&&!("colorMatrixFilter"in t&&!t.colorMatrixFilter);o=a.matrix,t.resolution&&(a.resolution=t.resolution),t.matrix&&t.matrix.length===o.length?(i=t.matrix,1!==s.contrast&&ki("contrast",n,s,Ei),s.hue&&ki("hue",n,s,Ei),1!==s.brightness&&ki("brightness",n,s,Ei),s.colorizeAmount&&(ki("colorize",n,s,Ei),ki("colorizeAmount",n,s,Ei)),1!==s.saturation&&ki("saturation",n,s,Ei)):(i=vi.slice(),null!=t.contrast?(i=xi(i,+t.contrast),ki("contrast",n,s,t)):1!==s.contrast&&(l?i=xi(i,s.contrast):ki("contrast",n,s,Ei)),null!=t.hue?(i=wi(i,+t.hue),ki("hue",n,s,t)):s.hue&&(l?i=wi(i,s.hue):ki("hue",n,s,Ei)),null!=t.brightness?(i=Ai(+t.brightness,i),ki("brightness",n,s,t)):1!==s.brightness&&(l?i=Ai(s.brightness,i):ki("brightness",n,s,Ei)),null!=t.colorize?(t.colorizeAmount="colorizeAmount"in t?+t.colorizeAmount:1,i=bi(i,t.colorize,t.colorizeAmount),ki("colorize",n,s,t),ki("colorizeAmount",n,s,t)):s.colorizeAmount&&(l?i=bi(i,s.colorize,s.colorizeAmount):(ki("colorize",n,s,Ei),ki("colorizeAmount",n,s,Ei))),null!=t.saturation?(i=_i(i,+t.saturation),ki("saturation",n,s,t)):1!==s.saturation&&(l?i=_i(i,s.saturation):ki("saturation",n,s,Ei))),r=i.length;for(;--r>-1;)i[r]!==o[r]&&n.add(o,r,o[r],i[r],"colorMatrixFilter");n._props.push("colorMatrixFilter")},Ti=function(e,t){var n=t.t,r=t.p,i=t.color;(0,t.set)(n,r,i[0]<<16|i[1]<<8|i[2])},Mi=function(e,t){var n=t.g;n&&(n.dirty++,n.clearDirty++)},Di=function(e,t){t.t.visible=!!t.t.alpha},Li=function(e,t,n,r){var i=e[t],o=ri(fi(i)?e[t.indexOf("set")||!fi(e["get"+t.substr(3)])?t:"get"+t.substr(3)]():i),a=ri(n);r._pt=new ai(r._pt,e,t,0,0,Ti,{t:e,p:t,color:o,set:si(e,t)}),r.add(o,0,o[0],a[0]),r.add(o,1,o[1],a[1]),r.add(o,2,o[2],a[2])},Pi={tint:1,lineColor:1,fillColor:1},Ri="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),Ii={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},Oi={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Fi=Math.PI/180,Bi=function(e){return"string"==typeof e},Ni=function(e){return Bi(e)&&"="===e.charAt(1)?e.substr(0,2)+parseFloat(e.substr(2))*Fi:e*Fi},ji=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e5*(t.s+t.c*e))/1e5,t)},zi=function(e,t,n,r,i,o){var a,s,l=360*(o?Fi:1),c=Bi(i),u=c&&"="===i.charAt(1)?+(i.charAt(0)+"1"):0,h=parseFloat(u?i.substr(2):i)*(o?Fi:1),d=u?h*u:h-r,p=r+d;return c&&("short"===(a=i.split("_")[1])&&(d%=l)!==d%(l/2)&&(d+=d<0?l:-l),"cw"===a&&d<0?d=(d+1e10*l)%l-~~(d/l)*l:"ccw"===a&&d>0&&(d=(d-1e10*l)%l-~~(d/l)*l)),e._pt=s=new ai(e._pt,t,n,r,d,ji),s.e=p,s},Vi=function(){ii||(ni=pi(),oi=ii=oi||di()&&window.PIXI,li=oi&&oi.VERSION&&"4"===oi.VERSION.charAt(0),ri=function(e){return ni.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};
/*!
 * PixiPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/for(ci=0;ci<Ri.length;ci++)ui=Ri[ci],Ii[ui+"X"]=ui,Ii[ui+"Y"]=ui;var Ui={version:"3.12.5",name:"pixi",register:function(e,t,n){ni=e,ai=n,si=t.getSetter,Vi()},headless:!0,registerPIXI:function(e){oi=e},init:function(e,t,n,r,i){if(oi||Vi(),!oi)return mi("PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var o,a,s,l,c,u,h,d,p;for(u in t){if(o=Ii[u],s=t[u],o)a=~u.charAt(u.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(e[o],a,e[o][a],"skew"===o?Ni(s):s,0,0,0,0,0,1);else if("scale"===u||"anchor"===u||"pivot"===u||"tileScale"===u)this.add(e[u],"x",e[u].x,s),this.add(e[u],"y",e[u].y,s);else if("rotation"===u||"angle"===u)zi(this,e,u,e[u],s,"rotation"===u);else if(Oi[u])l||(Ci(e,t.colorMatrixFilter||t,this),l=!0);else if("blur"===u||"blurX"===u||"blurY"===u||"blurPadding"===u){if(c=Si(e,"BlurFilter"),this.add(c,u,c[u],s),0!==t.blurPadding)for(h=t.blurPadding||2*Math.max(c[u],s),d=e.filters.length;--d>-1;)e.filters[d].padding=Math.max(e.filters[d].padding,h)}else if(Pi[u])if(("lineColor"===u||"fillColor"===u)&&e instanceof oi.Graphics)for(p=(e.geometry||e).graphicsData,this._pt=new ai(this._pt,e,u,0,0,Mi,{g:e.geometry||e}),d=p.length;--d>-1;)Li(li?p[d]:p[d][u.substr(0,4)+"Style"],li?u:"color",s,this);else Li(e,u,s,this);else"autoAlpha"===u?(this._pt=new ai(this._pt,e,"visible",0,0,Di),this.add(e,"alpha",e.alpha,s),this._props.push("alpha","visible")):"resolution"!==u&&this.add(e,u,"get",s);this._props.push(u)}}};pi()&&ni.registerPlugin(Ui);
/*!
 * ScrollToPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
var Hi,Gi,qi,Wi,Yi,Xi,Qi,Ki,Ji=function(){return"undefined"!=typeof window},Zi=function(){return Hi||Ji()&&(Hi=window.gsap)&&Hi.registerPlugin&&Hi},$i=function(e){return"string"==typeof e},eo=function(e){return"function"==typeof e},to=function(e,t){var n="x"===t?"Width":"Height",r="scroll"+n,i="client"+n;return e===qi||e===Wi||e===Yi?Math.max(Wi[r],Yi[r])-(qi["inner"+n]||Wi[i]||Yi[i]):e[r]-e["offset"+n]},no=function(e,t){var n="scroll"+("x"===t?"Left":"Top");return e===qi&&(null!=e.pageXOffset?n="page"+t.toUpperCase()+"Offset":e=null!=Wi[n]?Wi:Yi),function(){return e[n]}},ro=function(e,t){if(!(e=Xi(e)[0])||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var n=e.getBoundingClientRect(),r=!t||t===qi||t===Yi,i=r?{top:Wi.clientTop-(qi.pageYOffset||Wi.scrollTop||Yi.scrollTop||0),left:Wi.clientLeft-(qi.pageXOffset||Wi.scrollLeft||Yi.scrollLeft||0)}:t.getBoundingClientRect(),o={x:n.left-i.left,y:n.top-i.top};return!r&&t&&(o.x+=no(t,"x")(),o.y+=no(t,"y")()),o},io=function(e,t,n,r,i){return isNaN(e)||"object"==typeof e?$i(e)&&"="===e.charAt(1)?parseFloat(e.substr(2))*("-"===e.charAt(0)?-1:1)+r-i:"max"===e?to(t,n)-i:Math.min(to(t,n),ro(e,t)[n]-i):parseFloat(e)-i},oo=function(){Hi=Zi(),Ji()&&Hi&&"undefined"!=typeof document&&document.body&&(qi=window,Yi=document.body,Wi=document.documentElement,Xi=Hi.utils.toArray,Hi.config({autoKillThreshold:7}),Qi=Hi.config(),Gi=1)},ao={version:"3.12.5",name:"scrollTo",rawVars:1,register:function(e){Hi=e,oo()},init:function(e,t,n,r,i){Gi||oo();var o=Hi.getProperty(e,"scrollSnapType");this.isWin=e===qi,this.target=e,this.tween=n,t=function(e,t,n,r){if(eo(e)&&(e=e(t,n,r)),"object"!=typeof e)return $i(e)&&"max"!==e&&"="!==e.charAt(1)?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var i,o={};for(i in e)o[i]="onAutoKill"!==i&&eo(e[i])?e[i](t,n,r):e[i];return o}(t,r,e,i),this.vars=t,this.autoKill=!!t.autoKill,this.getX=no(e,"x"),this.getY=no(e,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),Ki||(Ki=Hi.core.globals().ScrollTrigger),"smooth"===Hi.getProperty(e,"scrollBehavior")&&Hi.set(e,{scrollBehavior:"auto"}),o&&"none"!==o&&(this.snap=1,this.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),null!=t.x?(this.add(this,"x",this.x,io(t.x,e,"x",this.x,t.offsetX||0),r,i),this._props.push("scrollTo_x")):this.skipX=1,null!=t.y?(this.add(this,"y",this.y,io(t.y,e,"y",this.y,t.offsetY||0),r,i),this._props.push("scrollTo_y")):this.skipY=1},render:function(e,t){for(var n,r,i,o,a,s=t._pt,l=t.target,c=t.tween,u=t.autoKill,h=t.xPrev,d=t.yPrev,p=t.isWin,f=t.snap,m=t.snapInline;s;)s.r(e,s.d),s=s._next;n=p||!t.skipX?t.getX():h,i=(r=p||!t.skipY?t.getY():d)-d,o=n-h,a=Qi.autoKillThreshold,t.x<0&&(t.x=0),t.y<0&&(t.y=0),u&&(!t.skipX&&(o>a||o<-a)&&n<to(l,"x")&&(t.skipX=1),!t.skipY&&(i>a||i<-a)&&r<to(l,"y")&&(t.skipY=1),t.skipX&&t.skipY&&(c.kill(),t.vars.onAutoKill&&t.vars.onAutoKill.apply(c,t.vars.onAutoKillParams||[]))),p?qi.scrollTo(t.skipX?n:t.x,t.skipY?r:t.y):(t.skipY||(l.scrollTop=t.y),t.skipX||(l.scrollLeft=t.x)),!f||1!==e&&0!==e||(r=l.scrollTop,n=l.scrollLeft,m?l.style.scrollSnapType=m:l.style.removeProperty("scroll-snap-type"),l.scrollTop=r+1,l.scrollLeft=n+1,l.scrollTop=r,l.scrollLeft=n),t.xPrev=t.x,t.yPrev=t.y,Ki&&Ki.update()},kill:function(e){var t="scrollTo"===e,n=this._props.indexOf(e);return(t||"scrollTo_x"===e)&&(this.skipX=1),(t||"scrollTo_y"===e)&&(this.skipY=1),n>-1&&this._props.splice(n,1),!this._props.length}};ao.max=to,ao.getOffset=ro,ao.buildGetter=no,Zi()&&Hi.registerPlugin(ao);var so=n(89),lo=/(?:^\s+|\s+$)/g,co=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;
/*!
 * strings: 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/function uo(e,t,n,r){for(var i,o=e.firstChild,a=[];o;)3===o.nodeType?(i=(o.nodeValue+"").replace(/^\n+/g,""),r||(i=i.replace(/\s+/g," ")),a.push.apply(a,ho(i,t,n,r))):"br"===(o.nodeName+"").toLowerCase()?a[a.length-1]+="<br>":a.push(o.outerHTML),o=o.nextSibling;for(i=a.length;i--;)"&"===a[i]&&a.splice(i,1,"&amp;");return a}function ho(e,t,n,r){if(e+="",n&&(e=e.trim?e.trim():e.replace(lo,"")),t&&""!==t)return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var i,o,a=[],s=e.length,l=0;l<s;l++)((o=e.charAt(l)).charCodeAt(0)>=55296&&o.charCodeAt(0)<=56319||e.charCodeAt(l+1)>=65024&&e.charCodeAt(l+1)<=65039)&&(i=((e.substr(l,12).split(co)||[])[1]||"").length||2,o=e.substr(l,i),a.emoji=1,l+=i-1),a.push(">"===o?"&gt;":"<"===o?"&lt;":!r||" "!==o||" "!==e.charAt(l-1)&&" "!==e.charAt(l+1)?o:"&nbsp;");return a}
/*!
 * TextPlugin 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var po,fo,mo={version:"3.12.5",name:"text",init:function(e,t,n){"object"!=typeof t&&(t={value:t});var r,i,o,a,s,l,c,u,h=e.nodeName.toUpperCase(),d=t,p=d.newClass,f=d.oldClass,m=d.preserveSpaces,v=d.rtl,g=this.delimiter=t.delimiter||"",y=this.fillChar=t.fillChar||(t.padSpace?"&nbsp;":"");if(this.svg=e.getBBox&&("TEXT"===h||"TSPAN"===h),!("innerHTML"in e)&&!this.svg)return!1;if(this.target=e,"value"in t){for(o=uo(e,g,!1,m),fo||(fo=document.createElement("div")),fo.innerHTML=t.value,i=uo(fo,g,!1,m),this.from=n._from,!this.from&&!v||v&&this.from||(h=o,o=i,i=h),this.hasClass=!(!p&&!f),this.newClass=v?f:p,this.oldClass=v?p:f,r=(h=o.length-i.length)<0?o:i,h<0&&(h=-h);--h>-1;)r.push(y);if("diff"===t.type){for(a=0,s=[],l=[],c="",h=0;h<i.length;h++)(u=i[h])===o[h]?c+=u:(s[a]=c+u,l[a++]=c+o[h],c="");i=s,o=l,c&&(i.push(c),o.push(c))}t.speed&&n.duration(Math.min(.05/t.speed*r.length,t.maxDuration||9999)),this.rtl=v,this.original=o,this.text=i,this._props.push("text")}else this.text=this.original=[""]},render:function(e,t){e>1?e=1:e<0&&(e=0),t.from&&(e=1-e);var n,r,i,o=t.text,a=t.hasClass,s=t.newClass,l=t.oldClass,c=t.delimiter,u=t.target,h=t.fillChar,d=t.original,p=t.rtl,f=o.length,m=(p?1-e:e)*f+.5|0;a&&e?(r=l&&m!==f,i=((n=s&&m)?"<span class='"+s+"'>":"")+o.slice(0,m).join(c)+(n?"</span>":"")+(r?"<span class='"+l+"'>":"")+c+d.slice(m).join(c)+(r?"</span>":"")):i=o.slice(0,m).join(c)+c+d.slice(m).join(c),t.svg?u.textContent=i:u.innerHTML="&nbsp;"===h&&~i.indexOf("  ")?i.split("  ").join("&nbsp;&nbsp;"):i}};mo.splitInnerHTML=uo,mo.emojiSafeSplit=ho,mo.getText=function e(t){var n=t.nodeType,r="";if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=e(t)}else if(3===n||4===n)return t.nodeValue;return r},(po||"undefined"!=typeof window&&(po=window.gsap)&&po.registerPlugin&&po)&&po.registerPlugin(mo);var vo=r.T.registerPlugin(i.b)||r.T,go=vo.core.Tween},function(e,t,n){"use strict";n.r(t);var r=n(0),i="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",o=(r.ShaderMaterial,r.ShaderMaterial,Number(r.REVISION.replace(/\D+/g,""))),a=o>=152,s=new Map([[r.LinearEncoding,"srgb-linear"],[r.sRGBEncoding,"srgb"]]),l=new Map([["srgb-linear",r.LinearEncoding],["srgb",r.sRGBEncoding]]);
/**
 * postprocessing v6.32.2 build Sat Jul 01 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rschen
 * @license Zlib
 */function c(e){return null===e?null:a?e.outputColorSpace:s.get(e.outputEncoding)}function u(e,t){null!==e&&(a?e.colorSpace=t:e.encoding=l.get(t))}function h(e,t){null!==e&&null!==t&&(a?t.colorSpace=e.colorSpace:t.encoding=e.encoding)}function d(e){return o<154?e.replace("colorspace_fragment","encodings_fragment"):e}function p(e,t,n){return e*(t-n)-t}function f(e,t,n){return Math.min(Math.max((e+t)/(t-n),0),1)}r.ShaderMaterial,r.ShaderMaterial;var m=9,v=0,g=1,y=2,_=3,b=4,w=5,x=6,S=7,k=8,A=9,E=10,C=11,T=12,M=13,D=14,L=15,P=16,R=17,I=18,O=19,F=20,B=21,N=22,j=23,z=24,V=25,U=26,H=27,G=28,q=29,W=30,Y=31,X=32,Q=0,K=0,J=1,Z=2,$=2,ee=0,te=1,ne=2,re={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},ie=2,oe="lut.scaleup",ae=0,se=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],le=(r.ShaderMaterial,class extends r.ShaderMaterial{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new r.Uniform(null),opacity:new r.Uniform(1)},blending:r.NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:"#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <colorspace_fragment>\n#include <dithering_fragment>\n}",vertexShader:i}),this.fragmentShader=d(this.fragmentShader)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}}),ce=(r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,class extends r.ShaderMaterial{constructor(e,t,n,i,o=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:r.REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new r.Uniform(null),depthBuffer:new r.Uniform(null),resolution:new r.Uniform(new r.Vector2),texelSize:new r.Uniform(new r.Vector2),cameraNear:new r.Uniform(.3),cameraFar:new r.Uniform(1e3),aspect:new r.Uniform(1),time:new r.Uniform(0)},blending:r.NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:o}),e&&this.setShaderParts(e),t&&this.setDefines(t),n&&this.setUniforms(n),this.copyCameraSettings(i)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=r.BasicDepthPacking){this.depthBuffer=e,this.depthPacking=t}setShaderData(e){this.setShaderParts(e.shaderParts),this.setDefines(e.defines),this.setUniforms(e.uniforms),this.setExtensions(e.extensions)}setShaderParts(e){return this.fragmentShader="#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <colorspace_fragment>\n#endif\n#include <dithering_fragment>\n}".replace(re.FRAGMENT_HEAD,e.get(re.FRAGMENT_HEAD)||"").replace(re.FRAGMENT_MAIN_UV,e.get(re.FRAGMENT_MAIN_UV)||"").replace(re.FRAGMENT_MAIN_IMAGE,e.get(re.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}".replace(re.VERTEX_HEAD,e.get(re.VERTEX_HEAD)||"").replace(re.VERTEX_MAIN_SUPPORT,e.get(re.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=d(this.fragmentShader),this.needsUpdate=!0,this}setDefines(e){for(const t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(const t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(const t of e)this.extensions[t]=!0;return this}get encodeOutput(){return void 0!==this.defines.ENCODE_OUTPUT}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){this.copyCameraSettings(e)}copyCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof r.PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){const n=this.uniforms;n.resolution.value.set(e,t),n.texelSize.value.set(1/e,1/t),n.aspect.value=e/t}static get Section(){return re}}),ue=(r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,r.ShaderMaterial,new r.Camera),he=null;var de=class e{constructor(e="Pass",t=new r.Scene,n=ue){this.name=e,this.renderer=null,this.scene=t,this.camera=n,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const t=this.fullscreenMaterial;null!==t&&(t.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return null!==this.screen?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;null!==t?t.material=e:(t=new r.Mesh(function(){if(null===he){const e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);void 0!==(he=new r.BufferGeometry).setAttribute?(he.setAttribute("position",new r.BufferAttribute(e,3)),he.setAttribute("uv",new r.BufferAttribute(t,2))):(he.addAttribute("position",new r.BufferAttribute(e,3)),he.addAttribute("uv",new r.BufferAttribute(t,2)))}return he}(),e),t.frustumCulled=!1,null===this.scene&&(this.scene=new r.Scene),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=r.BasicDepthPacking){}render(e,t,n,r,i){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,n){}dispose(){for(const t of Object.keys(this)){const n=this[t];(n instanceof r.WebGLRenderTarget||n instanceof r.Material||n instanceof r.Texture||n instanceof e)&&this[t].dispose()}}},pe=class extends de{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new le,this.needsSwap=!1,this.renderTarget=e,void 0===e&&(this.renderTarget=new r.WebGLRenderTarget(1,1,{minFilter:r.LinearFilter,magFilter:r.LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,n,r,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,n){void 0!==n&&(this.renderTarget.texture.type=n,n!==r.UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":"srgb"===c(e)&&u(this.renderTarget.texture,"srgb"))}},fe=class extends de{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,n,r,i){const o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},me=new r.Color,ve=class extends de{constructor(e=!0,t=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,n){this.color=e,this.depth=t,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,n,r,i){const o=this.overrideClearColor,a=this.overrideClearAlpha,s=e.getClearAlpha(),l=null!==o,c=a>=0;l?(e.getClearColor(me),e.setClearColor(o,c?a:s)):c&&e.setClearAlpha(a),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),l?e.setClearColor(me,s):c&&e.setClearAlpha(s)}},ge=(r.EventDispatcher,!1),ye=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let t;if(e.material.flatShading)switch(e.material.side){case r.DoubleSide:t=this.materialsFlatShadedDoubleSide;break;case r.BackSide:t=this.materialsFlatShadedBackSide;break;default:t=this.materialsFlatShaded}else switch(e.material.side){case r.DoubleSide:t=this.materialsDoubleSide;break;case r.BackSide:t=this.materialsBackSide;break;default:t=this.materials}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=t[2]:e.isInstancedMesh?e.material=t[1]:e.material=t[0],++this.meshCount}}}cloneMaterial(e){if(!(e instanceof r.ShaderMaterial))return e.clone();const t=e.uniforms,n=new Map;for(const e in t){const r=t[e].value;r.isRenderTargetTexture&&(t[e].value=null,n.set(e,r))}const i=e.clone();for(const e of n)t[e[0]].value=e[1],i.uniforms[e[0]].value=e[1];return i}setMaterial(e){if(this.disposeMaterials(),this.material=e,null!==e){const t=this.materials=[this.cloneMaterial(e),this.cloneMaterial(e),this.cloneMaterial(e)];for(const n of t)n.uniforms=Object.assign({},e.uniforms),n.side=r.FrontSide;t[2].skinning=!0,this.materialsBackSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.side=r.BackSide,n}),this.materialsDoubleSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.side=r.DoubleSide,n}),this.materialsFlatShaded=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=r.BackSide,n}),this.materialsFlatShadedDoubleSide=t.map(t=>{const n=this.cloneMaterial(t);return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=r.DoubleSide,n})}}render(e,t,n){const r=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,ge){const r=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,n);for(const e of r)e[0].material=e[1];this.meshCount!==r.size&&r.clear()}else{const r=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,n),t.overrideMaterial=r}e.shadowMap.enabled=r}disposeMaterials(){if(null!==this.material){const e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return ge}static set workaroundEnabled(e){ge=e}},_e=class extends de{constructor(e,t,n=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new ve,this.overrideMaterialManager=null===n?null:new ye(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){const e=this.overrideMaterialManager;return null!==e?e.material:null}set overrideMaterial(e){const t=this.overrideMaterialManager;null!==e?null!==t?t.setMaterial(e):this.overrideMaterialManager=new ye(e):null!==t&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,n,r,i){const o=this.scene,a=this.camera,s=this.selection,l=a.layers.mask,c=o.background,u=e.shadowMap.autoUpdate,h=this.renderToScreen?null:t;null!==s&&a.layers.set(s.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||null!==this.clearPass.overrideClearColor)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(h),null!==this.overrideMaterialManager?this.overrideMaterialManager.render(e,o,a):e.render(o,a),a.layers.mask=l,o.background=c,e.shadowMap.autoUpdate=u}};new Float32Array([255/256/256**3,255/256/65536,255/256/256,255/256]);function be(e,t,n){for(const r of t){const t="$1"+e+r.charAt(0).toUpperCase()+r.slice(1),i=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const e of n.entries())null!==e[1]&&n.set(e[0],e[1].replace(i,t))}}function we(e,t,n){let r=t.getFragmentShader(),i=t.getVertexShader();const o=void 0!==r&&/mainImage/.test(r),a=void 0!==r&&/mainUv/.test(r);if(n.attributes|=t.getAttributes(),void 0===r)throw new Error(`Missing fragment shader (${t.name})`);if(a&&0!=(n.attributes&ne))throw new Error(`Effects that transform UVs are incompatible with convolution effects (${t.name})`);if(!o&&!a)throw new Error(`Could not find mainImage or mainUv function (${t.name})`);{const s=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,l=n.shaderParts;let c=l.get(re.FRAGMENT_HEAD)||"",u=l.get(re.FRAGMENT_MAIN_UV)||"",h=l.get(re.FRAGMENT_MAIN_IMAGE)||"",d=l.get(re.VERTEX_HEAD)||"",p=l.get(re.VERTEX_MAIN_SUPPORT)||"";const f=new Set,m=new Set;if(a&&(u+=`\t${e}MainUv(UV);\n`,n.uvTransformation=!0),null!==i&&/mainSupport/.test(i)){const t=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);p+=`\t${e}MainSupport(`,p+=t?"vUv);\n":");\n";for(const e of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const t of e[1].split(/\s*,\s*/))n.varyings.add(t),f.add(t),m.add(t);for(const e of i.matchAll(s))m.add(e[1])}for(const e of r.matchAll(s))m.add(e[1]);for(const e of t.defines.keys())m.add(e.replace(/\([\w\s,]*\)/g,""));for(const e of t.uniforms.keys())m.add(e);m.delete("while"),m.delete("for"),m.delete("if"),t.uniforms.forEach((t,r)=>n.uniforms.set(e+r.charAt(0).toUpperCase()+r.slice(1),t)),t.defines.forEach((t,r)=>n.defines.set(e+r.charAt(0).toUpperCase()+r.slice(1),t));const v=new Map([["fragment",r],["vertex",i]]);be(e,m,n.defines),be(e,m,v),r=v.get("fragment"),i=v.get("vertex");const g=t.blendMode;if(n.blendModes.set(g.blendFunction,g),o){null!==t.inputColorSpace&&t.inputColorSpace!==n.colorSpace&&(h+="srgb"===t.inputColorSpace?"color0 = LinearTosRGB(color0);\n\t":"color0 = sRGBToLinear(color0);\n\t"),""!==t.outputColorSpace?n.colorSpace=t.outputColorSpace:null!==t.inputColorSpace&&(n.colorSpace=t.inputColorSpace);const i=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;h+=e+"MainImage(color0, UV, ",0!=(n.attributes&te)&&i.test(r)&&(h+="depth, ",n.readDepth=!0),h+="color1);\n\t";const o=e+"BlendOpacity";n.uniforms.set(o,g.opacity),h+=`color0 = blend${g.blendFunction}(color0, color1, ${o});\n\n\t`,c+=`uniform float ${o};\n\n`}if(c+=r+"\n",null!==i&&(d+=i+"\n"),l.set(re.FRAGMENT_HEAD,c),l.set(re.FRAGMENT_MAIN_UV,u),l.set(re.FRAGMENT_MAIN_IMAGE,h),l.set(re.VERTEX_HEAD,d),l.set(re.VERTEX_MAIN_SUPPORT,p),null!==t.extensions)for(const e of t.extensions)n.extensions.add(e)}}var xe=class extends de{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new ce(null,null,null,e),this.listener=e=>this.handleEvent(e),this.effects=[],this.setEffects(t),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(e){for(const t of this.effects)t.mainScene=e}set mainCamera(e){this.fullscreenMaterial.copyCameraSettings(e);for(const t of this.effects)t.mainCamera=e}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){const t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}setEffects(e){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=e.sort((e,t)=>t.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const e=new ke;let t=0;for(const n of this.effects)if(n.blendMode.blendFunction===A)e.attributes|=n.getAttributes()&te;else{if(0!=(e.attributes&n.getAttributes()&ne))throw new Error(`Convolution effects cannot be merged (${n.name})`);we("e"+t++,n,e)}let n=e.shaderParts.get(re.FRAGMENT_HEAD),r=e.shaderParts.get(re.FRAGMENT_MAIN_IMAGE),i=e.shaderParts.get(re.FRAGMENT_MAIN_UV);const o=/\bblend\b/g;for(const t of e.blendModes.values())n+=t.getShaderCode().replace(o,"blend"+t.blendFunction)+"\n";0!=(e.attributes&te)?(e.readDepth&&(r="float depth = readDepth(UV);\n\n\t"+r),this.needsDepthTexture=null===this.getDepthTexture()):this.needsDepthTexture=!1,"srgb"===e.colorSpace&&(r+="color0 = sRGBToLinear(color0);\n\t"),e.uvTransformation?(i="vec2 transformedUv = vUv;\n"+i,e.defines.set("UV","transformedUv")):e.defines.set("UV","vUv"),e.shaderParts.set(re.FRAGMENT_HEAD,n),e.shaderParts.set(re.FRAGMENT_MAIN_IMAGE,r),e.shaderParts.set(re.FRAGMENT_MAIN_UV,i);for(const[t,n]of e.shaderParts)null!==n&&e.shaderParts.set(t,n.trim().replace(/^#/,"\n#"));this.skipRendering=0===t,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(e)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=r.BasicDepthPacking){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(const n of this.effects)n.setDepthTexture(e,t)}render(e,t,n,r,i){for(const n of this.effects)n.update(e,t,r);if(!this.skipRendering||this.renderToScreen){const i=this.fullscreenMaterial;i.inputBuffer=t.texture,i.time+=r*this.timeScale,e.setRenderTarget(this.renderToScreen?null:n),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(const n of this.effects)n.setSize(e,t)}initialize(e,t,n){this.renderer=e;for(const r of this.effects)r.initialize(e,t,n);this.updateMaterial(),void 0!==n&&n!==r.UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const e of this.effects)e.removeEventListener("change",this.listener),e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile()}}},Se=class extends de{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new ve(!1,!1,!0),this.inverse=!1}set mainScene(e){this.scene=e}set mainCamera(e){this.camera=e}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,n,r,i){const o=e.getContext(),a=e.state.buffers,s=this.scene,l=this.camera,c=this.clearPass,u=this.inverted?0:1,h=1-u;a.color.setMask(!1),a.depth.setMask(!1),a.color.setLocked(!0),a.depth.setLocked(!0),a.stencil.setTest(!0),a.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.stencil.setFunc(o.ALWAYS,u,4294967295),a.stencil.setClear(h),a.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?c.render(e,null):(c.render(e,t),c.render(e,n))),this.renderToScreen?(e.setRenderTarget(null),e.render(s,l)):(e.setRenderTarget(t),e.render(s,l),e.setRenderTarget(n),e.render(s,l)),a.color.setLocked(!1),a.depth.setLocked(!1),a.stencil.setLocked(!1),a.stencil.setFunc(o.EQUAL,1,4294967295),a.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.stencil.setLocked(!0)}},ke=class{constructor(){this.shaderParts=new Map([[re.FRAGMENT_HEAD,null],[re.FRAGMENT_MAIN_UV,null],[re.FRAGMENT_MAIN_IMAGE,null],[re.VERTEX_HEAD,null],[re.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=ee,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace="srgb-linear"}};function Ae(e){let t;if(0===e)t=new Float64Array(0);else if(1===e)t=new Float64Array([1]);else if(e>1){let n=new Float64Array(e),r=new Float64Array(e);for(let i=1;i<=e;++i){for(let e=0;e<i;++e)r[e]=0===e||e===i-1?1:n[e-1]+n[e];t=r,r=n,n=t}}return t}var Ee=class{constructor(e,t=2){this.weights=null,this.offsets=null,this.linearWeights=null,this.linearOffsets=null,this.generate(e,t)}get steps(){return null===this.offsets?0:this.offsets.length}get linearSteps(){return null===this.linearOffsets?0:this.linearOffsets.length}generate(e,t){if(e<3||e>1020)throw new Error("The kernel size must be in the range [3, 1020]");const n=e+2*t,r=t>0?Ae(n).slice(t,-t):Ae(n),i=Math.floor((r.length-1)/2),o=r.reduce((e,t)=>e+t,0),a=r.slice(i),s=[...Array(i+1).keys()],l=new Float64Array(Math.floor(s.length/2)),c=new Float64Array(l.length);l[0]=a[0]/o;for(let e=1,t=1,n=s.length-1;e<n;e+=2,++t){const n=s[e],r=s[e+1],i=a[e],u=a[e+1],h=i+u,d=(n*i+r*u)/h;l[t]=h/o,c[t]=d}for(let e=0,t=a.length,n=1/o;e<t;++e)a[e]*=n;const u=2*(l.reduce((e,t)=>e+t,0)-.5*l[0]);if(0!==u)for(let e=0,t=l.length,n=1/u;e<t;++e)l[e]*=n;this.offsets=s,this.weights=a,this.linearOffsets=c,this.linearWeights=l}},Ce=(Set,new Map([[v,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}"],[g,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}"],[y,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}"],[_,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[b,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}"],[w,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}"],[x,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}"],[S,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}"],[k,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}"],[A,null],[E,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}"],[C,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}"],[T,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}"],[M,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}"],[D,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}"],[L,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}"],[P,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}"],[R,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}"],[I,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}"],[O,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}"],[F,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[B,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}"],[N,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}"],[j,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}"],[z,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}"],[V,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}"],[U,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}"],[H,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}"],[G,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}"],[q,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}"],[W,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}"],[Y,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}"],[X,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}"]])),Te=class extends r.EventDispatcher{constructor(e,t=1){super(),this._blendFunction=e,this.opacity=new r.Uniform(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this._blendFunction}set blendFunction(e){this._blendFunction=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return Ce.get(this.blendFunction)}},Me=class extends r.EventDispatcher{constructor(e,t,{attributes:n=ee,blendFunction:r=j,defines:i=new Map,uniforms:o=new Map,extensions:a=null,vertexShader:s=null}={}){super(),this.name=e,this.renderer=null,this.attributes=n,this.fragmentShader=t,this.vertexShader=s,this.defines=i,this.uniforms=o,this.extensions=a,this.blendMode=new Te(r),this.blendMode.addEventListener("change",e=>this.setChanged()),this._inputColorSpace="srgb-linear",this._outputColorSpace=""}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(e){this._inputColorSpace=e,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e,this.setChanged()}set mainScene(e){}set mainCamera(e){}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=r.BasicDepthPacking){}update(e,t,n){}setSize(e,t){}initialize(e,t,n){}dispose(){for(const e of Object.keys(this)){const t=this[e];(t instanceof r.WebGLRenderTarget||t instanceof r.Material||t instanceof r.Texture||t instanceof de)&&this[e].dispose()}}},De=class extends Me{constructor({blendFunction:e=W,brightness:t=0,contrast:n=0}={}){super("BrightnessContrastEffect","uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",{blendFunction:e,uniforms:new Map([["brightness",new r.Uniform(t)],["contrast",new r.Uniform(n)]])}),this.inputColorSpace="srgb"}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(){return this.contrast}setContrast(e){this.contrast=e}},Le=class extends Me{constructor(e){super("ColorAverageEffect","void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",{blendFunction:e})}};r.DataTexture;new r.Vector3,new r.Matrix4;var Pe=class extends Me{constructor({blendFunction:e=W,hue:t=0,saturation:n=0}={}){super("HueSaturationEffect","uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",{blendFunction:e,uniforms:new Map([["hue",new r.Uniform(new r.Vector3)],["saturation",new r.Uniform(n)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){const e=this.uniforms.get("hue").value;return Math.acos((3*e.x-1)/2)}set hue(e){const t=Math.sin(e),n=Math.cos(e);this.uniforms.get("hue").value.set((2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}};function Re(e,t,n){const r=document.createElement("canvas"),i=r.getContext("2d");if(r.width=e,r.height=t,n instanceof Image)i.drawImage(n,0,0);else{const r=i.createImageData(e,t);r.data.set(n),i.putImageData(r,0,0)}return r}var Ie=class e{constructor(e=0,t=0,n=null){this.width=e,this.height=t,this.data=n}toCanvas(){return"undefined"==typeof document?null:Re(this.width,this.height,this.data)}static from(t){const{width:n,height:r}=t;let i;if(t instanceof Image){const e=Re(n,r,t);if(null!==e){i=e.getContext("2d").getImageData(0,0,n,r).data}}else i=t.data;return new e(n,r,i)}},Oe=new r.Color,Fe=class e extends r.Data3DTexture{constructor(e,t){super(e,t,t,t),this.type=r.FloatType,this.format=r.RGBAFormat,this.minFilter=r.LinearFilter,this.magFilter=r.LinearFilter,this.wrapS=r.ClampToEdgeWrapping,this.wrapT=r.ClampToEdgeWrapping,this.wrapR=r.ClampToEdgeWrapping,this.unpackAlignment=1,this.needsUpdate=!0,u(this,"srgb-linear"),this.domainMin=new r.Vector3(0,0,0),this.domainMax=new r.Vector3(1,1,1)}get isLookupTexture3D(){return!0}scaleUp(t,n=!0){const r=this.image;let i;return i=t<=r.width?Promise.reject(new Error("The target size must be greater than the current size")):new Promise((i,o)=>{const a=URL.createObjectURL(new Blob(['"use strict";(()=>{var O={SCALE_UP:"lut.scaleup"};var _=[new Float32Array(3),new Float32Array(3)],n=[new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3)],Z=[[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1])],[new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1])]];function d(a,t,r,m){let i=r[0]-t[0],e=r[1]-t[1],y=r[2]-t[2],h=a[0]-t[0],A=a[1]-t[1],w=a[2]-t[2],c=e*w-y*A,l=y*h-i*w,x=i*A-e*h,u=Math.sqrt(c*c+l*l+x*x),b=u*.5,s=c/u,F=l/u,f=x/u,p=-(a[0]*s+a[1]*F+a[2]*f),M=m[0]*s+m[1]*F+m[2]*f;return Math.abs(M+p)*b/3}function V(a,t,r,m,i,e){let y=(r+m*t+i*t*t)*4;e[0]=a[y+0],e[1]=a[y+1],e[2]=a[y+2]}function k(a,t,r,m,i,e){let y=r*(t-1),h=m*(t-1),A=i*(t-1),w=Math.floor(y),c=Math.floor(h),l=Math.floor(A),x=Math.ceil(y),u=Math.ceil(h),b=Math.ceil(A),s=y-w,F=h-c,f=A-l;if(w===y&&c===h&&l===A)V(a,t,y,h,A,e);else{let p;s>=F&&F>=f?p=Z[0]:s>=f&&f>=F?p=Z[1]:f>=s&&s>=F?p=Z[2]:F>=s&&s>=f?p=Z[3]:F>=f&&f>=s?p=Z[4]:f>=F&&F>=s&&(p=Z[5]);let[M,g,X,Y]=p,P=_[0];P[0]=s,P[1]=F,P[2]=f;let o=_[1],L=x-w,S=u-c,U=b-l;o[0]=L*M[0]+w,o[1]=S*M[1]+c,o[2]=U*M[2]+l,V(a,t,o[0],o[1],o[2],n[0]),o[0]=L*g[0]+w,o[1]=S*g[1]+c,o[2]=U*g[2]+l,V(a,t,o[0],o[1],o[2],n[1]),o[0]=L*X[0]+w,o[1]=S*X[1]+c,o[2]=U*X[2]+l,V(a,t,o[0],o[1],o[2],n[2]),o[0]=L*Y[0]+w,o[1]=S*Y[1]+c,o[2]=U*Y[2]+l,V(a,t,o[0],o[1],o[2],n[3]);let T=d(g,X,Y,P)*6,q=d(M,X,Y,P)*6,C=d(M,g,Y,P)*6,E=d(M,g,X,P)*6;n[0][0]*=T,n[0][1]*=T,n[0][2]*=T,n[1][0]*=q,n[1][1]*=q,n[1][2]*=q,n[2][0]*=C,n[2][1]*=C,n[2][2]*=C,n[3][0]*=E,n[3][1]*=E,n[3][2]*=E,e[0]=n[0][0]+n[1][0]+n[2][0]+n[3][0],e[1]=n[0][1]+n[1][1]+n[2][1]+n[3][1],e[2]=n[0][2]+n[1][2]+n[2][2]+n[3][2]}}var v=class{static expand(t,r){let m=Math.cbrt(t.length/4),i=new Float32Array(3),e=new t.constructor(r**3*4),y=t instanceof Uint8Array?255:1,h=r**2,A=1/(r-1);for(let w=0;w<r;++w)for(let c=0;c<r;++c)for(let l=0;l<r;++l){let x=l*A,u=c*A,b=w*A,s=Math.round(l+c*r+w*h)*4;k(t,m,x,u,b,i),e[s+0]=i[0],e[s+1]=i[1],e[s+2]=i[2],e[s+3]=y}return e}};self.addEventListener("message",a=>{let t=a.data,r=t.data;switch(t.operation){case O.SCALE_UP:r=v.expand(r,t.size);break}postMessage(r,[r.buffer]),close()});})();\n'],{type:"text/javascript"})),s=new Worker(a);s.addEventListener("error",e=>o(e.error)),s.addEventListener("message",n=>{const r=new e(n.data,t);h(this,r),r.type=this.type,r.name=this.name,URL.revokeObjectURL(a),i(r)});const l=n?[r.data.buffer]:[];s.postMessage({operation:oe,data:r.data,size:t},l)}),i}applyLUT(e){const t=this.image,n=e.image,i=Math.min(t.width,t.height,t.depth);if(i!==Math.min(n.width,n.height,n.depth))console.error("Size mismatch");else if(e.type!==r.FloatType||this.type!==r.FloatType)console.error("Both LUTs must be FloatType textures");else if(e.format!==r.RGBAFormat||this.format!==r.RGBAFormat)console.error("Both LUTs must be RGBA textures");else{const e=t.data,r=n.data,o=i,a=o**2,s=o-1;for(let t=0,n=o**3;t<n;++t){const n=4*t,i=e[n+0]*s,l=e[n+1]*s,c=e[n+2]*s,u=4*Math.round(i+l*o+c*a);e[n+0]=r[u+0],e[n+1]=r[u+1],e[n+2]=r[u+2]}this.needsUpdate=!0}return this}convertToUint8(){if(this.type===r.FloatType){const e=this.image.data,t=new Uint8Array(e.length);for(let n=0,r=e.length;n<r;++n)t[n]=255*e[n]+.5;this.image.data=t,this.type=r.UnsignedByteType,this.needsUpdate=!0}return this}convertToFloat(){if(this.type===r.UnsignedByteType){const e=this.image.data,t=new Float32Array(e.length);for(let n=0,r=e.length;n<r;++n)t[n]=e[n]/255;this.image.data=t,this.type=r.FloatType,this.needsUpdate=!0}return this}convertToRGBA(){return console.warn("LookupTexture","convertToRGBA() is deprecated, LUTs are now RGBA by default"),this}convertLinearToSRGB(){const e=this.image.data;if(this.type===r.FloatType){for(let t=0,n=e.length;t<n;t+=4)Oe.fromArray(e,t).convertLinearToSRGB().toArray(e,t);u(this,"srgb"),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}convertSRGBToLinear(){const e=this.image.data;if(this.type===r.FloatType){for(let t=0,n=e.length;t<n;t+=4)Oe.fromArray(e,t).convertSRGBToLinear().toArray(e,t);u(this,"srgb-linear"),this.needsUpdate=!0}else console.error("Color space conversion requires FloatType data");return this}toDataTexture(){const e=this.image.width,t=this.image.height*this.image.depth,n=new r.DataTexture(this.image.data,e,t);return n.name=this.name,n.type=this.type,n.format=this.format,n.minFilter=r.LinearFilter,n.magFilter=r.LinearFilter,n.wrapS=this.wrapS,n.wrapT=this.wrapT,n.generateMipmaps=!1,n.needsUpdate=!0,h(this,n),n}static from(t){const n=t.image,{width:r,height:i}=n,o=Math.min(r,i);let a;if(n instanceof Image){const e=Ie.from(n).data;if(r>i){a=new Uint8Array(e.length);for(let t=0;t<o;++t)for(let n=0;n<o;++n)for(let r=0;r<o;++r){const i=4*(r+t*o+n*o*o),s=4*(r+n*o+t*o*o);a[s+0]=e[i+0],a[s+1]=e[i+1],a[s+2]=e[i+2],a[s+3]=e[i+3]}}else a=new Uint8Array(e.buffer)}else a=n.data.slice();const s=new e(a,o);return s.type=t.type,s.name=t.name,h(t,s),s}static createNeutral(t){const n=new Float32Array(t**3*4),r=t**2,i=1/(t-1);for(let e=0;e<t;++e)for(let o=0;o<t;++o)for(let a=0;a<t;++a){const s=4*(e+o*t+a*r);n[s+0]=e*i,n[s+1]=o*i,n[s+2]=a*i,n[s+3]=1}const o=new e(n,t);return o.name="neutral",o}};new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array(3),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([1,0,0]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([1,0,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([1,1,0]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,1,0]),new Float32Array([0,1,1]),new Float32Array([1,1,1]),new Float32Array([0,0,0]),new Float32Array([0,0,1]),new Float32Array([0,1,1]),new Float32Array([1,1,1]);new Float32Array(2),new Float32Array(2),new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);Ne(0,0,0,0),new Float32Array([0,0,0,0]),Ne(0,0,0,1),new Float32Array([0,0,0,1]),Ne(0,0,1,0),new Float32Array([0,0,1,0]),Ne(0,0,1,1),new Float32Array([0,0,1,1]),Ne(0,1,0,0),new Float32Array([0,1,0,0]),Ne(0,1,0,1),new Float32Array([0,1,0,1]),Ne(0,1,1,0),new Float32Array([0,1,1,0]),Ne(0,1,1,1),new Float32Array([0,1,1,1]),Ne(1,0,0,0),new Float32Array([1,0,0,0]),Ne(1,0,0,1),new Float32Array([1,0,0,1]),Ne(1,0,1,0),new Float32Array([1,0,1,0]),Ne(1,0,1,1),new Float32Array([1,0,1,1]),Ne(1,1,0,0),new Float32Array([1,1,0,0]),Ne(1,1,0,1),new Float32Array([1,1,0,1]),Ne(1,1,1,0),new Float32Array([1,1,1,0]),Ne(1,1,1,1),new Float32Array([1,1,1,1]);function Be(e,t,n){return e+(t-e)*n}function Ne(e,t,n,r){const i=Be(e,t,.75),o=Be(n,r,.75);return Be(i,o,.875)}Math.PI,new r.Vector3,new r.Vector3;var je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC";r.Loader,r.Loader,r.Loader;class Ve{constructor(){}ambientLight(){return new r.AmbientLight("#FFFFFF",1)}pointLight(){const e=new r.PointLight;return e.position.set(10,10,10),e}directionalLight(e,t,n,i,o){const a=new r.Object3D;a.position.copy(o),e.add(a);const s=new r.DirectionalLight(t,n);return s.position.copy(i),s.target=a,s}}class Ue extends r.Loader{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new Xe(e)})),this.register((function(e){return new tt(e)})),this.register((function(e){return new nt(e)})),this.register((function(e){return new Ke(e)})),this.register((function(e){return new Je(e)})),this.register((function(e){return new Ze(e)})),this.register((function(e){return new $e(e)})),this.register((function(e){return new Ye(e)})),this.register((function(e){return new et(e)})),this.register((function(e){return new Qe(e)})),this.register((function(e){return new qe(e)})),this.register((function(e){return new rt(e)})),this.register((function(e){return new it(e)}))}load(e,t,n,i){const o=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:r.LoaderUtils.extractUrlBase(e),this.manager.itemStart(e);const s=function(t){i?i(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},l=new r.FileLoader(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,(function(n){try{o.parse(n,a,(function(n){t(n),o.manager.itemEnd(e)}),s)}catch(e){s(e)}}),n,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,i){let o;const a={},s={};if("string"==typeof e)o=JSON.parse(e);else if(e instanceof ArrayBuffer){if(r.LoaderUtils.decodeText(new Uint8Array(e,0,4))===ot){try{a[Ge.KHR_BINARY_GLTF]=new lt(e)}catch(e){return void(i&&i(e))}o=JSON.parse(a[Ge.KHR_BINARY_GLTF].content)}else o=JSON.parse(r.LoaderUtils.decodeText(new Uint8Array(e)))}else o=e;if(void 0===o.asset||o.asset.version[0]<2)return void(i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Rt(o,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let e=0;e<this.pluginCallbacks.length;e++){const t=this.pluginCallbacks[e](l);s[t.name]=t,a[t.name]=!0}if(o.extensionsUsed)for(let e=0;e<o.extensionsUsed.length;++e){const t=o.extensionsUsed[e],n=o.extensionsRequired||[];switch(t){case Ge.KHR_MATERIALS_UNLIT:a[t]=new We;break;case Ge.KHR_DRACO_MESH_COMPRESSION:a[t]=new ct(o,this.dracoLoader);break;case Ge.KHR_TEXTURE_TRANSFORM:a[t]=new ut;break;case Ge.KHR_MESH_QUANTIZATION:a[t]=new ht;break;default:n.indexOf(t)>=0&&void 0===s[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}l.setExtensions(a),l.setPlugins(s),l.parse(n,i)}parseAsync(e,t){const n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}function He(){let e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}const Ge={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class qe{constructor(e){this.parser=e,this.name=Ge.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&e._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let i=t.cache.get(n);if(i)return i;const o=t.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let s;const l=new r.Color(16777215);void 0!==a.color&&l.fromArray(a.color);const c=void 0!==a.range?a.range:0;switch(a.type){case"directional":s=new r.DirectionalLight(l),s.target.position.set(0,0,-1),s.add(s.target);break;case"point":s=new r.PointLight(l),s.distance=c;break;case"spot":s=new r.SpotLight(l),s.distance=c,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,s.angle=a.spot.outerConeAngle,s.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,s.target.position.set(0,0,-1),s.add(s.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+a.type)}return s.position.set(0,0,0),s.decay=2,Ct(s,a),void 0!==a.intensity&&(s.intensity=a.intensity),s.name=t.createUniqueName(a.name||"light_"+e),i=Promise.resolve(s),t.cache.add(n,i),i}getDependency(e,t){if("light"===e)return this._loadLight(t)}createNodeAttachment(e){const t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}class We{constructor(){this.name=Ge.KHR_MATERIALS_UNLIT}getMaterialType(){return r.MeshBasicMaterial}extendParams(e,t,n){const i=[];e.color=new r.Color(1,1,1),e.opacity=1;const o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const t=o.baseColorFactor;e.color.fromArray(t),e.opacity=t[3]}void 0!==o.baseColorTexture&&i.push(n.assignTexture(e,"map",o.baseColorTexture,r.sRGBEncoding))}return Promise.all(i)}}class Ye{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}class Xe{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const e=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new r.Vector2(e,e)}return Promise.all(o)}}class Qe{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.iridescenceFactor&&(t.iridescence=o.iridescenceFactor),void 0!==o.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),void 0!==o.iridescenceIor&&(t.iridescenceIOR=o.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==o.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),void 0!==o.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),void 0!==o.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(i)}}class Ke{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_SHEEN}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];t.sheenColor=new r.Color(0,0,0),t.sheenRoughness=0,t.sheen=1;const a=i.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&o.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,r.sRGBEncoding)),void 0!==a.sheenRoughnessTexture&&o.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(o)}}class Je{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)}}class Ze{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_VOLUME}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&o.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;const s=a.attenuationColor||[1,1,1];return t.attenuationColor=new r.Color(s[0],s[1],s[2]),Promise.all(o)}}class $e{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_IOR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class et{constructor(e){this.parser=e,this.name=Ge.KHR_MATERIALS_SPECULAR}getMaterialType(e){const t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?r.MeshPhysicalMaterial:null}extendMaterialParams(e,t){const n=this.parser,i=n.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],a=i.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&o.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));const s=a.specularColorFactor||[1,1,1];return t.specularColor=new r.Color(s[0],s[1],s[2]),void 0!==a.specularColorTexture&&o.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,r.sRGBEncoding)),Promise.all(o)}}class tt{constructor(e){this.parser=e,this.name=Ge.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,o)}}class nt{constructor(e){this.parser=e,this.name=Ge.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;const o=i.extensions[t],a=r.images[o.source];let s=n.textureLoader;if(a.uri){const e=n.options.manager.getHandler(a.uri);null!==e&&(s=e)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,o.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}class rt{constructor(e){this.name=Ge.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const e=n.extensions[this.name],r=this.parser.getDependency("buffer",e.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then((function(t){const n=e.byteOffset||0,r=e.byteLength||0,o=e.count,a=e.byteStride,s=new Uint8Array(t,n,r);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(o,a,s,e.mode,e.filter).then((function(e){return e.buffer})):i.ready.then((function(){const t=new ArrayBuffer(o*a);return i.decodeGltfBuffer(new Uint8Array(t),o,a,s,e.mode,e.filter),t}))}))}return null}}class it{constructor(e){this.name=Ge.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,n=t.nodes[e];if(!n.extensions||!n.extensions[this.name]||void 0===n.mesh)return null;const i=t.meshes[n.mesh];for(const e of i.primitives)if(e.mode!==mt.TRIANGLES&&e.mode!==mt.TRIANGLE_STRIP&&e.mode!==mt.TRIANGLE_FAN&&void 0!==e.mode)return null;const o=n.extensions[this.name].attributes,a=[],s={};for(const e in o)a.push(this.parser.getDependency("accessor",o[e]).then(t=>(s[e]=t,s[e])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(e=>{const t=e.pop(),n=t.isGroup?t.children:[t],i=e[0].count,o=[];for(const e of n){const t=new r.Matrix4,n=new r.Vector3,a=new r.Quaternion,l=new r.Vector3(1,1,1),c=new r.InstancedMesh(e.geometry,e.material,i);for(let e=0;e<i;e++)s.TRANSLATION&&n.fromBufferAttribute(s.TRANSLATION,e),s.ROTATION&&a.fromBufferAttribute(s.ROTATION,e),s.SCALE&&l.fromBufferAttribute(s.SCALE,e),c.setMatrixAt(e,t.compose(n,a,l));for(const t in s)"TRANSLATION"!==t&&"ROTATION"!==t&&"SCALE"!==t&&e.geometry.setAttribute(t,s[t]);r.Object3D.prototype.copy.call(c,e),c.frustumCulled=!1,this.parser.assignFinalMaterial(c),o.push(c)}return t.isGroup?(t.clear(),t.add(...o),t):o[0]}))}}const ot="glTF",at=1313821514,st=5130562;class lt{constructor(e){this.name=Ge.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:r.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==ot)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,i=new DataView(e,12);let o=0;for(;o<n;){const t=i.getUint32(o,!0);o+=4;const n=i.getUint32(o,!0);if(o+=4,n===at){const n=new Uint8Array(e,12+o,t);this.content=r.LoaderUtils.decodeText(n)}else if(n===st){const n=12+o;this.body=e.slice(n,n+t)}o+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class ct{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Ge.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},l={};for(const e in o){const t=bt[e]||e.toLowerCase();a[t]=o[e]}for(const t in e.attributes){const r=bt[t]||t.toLowerCase();if(void 0!==o[t]){const i=n.accessors[e.attributes[t]],o=vt[i.componentType];l[r]=o.name,s[r]=!0===i.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(const t in e.attributes){const n=e.attributes[t],r=s[t];void 0!==r&&(n.normalized=r)}t(e)}),a,l)}))}))}}class ut{constructor(){this.name=Ge.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class ht{constructor(){this.name=Ge.KHR_MESH_QUANTIZATION}}class dt extends r.Interpolant{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r;for(let e=0;e!==r;e++)t[e]=n[i+e];return t}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=r-t,u=(n-t)/c,h=u*u,d=h*u,p=e*l,f=p-l,m=-2*d+3*h,v=d-h,g=1-m,y=v-h+u;for(let e=0;e!==a;e++){const t=o[f+e+a],n=o[f+e+s]*c,r=o[p+e+a],l=o[p+e]*c;i[e]=g*t+y*n+m*r+v*l}return i}}const pt=new r.Quaternion;class ft extends dt{interpolate_(e,t,n,r){const i=super.interpolate_(e,t,n,r);return pt.fromArray(i).normalize().toArray(i),i}}const mt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},vt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},gt={9728:r.NearestFilter,9729:r.LinearFilter,9984:r.NearestMipmapNearestFilter,9985:r.LinearMipmapNearestFilter,9986:r.NearestMipmapLinearFilter,9987:r.LinearMipmapLinearFilter},yt={33071:r.ClampToEdgeWrapping,33648:r.MirroredRepeatWrapping,10497:r.RepeatWrapping},_t={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},bt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},wt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},xt={CUBICSPLINE:void 0,LINEAR:r.InterpolateLinear,STEP:r.InterpolateDiscrete},St="OPAQUE",kt="MASK",At="BLEND";function Et(e,t,n){for(const r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function Ct(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Tt(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(let n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(e.morphTargetInfluences.length===n.length){e.morphTargetDictionary={};for(let t=0,r=n.length;t<r;t++)e.morphTargetDictionary[n[t]]=t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Mt(e){const t=e.extensions&&e.extensions[Ge.KHR_DRACO_MESH_COMPRESSION];let n;return n=t?"draco:"+t.bufferView+":"+t.indices+":"+Dt(t.attributes):e.indices+":"+Dt(e.attributes)+":"+e.mode,n}function Dt(e){let t="";const n=Object.keys(e).sort();for(let r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function Lt(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const Pt=new r.Matrix4;class Rt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new He,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let n=!1,i=!1,o=-1;"undefined"!=typeof navigator&&(n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||n||i&&o<98?this.textureLoader=new r.TextureLoader(this.options.manager):this.textureLoader=new r.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new r.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){const o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};Et(i,o,r),Ct(o,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=t.length;n<r;n++){const r=t[n].joints;for(let t=0,n=r.length;t<n;t++)e[r[t]].isBone=!0}for(let t=0,r=e.length;t<r;t++){const r=e[t];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(n[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),i=(e,t)=>{const n=this.associations.get(e);null!=n&&this.associations.set(t,n);for(const[n,r]of e.children.entries())i(r,t.children[n])};return i(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i&&n.push(i)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[Ge.KHR_BINARY_GLTF].body);const i=this.options;return new Promise((function(e,o){n.load(r.LoaderUtils.resolveURL(t.uri,i.path),e,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){const n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}loadAccessor(e){const t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse){const e=_t[i.type],t=vt[i.componentType],n=!0===i.normalized,o=new t(i.count*e);return Promise.resolve(new r.BufferAttribute(o,e,n))}const o=[];return void 0!==i.bufferView?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),void 0!==i.sparse&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then((function(e){const o=e[0],a=_t[i.type],s=vt[i.componentType],l=s.BYTES_PER_ELEMENT,c=l*a,u=i.byteOffset||0,h=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,d=!0===i.normalized;let p,f;if(h&&h!==c){const e=Math.floor(u/h),n="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+e+":"+i.count;let c=t.cache.get(n);c||(p=new s(o,e*h,i.count*h/l),c=new r.InterleavedBuffer(p,h/l),t.cache.add(n,c)),f=new r.InterleavedBufferAttribute(c,a,u%h/l,d)}else p=null===o?new s(i.count*a):new s(o,u,i.count*a),f=new r.BufferAttribute(p,a,d);if(void 0!==i.sparse){const t=_t.SCALAR,n=vt[i.sparse.indices.componentType],l=i.sparse.indices.byteOffset||0,c=i.sparse.values.byteOffset||0,u=new n(e[1],l,i.sparse.count*t),h=new s(e[2],c,i.sparse.count*a);null!==o&&(f=new r.BufferAttribute(f.array.slice(),f.itemSize,f.normalized));for(let e=0,t=u.length;e<t;e++){const t=u[e];if(f.setX(t,h[e*a]),a>=2&&f.setY(t,h[e*a+1]),a>=3&&f.setZ(t,h[e*a+2]),a>=4&&f.setW(t,h[e*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return f}))}loadTexture(e){const t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r];let o=this.textureLoader;if(i.uri){const e=n.manager.getHandler(i.uri);null!==e&&(o=e)}return this.loadTextureImage(e,r,o)}loadTextureImage(e,t,n){const i=this,o=this.json,a=o.textures[e],s=o.images[t],l=(s.uri||s.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||s.name||"";const n=(o.samplers||{})[a.sampler]||{};return t.magFilter=gt[n.magFilter]||r.LinearFilter,t.minFilter=gt[n.minFilter]||r.LinearMipmapLinearFilter,t.wrapS=yt[n.wrapS]||r.RepeatWrapping,t.wrapT=yt[n.wrapT]||r.RepeatWrapping,i.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[l]=c,c}loadImageSource(e,t){const n=this,i=this.json,o=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(e=>e.clone());const a=i.images[e],s=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(void 0!==a.bufferView)l=n.getDependency("bufferView",a.bufferView).then((function(e){c=!0;const t=new Blob([e],{type:a.mimeType});return l=s.createObjectURL(t),l}));else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then((function(e){return new Promise((function(n,i){let a=n;!0===t.isImageBitmapLoader&&(a=function(e){const t=new r.Texture(e);t.needsUpdate=!0,n(t)}),t.load(r.LoaderUtils.resolveURL(e,o.path),a,void 0,i)}))})).then((function(e){var t;return!0===c&&s.revokeObjectURL(l),e.userData.mimeType=a.mimeType||((t=a.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),e}));return this.sourceCache[e]=u,u}assignTexture(e,t,n,r){const i=this;return this.getDependency("texture",n.index).then((function(o){if(!o)return null;if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[Ge.KHR_TEXTURE_TRANSFORM]){const e=void 0!==n.extensions?n.extensions[Ge.KHR_TEXTURE_TRANSFORM]:void 0;if(e){const t=i.associations.get(o);o=i.extensions[Ge.KHR_TEXTURE_TRANSFORM].extendTexture(o,e),i.associations.set(o,t)}}return void 0!==r&&(o.encoding=r),e[t]=o,o}))}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const i=void 0===t.attributes.tangent,o=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){const e="PointsMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r.PointsMaterial,r.Material.prototype.copy.call(t,n),t.color.copy(n.color),t.map=n.map,t.sizeAttenuation=!1,this.cache.add(e,t)),n=t}else if(e.isLine){const e="LineBasicMaterial:"+n.uuid;let t=this.cache.get(e);t||(t=new r.LineBasicMaterial,r.Material.prototype.copy.call(t,n),t.color.copy(n.color),this.cache.add(e,t)),n=t}if(i||o||a){let e="ClonedMaterial:"+n.uuid+":";i&&(e+="derivative-tangents:"),o&&(e+="vertex-colors:"),a&&(e+="flat-shading:");let t=this.cache.get(e);t||(t=n.clone(),o&&(t.vertexColors=!0),a&&(t.flatShading=!0),i&&(t.normalScale&&(t.normalScale.y*=-1),t.clearcoatNormalScale&&(t.clearcoatNormalScale.y*=-1)),this.cache.add(e,t),this.associations.set(t,this.associations.get(n))),n=t}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return r.MeshStandardMaterial}loadMaterial(e){const t=this,n=this.json,i=this.extensions,o=n.materials[e];let a;const s={},l=[];if((o.extensions||{})[Ge.KHR_MATERIALS_UNLIT]){const e=i[Ge.KHR_MATERIALS_UNLIT];a=e.getMaterialType(),l.push(e.extendParams(s,o,t))}else{const n=o.pbrMetallicRoughness||{};if(s.color=new r.Color(1,1,1),s.opacity=1,Array.isArray(n.baseColorFactor)){const e=n.baseColorFactor;s.color.fromArray(e),s.opacity=e[3]}void 0!==n.baseColorTexture&&l.push(t.assignTexture(s,"map",n.baseColorTexture,r.sRGBEncoding)),s.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,s.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(l.push(t.assignTexture(s,"metalnessMap",n.metallicRoughnessTexture)),l.push(t.assignTexture(s,"roughnessMap",n.metallicRoughnessTexture))),a=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))}!0===o.doubleSided&&(s.side=r.DoubleSide);const c=o.alphaMode||St;if(c===At?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,c===kt&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&a!==r.MeshBasicMaterial&&(l.push(t.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new r.Vector2(1,1),void 0!==o.normalTexture.scale)){const e=o.normalTexture.scale;s.normalScale.set(e,e)}return void 0!==o.occlusionTexture&&a!==r.MeshBasicMaterial&&(l.push(t.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&a!==r.MeshBasicMaterial&&(s.emissive=(new r.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&a!==r.MeshBasicMaterial&&l.push(t.assignTexture(s,"emissiveMap",o.emissiveTexture,r.sRGBEncoding)),Promise.all(l).then((function(){const n=new a(s);return o.name&&(n.name=o.name),Ct(n,o),t.associations.set(n,{materials:e}),o.extensions&&Et(i,n,o),n}))}createUniqueName(e){const t=r.PropertyBinding.sanitizeNodeName(e||"");let n=t;for(let e=1;this.nodeNamesUsed[n];++e)n=t+"_"+e;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,i=this.primitiveCache;function o(e){return n[Ge.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return It(n,e,t)}))}const a=[];for(let n=0,s=e.length;n<s;n++){const s=e[n],l=Mt(s),c=i[l];if(c)a.push(c.promise);else{let e;e=s.extensions&&s.extensions[Ge.KHR_DRACO_MESH_COMPRESSION]?o(s):It(new r.BufferGeometry,s,t),i[l]={primitive:s,promise:e},a.push(e)}}return Promise.all(a)}loadMesh(e){const t=this,n=this.json,i=this.extensions,o=n.meshes[e],a=o.primitives,s=[];for(let e=0,t=a.length;e<t;e++){const t=void 0===a[e].material?(void 0===(l=this.cache).DefaultMaterial&&(l.DefaultMaterial=new r.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:r.FrontSide})),l.DefaultMaterial):this.getDependency("material",a[e].material);s.push(t)}var l;return s.push(t.loadGeometries(a)),Promise.all(s).then((function(n){const s=n.slice(0,n.length-1),l=n[n.length-1],c=[];for(let n=0,u=l.length;n<u;n++){const u=l[n],h=a[n];let d;const p=s[n];if(h.mode===mt.TRIANGLES||h.mode===mt.TRIANGLE_STRIP||h.mode===mt.TRIANGLE_FAN||void 0===h.mode)d=!0===o.isSkinnedMesh?new r.SkinnedMesh(u,p):new r.Mesh(u,p),!0!==d.isSkinnedMesh||d.geometry.attributes.skinWeight.normalized||d.normalizeSkinWeights(),h.mode===mt.TRIANGLE_STRIP?d.geometry=Ot(d.geometry,r.TriangleStripDrawMode):h.mode===mt.TRIANGLE_FAN&&(d.geometry=Ot(d.geometry,r.TriangleFanDrawMode));else if(h.mode===mt.LINES)d=new r.LineSegments(u,p);else if(h.mode===mt.LINE_STRIP)d=new r.Line(u,p);else if(h.mode===mt.LINE_LOOP)d=new r.LineLoop(u,p);else{if(h.mode!==mt.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);d=new r.Points(u,p)}Object.keys(d.geometry.morphAttributes).length>0&&Tt(d,o),d.name=t.createUniqueName(o.name||"mesh_"+e),Ct(d,o),h.extensions&&Et(i,d,h),t.assignFinalMaterial(d),c.push(d)}for(let n=0,r=c.length;n<r;n++)t.associations.set(c[n],{meshes:e,primitives:n});if(1===c.length)return c[0];const u=new r.Group;t.associations.set(u,{meshes:e});for(let e=0,t=c.length;e<t;e++)u.add(c[e]);return u}))}loadCamera(e){let t;const n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new r.PerspectiveCamera(r.MathUtils.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new r.OrthographicCamera(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),Ct(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n=[];for(let e=0,r=t.joints.length;e<r;e++)n.push(this.getDependency("node",t.joints[e]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){const n=e.pop(),i=e,o=[],a=[];for(let e=0,s=i.length;e<s;e++){const s=i[e];if(s){o.push(s);const t=new r.Matrix4;null!==n&&t.fromArray(n.array,16*e),a.push(t)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[e])}return new r.Skeleton(o,a)}))}loadAnimation(e){const t=this.json.animations[e],n=[],i=[],o=[],a=[],s=[];for(let e=0,r=t.channels.length;e<r;e++){const r=t.channels[e],l=t.samplers[r.sampler],c=r.target,u=c.node,h=void 0!==t.parameters?t.parameters[l.input]:l.input,d=void 0!==t.parameters?t.parameters[l.output]:l.output;n.push(this.getDependency("node",u)),i.push(this.getDependency("accessor",h)),o.push(this.getDependency("accessor",d)),a.push(l),s.push(c)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(o),Promise.all(a),Promise.all(s)]).then((function(n){const i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=[];for(let e=0,t=i.length;e<t;e++){const t=i[e],n=o[e],u=a[e],h=s[e],d=l[e];if(void 0===t)continue;let p;switch(t.updateMatrix(),wt[d.path]){case wt.weights:p=r.NumberKeyframeTrack;break;case wt.rotation:p=r.QuaternionKeyframeTrack;break;case wt.position:case wt.scale:default:p=r.VectorKeyframeTrack}const f=t.name?t.name:t.uuid,m=void 0!==h.interpolation?xt[h.interpolation]:r.InterpolateLinear,v=[];wt[d.path]===wt.weights?t.traverse((function(e){e.morphTargetInfluences&&v.push(e.name?e.name:e.uuid)})):v.push(f);let g=u.array;if(u.normalized){const e=Lt(g.constructor),t=new Float32Array(g.length);for(let n=0,r=g.length;n<r;n++)t[n]=g[n]*e;g=t}for(let e=0,t=v.length;e<t;e++){const t=new p(v[e]+"."+wt[d.path],n.array,g,m);"CUBICSPLINE"===h.interpolation&&(t.createInterpolant=function(e){return new(this instanceof r.QuaternionKeyframeTrack?ft:dt)(this.times,this.values,this.getValueSize()/3,e)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(t)}}const u=t.name?t.name:"animation_"+e;return new r.AnimationClip(u,void 0,c)}))}createNodeMesh(e){const t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){const t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(let t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}loadNode(e){const t=this.json,n=this.extensions,i=this,o=t.nodes[e],a=o.name?i.createUniqueName(o.name):"";return function(){const t=[],n=i._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));n&&t.push(n),void 0!==o.camera&&t.push(i.getDependency("camera",o.camera).then((function(e){return i._getNodeRef(i.cameraCache,o.camera,e)}))),i._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)}));const r=[],a=o.children||[];for(let e=0,t=a.length;e<t;e++)r.push(i.getDependency("node",a[e]));const s=void 0===o.skin?Promise.resolve(null):i.getDependency("skin",o.skin);return Promise.all([Promise.all(t),Promise.all(r),s])}().then((function(t){const s=t[0],l=t[1],c=t[2];let u;if(u=!0===o.isBone?new r.Bone:s.length>1?new r.Group:1===s.length?s[0]:new r.Object3D,u!==s[0])for(let e=0,t=s.length;e<t;e++)u.add(s[e]);if(o.name&&(u.userData.name=o.name,u.name=a),Ct(u,o),o.extensions&&Et(n,u,o),void 0!==o.matrix){const e=new r.Matrix4;e.fromArray(o.matrix),u.applyMatrix4(e)}else void 0!==o.translation&&u.position.fromArray(o.translation),void 0!==o.rotation&&u.quaternion.fromArray(o.rotation),void 0!==o.scale&&u.scale.fromArray(o.scale);i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,null!==c&&u.traverse((function(e){e.isSkinnedMesh&&e.bind(c,Pt)}));for(let e=0,t=l.length;e<t;e++)u.add(l[e]);return u}))}loadScene(e){const t=this.extensions,n=this.json.scenes[e],i=this,o=new r.Group;n.name&&(o.name=i.createUniqueName(n.name)),Ct(o,n),n.extensions&&Et(t,o,n);const a=n.nodes||[],s=[];for(let e=0,t=a.length;e<t;e++)s.push(i.getDependency("node",a[e]));return Promise.all(s).then((function(e){for(let t=0,n=e.length;t<n;t++)o.add(e[t]);return i.associations=(e=>{const t=new Map;for(const[e,n]of i.associations)(e instanceof r.Material||e instanceof r.Texture)&&t.set(e,n);return e.traverse(e=>{const n=i.associations.get(e);null!=n&&t.set(e,n)}),t})(o),o}))}}function It(e,t,n){const i=t.attributes,o=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(const t in i){const n=bt[t]||t.toLowerCase();n in e.attributes||o.push(a(i[t],n))}if(void 0!==t.indices&&!e.index){const r=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(r)}return Ct(e,t),function(e,t,n){const i=t.attributes,o=new r.Box3;if(void 0===i.POSITION)return;{const e=n.json.accessors[i.POSITION],t=e.min,a=e.max;if(void 0===t||void 0===a)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new r.Vector3(t[0],t[1],t[2]),new r.Vector3(a[0],a[1],a[2])),e.normalized){const t=Lt(vt[e.componentType]);o.min.multiplyScalar(t),o.max.multiplyScalar(t)}}const a=t.targets;if(void 0!==a){const e=new r.Vector3,t=new r.Vector3;for(let r=0,i=a.length;r<i;r++){const i=a[r];if(void 0!==i.POSITION){const r=n.json.accessors[i.POSITION],o=r.min,a=r.max;if(void 0!==o&&void 0!==a){if(t.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),t.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),t.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),r.normalized){const e=Lt(vt[r.componentType]);t.multiplyScalar(e)}e.max(t)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(e)}e.boundingBox=o;const s=new r.Sphere;o.getCenter(s.center),s.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=s}(e,t,n),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,n){let r=!1,i=!1,o=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(void 0!==n.POSITION&&(r=!0),void 0!==n.NORMAL&&(i=!0),void 0!==n.COLOR_0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(e);const a=[],s=[],l=[];for(let c=0,u=t.length;c<u;c++){const u=t[c];if(r){const t=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION):e.attributes.position;a.push(t)}if(i){const t=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL):e.attributes.normal;s.push(t)}if(o){const t=void 0!==u.COLOR_0?n.getDependency("accessor",u.COLOR_0):e.attributes.color;l.push(t)}}return Promise.all([Promise.all(a),Promise.all(s),Promise.all(l)]).then((function(t){const n=t[0],a=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=a),o&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function Ot(e,t){let n=e.getIndex();if(null===n){const t=[],r=e.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(let e=0;e<r.count;e++)t.push(e);e.setIndex(t),n=e.getIndex()}const i=n.count-2,o=[];if(t===r.TriangleFanDrawMode)for(let e=1;e<=i;e++)o.push(n.getX(0)),o.push(n.getX(e)),o.push(n.getX(e+1));else for(let e=0;e<i;e++)e%2==0?(o.push(n.getX(e)),o.push(n.getX(e+1)),o.push(n.getX(e+2))):(o.push(n.getX(e+2)),o.push(n.getX(e+1)),o.push(n.getX(e)));o.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=e.clone();return a.setIndex(o),a}const Ft=new WeakMap;class Bt extends r.Loader{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,n,i){const o=new r.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,e=>{this.decodeDracoFile(e,t).catch(i)},n,i)}decodeDracoFile(e,t,n,r){const i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){const n=JSON.stringify(t);if(Ft.has(e)){const t=Ft.get(e);if(t.key===n)return t.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(i,o).then(n=>(r=n,new Promise((n,o)=>{r._callbacks[i]={resolve:n,reject:o},r.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(e=>this._createGeometry(e.geometry));return a.catch(()=>!0).then(()=>{r&&i&&this._releaseTask(r,i)}),Ft.set(e,{key:n,promise:a}),a}_createGeometry(e){const t=new r.BufferGeometry;e.index&&t.setIndex(new r.BufferAttribute(e.index.array,1));for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n],o=i.name,a=i.array,s=i.itemSize;t.setAttribute(o,new r.BufferAttribute(a,s))}return t}_loadLibrary(e,t){const n=new r.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((t,r)=>{n.load(e,t,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(t=>{const n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);const r=Nt.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const e=new Worker(this.workerSourceURL);e._callbacks={},e._taskCosts={},e._taskLoad=0,e.postMessage({type:"init",decoderConfig:this.decoderConfig}),e.onmessage=function(t){const n=t.data;switch(n.type){case"decode":e._callbacks[n.id].resolve(n);break;case"error":e._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(e)}else this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[e]=t,n._taskLoad+=t,n})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Nt(){let e,t;function n(e,t,n,r,i,o){const a=o.num_components(),s=n.num_points()*a,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,o,c,l,u);const h=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:r,array:h,itemSize:a}}onmessage=function(r){const i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":const r=i.buffer,o=i.taskConfig;t.then(e=>{const t=e.draco,a=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(r),r.byteLength);try{const e=function(e,t,r,i){const o=i.attributeIDs,a=i.attributeTypes;let s,l;const c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)s=new e.Mesh,l=t.DecodeBufferToMesh(r,s);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new e.PointCloud,l=t.DecodeBufferToPointCloud(r,s)}if(!l.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+l.error_msg());const u={index:null,attributes:[]};for(const r in o){const l=self[a[r]];let c,h;if(i.useUniqueIDs)h=o[r],c=t.GetAttributeByUniqueId(s,h);else{if(h=t.GetAttributeId(s,e[o[r]]),-1===h)continue;c=t.GetAttribute(s,h)}u.attributes.push(n(e,t,s,r,l,c))}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){const r=3*n.num_faces(),i=4*r,o=e._malloc(i);t.GetTrianglesUInt32Array(n,i,o);const a=new Uint32Array(e.HEAPF32.buffer,o,r).slice();return e._free(o),{array:a,itemSize:1}}(e,t,s));return e.destroy(s),u}(t,a,s,o),r=e.attributes.map(e=>e.array.buffer);e.index&&r.push(e.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:e},r)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(a)}})}}}class jt extends r.MeshPhysicalMaterial{constructor(e=6,t=!1){super(),this.uniforms={chromaticAberration:{value:.05},chromaticAberrationStrengthG:{value:1},chromaticAberrationStrengthB:{value:1},anisotropy:{value:.1},time:{value:0},distortion:{value:0},distortionScale:{value:.5},temporalDistortion:{value:0},buffer:{value:null}},this.onBeforeCompile=n=>{n.uniforms=Object.assign(n.uniforms,this.uniforms),t?n.defines.USE_SAMPLER="":n.defines.USE_TRANSMISSION="",n.fragmentShader="\n      uniform float chromaticAberration;            \n      uniform float chromaticAberrationStrengthG;            \n      uniform float chromaticAberrationStrengthB;            \n      uniform float anisotropy;      \n      uniform float time;\n      uniform float distortion;\n      uniform float distortionScale;\n      uniform float temporalDistortion;\n      uniform sampler2D buffer;\n\n      vec3 random3(vec3 c) {\n        float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n        vec3 r;\n        r.z = fract(512.0*j);\n        j *= .125;\n        r.x = fract(512.0*j);\n        j *= .125;\n        r.y = fract(512.0*j);\n        return r-0.5;\n      }\n\n      float seed = 0.0;\n      uint hash( uint x ) {\n        x += ( x << 10u );\n        x ^= ( x >>  6u );\n        x += ( x <<  3u );\n        x ^= ( x >> 11u );\n        x += ( x << 15u );\n        return x;\n      }\n\n      // Compound versions of the hashing algorithm I whipped together.\n      uint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\n      uint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\n      uint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n      // Construct a float with half-open range [0:1] using low 23 bits.\n      // All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\n      float floatConstruct( uint m ) {\n        const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n        const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n        m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n        m |= ieeeOne;                          // Add fractional part to 1.0\n        float  f = uintBitsToFloat( m );       // Range [1:2]\n        return f - 1.0;                        // Range [0:1]\n      }\n\n      // Pseudo-random value in half-open range [0:1].\n      float random( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\n      float random( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float random( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n      float random( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n\n      float rand() {\n        float result = random(vec3(gl_FragCoord.xy, seed));\n        seed += 1.0;\n        return result;\n      }\n\n      const float F3 =  0.3333333;\n      const float G3 =  0.1666667;\n\n      float snoise(vec3 p) {\n        vec3 s = floor(p + dot(p, vec3(F3)));\n        vec3 x = p - s + dot(s, vec3(G3));\n        vec3 e = step(vec3(0.0), x - x.yzx);\n        vec3 i1 = e*(1.0 - e.zxy);\n        vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n        vec3 x1 = x - i1 + G3;\n        vec3 x2 = x - i2 + 2.0*G3;\n        vec3 x3 = x - 1.0 + 3.0*G3;\n        vec4 w, d;\n        w.x = dot(x, x);\n        w.y = dot(x1, x1);\n        w.z = dot(x2, x2);\n        w.w = dot(x3, x3);\n        w = max(0.6 - w, 0.0);\n        d.x = dot(random3(s), x);\n        d.y = dot(random3(s + i1), x1);\n        d.z = dot(random3(s + i2), x2);\n        d.w = dot(random3(s + 1.0), x3);\n        w *= w;\n        w *= w;\n        d *= w;\n        return dot(d, vec4(52.0));\n      }\n\n      float snoiseFractal(vec3 m) {\n        return 0.5333333* snoise(m)\n              +0.2666667* snoise(2.0*m)\n              +0.1333333* snoise(4.0*m)\n              +0.0666667* snoise(8.0*m);\n      }\n"+n.fragmentShader,n.fragmentShader=n.fragmentShader.replace("#include <transmission_pars_fragment>","\n        #ifdef USE_TRANSMISSION\n          // Transmission code is based on glTF-Sampler-Viewer\n          // https://github.com/KhronosGroup/glTF-Sample-Viewer\n          uniform float transmission;\n          uniform float thickness;\n          uniform float attenuationDistance;\n          uniform vec3 attenuationColor;\n          #ifdef USE_TRANSMISSIONMAP\n            uniform sampler2D transmissionMap;\n          #endif\n          #ifdef USE_THICKNESSMAP\n            uniform sampler2D thicknessMap;\n          #endif\n          uniform vec2 transmissionSamplerSize;\n          uniform sampler2D transmissionSamplerMap;\n          uniform mat4 modelMatrix;\n          uniform mat4 projectionMatrix;\n          varying vec3 vWorldPosition;\n          vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n            // Direction of refracted light.\n            vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n            // Compute rotation-independant scaling of the model matrix.\n            vec3 modelScale;\n            modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n            modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n            modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n            // The thickness is specified in local space.\n            return normalize( refractionVector ) * thickness * modelScale;\n          }\n          float applyIorToRoughness( const in float roughness, const in float ior ) {\n            // Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and\n            // an IOR of 1.5 results in the default amount of microfacet refraction.\n            return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n          }\n          vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n            float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n            #ifdef USE_SAMPLER\n              #ifdef texture2DLodEXT\n                return texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod);\n              #else\n                return texture2D(transmissionSamplerMap, fragCoord.xy, framebufferLod);\n              #endif\n            #else\n              return texture2D(buffer, fragCoord.xy);\n            #endif     \n          }\n          vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n            if ( isinf( attenuationDistance ) ) {\n              // Attenuation distance is +, i.e. the transmitted color is not attenuated at all.\n              return radiance;\n            } else {\n              // Compute light attenuation using Beer's law.\n              vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n              vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance ); // Beer's law\n              return transmittance * radiance;\n            }\n          }\n          vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n            const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n            const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n            const in vec3 attenuationColor, const in float attenuationDistance ) {\n            vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n            vec3 refractedRayExit = position + transmissionRay;\n            // Project refracted vector on the framebuffer, while mapping to normalized device coordinates.\n            vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n            vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n            refractionCoords += 1.0;\n            refractionCoords /= 2.0;\n            // Sample framebuffer to get pixel the refracted ray hits.\n            vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n            vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n            // Get the specular component.\n            vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n            return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n          }\n        #endif\n"),n.fragmentShader=n.fragmentShader.replace("#include <transmission_fragment>",`\n        // Improve the refraction to use the world pos\n        material.transmission = transmission;\n        material.transmissionAlpha = 1.0;\n        material.thickness = thickness;\n        material.attenuationDistance = attenuationDistance;\n        material.attenuationColor = attenuationColor;\n        #ifdef USE_TRANSMISSIONMAP\n          material.transmission *= texture2D( transmissionMap, vUv ).r;\n        #endif\n        #ifdef USE_THICKNESSMAP\n          material.thickness *= texture2D( thicknessMap, vUv ).g;\n        #endif\n        \n        vec3 pos = vWorldPosition;\n        vec3 v = normalize( cameraPosition - pos );\n        vec3 n = inverseTransformDirection( normal, viewMatrix );\n        vec3 transmission = vec3(0.0);\n        float transmissionR, transmissionB, transmissionG;\n        float randomCoords = rand();\n        float thickness_smear = thickness * max(pow(roughness, 0.33), anisotropy);\n        vec3 distortionNormal = vec3(0.0);\n        vec3 temporalOffset = vec3(time, -time, -time) * temporalDistortion;\n        if (distortion > 0.0) {\n          distortionNormal = distortion * vec3(snoiseFractal(vec3((pos * distortionScale + temporalOffset))), snoiseFractal(vec3(pos.zxy * distortionScale - temporalOffset)), snoiseFractal(vec3(pos.yxz * distortionScale + temporalOffset)));\n        }\n        for (float i = 0.0; i < ${e}.0; i ++) {\n          vec3 sampleNorm = normalize(n + roughness * roughness * 2.0 * normalize(vec3(rand() - 0.5, rand() - 0.5, rand() - 0.5)) * pow(rand(), 0.33) + distortionNormal);\n          transmissionR = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness  + thickness_smear * (i + randomCoords) / float(${e}),\n            material.attenuationColor, material.attenuationDistance\n          ).r;\n          transmissionG = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior  * (chromaticAberrationStrengthG + chromaticAberration * (i + randomCoords) / float(${e})) , material.thickness + thickness_smear * (i + randomCoords) / float(${e}),\n            material.attenuationColor, material.attenuationDistance\n          ).g;\n          transmissionB = getIBLVolumeRefraction(\n            sampleNorm, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n            pos, modelMatrix, viewMatrix, projectionMatrix, material.ior * (chromaticAberrationStrengthB + 2.0 * chromaticAberration * (i + randomCoords) / float(${e})), material.thickness + thickness_smear * (i + randomCoords) / float(${e}),\n            material.attenuationColor, material.attenuationDistance\n          ).b;\n          transmission.r += transmissionR;\n          transmission.g += transmissionG;\n          transmission.b += transmissionB;\n        }\n        transmission /= ${e}.0;\n        totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n`)},Object.keys(this.uniforms).forEach(e=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t}))}}class zt{constructor(){this.canReset=!1}async init(){const e=new Ue,t=new Bt;this.clock=new r.Clock,t.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),e.setDRACOLoader(t);const n=document.getElementById("SOEcanvasRoot"),[{scene:i}]=await Promise.all([new Promise(t=>e.load(n.dataset.url,t))]);this.context=i.children[0];return this.context.material=Object.assign(new jt(4,!0),{clearcoat:0,clearcoatRoughness:.188,clearcoatNormalScale:0,transmission:1,transmissionSampler:!1,backside:!1,chromaticAberration:.4,chromaticAberrationStrengthG:1.203,chromaticAberrationStrengthB:1.476,anisotropy:.29,roughness:0,thickness:.145,ior:2.333,distortion:.594,distortionScale:.459,temporalDistortion:.385,metalness:0,reflectivity:1,envMapIntensity:1.341,normalScale:1.065,positionX:0,positionZ:-6,positionY:-3,sample:6}),this.context.position.set(0,-3,-6),this.context.rotation.set(0,r.MathUtils.degToRad(90),0),this.paramsMod={scale:1},this.moveToPos=new r.Vector3(0,5,-6),this.startPos=new r.Vector3(0,-3,-6),this.currentPos=new r.Vector3(0,-3,-6),this.targetScale=new r.Vector3(.5,.5,.5),this.startScale=new r.Vector3(1,1,1),this.currentScale=new r.Vector3(1,1,1),this.context}reset(e){e&&e!==this.canReset&&(this.clock=new r.Clock,this.context.rotation.set(0,r.MathUtils.degToRad(90),0)),this.canReset=e}update(e,t){const n=this.clock.getDelta();if(t>=.5){let e=this.moveToPos.clone();e.y=this.startPos.y,e.y+=10*(1-(1-t)/.5),this.currentPos.lerp(e,2*n)}else this.currentPos.lerp(this.startPos,1.5*n);this.context.position.copy(this.currentPos),this.context.rotation.y-=n/2}}const Vt=/\bvoid\s+main\s*\(\s*\)\s*{/g;function Ut(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=r.ShaderChunk[t];return n?Ut(n):e}))}const Ht=[];for(let e=0;e<256;e++)Ht[e]=(e<16?"0":"")+e.toString(16);const Gt=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},qt=Date.now(),Wt=new WeakMap,Yt=new Map;let Xt=1e10;function Qt(e,t){const n=function(e){const t=JSON.stringify(e,Jt);let n=$t.get(t);null==n&&$t.set(t,n=++Zt);return n}(t);let i=Wt.get(e);if(i||Wt.set(e,i=Object.create(null)),i[n])return new i[n];const o="_onBeforeCompile"+n,a=function(r,i){e.onBeforeCompile.call(this,r,i);const a=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader;let s=Yt[a];if(!s){const e=function(e,{vertexShader:t,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:a,vertexMainOutro:s,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:h,fragmentColorTransform:d,customRewriter:p,timeUniform:f}=r;o=o||"",a=a||"",s=s||"",c=c||"",u=u||"",h=h||"",(l||p)&&(t=Ut(t));(d||p)&&(n=Ut(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(p){let e=p({vertexShader:t,fragmentShader:n});t=e.vertexShader,n=e.fragmentShader}if(d){let e=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),h=`${d}\n${e.join("\n")}\n${h}`}if(f){const e=`\nuniform float ${f};\n`;o=e+o,c=e+c}l&&(t=`vec3 troika_position_${i};\nvec3 troika_normal_${i};\nvec2 troika_uv_${i};\n${t}\n`,o=`${o}\nvoid troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${l}\n}\n`,a=`\ntroika_position_${i} = vec3(position);\ntroika_normal_${i} = vec3(normal);\ntroika_uv_${i} = vec2(uv);\ntroikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});\n${a}\n`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,n,r)=>/\battribute\s+vec[23]\s+$/.test(r.substr(0,n))?t:`troika_${t}_${i}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,"troika_uv_"+i)));return t=Kt(t,i,o,a,s),n=Kt(n,i,c,u,h),{vertexShader:t,fragmentShader:n}}(this,r,t,n);s=Yt[a]=e}r.vertexShader=s.vertexShader,r.fragmentShader=s.fragmentShader,Gt(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-qt}}),this[o]&&this[o](r)},s=function(){return l(t.chained?e:e.clone())},l=function(r){const i=Object.create(r,c);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:Xt++}),i.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ht[255&e]+Ht[e>>8&255]+Ht[e>>16&255]+Ht[e>>24&255]+"-"+Ht[255&t]+Ht[t>>8&255]+"-"+Ht[t>>16&15|64]+Ht[t>>24&255]+"-"+Ht[63&n|128]+Ht[n>>8&255]+"-"+Ht[n>>16&255]+Ht[n>>24&255]+Ht[255&r]+Ht[r>>8&255]+Ht[r>>16&255]+Ht[r>>24&255]).toUpperCase()}(),i.uniforms=Gt({},r.uniforms,t.uniforms),i.defines=Gt({},r.defines,t.defines),i.defines["TROIKA_DERIVED_MATERIAL_"+n]="",i.extensions=Gt({},r.extensions,t.extensions),i._listeners=void 0,i},c={constructor:{value:s},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>a,set(e){this[o]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(Gt(this.extensions,t.extensions),Gt(this.defines,t.defines),Gt(this.uniforms,r.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return l(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=Qt(e.isDerivedMaterial?e.getDepthMaterial():new r.MeshDepthMaterial({depthPacking:r.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=Qt(e.isDerivedMaterial?e.getDistanceMaterial():new r.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return i[n]=s,new s}function Kt(e,t,n,r,i){return(r||i||n)&&(e=e.replace(Vt,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${r}\n  troikaOrigMain${t}();\n  ${i}\n}`),e}function Jt(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let Zt=0;const $t=new Map;r.DoubleSide;r.Mesh;var en=n(167);function tn(){return function(e){function t(e,t,n,r,i,o,a,s,l,c){var u=1-l;c.x=u*u*u*e+3*u*u*l*n+3*u*l*l*i+l*l*l*a,c.y=u*u*u*t+3*u*u*l*r+3*u*l*l*o+l*l*l*s}function n(e,t){for(var n,r,i,o,a,s=/([MLQCZ])([^MLQCZ]*)/g;n=s.exec(e);){var l=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":o=r=l[0],a=i=l[1];break;case"L":l[0]===o&&l[1]===a||t("L",o,a,o=l[0],a=l[1]);break;case"Q":t("Q",o,a,o=l[2],a=l[3],l[0],l[1]);break;case"C":t("C",o,a,o=l[4],a=l[5],l[0],l[1],l[2],l[3]);break;case"Z":o===r&&a===i||t("L",o,a,r,i)}}}function r(e,r,i){void 0===i&&(i=16);var o={x:0,y:0};n(e,(function(e,n,a,s,l,c,u,h,d){switch(e){case"L":r(n,a,s,l);break;case"Q":for(var p=n,f=a,m=1;m<i;m++)_=a,b=u,w=l,k=void 0,k=1-(x=m/(i-1)),(S=o).x=k*k*n+2*k*x*c+x*x*s,S.y=k*k*_+2*k*x*b+x*x*w,r(p,f,o.x,o.y),p=o.x,f=o.y;break;case"C":for(var v=n,g=a,y=1;y<i;y++)t(n,a,c,u,h,d,s,l,y/(i-1),o),r(v,g,o.x,o.y),v=o.x,g=o.y}var _,b,w,x,S,k}))}var i="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o=new WeakMap,a={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(e,t){var n=e.getContext?e.getContext("webgl",a):e,r=o.get(n);if(!r){var i="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,s={},l={},c={},u=-1,h=[];function d(e){var t=s[e];if(!t&&!(t=s[e]=n.getExtension(e)))throw new Error(e+" not supported");return t}function p(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r}function f(){s={},l={},c={},u=-1,h.length=0}n.canvas.addEventListener("webglcontextlost",(function(e){f(),e.preventDefault()}),!1),o.set(n,r={gl:n,isWebGL2:i,getExtension:d,withProgram:function(e,t,r,o){if(!l[e]){var a={},s={},c=n.createProgram();n.attachShader(c,p(t,n.VERTEX_SHADER)),n.attachShader(c,p(r,n.FRAGMENT_SHADER)),n.linkProgram(c),l[e]={program:c,transaction:function(e){n.useProgram(c),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var o=s[t]||(s[t]=n.getUniformLocation(c,t));n["uniform"+e].apply(n,[o].concat(r))},setAttribute:function(e,t,r,o,s){var l=a[e];l||(l=a[e]={buf:n.createBuffer(),loc:n.getAttribLocation(c,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,l.buf),n.vertexAttribPointer(l.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(l.loc),i?n.vertexAttribDivisor(l.loc,o):d("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(l.loc,o),s!==l.data&&(n.bufferData(n.ARRAY_BUFFER,s,r),l.data=s)}})}}}l[e].transaction(o)},withTexture:function(e,t){u++;try{n.activeTexture(n.TEXTURE0+u);var r=c[e];r||(r=c[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,u)}finally{u--}},withTextureFramebuffer:function(e,t,r){var i=n.createFramebuffer();h.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,h[--h.length-1]||null)}},handleContextLoss:f})}t(r)}function l(e,t,n,r,o,a,l,c){void 0===l&&(l=15),void 0===c&&(c=null),s(e,(function(e){var s=e.gl,u=e.withProgram;(0,e.withTexture)("copy",(function(e,h){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,o,a,0,s.RGBA,s.UNSIGNED_BYTE,t),u("copy",i,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,s.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",h),s.bindFramebuffer(s.FRAMEBUFFER,c||null),s.disable(s.BLEND),s.colorMask(8&l,4&l,2&l,1&l),s.viewport(n,r,o,a),s.scissor(n,r,o,a),s.drawArrays(s.TRIANGLES,0,3)}))}))}))}var c=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:l,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;s(e,(function(o){var a=o.gl,s=new Uint8Array(r*i*4);a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,s),e.width=t,e.height=n,l(a,s,0,0,r,i)}))}});function u(e,t,n,i,o,a){void 0===a&&(a=1);var s=new Uint8Array(e*t),l=i[2]-i[0],c=i[3]-i[1],u=[];r(n,(function(e,t,n,r){u.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})})),u.sort((function(e,t){return e.maxX-t.maxX}));for(var h=0;h<e;h++)for(var d=0;d<t;d++){var f=v(i[0]+l*(h+.5)/e,i[1]+c*(d+.5)/t),m=Math.pow(1-Math.abs(f)/o,a)/2;f<0&&(m=1-m),m=Math.max(0,Math.min(255,Math.round(255*m))),s[d*e+h]=m}return s;function v(e,t){for(var n=1/0,r=1/0,i=u.length;i--;){var o=u[i];if(o.maxX+r<=e)break;if(e+r>o.minX&&t-r<o.maxY&&t+r>o.minY){var a=p(e,t,o.x1,o.y1,o.x2,o.y2);a<n&&(n=a,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=u.length;r--;){var i=u[r];if(i.maxX<=e)break;i.y1>t!=i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function h(e,t,n,r,i,o,a,s,l,c){void 0===o&&(o=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),d(e,t,n,r,i,o,a,null,s,l,c)}function d(e,t,n,r,i,o,a,s,c,h,d){void 0===o&&(o=1),void 0===c&&(c=0),void 0===h&&(h=0),void 0===d&&(d=0);for(var p=u(e,t,n,r,i,o),f=new Uint8Array(4*p.length),m=0;m<p.length;m++)f[4*m+d]=p[m];l(a,f,c,h,e,t,1<<3-d,s)}function p(e,t,n,r,i,o){var a=i-n,s=o-r,l=a*a+s*s,c=l?Math.max(0,Math.min(1,((e-n)*a+(t-r)*s)/l)):0,u=e-(n+c*a),h=t-(r+c*s);return u*u+h*h}var f=Object.freeze({__proto__:null,generate:u,generateIntoCanvas:h,generateIntoFramebuffer:d}),m=new Float32Array([0,0,2,0,0,2]),v=null,g=!1,y={},_=new WeakMap;function b(e){if(!g&&!k(e))throw new Error("WebGL generation not supported")}function w(e,t,n,r,i,o,a){if(void 0===o&&(o=1),void 0===a&&(a=null),!a&&!(a=v)){var l="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!l)throw new Error("OffscreenCanvas or DOM canvas not supported");a=v=l.getContext("webgl",{depth:!1})}b(a);var c=new Uint8Array(e*t*4);s(a,(function(a){var s=a.gl,l=a.withTexture,u=a.withTextureFramebuffer;l("readable",(function(a,l){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,e,t,0,s.RGBA,s.UNSIGNED_BYTE,null),u(a,l,(function(a){S(e,t,n,r,i,o,s,a,0,0,0),s.readPixels(0,0,e,t,s.RGBA,s.UNSIGNED_BYTE,c)}))}))}));for(var u=new Uint8Array(e*t),h=0,d=0;h<c.length;h+=4)u[d++]=c[h];return u}function x(e,t,n,r,i,o,a,s,l,c){void 0===o&&(o=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0),S(e,t,n,r,i,o,a,null,s,l,c)}function S(e,t,n,o,a,l,c,u,h,d,p){void 0===l&&(l=1),void 0===h&&(h=0),void 0===d&&(d=0),void 0===p&&(p=0),b(c);var f=[];r(n,(function(e,t,n,r){f.push(e,t,n,r)})),f=new Float32Array(f),s(c,(function(n){var r=n.gl,s=n.isWebGL2,c=n.getExtension,v=n.withProgram,g=n.withTexture,y=n.withTextureFramebuffer,_=n.handleContextLoss;if(g("rawDistances",(function(n,g){e===n._lastWidth&&t===n._lastHeight||r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n._lastWidth=e,n._lastHeight=t,0,r.RGBA,r.UNSIGNED_BYTE,null),v("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(i){var u=i.setAttribute,h=i.setUniform,d=!s&&c("ANGLE_instanced_arrays"),p=!s&&c("EXT_blend_minmax");u("aUV",2,r.STATIC_DRAW,0,m),u("aLineSegment",4,r.DYNAMIC_DRAW,1,f),h.apply(void 0,["4f","uGlyphBounds"].concat(o)),h("1f","uMaxDistance",a),h("1f","uExponent",l),y(n,g,(function(n){r.enable(r.BLEND),r.colorMask(!0,!0,!0,!0),r.viewport(0,0,e,t),r.scissor(0,0,e,t),r.blendFunc(r.ONE,r.ONE),r.blendEquationSeparate(r.FUNC_ADD,s?r.MAX:p.MAX_EXT),r.clear(r.COLOR_BUFFER_BIT),s?r.drawArraysInstanced(r.TRIANGLES,0,3,f.length/4):d.drawArraysInstancedANGLE(r.TRIANGLES,0,3,f.length/4)}))})),v("post",i,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(n){n.setAttribute("aUV",2,r.STATIC_DRAW,0,m),n.setUniform("1i","tex",g),r.bindFramebuffer(r.FRAMEBUFFER,u),r.disable(r.BLEND),r.colorMask(0===p,1===p,2===p,3===p),r.viewport(h,d,e,t),r.scissor(h,d,e,t),r.drawArrays(r.TRIANGLES,0,3)}))})),r.isContextLost())throw _(),new Error("webgl context lost")}))}function k(e){var t=e&&e!==v?e.canvas||e:y,n=_.get(t);if(void 0===n){g=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],o=w(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(n=o&&i.length===o.length&&o.every((function(e,t){return e===i[t]})))||(r="bad trial run results",console.info(i,o))}catch(e){n=!1,r=e.message}r&&console.warn("WebGL SDF generation not supported:",r),g=!1,_.set(t,n)}return n}var A=Object.freeze({__proto__:null,generate:w,generateIntoCanvas:x,generateIntoFramebuffer:S,isSupported:k});return e.forEachPathCommand=n,e.generate=function(e,t,n,r,i,o){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===o&&(o=1);try{return w.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),u.apply(f,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,o,a,s,l,c){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===o&&(o=1),void 0===s&&(s=0),void 0===l&&(l=0),void 0===c&&(c=0);try{return x.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),h.apply(f,arguments)}},e.javascript=f,e.pathToLineSegments=r,e.webgl=A,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}var nn=function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var i=n.LRI|n.RLI|n.FSI,o=n.L|n.R|n.AL,a=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,l=n.S|n.WS|n.B|i|n.PDI|s,c=null;function u(e){return function(){if(!c){c=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var i=t.split("+"),o=i[0],a=i[1];o=parseInt(o,36),a=a?parseInt(a,36):0,c.set(r+=o,n[e]);for(var s=0;s<a;s++)c.set(++r,n[e])}))}};for(var r in t)e(r)}}(),c.get(e.codePointAt(0))||n.L}var h,d,p,f="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",m="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function v(e,t){var n,r=0,i=new Map,o=t&&new Map;return e.split(",").forEach((function e(a){if(-1!==a.indexOf("+"))for(var s=+a;s--;)e(n);else{n=a;var l=a.split(">"),c=l[0],u=l[1];c=String.fromCodePoint(r+=parseInt(c,36)),u=String.fromCodePoint(r+=parseInt(u,36)),i.set(c,u),t&&o.set(u,c)}})),{map:i,reverseMap:o}}function g(){if(!h){var e=v(f,!0),t=e.map,n=e.reverseMap;h=t,d=n,p=v(m,!1).map}}function y(e){return g(),h.get(e)||null}function _(e){return g(),d.get(e)||null}function b(e){return g(),p.get(e)||null}var w=n.L,x=n.R,S=n.EN,k=n.ES,A=n.ET,E=n.AN,C=n.CS,T=n.B,M=n.S,D=n.ON,L=n.BN,P=n.NSM,R=n.AL,I=n.LRO,O=n.RLO,F=n.LRE,B=n.RLE,N=n.PDF,j=n.LRI,z=n.RLI,V=n.FSI,U=n.PDI;var H;function G(e){return function(){if(!H){var e=v("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),H=t}}(),H.get(e)||null}function q(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var o=[];return t.paragraphs.forEach((function(i){var a=Math.max(n,i.start),s=Math.min(r,i.end);if(a<s){for(var c=t.levels.slice(a,s+1),h=s;h>=a&&u(e[h])&l;h--)c[h]=i.level;for(var d=i.level,p=1/0,f=0;f<c.length;f++){var m=c[f];m>d&&(d=m),m<p&&(p=1|m)}for(var v=d;v>=p;v--)for(var g=0;g<c.length;g++)if(c[g]>=v){for(var y=g;g+1<c.length&&c[g+1]>=v;)g++;g>y&&o.push([y+a,g+a])}}})),o}function W(e,t,n,r){for(var i=q(e,t,n,r),o=[],a=0;a<e.length;a++)o[a]=a;return i.forEach((function(e){for(var t=e[0],n=e[1],r=o.slice(t,n+1),i=r.length;i--;)o[n-i]=r[i]})),o}return e.closingToOpeningBracket=_,e.getBidiCharType=u,e.getBidiCharTypeName=function(e){return r[u(e)]},e.getCanonicalBracket=b,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=u(e[r]);var c=new Map;function h(e,t){var r=n[e];n[e]=t,c.set(r,c.get(r)-1),r&a&&c.set(a,c.get(a)-1),c.set(t,(c.get(t)||0)+1),t&a&&c.set(a,(c.get(a)||0)+1)}for(var d=new Uint8Array(e.length),p=new Map,f=[],m=null,v=0;v<e.length;v++)m||f.push(m={start:v,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Vt(v,!1)}),n[v]&T&&(m.end=v,m=null);for(var g=B|F|O|I|i|U|N|T,H=function(e){return e+(1&e?1:2)},G=function(e){return e+(1&e?2:1)},q=0;q<f.length;q++){var W=[{_level:(m=f[q]).level,_override:0,_isolate:0}],Y=void 0,X=0,Q=0,K=0;c.clear();for(var J=m.start;J<=m.end;J++){var Z=n[J];if(Y=W[W.length-1],c.set(Z,(c.get(Z)||0)+1),Z&a&&c.set(a,(c.get(a)||0)+1),Z&g)if(Z&(B|F)){d[J]=Y._level;var $=(Z===B?G:H)(Y._level);$<=125&&!X&&!Q?W.push({_level:$,_override:0,_isolate:0}):X||Q++}else if(Z&(O|I)){d[J]=Y._level;var ee=(Z===O?G:H)(Y._level);ee<=125&&!X&&!Q?W.push({_level:ee,_override:Z&O?x:w,_isolate:0}):X||Q++}else if(Z&i){Z&V&&(Z=1===Vt(J+1,!0)?z:j),d[J]=Y._level,Y._override&&h(J,Y._override);var te=(Z===z?G:H)(Y._level);te<=125&&0===X&&0===Q?(K++,W.push({_level:te,_override:0,_isolate:1,_isolInitIndex:J})):X++}else if(Z&U){if(X>0)X--;else if(K>0){for(Q=0;!W[W.length-1]._isolate;)W.pop();var ne=W[W.length-1]._isolInitIndex;null!=ne&&(p.set(ne,J),p.set(J,ne)),W.pop(),K--}Y=W[W.length-1],d[J]=Y._level,Y._override&&h(J,Y._override)}else Z&N?(0===X&&(Q>0?Q--:!Y._isolate&&W.length>1&&(W.pop(),Y=W[W.length-1])),d[J]=Y._level):Z&T&&(d[J]=m.level);else d[J]=Y._level,Y._override&&Z!==L&&h(J,Y._override)}for(var re=[],ie=null,oe=m.start;oe<=m.end;oe++){var ae=n[oe];if(!(ae&s)){var se=d[oe],le=ae&i,ce=ae===U;ie&&se===ie._level?(ie._end=oe,ie._endsWithIsolInit=le):re.push(ie={_start:oe,_end:oe,_level:se,_startsWithPDI:ce,_endsWithIsolInit:le})}}for(var ue=[],he=0;he<re.length;he++){var de=re[he];if(!de._startsWithPDI||de._startsWithPDI&&!p.has(de._start)){for(var pe=[ie=de],fe=void 0;ie&&ie._endsWithIsolInit&&null!=(fe=p.get(ie._end));)for(var me=he+1;me<re.length;me++)if(re[me]._start===fe){pe.push(ie=re[me]);break}for(var ve=[],ge=0;ge<pe.length;ge++)for(var ye=pe[ge],_e=ye._start;_e<=ye._end;_e++)ve.push(_e);for(var be=d[ve[0]],we=m.level,xe=ve[0]-1;xe>=0;xe--)if(!(n[xe]&s)){we=d[xe];break}var Se=ve[ve.length-1],ke=d[Se],Ae=m.level;if(!(n[Se]&i))for(var Ee=Se+1;Ee<=m.end;Ee++)if(!(n[Ee]&s)){Ae=d[Ee];break}ue.push({_seqIndices:ve,_sosType:Math.max(we,be)%2?x:w,_eosType:Math.max(Ae,ke)%2?x:w})}}for(var Ce=0;Ce<ue.length;Ce++){var Te=ue[Ce],Me=Te._seqIndices,De=Te._sosType,Le=Te._eosType,Pe=1&d[Me[0]]?x:w;if(c.get(P))for(var Re=0;Re<Me.length;Re++){var Ie=Me[Re];if(n[Ie]&P){for(var Oe=De,Fe=Re-1;Fe>=0;Fe--)if(!(n[Me[Fe]]&s)){Oe=n[Me[Fe]];break}h(Ie,Oe&(i|U)?D:Oe)}}if(c.get(S))for(var Be=0;Be<Me.length;Be++){var Ne=Me[Be];if(n[Ne]&S)for(var je=Be-1;je>=-1;je--){var ze=-1===je?De:n[Me[je]];if(ze&o){ze===R&&h(Ne,E);break}}}if(c.get(R))for(var Ve=0;Ve<Me.length;Ve++){var Ue=Me[Ve];n[Ue]&R&&h(Ue,x)}if(c.get(k)||c.get(C))for(var He=1;He<Me.length-1;He++){var Ge=Me[He];if(n[Ge]&(k|C)){for(var qe=0,We=0,Ye=He-1;Ye>=0&&(qe=n[Me[Ye]])&s;Ye--);for(var Xe=He+1;Xe<Me.length&&(We=n[Me[Xe]])&s;Xe++);qe===We&&(n[Ge]===k?qe===S:qe&(S|E))&&h(Ge,qe)}}if(c.get(S))for(var Qe=0;Qe<Me.length;Qe++){var Ke=Me[Qe];if(n[Ke]&S){for(var Je=Qe-1;Je>=0&&n[Me[Je]]&(A|s);Je--)h(Me[Je],S);for(Qe++;Qe<Me.length&&n[Me[Qe]]&(A|s|S);Qe++)n[Me[Qe]]!==S&&h(Me[Qe],S)}}if(c.get(A)||c.get(k)||c.get(C))for(var Ze=0;Ze<Me.length;Ze++){var $e=Me[Ze];if(n[$e]&(A|k|C)){h($e,D);for(var et=Ze-1;et>=0&&n[Me[et]]&s;et--)h(Me[et],D);for(var tt=Ze+1;tt<Me.length&&n[Me[tt]]&s;tt++)h(Me[tt],D)}}if(c.get(S))for(var nt=0,rt=De;nt<Me.length;nt++){var it=Me[nt],ot=n[it];ot&S?rt===w&&h(it,w):ot&o&&(rt=ot)}if(c.get(a)){for(var at=x|S|E,st=at|w,lt=[],ct=[],ut=0;ut<Me.length;ut++)if(n[Me[ut]]&a){var ht=e[Me[ut]],dt=void 0;if(null!==y(ht)){if(!(ct.length<63))break;ct.push({char:ht,seqIndex:ut})}else if(null!==(dt=_(ht)))for(var pt=ct.length-1;pt>=0;pt--){var ft=ct[pt].char;if(ft===dt||ft===_(b(ht))||y(b(ft))===ht){lt.push([ct[pt].seqIndex,ut]),ct.length=pt;break}}}lt.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<lt.length;mt++){for(var vt=lt[mt],gt=vt[0],yt=vt[1],_t=!1,bt=0,wt=gt+1;wt<yt;wt++){var xt=Me[wt];if(n[xt]&st){_t=!0;var St=n[xt]&at?x:w;if(St===Pe){bt=St;break}}}if(_t&&!bt){bt=De;for(var kt=gt-1;kt>=0;kt--){var At=Me[kt];if(n[At]&st){var Et=n[At]&at?x:w;bt=Et!==Pe?Et:Pe;break}}}if(bt){if(n[Me[gt]]=n[Me[yt]]=bt,bt!==Pe)for(var Ct=gt+1;Ct<Me.length;Ct++)if(!(n[Me[Ct]]&s)){u(e[Me[Ct]])&P&&(n[Me[Ct]]=bt);break}if(bt!==Pe)for(var Tt=yt+1;Tt<Me.length;Tt++)if(!(n[Me[Tt]]&s)){u(e[Me[Tt]])&P&&(n[Me[Tt]]=bt);break}}}for(var Mt=0;Mt<Me.length;Mt++)if(n[Me[Mt]]&a){for(var Dt=Mt,Lt=Mt,Pt=De,Rt=Mt-1;Rt>=0;Rt--){if(!(n[Me[Rt]]&s)){Pt=n[Me[Rt]]&at?x:w;break}Dt=Rt}for(var It=Le,Ot=Mt+1;Ot<Me.length;Ot++){if(!(n[Me[Ot]]&(a|s))){It=n[Me[Ot]]&at?x:w;break}Lt=Ot}for(var Ft=Dt;Ft<=Lt;Ft++)n[Me[Ft]]=Pt===It?Pt:Pe;Mt=Lt}}}for(var Bt=m.start;Bt<=m.end;Bt++){var Nt=d[Bt],jt=n[Bt];if(1&Nt?jt&(w|S|E)&&d[Bt]++:jt&x?d[Bt]++:jt&(E|S)&&(d[Bt]+=2),jt&s&&(d[Bt]=0===Bt?m.level:d[Bt-1]),Bt===m.end||u(e[Bt])&(M|T))for(var zt=Bt;zt>=0&&u(e[zt])&l;zt--)d[zt]=m.level}}return{levels:d,paragraphs:f};function Vt(t,r){for(var o=t;o<e.length;o++){var a=n[o];if(a&(x|R))return 1;if(a&(T|w)||r&&a===U)return 0;if(a&i){var s=Ut(o);o=-1===s?e.length:s}}return 0}function Ut(t){for(var r=1,o=t+1;o<e.length;o++){var a=n[o];if(a&T)break;if(a&U){if(0==--r)return o}else a&i&&r++}return-1}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var o=new Map,a=n;a<=r;a++)if(1&t[a]){var s=G(e[a]);null!==s&&o.set(a,s)}return o},e.getReorderSegments=q,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var i=W(e,t,n,r),o=[].concat(e);return i.forEach((function(n,r){o[r]=(1&t.levels[n]?G(e[n]):null)||e[n]})),o.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({})};const rn=()=>(self.performance||Date).now(),on=tn();let an;const sn=[];let ln=0;function cn(){const e=rn();for(;sn.length&&rn()-e<5;)sn.shift()();ln=sn.length?setTimeout(cn,0):0}const un=(...e)=>new Promise((t,n)=>{sn.push(()=>{const r=rn();try{on.webgl.generateIntoCanvas(...e),t({timing:rn()-r})}catch(e){n(e)}}),ln||(ln=setTimeout(cn,0))}),hn={};let dn=0;function pn(e,t,n,r,i,o,a,s,l,c){const u="TroikaTextSDFGenerator_JS_"+dn++%4;let h=hn[u];return h||(h=hn[u]={workerModule:Object(en.a)({name:u,workerId:u,dependencies:[tn,rn],init(e,t){const n=e().javascript.generate;return function(...e){const r=t();return{textureData:n(...e),timing:t()-r}}},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),h.requests++,clearTimeout(h.idleTimer),h.workerModule(e,t,n,r,i,o).then(({textureData:n,timing:r})=>{const i=rn(),o=new Uint8Array(4*n.length);for(let e=0;e<n.length;e++)o[4*e+c]=n[e];return on.webglUtils.renderImageData(a,o,s,l,e,t,1<<3-c),r+=rn()-i,0==--h.requests&&(h.idleTimer=setTimeout(()=>{Object(en.b)(u)},2e3)),{timing:r}})}const fn=on.webglUtils.resizeWebGLCanvasWithoutClearing;
/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/const mn=Object(en.a)({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var o=n.readUint(r,i);i+=4;for(var a=[],s=0;s<o;s++){var l=n.readUint(r,i);i+=4,a.push(t._readFont(r,l))}return a}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var a=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},l={},c=0;c<o;c++){var u=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var h=r.readUint(e,n);n+=4;var d=r.readUint(e,n);n+=4,l[u]={offset:h,length:d}}for(c=0;c<a.length;c++){var p=a[c];l[p]&&(s[p.trim()]=t[p.trim()].parse(e,l[p].offset,l[p].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,o=i.readUshort(e,r+4),a=r+12,s=0;s<o;s++){var l=i.readASCII(e,a,4);a+=4,i.readUint(e,a),a+=4;var c=i.readUint(e,a);if(a+=4,i.readUint(e,a),a+=4,l==n)return c}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],o=0;o<r;o++)i.push(t._bin.readUshort(e,n+2*o));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var o=e[t++]<<8|e[t++];r+=String.fromCharCode(o)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,o){var a=t._bin,s={},l=n;a.readFixed(e,n),n+=4;var c=a.readUshort(e,n);n+=2;var u=a.readUshort(e,n);n+=2;var h=a.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,l+c),s.featureList=t._lctf.readFeatureList(e,l+u),s.lookupList=t._lctf.readLookupList(e,l+h,o),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,o=n,a=[],s=i.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var c=i.readUshort(e,n);n+=2;var u=t._lctf.readLookupTable(e,o+c,r);a.push(u)}return a},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,o=n,a={tabs:[]};a.ltype=i.readUshort(e,n),n+=2,a.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var l=a.ltype,c=0;c<s;c++){var u=i.readUshort(e,n);n+=2;var h=r(e,l,o+u,a);a.tabs.push(h)}return a},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],o=r.readUshort(e,n);if(n+=2,1==o){var a=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++)i.push(a+l),i.push(a+l),i.push(r.readUshort(e,n)),n+=2}if(2==o){var c=r.readUshort(e,n);for(n+=2,l=0;l<c;l++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,o)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*o)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2;var u=t._lctf.readFeatureTable(e,i+c);u.tag=l.trim(),o.push(u)}return o},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2,a>0&&(o.featureParams=i+a);var s=r.readUshort(e,n);n+=2,o.tab=[];for(var l=0;l<s;l++)o.tab.push(r.readUshort(e,n+2*l));return o},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,o[l.trim()]=t._lctf.readScriptTable(e,i+c)}return o},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2,o.default=t._lctf.readLangSysTable(e,i+a);var s=r.readUshort(e,n);n+=2;for(var l=0;l<s;l++){var c=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,o[c.trim()]=t._lctf.readLangSysTable(e,i+u)}return o},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,o),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var o=[];n=t.CFF.readIndex(e,n,o);for(var a=[],s=0;s<o.length-1;s++)a.push(i.readASCII(e,n+o[s],o[s+1]-o[s]));n+=o[o.length-1];var l=[];n=t.CFF.readIndex(e,n,l);var c=[];for(s=0;s<l.length-1;s++)c.push(t.CFF.readDict(e,n+l[s],n+l[s+1]));n+=l[l.length-1];var u=c[0],h=[];n=t.CFF.readIndex(e,n,h);var d=[];for(s=0;s<h.length-1;s++)d.push(i.readASCII(e,n+h[s],h[s+1]-h[s]));if(n+=h[h.length-1],t.CFF.readSubrs(e,n,u),u.CharStrings){n=u.CharStrings,h=[],n=t.CFF.readIndex(e,n,h);var p=[];for(s=0;s<h.length-1;s++)p.push(i.readBytes(e,n+h[s],h[s+1]-h[s]));u.CharStrings=p}if(u.ROS){n=u.FDArray;var f=[];for(n=t.CFF.readIndex(e,n,f),u.FDArray=[],s=0;s<f.length-1;s++){var m=t.CFF.readDict(e,n+f[s],n+f[s+1]);t.CFF._readFDict(e,m,d),u.FDArray.push(m)}n+=f[f.length-1],n=u.FDSelect,u.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var g=i.readUshort(e,n);for(n+=2,s=0;s<g+1;s++)u.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return u.Encoding&&(u.Encoding=t.CFF.readEncoding(e,u.Encoding,u.CharStrings.length)),u.charset&&(u.charset=t.CFF.readCharset(e,u.charset,u.CharStrings.length)),t.CFF._readFDict(e,u,d),u},t.CFF._readFDict=function(e,n,r){var i;for(var o in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)&&(n[o]=r[n[o]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,o=[];n=t.CFF.readIndex(e,n,o);var a,s=o.length;a=s<1240?107:s<33900?1131:32768,r.Bias=a,r.Subrs=[];for(var l=0;l<o.length-1;l++)r.Subrs.push(i.readBytes(e,n+o[l],o[l+1]-o[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],o=e[n];if(n++,0!=o)throw"error: unknown encoding format: "+o;var a=e[n];n++;for(var s=0;s<a;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,o=[".notdef"],a=e[n];if(n++,0==a)for(var s=0;s<r;s++){var l=i.readUshort(e,n);n+=2,o.push(l)}else{if(1!=a&&2!=a)throw"error: format: "+a;for(;o.length<r;){l=i.readUshort(e,n),n+=2;var c=0;for(1==a?(c=e[n],n++):(c=i.readUshort(e,n),n+=2),s=0;s<=c;s++)o.push(l),l++}}return o},t.CFF.readIndex=function(e,n,r){var i=t._bin,o=i.readUshort(e,n)+1,a=e[n+=2];if(n++,1==a)for(var s=0;s<o;s++)r.push(e[n+s]);else if(2==a)for(s=0;s<o;s++)r.push(i.readUshort(e,n+2*s));else if(3==a)for(s=0;s<o;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=o)throw"unsupported offset size: "+a+", count: "+o;return(n+=o*a)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,o=e[n],a=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,l=null,c=null;o<=20&&(l=o,s=1),12==o&&(l=100*o+a,s=2),21<=o&&o<=27&&(l=o,s=1),28==o&&(c=i.readShort(e,n+1),s=3),29<=o&&o<=31&&(l=o,s=1),32<=o&&o<=246&&(c=o-139,s=1),247<=o&&o<=250&&(c=256*(o-247)+a+108,s=2),251<=o&&o<=254&&(c=256*-(o-251)-a-108,s=2),255==o&&(c=i.readInt(e,n+1)/65535,s=5),r.val=null!=c?c:"o"+l,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,o=t._bin,a=[];n<i;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,u=null,h=null;s<=20&&(u=s,c=1),12==s&&(u=100*s+l,c=2),19!=s&&20!=s||(u=s,c=2),21<=s&&s<=27&&(u=s,c=1),28==s&&(h=o.readShort(e,n+1),c=3),29<=s&&s<=31&&(u=s,c=1),32<=s&&s<=246&&(h=s-139,c=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,c=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,c=2),255==s&&(h=o.readInt(e,n+1)/65535,c=5),a.push(null!=h?h:"o"+u),n+=c}return a},t.CFF.readDict=function(e,n,r){for(var i=t._bin,o={},a=[];n<r;){var s=e[n],l=e[n+1];e[n+2],e[n+3],e[n+4];var c=1,u=null,h=null;if(28==s&&(h=i.readShort(e,n+1),c=3),29==s&&(h=i.readInt(e,n+1),c=5),32<=s&&s<=246&&(h=s-139,c=1),247<=s&&s<=250&&(h=256*(s-247)+l+108,c=2),251<=s&&s<=254&&(h=256*-(s-251)-l-108,c=2),255==s)throw h=i.readInt(e,n+1)/65535,c=5,"unknown number";if(30==s){var d=[];for(c=1;;){var p=e[n+c];c++;var f=p>>4,m=15&p;if(15!=f&&d.push(f),15!=m&&d.push(m),15==m)break}for(var v="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<d.length;y++)v+=g[d[y]];h=parseFloat(v)}s<=21&&(u=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],c=1,12==s&&(u=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],c=2)),null!=u?(o[u]=1==a.length?a[0]:a,a=[]):a.push(h),n+=c}return o},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,o={};i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2;var s=[];o.tables=[];for(var l=0;l<a;l++){var c=i.readUshort(e,n);n+=2;var u=i.readUshort(e,n);n+=2;var h=i.readUint(e,n);n+=4;var d="p"+c+"e"+u,p=s.indexOf(h);if(-1==p){var f;p=o.tables.length,s.push(h);var m=i.readUshort(e,h);0==m?f=t.cmap.parse0(e,h):4==m?f=t.cmap.parse4(e,h):6==m?f=t.cmap.parse6(e,h):12==m?f=t.cmap.parse12(e,h):console.debug("unknown format: "+m,c,u,h),o.tables.push(f)}if(null!=o[d])throw"multiple tables for one platform+encoding";o[d]=p}return o},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var a=0;a<o-6;a++)i.map.push(e[n+a]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,o={};o.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var l=s/2;o.searchRange=r.readUshort(e,n),n+=2,o.entrySelector=r.readUshort(e,n),n+=2,o.rangeShift=r.readUshort(e,n),n+=2,o.endCount=r.readUshorts(e,n,l),n+=2*l,n+=2,o.startCount=r.readUshorts(e,n,l),n+=2*l,o.idDelta=[];for(var c=0;c<l;c++)o.idDelta.push(r.readShort(e,n)),n+=2;for(o.idRangeOffset=r.readUshorts(e,n,l),n+=2*l,o.glyphIdArray=[];n<i+a;)o.glyphIdArray.push(r.readUshort(e,n)),n+=2;return o},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var a=0;a<o;a++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var o=r.readUint(e,n);n+=4,i.groups=[];for(var a=0;a<o;a++){var s=n+12*a,l=r.readUint(e,s+0),c=r.readUint(e,s+4),u=r.readUint(e,s+8);i.groups.push([l,c,u])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],o=0;o<r.maxp.numGlyphs;o++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,o=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var a={};if(a.noc=r.readShort(i,o),o+=2,a.xMin=r.readShort(i,o),o+=2,a.yMin=r.readShort(i,o),o+=2,a.xMax=r.readShort(i,o),o+=2,a.yMax=r.readShort(i,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var s=0;s<a.noc;s++)a.endPts.push(r.readUshort(i,o)),o+=2;var l=r.readUshort(i,o);if(o+=2,i.length-o<l)return null;a.instructions=r.readBytes(i,o,l),o+=l;var c=a.endPts[a.noc-1]+1;for(a.flags=[],s=0;s<c;s++){var u=i[o];if(o++,a.flags.push(u),0!=(8&u)){var h=i[o];o++;for(var d=0;d<h;d++)a.flags.push(u),s++}}for(a.xs=[],s=0;s<c;s++){var p=0!=(2&a.flags[s]),f=0!=(16&a.flags[s]);p?(a.xs.push(f?i[o]:-i[o]),o++):f?a.xs.push(0):(a.xs.push(r.readShort(i,o)),o+=2)}for(a.ys=[],s=0;s<c;s++)p=0!=(4&a.flags[s]),f=0!=(32&a.flags[s]),p?(a.ys.push(f?i[o]:-i[o]),o++):f?a.ys.push(0):(a.ys.push(r.readShort(i,o)),o+=2);var m=0,v=0;for(s=0;s<c;s++)m+=a.xs[s],v+=a.ys[s],a.xs[s]=m,a.ys[s]=v}else{var g;a.parts=[];do{g=r.readUshort(i,o),o+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(y),y.glyphIndex=r.readUshort(i,o),o+=2,1&g){var _=r.readShort(i,o);o+=2;var b=r.readShort(i,o);o+=2}else _=r.readInt8(i,o),o++,b=r.readInt8(i,o),o++;2&g?(y.m.tx=_,y.m.ty=b):(y.p1=_,y.p2=b),8&g?(y.m.a=y.m.d=r.readF2dot14(i,o),o+=2):64&g?(y.m.a=r.readF2dot14(i,o),o+=2,y.m.d=r.readF2dot14(i,o),o+=2):128&g&&(y.m.a=r.readF2dot14(i,o),o+=2,y.m.b=r.readF2dot14(i,o),o+=2,y.m.c=r.readF2dot14(i,o),o+=2,y.m.d=r.readF2dot14(i,o),o+=2)}while(32&g);if(256&g){var w=r.readUshort(i,o);for(o+=2,a.instr=[],s=0;s<w;s++)a.instr.push(i[o]),o++}}return a},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var o=t._bin,a=r,s={};if(s.fmt=o.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var l=o.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,l+a)}if(1==n&&1==s.fmt){var c=o.readUshort(e,r);r+=2;var u=t._lctf.numOfOnes(c);0!=c&&(s.pos=t.GPOS.readValueRecord(e,r,c))}else if(2==n&&s.fmt>=1&&s.fmt<=2){c=o.readUshort(e,r),r+=2;var h=o.readUshort(e,r);r+=2,u=t._lctf.numOfOnes(c);var d=t._lctf.numOfOnes(h);if(1==s.fmt){s.pairsets=[];var p=o.readUshort(e,r);r+=2;for(var f=0;f<p;f++){var m=a+o.readUshort(e,r);r+=2;var v=o.readUshort(e,m);m+=2;for(var g=[],y=0;y<v;y++){var _=o.readUshort(e,m);m+=2,0!=c&&(A=t.GPOS.readValueRecord(e,m,c),m+=2*u),0!=h&&(E=t.GPOS.readValueRecord(e,m,h),m+=2*d),g.push({gid2:_,val1:A,val2:E})}s.pairsets.push(g)}}if(2==s.fmt){var b=o.readUshort(e,r);r+=2;var w=o.readUshort(e,r);r+=2;var x=o.readUshort(e,r);r+=2;var S=o.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,a+b),s.classDef2=t._lctf.readClassDef(e,a+w),s.matrix=[],f=0;f<x;f++){var k=[];for(y=0;y<S;y++){var A=null,E=null;0!=c&&(A=t.GPOS.readValueRecord(e,r,c),r+=2*u),0!=h&&(E=t.GPOS.readValueRecord(e,r,h),r+=2*d),k.push({val1:A,val2:E})}s.matrix.push(k)}}}else{if(9==n&&1==s.fmt){var C=o.readUshort(e,r);r+=2;var T=o.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=C;else if(i.ltype!=C)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,a+T)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,o=[];return o.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,o.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,o.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,o.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,o},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var o=t._bin,a=r,s={};if(s.fmt=o.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var l=o.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,a+l)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=o.readShort(e,r),r+=2;else if(2==s.fmt){var c=o.readUshort(e,r);r+=2,s.newg=o.readUshorts(e,r,c),r+=2*s.newg.length}}else if(4==n){s.vals=[],c=o.readUshort(e,r),r+=2;for(var u=0;u<c;u++){var h=o.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,a+h))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var d=o.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,a+d),s.scset=[];var p=o.readUshort(e,r);for(r+=2,u=0;u<p;u++){var f=o.readUshort(e,r);r+=2,s.scset.push(0==f?null:t.GSUB.readSubClassSet(e,a+f))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(u=0;u<3;u++){c=o.readUshort(e,r),r+=2;for(var m=[],v=0;v<c;v++)m.push(t._lctf.readCoverage(e,a+o.readUshort(e,r+2*v)));r+=2*c,0==u&&(s.backCvg=m),1==u&&(s.inptCvg=m),2==u&&(s.ahedCvg=m)}c=o.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,c)}}else{if(7==n&&1==s.fmt){var g=o.readUshort(e,r);r+=2;var y=o.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=g;else if(i.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,a+y)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,o=[],a=r(e,n);n+=2;for(var s=0;s<a;s++){var l=r(e,n);n+=2,o.push(t.GSUB.readSubClassRule(e,i+l))}return o},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},o=r(e,n),a=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<o-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,a),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,o=[],a=0;a<r;a++)o.push(i(e,n),i(e,n+2)),n+=4;return o},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readUshort(e,n);n+=2,o.push(t.GSUB.readChainSubClassRule(e,i+l))}return o},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},o=["backtrack","input","lookahead"],a=0;a<o.length;a++){var s=r.readUshort(e,n);n+=2,1==a&&s--,i[o[a]]=r.readUshorts(e,n,s),n+=2*i[o[a]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var l=r.readUshort(e,n);n+=2,o.push(t.GSUB.readLigature(e,i+l))}return o},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2;for(var a=0;a<o-1;a++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,o={};return i.readFixed(e,n),n+=4,o.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,o.flags=i.readUshort(e,n),n+=2,o.unitsPerEm=i.readUshort(e,n),n+=2,o.created=i.readUint64(e,n),n+=8,o.modified=i.readUint64(e,n),n+=8,o.xMin=i.readShort(e,n),n+=2,o.yMin=i.readShort(e,n),n+=2,o.xMax=i.readShort(e,n),n+=2,o.yMax=i.readShort(e,n),n+=2,o.macStyle=i.readUshort(e,n),n+=2,o.lowestRecPPEM=i.readUshort(e,n),n+=2,o.fontDirectionHint=i.readShort(e,n),n+=2,o.indexToLocFormat=i.readShort(e,n),n+=2,o.glyphDataFormat=i.readShort(e,n),n+=2,o},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,o={};return i.readFixed(e,n),n+=4,o.ascender=i.readShort(e,n),n+=2,o.descender=i.readShort(e,n),n+=2,o.lineGap=i.readShort(e,n),n+=2,o.advanceWidthMax=i.readUshort(e,n),n+=2,o.minLeftSideBearing=i.readShort(e,n),n+=2,o.minRightSideBearing=i.readShort(e,n),n+=2,o.xMaxExtent=i.readShort(e,n),n+=2,o.caretSlopeRise=i.readShort(e,n),n+=2,o.caretSlopeRun=i.readShort(e,n),n+=2,o.caretOffset=i.readShort(e,n),n+=2,n+=8,o.metricDataFormat=i.readShort(e,n),n+=2,o.numberOfHMetrics=i.readUshort(e,n),n+=2,o},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var o=t._bin,a={aWidth:[],lsBearing:[]},s=0,l=0,c=0;c<i.maxp.numGlyphs;c++)c<i.hhea.numberOfHMetrics&&(s=o.readUshort(e,n),n+=2,l=o.readShort(e,n),n+=2),a.aWidth.push(s),a.lsBearing.push(l);return a},t.kern={},t.kern.parse=function(e,n,r,i){var o=t._bin,a=o.readUshort(e,n);if(n+=2,1==a)return t.kern.parseV1(e,n-2,r,i);var s=o.readUshort(e,n);n+=2;for(var l={glyph1:[],rval:[]},c=0;c<s;c++){n+=2,r=o.readUshort(e,n),n+=2;var u=o.readUshort(e,n);n+=2;var h=u>>>8;if(0!=(h&=15))throw"unknown kern table format: "+h;n=t.kern.readFormat0(e,n,l)}return l},t.kern.parseV1=function(e,n,r,i){var o=t._bin;o.readFixed(e,n),n+=4;var a=o.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},l=0;l<a;l++){o.readUint(e,n),n+=4;var c=o.readUshort(e,n);n+=2,o.readUshort(e,n),n+=2;var u=c>>>8;if(0!=(u&=15))throw"unknown kern table format: "+u;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,o=-1,a=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<a;s++){var l=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var u=i.readShort(e,n);n+=2,l!=o&&(r.glyph1.push(l),r.rval.push({glyph2:[],vals:[]}));var h=r.rval[r.rval.length-1];h.glyph2.push(c),h.vals.push(u),o=l}return n},t.loca={},t.loca.parse=function(e,n,r,i){var o=t._bin,a=[],s=i.head.indexToLocFormat,l=i.maxp.numGlyphs+1;if(0==s)for(var c=0;c<l;c++)a.push(o.readUshort(e,n+(c<<1))<<1);if(1==s)for(c=0;c<l;c++)a.push(o.readUint(e,n+(c<<2)));return a},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,o={},a=i.readUint(e,n);return n+=4,o.numGlyphs=i.readUshort(e,n),n+=2,65536==a&&(o.maxPoints=i.readUshort(e,n),n+=2,o.maxContours=i.readUshort(e,n),n+=2,o.maxCompositePoints=i.readUshort(e,n),n+=2,o.maxCompositeContours=i.readUshort(e,n),n+=2,o.maxZones=i.readUshort(e,n),n+=2,o.maxTwilightPoints=i.readUshort(e,n),n+=2,o.maxStorage=i.readUshort(e,n),n+=2,o.maxFunctionDefs=i.readUshort(e,n),n+=2,o.maxInstructionDefs=i.readUshort(e,n),n+=2,o.maxStackElements=i.readUshort(e,n),n+=2,o.maxSizeOfInstructions=i.readUshort(e,n),n+=2,o.maxComponentElements=i.readUshort(e,n),n+=2,o.maxComponentDepth=i.readUshort(e,n),n+=2),o},t.name={},t.name.parse=function(e,n,r){var i=t._bin,o={};i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=n+=2,u=0;u<a;u++){var h=i.readUshort(e,n);n+=2;var d=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var g,y=l[f],_=c+12*a+v;if(0==h)g=i.readUnicode(e,_,m/2);else if(3==h&&0==d)g=i.readUnicode(e,_,m/2);else if(0==d)g=i.readASCII(e,_,m);else if(1==d)g=i.readUnicode(e,_,m/2);else if(3==d)g=i.readUnicode(e,_,m/2);else{if(1!=h)throw"unknown encoding "+d+", platformID: "+h;g=i.readASCII(e,_,m),console.debug("reading unknown MAC encoding "+d+" as ASCII")}var b="p"+h+","+p.toString(16);null==o[b]&&(o[b]={}),o[b][void 0!==y?y:f]=g,o[b]._lang=p}for(var w in o)if(null!=o[w].postScriptName&&1033==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName&&0==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName&&3084==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName)return o[w];for(var w in o){s=w;break}return console.debug("returning name table with languageID "+o[s]._lang),o[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var o={};if(0==i)t["OS/2"].version0(e,n,o);else if(1==i)t["OS/2"].version1(e,n,o);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,o);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,o)}return o},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,o={};return o.version=i.readFixed(e,n),n+=4,o.italicAngle=i.readFixed(e,n),n+=4,o.underlinePosition=i.readShort(e,n),n+=2,o.underlineThickness=i.readShort(e,n),n+=2,o},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var o=-1,a=0;a<i.endCount.length;a++)if(t<=i.endCount[a]){o=a;break}return-1==o||i.startCount[o]>t?0:65535&(0!=i.idRangeOffset[o]?i.glyphIdArray[t-i.startCount[o]+(i.idRangeOffset[o]>>1)-(i.idRangeOffset.length-o)]:t+i.idDelta[o])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(a=0;a<i.groups.length;a++){var s=i.groups[a];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},a=e.CFF,s=e.CFF.Private;if(a.ROS){for(var l=0;a.FDSelect[l+2]<=n;)l+=2;s=a.FDArray[a.FDSelect[l+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],o,a,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,o=e.endPts[r],a=i;a<=o;a++){var s=a==i?o:a-1,l=a==o?i:a+1,c=1&e.flags[a],u=1&e.flags[s],h=1&e.flags[l],d=e.xs[a],p=e.ys[a];if(a==i)if(c){if(!u){t.U.P.moveTo(n,d,p);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else u?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+d)/2,(e.ys[s]+p)/2);c?u&&t.U.P.lineTo(n,d,p):h?t.U.P.qcurveTo(n,d,p,e.xs[l],e.ys[l]):t.U.P.qcurveTo(n,d,p,(d+e.xs[l])/2,(p+e.ys[l])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var o={cmds:[],crds:[]},a=e.parts[i];t.U._drawGlyf(a.glyphIndex,n,o);for(var s=a.m,l=0;l<o.crds.length;l+=2){var c=o.crds[l],u=o.crds[l+1];r.crds.push(c*s.a+u*s.b+s.tx),r.crds.push(c*s.c+u*s.d+s.ty)}for(l=0;l<o.cmds.length;l++)r.cmds.push(o.cmds[l])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var i=!1;if(e.GPOS)for(var o=e.GPOS,a=o.lookupList,s=o.featureList,l=[],c=0;c<s.length;c++){var u=s[c];if("kern"==u.tag){i=!0;for(var h=0;h<u.tab.length;h++)if(!l[u.tab[h]]){l[u.tab[h]]=!0;for(var d=a[u.tab[h]],p=0;p<d.tabs.length;p++)if(null!=d.tabs[p]){var f,m=d.tabs[p];if(!m.coverage||-1!=(f=t._lctf.coverageIndex(m.coverage,n)))if(1==d.ltype);else if(2==d.ltype){var v=null;if(1==m.fmt){var g=m.pairsets[f];for(c=0;c<g.length;c++)g[c].gid2==r&&(v=g[c])}else if(2==m.fmt){var y=t.U._getGlyphClass(n,m.classDef1),_=t.U._getGlyphClass(r,m.classDef2);v=m.matrix[y][_]}if(v){var b=0;return v.val1&&v.val1[2]&&(b+=v.val1[2]),v.val2&&v.val2[0]&&(b+=v.val2[0]),b}}}}}}if(e.kern&&!i){var w=e.kern.glyph1.indexOf(n);if(-1!=w){var x=e.kern.rval[w].glyph2.indexOf(r);if(-1!=x)return e.kern.rval[w].vals[x]}}return 0},t.U._applySubs=function(e,n,r,i){for(var o=e.length-n-1,a=0;a<r.tabs.length;a++)if(null!=r.tabs[a]){var s,l=r.tabs[a];if(!l.coverage||-1!=(s=t._lctf.coverageIndex(l.coverage,e[n])))if(1==r.ltype)e[n],1==l.fmt?e[n]=e[n]+l.delta:e[n]=l.newg[s];else if(4==r.ltype)for(var c=l.vals[s],u=0;u<c.length;u++){var h=c[u],d=h.chain.length;if(!(d>o)){for(var p=!0,f=0,m=0;m<d;m++){for(;-1==e[n+f+(1+m)];)f++;h.chain[m]!=e[n+f+(1+m)]&&(p=!1)}if(p){for(e[n]=h.nglyph,m=0;m<d+f;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==l.fmt)for(var v=t._lctf.getInterval(l.cDef,e[n]),g=l.cDef[v+2],y=l.scset[g],_=0;_<y.length;_++){var b=y[_],w=b.input;if(!(w.length>o)){for(p=!0,m=0;m<w.length;m++){var x=t._lctf.getInterval(l.cDef,e[n+1+m]);if(-1==v&&l.cDef[x+2]!=w[m]){p=!1;break}}if(p){var S=b.substLookupRecords;for(u=0;u<S.length;u+=2)S[u],S[u+1]}}}else if(6==r.ltype&&3==l.fmt){if(!t.U._glsCovered(e,l.backCvg,n-l.backCvg.length))continue;if(!t.U._glsCovered(e,l.inptCvg,n))continue;if(!t.U._glsCovered(e,l.ahedCvg,n+l.inptCvg.length))continue;var k=l.lookupRec;for(_=0;_<k.length;_+=2){v=k[_];var A=i[k[_+1]];t.U._applySubs(e,n+v,A,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},o=0,a=0;a<n.length;a++){var s=n[a];if(-1!=s){for(var l=a<n.length-1&&-1!=n[a+1]?n[a+1]:0,c=t.U.glyphToPath(e,s),u=0;u<c.crds.length;u+=2)i.crds.push(c.crds[u]+o),i.crds.push(c.crds[u+1]);for(r&&i.cmds.push(r),u=0;u<c.cmds.length;u++)i.cmds.push(c.cmds[u]);r&&i.cmds.push("X"),o+=e.hmtx.aWidth[s],a<n.length-1&&(o+=t.U.getPairAdjustment(e,s,l))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,o,a){e.cmds.push("C"),e.crds.push(t,n,r,i,o,a)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,o){for(var a=n.stack,s=n.nStems,l=n.haveWidth,c=n.width,u=n.open,h=0,d=n.x,p=n.y,f=0,m=0,v=0,g=0,y=0,_=0,b=0,w=0,x=0,S=0,k={val:0,size:0};h<e.length;){t.CFF.getCharString(e,h,k);var A=k.val;if(h+=k.size,"o1"==A||"o18"==A)a.length%2!=0&&!l&&(c=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,l=!0;else if("o3"==A||"o23"==A)a.length%2!=0&&!l&&(c=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,l=!0;else if("o4"==A)a.length>1&&!l&&(c=a.shift()+i.nominalWidthX,l=!0),u&&t.U.P.closePath(o),p+=a.pop(),t.U.P.moveTo(o,d,p),u=!0;else if("o5"==A)for(;a.length>0;)d+=a.shift(),p+=a.shift(),t.U.P.lineTo(o,d,p);else if("o6"==A||"o7"==A)for(var E=a.length,C="o6"==A,T=0;T<E;T++){var M=a.shift();C?d+=M:p+=M,C=!C,t.U.P.lineTo(o,d,p)}else if("o8"==A||"o24"==A){E=a.length;for(var D=0;D+6<=E;)f=d+a.shift(),m=p+a.shift(),v=f+a.shift(),g=m+a.shift(),d=v+a.shift(),p=g+a.shift(),t.U.P.curveTo(o,f,m,v,g,d,p),D+=6;"o24"==A&&(d+=a.shift(),p+=a.shift(),t.U.P.lineTo(o,d,p))}else{if("o11"==A)break;if("o1234"==A||"o1235"==A||"o1236"==A||"o1237"==A)"o1234"==A&&(m=p,v=(f=d+a.shift())+a.shift(),S=g=m+a.shift(),_=g,w=p,d=(b=(y=(x=v+a.shift())+a.shift())+a.shift())+a.shift(),t.U.P.curveTo(o,f,m,v,g,x,S),t.U.P.curveTo(o,y,_,b,w,d,p)),"o1235"==A&&(f=d+a.shift(),m=p+a.shift(),v=f+a.shift(),g=m+a.shift(),x=v+a.shift(),S=g+a.shift(),y=x+a.shift(),_=S+a.shift(),b=y+a.shift(),w=_+a.shift(),d=b+a.shift(),p=w+a.shift(),a.shift(),t.U.P.curveTo(o,f,m,v,g,x,S),t.U.P.curveTo(o,y,_,b,w,d,p)),"o1236"==A&&(f=d+a.shift(),m=p+a.shift(),v=f+a.shift(),S=g=m+a.shift(),_=g,b=(y=(x=v+a.shift())+a.shift())+a.shift(),w=_+a.shift(),d=b+a.shift(),t.U.P.curveTo(o,f,m,v,g,x,S),t.U.P.curveTo(o,y,_,b,w,d,p)),"o1237"==A&&(f=d+a.shift(),m=p+a.shift(),v=f+a.shift(),g=m+a.shift(),x=v+a.shift(),S=g+a.shift(),y=x+a.shift(),_=S+a.shift(),b=y+a.shift(),w=_+a.shift(),Math.abs(b-d)>Math.abs(w-p)?d=b+a.shift():p=w+a.shift(),t.U.P.curveTo(o,f,m,v,g,x,S),t.U.P.curveTo(o,y,_,b,w,d,p));else if("o14"==A){if(a.length>0&&!l&&(c=a.shift()+r.nominalWidthX,l=!0),4==a.length){var L=a.shift(),P=a.shift(),R=a.shift(),I=a.shift(),O=t.CFF.glyphBySE(r,R),F=t.CFF.glyphBySE(r,I);t.U._drawCFF(r.CharStrings[O],n,r,i,o),n.x=L,n.y=P,t.U._drawCFF(r.CharStrings[F],n,r,i,o)}u&&(t.U.P.closePath(o),u=!1)}else if("o19"==A||"o20"==A)a.length%2!=0&&!l&&(c=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,l=!0,h+=s+7>>3;else if("o21"==A)a.length>2&&!l&&(c=a.shift()+i.nominalWidthX,l=!0),p+=a.pop(),d+=a.pop(),u&&t.U.P.closePath(o),t.U.P.moveTo(o,d,p),u=!0;else if("o22"==A)a.length>1&&!l&&(c=a.shift()+i.nominalWidthX,l=!0),d+=a.pop(),u&&t.U.P.closePath(o),t.U.P.moveTo(o,d,p),u=!0;else if("o25"==A){for(;a.length>6;)d+=a.shift(),p+=a.shift(),t.U.P.lineTo(o,d,p);f=d+a.shift(),m=p+a.shift(),v=f+a.shift(),g=m+a.shift(),d=v+a.shift(),p=g+a.shift(),t.U.P.curveTo(o,f,m,v,g,d,p)}else if("o26"==A)for(a.length%2&&(d+=a.shift());a.length>0;)f=d,m=p+a.shift(),d=v=f+a.shift(),p=(g=m+a.shift())+a.shift(),t.U.P.curveTo(o,f,m,v,g,d,p);else if("o27"==A)for(a.length%2&&(p+=a.shift());a.length>0;)m=p,v=(f=d+a.shift())+a.shift(),g=m+a.shift(),d=v+a.shift(),p=g,t.U.P.curveTo(o,f,m,v,g,d,p);else if("o10"==A||"o29"==A){var B="o10"==A?i:r;if(0==a.length)console.debug("error: empty stack");else{var N=a.pop(),j=B.Subrs[N+B.Bias];n.x=d,n.y=p,n.nStems=s,n.haveWidth=l,n.width=c,n.open=u,t.U._drawCFF(j,n,r,i,o),d=n.x,p=n.y,s=n.nStems,l=n.haveWidth,c=n.width,u=n.open}}else if("o30"==A||"o31"==A){var z=a.length,V=(D=0,"o31"==A);for(D+=z-(E=-3&z);D<E;)V?(m=p,v=(f=d+a.shift())+a.shift(),p=(g=m+a.shift())+a.shift(),E-D==5?(d=v+a.shift(),D++):d=v,V=!1):(f=d,m=p+a.shift(),v=f+a.shift(),g=m+a.shift(),d=v+a.shift(),E-D==5?(p=g+a.shift(),D++):p=g,V=!0),t.U.P.curveTo(o,f,m,v,g,d,p),D+=4}else{if("o"==(A+"").charAt(0))throw console.debug("Unknown operation: "+A,e),A;a.push(A)}}}n.x=d,n.y=p,n.nStems=s,n.haveWidth=l,n.width=c,n.open=u};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr}
/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/,function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var i=new n(31),o=0;o<31;++o)i[o]=t+=1<<e[o-1];var a=new r(i[30]);for(o=1;o<30;++o)for(var s=i[o];s<i[o+1];++s)a[s]=s-i[o]<<5|o;return[i,a]},l=s(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var h=s(o,0)[0],d=new n(32768),p=0;p<32768;++p){var f=(43690&p)>>>1|(21845&p)<<1;f=(61680&(f=(52428&f)>>>2|(13107&f)<<2))>>>4|(3855&f)<<4,d[p]=((65280&f)>>>8|(255&f)<<8)>>>1}var m=function(e,t,r){for(var i=e.length,o=0,a=new n(t);o<i;++o)++a[e[o]-1];var s,l=new n(t);for(o=0;o<t;++o)l[o]=l[o-1]+a[o-1]<<1;if(r){s=new n(1<<t);var c=15-t;for(o=0;o<i;++o)if(e[o])for(var u=o<<4|e[o],h=t-e[o],p=l[e[o]-1]++<<h,f=p|(1<<h)-1;p<=f;++p)s[d[p]>>>c]=u}else for(s=new n(i),o=0;o<i;++o)e[o]&&(s[o]=d[l[e[o]-1]++]>>>15-e[o]);return s},v=new t(288);for(p=0;p<144;++p)v[p]=8;for(p=144;p<256;++p)v[p]=9;for(p=256;p<280;++p)v[p]=7;for(p=280;p<288;++p)v[p]=8;var g=new t(32);for(p=0;p<32;++p)g[p]=5;var y=m(v,9,1),_=m(g,5,1),b=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},w=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},x=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],k=function(e,t,n){var r=new Error(t||S[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,k),!n)throw r;return r},A=function(e,s,l){var u=e.length;if(!u||l&&!l.l&&u<5)return s||new t(0);var d=!s||l,p=!l||l.i;l||(l={}),s||(s=new t(3*u));var f,v=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},g=l.f||0,S=l.p||0,A=l.b||0,E=l.l,C=l.d,T=l.m,M=l.n,D=8*u;do{if(!E){l.f=g=w(e,S,1);var L=w(e,S+1,3);if(S+=3,!L){var P=e[(H=((f=S)/8|0)+(7&f&&1)+4)-4]|e[H-3]<<8,R=H+P;if(R>u){p&&k(0);break}d&&v(A+P),s.set(e.subarray(H,R),A),l.b=A+=P,l.p=S=8*R;continue}if(1==L)E=y,C=_,T=9,M=5;else if(2==L){var I=w(e,S,31)+257,O=w(e,S+10,15)+4,F=I+w(e,S+5,31)+1;S+=14;for(var B=new t(F),N=new t(19),j=0;j<O;++j)N[a[j]]=w(e,S+3*j,7);S+=3*O;var z=b(N),V=(1<<z)-1,U=m(N,z,1);for(j=0;j<F;){var H,G=U[w(e,S,V)];if(S+=15&G,(H=G>>>4)<16)B[j++]=H;else{var q=0,W=0;for(16==H?(W=3+w(e,S,3),S+=2,q=B[j-1]):17==H?(W=3+w(e,S,7),S+=3):18==H&&(W=11+w(e,S,127),S+=7);W--;)B[j++]=q}}var Y=B.subarray(0,I),X=B.subarray(I);T=b(Y),M=b(X),E=m(Y,T,1),C=m(X,M,1)}else k(1);if(S>D){p&&k(0);break}}d&&v(A+131072);for(var Q=(1<<T)-1,K=(1<<M)-1,J=S;;J=S){var Z=(q=E[x(e,S)&Q])>>>4;if((S+=15&q)>D){p&&k(0);break}if(q||k(2),Z<256)s[A++]=Z;else{if(256==Z){J=S,E=null;break}var $=Z-254;if(Z>264){var ee=i[j=Z-257];$=w(e,S,(1<<ee)-1)+c[j],S+=ee}var te=C[x(e,S)&K],ne=te>>>4;if(te||k(3),S+=15&te,X=h[ne],ne>3&&(ee=o[ne],X+=x(e,S)&(1<<ee)-1,S+=ee),S>D){p&&k(0);break}d&&v(A+131072);for(var re=A+$;A<re;A+=4)s[A]=s[A-X],s[A+1]=s[A+1-X],s[A+2]=s[A+2-X],s[A+3]=s[A+3-X];A=re}}l.l=E,l.p=J,l.b=A,E&&(g=1,l.m=T,l.d=C,l.n=M)}while(!g);return A==s.length?s:function(e,i,o){(null==i||i<0)&&(i=0),(null==o||o>e.length)&&(o=e.length);var a=new(e instanceof n?n:e instanceof r?r:t)(o-i);return a.set(e.subarray(i,o)),a}(s,0,A)},E=new t(0),C="undefined"!=typeof TextDecoder&&new TextDecoder;try{C.decode(E,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function o(e){g.setUint16(y,e),y+=2}function a(e){g.setUint32(y,e),y+=4}for(var s={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},l=0;Math.pow(2,l)<=s.numTables;)l++;l--;for(var c=16*Math.pow(2,l),u=16*s.numTables-c,h=12,d=[],p=0;p<s.numTables;p++)d.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),h+=16;var f,m=new Uint8Array(12+16*d.length+d.reduce((function(e,t){return e+t.origLength+4}),0)),v=m.buffer,g=new DataView(v),y=0;return a(s.flavor),o(s.numTables),o(c),o(l),o(u),d.forEach((function(e){a(e.tag),a(e.origChecksum),a(h),a(e.origLength),e.outOffset=h,(h+=e.origLength)%4!=0&&(h+=4-h%4)})),d.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);n=new Uint8Array(r,2),A(n,i)}else i=new Uint8Array(r);m.set(i,t.outOffset);var o=0;(h=t.outOffset+t.origLength)%4!=0&&(o=4-h%4),m.set(new Uint8Array(o).buffer,t.outOffset+t.origLength),f=h+o})),v.slice(0,f)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let i;function o(e){if(!i){const e={R:2,L:1,D:4,C:16,U:32,T:8};i=new Map;for(let t in r){let n=0;r[t].split(",").forEach(r=>{let[o,a]=r.split("+");o=parseInt(o,36),a=a?parseInt(a,36):0,i.set(n+=o,e[t]);for(let r=a;r--;)i.set(++n,e[t])})}}return i.get(e)||32}const a=[null,"isol","init","fina","medi"];function s(e){const t=new Uint8Array(e.length);let n=32,r=1,i=-1;for(let a=0;a<e.length;a++){const s=e.codePointAt(a);let l=0|o(s),c=1;8&l||(21&n?22&l?(c=3,1!==r&&3!==r||t[i]++):33&l&&(2!==r&&4!==r||t[i]--):34&n&&(2!==r&&4!==r||t[i]--),r=t[a]=c,n=l,i=a,s>65535&&a++)}return t}function l(...e){for(let t=0;t<e.length;t++)if("number"==typeof e[t])return e[t]}function c(t){const r=Object.create(null),i=t["OS/2"],o=t.hhea,c=t.head.unitsPerEm,u=l(i&&i.sTypoAscender,o&&o.ascender,c),h={unitsPerEm:c,ascender:u,descender:l(i&&i.sTypoDescender,o&&o.descender,0),capHeight:l(i&&i.sCapHeight,u),xHeight:l(i&&i.sxHeight,u),lineGap:l(i&&i.sTypoLineGap,o&&o.lineGap),forEachGlyph(i,o,l,c){let u=0;const d=1/h.unitsPerEm*o,p=function(t,n){const r=[];for(let i=0;i<n.length;i++){const o=n.codePointAt(i);o>65535&&i++,r.push(e.U.codeToGlyph(t,o))}const i=t.GSUB;if(i){const{lookupList:t,featureList:o}=i;let l;const c=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,u=[];o.forEach(i=>{if(c.test(i.tag))for(let o=0;o<i.tab.length;o++){if(u[i.tab[o]])continue;u[i.tab[o]]=!0;const c=t[i.tab[o]],h=/^(isol|init|fina|medi)$/.test(i.tag);h&&!l&&(l=s(n));for(let n=0;n<r.length;n++)l&&h&&a[l[n]]!==i.tag||e.U._applySubs(r,n,c,t)}})}return r}(t,i);let f=0,m=-1;return p.forEach((a,s)=>{if(-1!==a){let i=r[a];if(!i){const{cmds:o,crds:s}=e.U.glyphToPath(t,a);let l,c,u,h,d="",p=0;for(let e=0,t=o.length;e<t;e++){const t=n[o[e]];d+=o[e];for(let e=1;e<=t;e++)d+=(e>1?",":"")+s[p++]}if(s.length){l=c=1/0,u=h=-1/0;for(let e=0,t=s.length;e<t;e+=2){let t=s[e],n=s[e+1];t<l&&(l=t),n<c&&(c=n),t>u&&(u=t),n>h&&(h=n)}}else l=u=c=h=0;i=r[a]={index:a,advanceWidth:t.hmtx.aWidth[a],xMin:l,yMin:c,xMax:u,yMax:h,path:d,pathCommandCount:o.length}}-1!==m&&(u+=e.U.getPairAdjustment(t,m,a)*d),c.call(null,i,u,f),i.advanceWidth&&(u+=i.advanceWidth*d),l&&(u+=l*o),m=a}f+=i.codePointAt(f)>65535?2:1}),u}};return h}return function(n){const r=new Uint8Array(n,0,4),i=e._bin.readASCII(r,0,4);if("wOFF"===i)n=t(n);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return c(e.parse(n)[0])}}],init:(e,t,n)=>n(e(),t())}),vn={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},gn=new r.Color;let yn=!1;function _n(){return(self.performance||Date).now()}const bn=Object.create(null);function wn(e,t){yn=!0,e=Sn({},e);const n=_n();if(e.font=function(e){kn||(kn="undefined"==typeof document?{}:document.createElement("a"));return kn.href=e,kn.href}(e.font||vn.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||vn.sdfGlyphSize,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=gn.set(r).getHex()),t[n]=r}e.colorRanges=t}Object.freeze(e);const{textureWidth:i,sdfExponent:o}=vn,{sdfGlyphSize:a}=e,s=i/a*4;let l=bn[a];if(!l){const e=document.createElement("canvas");e.width=i,e.height=256*a/s,l=bn[a]={glyphCount:0,sdfGlyphSize:a,sdfCanvas:e,sdfTexture:new r.Texture(e,void 0,void 0,void 0,r.LinearFilter,r.LinearFilter),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,function(e){const t=e.sdfCanvas;t.addEventListener("webglcontextlost",t=>{console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0}),t.addEventListener("webglcontextrestored",t=>{console.log("Context Restored",t),e.contextLost=!1;const n=[];e.glyphsByFont.forEach(t=>{t.forEach(t=>{n.push(xn(t,e,!0))})}),Promise.all(n).then(()=>{An(e),e.sdfTexture.needsUpdate=!0})})}(l)}const{sdfTexture:c,sdfCanvas:u}=l;let h=l.glyphsByFont.get(e.font);h||l.glyphsByFont.set(e.font,h=new Map),Cn(e).then(r=>{const{glyphIds:d,glyphPositions:p,fontSize:f,unitsPerEm:m,timings:v}=r,g=[],y=new Float32Array(4*d.length),_=f/m;let b=0,w=0;const x=_n();d.forEach((e,t)=>{let n=h.get(e);if(!n){const{path:t,pathBounds:i}=r.glyphData[e],o=Math.max(i[2]-i[0],i[3]-i[1])/a*(vn.sdfMargin*a+.5),s=l.glyphCount++,c=[i[0]-o,i[1]-o,i[2]+o,i[3]+o];h.set(e,n={path:t,atlasIndex:s,sdfViewBox:c}),g.push(n)}const{sdfViewBox:i}=n,o=p[w++],s=p[w++];y[b++]=o+i[0]*_,y[b++]=s+i[1]*_,y[b++]=o+i[2]*_,y[b++]=s+i[3]*_,d[t]=n.atlasIndex}),v.quads=(v.quads||0)+(_n()-x);const S=_n();v.sdf={};const k=u.height,A=Math.ceil(l.glyphCount/s),E=Math.pow(2,Math.ceil(Math.log2(A*a)));E>k&&(console.info(`Increasing SDF texture size ${k}->${E}`),fn(u,i,E),c.dispose()),Promise.all(g.map(t=>xn(t,l,e.gpuAccelerateSDF).then(({timing:e})=>{v.sdf[t.atlasIndex]=e}))).then(()=>{g.length&&!l.contextLost&&(An(l),c.needsUpdate=!0),v.sdfTotal=_n()-S,v.total=_n()-n,t(Object.freeze({parameters:e,sdfTexture:c,sdfGlyphSize:a,sdfExponent:o,glyphBounds:y,glyphAtlasIndices:d,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,capHeight:r.capHeight,xHeight:r.xHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings}))})}),Promise.resolve().then(()=>{var e;l.contextLost||(e=u)._warm||(on.webgl.isSupported(e),e._warm=!0)})}function xn({path:e,atlasIndex:t,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},a){if(o)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=vn,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(t/4);return function(e,t,n,r,i,o,a,s,l,c,u=!0){return u?un(e,t,n,r,i,o,a,s,l,c).then(null,u=>(an||(console.warn("WebGL SDF generation failed, falling back to JS",u),an=!0),pn(e,t,n,r,i,o,a,s,l,c))):pn(e,t,n,r,i,o,a,s,l,c)}(r,r,e,n,c,l,i,u%(s/r)*r,Math.floor(u/(s/r))*r,t%4,a)}function Sn(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}let kn;function An(e){if("function"!=typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:n}=e,{width:r,height:i}=t,o=e.sdfCanvas.getContext("webgl");let a=n.image.data;a&&a.length===r*i*4||(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,a)}}const En=Object(en.a)({name:"Typesetter",dependencies:[vn,mn,function(e,t,n){const{defaultFontURL:r}=n,i=Object.create(null),o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,a=new RegExp("[^\\S\\u00A0]|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]");function s(t,n){t||(t=r);let o=i[t];o?o.pending?o.pending.push(n):n(o):(i[t]={pending:[n]},function(t,n){!function i(){const o=e=>{console.error(`Failure loading font ${t}${t===r?"":"; trying fallback"}`,e),t!==r&&(t=r,i())};try{const r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="arraybuffer",r.onload=function(){if(r.status>=400)o(new Error(r.statusText));else if(r.status>0)try{const t=e(r.response);n(t)}catch(e){o(e)}},r.onerror=o,r.send()}catch(e){o(e)}}()}(t,e=>{let n=i[t].pending;i[t]=e,n.forEach(t=>t(e))}))}function l({text:e="",font:n=r,sdfGlyphSize:i=64,fontSize:l=1,letterSpacing:p=0,lineHeight:f="normal",maxWidth:m=1/0,direction:v,textAlign:g="left",textIndent:y=0,whiteSpace:_="normal",overflowWrap:b="normal",anchorX:w=0,anchorY:x=0,includeCaretPositions:S=!1,chunkedBoundsSize:k=8192,colorRanges:A=null},E,C=!1){const T=h(),M={fontLoad:0,typesetting:0};e.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),l=+l,p=+p,m=+m,f=f||"normal",y=+y,s(n,n=>{const r=isFinite(m);let i=null,s=null,D=null,L=null,P=null,R=null,I=null,O=0,F=0,B="nowrap"!==_;const{ascender:N,descender:j,unitsPerEm:z,lineGap:V,capHeight:U,xHeight:H}=n;M.fontLoad=h()-T;const G=h(),q=l/z;"normal"===f&&(f=(N-j+V)/z);const W=((f*=l)-(N-j)*q)/2,Y=-(N*q+W),X=Math.min(f,(N-j)*q),Q=(N+j)/2*q-X/2;let K=y,J=new d;const Z=[J];n.forEachGlyph(e,l,p,(t,n,i)=>{const s=e.charAt(i),c=t.advanceWidth*q,u=J.count;let h;if("isEmpty"in t||(t.isWhitespace=!!s&&new RegExp("[^\\S\\u00A0]").test(s),t.canBreakAfter=!!s&&a.test(s),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||o.test(s)),t.isWhitespace||t.isEmpty||F++,B&&r&&!t.isWhitespace&&n+c+K>m&&u){if(J.glyphAt(u-1).glyphObj.canBreakAfter)h=new d,K=-n;else for(let e=u;e--;){if(0===e&&"break-word"===b){h=new d,K=-n;break}if(J.glyphAt(e).glyphObj.canBreakAfter){h=J.splitAt(e+1);const t=h.glyphAt(0).x;K-=t;for(let e=h.count;e--;)h.glyphAt(e).x-=t;break}}h&&(J.isSoftWrapped=!0,J=h,Z.push(J),O=m)}let f=J.glyphAt(J.count);f.glyphObj=t,f.x=n+K,f.width=c,f.charIndex=i,"\n"===s&&(J=new d,Z.push(J),K=-(n+c+p*l)+y)}),Z.forEach(e=>{for(let t=e.count;t--;){let{glyphObj:n,x:r,width:i}=e.glyphAt(t);if(!n.isWhitespace)return e.width=r+i,void(e.width>O&&(O=e.width))}});let $=0,ee=0;if(w&&("number"==typeof w?$=-w:"string"==typeof w&&($=-O*("left"===w?0:"center"===w?.5:"right"===w?1:c(w)))),x)if("number"==typeof x)ee=-x;else if("string"==typeof x){let e=Z.length*f;ee="top"===x?0:"top-baseline"===x?-Y:"top-cap"===x?-Y-U*q:"top-ex"===x?-Y-H*q:"middle"===x?e/2:"bottom"===x?e:"bottom-baseline"===x?e-W+j*q:c(x)*e}if(!C){const r=t.getEmbeddingLevels(e,v);i=new Uint16Array(F),s=new Float32Array(2*F),D={},R=[1/0,1/0,-1/0,-1/0],I=[];let o=Y;S&&(P=new Float32Array(3*e.length)),A&&(L=new Uint8Array(3*F));let a,l,c=0,h=-1,d=-1;if(Z.forEach((p,m)=>{let{count:v,width:y}=p;if(v>0){let f=0;for(let e=v;e--&&p.glyphAt(e).glyphObj.isWhitespace;)f++;let m=0,_=0;if("center"===g)m=(O-y)/2;else if("right"===g)m=O-y;else if("justify"===g&&p.isSoftWrapped){let e=0;for(let t=v-f;t--;)p.glyphAt(t).glyphObj.isWhitespace&&e++;_=(O-y)/e}if(_||m){let e=0;for(let t=0;t<v;t++){let n=p.glyphAt(t);const r=n.glyphObj;n.x+=m+e,0!==_&&r.isWhitespace&&t<v-f&&(e+=_,n.width+=_)}}const b=t.getReorderSegments(e,r,p.glyphAt(0).charIndex,p.glyphAt(p.count-1).charIndex);for(let e=0;e<b.length;e++){const[t,n]=b[e];let r=1/0,i=-1/0;for(let e=0;e<v;e++)if(p.glyphAt(e).charIndex>=t){let t=e,o=e;for(;o<v;o++){let e=p.glyphAt(o);if(e.charIndex>n)break;o<v-f&&(r=Math.min(r,e.x),i=Math.max(i,e.x+e.width))}for(let e=t;e<o;e++){const t=p.glyphAt(e);t.x=i-(t.x+t.width-r)}break}}let w;const x=e=>w=e;for(let f=0;f<v;f++){let m=p.glyphAt(f);w=m.glyphObj;const v=w.index,g=1&r.levels[m.charIndex];if(g){const r=t.getMirroredCharacter(e[m.charIndex]);r&&n.forEachGlyph(r,0,0,x)}if(S){const{charIndex:e}=m,t=m.x+$,n=m.x+m.width+$;P[3*e]=g?n:t,P[3*e+1]=g?t:n,P[3*e+2]=o+Q+ee;const r=e-h;r>1&&u(P,h,r),h=e}if(A){const{charIndex:e}=m;for(;e>d;)d++,A.hasOwnProperty(d)&&(l=A[d])}if(!w.isWhitespace&&!w.isEmpty){const e=c++;D[v]||(D[v]={path:w.path,pathBounds:[w.xMin,w.yMin,w.xMax,w.yMax]});const t=m.x+$,n=o+ee;s[2*e]=t,s[2*e+1]=n;const r=t+w.xMin*q,u=n+w.yMin*q,h=t+w.xMax*q,d=n+w.yMax*q;r<R[0]&&(R[0]=r),u<R[1]&&(R[1]=u),h>R[2]&&(R[2]=h),d>R[3]&&(R[3]=d),e%k==0&&(a={start:e,end:e,rect:[1/0,1/0,-1/0,-1/0]},I.push(a)),a.end++;const p=a.rect;if(r<p[0]&&(p[0]=r),u<p[1]&&(p[1]=u),h>p[2]&&(p[2]=h),d>p[3]&&(p[3]=d),i[e]=v,A){const t=3*e;L[t]=l>>16&255,L[t+1]=l>>8&255,L[t+2]=255&l}}}}o-=f}),P){const t=e.length-h;t>1&&u(P,h,t)}}M.typesetting=h()-G,E({glyphIds:i,glyphPositions:s,glyphData:D,caretPositions:P,caretHeight:X,glyphColors:L,chunkedBounds:I,fontSize:l,unitsPerEm:z,ascender:N*q,descender:j*q,capHeight:U*q,xHeight:H*q,lineHeight:f,topBaseline:Y,blockBounds:[$,ee-Z.length*f,$+O,ee],visibleBounds:R,timings:M})})}function c(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function u(e,t,n){const r=e[3*t],i=e[3*t+1],o=e[3*t+2],a=(i-r)/n;for(let i=0;i<n;i++){const n=3*(t+i);e[n]=r+a*i,e[n+1]=r+a*(i+1),e[n+2]=o}}function h(){return(self.performance||Date).now()}function d(){this.data=[]}const p=["glyphObj","x","width","charIndex"];return d.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(e){let t=d.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new d;return t.data=this.data.splice(e*p.length),t}},d.flyweight=p.reduce((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*p.length+n]},set(e){this.data[this.index*p.length+n]=e}}),e),{data:null,index:0}),{typeset:l,measure:function(e,t){l(e,e=>{const[n,r,i,o]=e.blockBounds;t({width:i-n,height:o-r})},{metricsOnly:!0})},loadFont:s}},nn],init(e,t,n,r){const{defaultFontURL:i}=e;return n(t,r(),{defaultFontURL:i})}}),Cn=Object(en.a)({name:"Typesetter",dependencies:[En],init:e=>function(t){return new Promise(n=>{e.typeset(t,n)})},getTransferables(e){const t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}});const Tn={};class Mn extends r.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new r.Sphere,this.boundingBox=new r.Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===r.BackSide?t/2:0,e===r.DoubleSide?t:t/2)}set detail(e){if(e!==this._detail){this._detail=e,("number"!=typeof e||e<1)&&(e=1);let t=function(e){let t=Tn[e];if(!t){const n=new r.PlaneGeometry(1,1,e,e),i=n.clone(),o=n.attributes,a=i.attributes,s=new r.BufferGeometry,l=o.uv.count;for(let e=0;e<l;e++)a.position.array[3*e]*=-1,a.normal.array[3*e+2]*=-1;["position","normal","uv"].forEach(e=>{s.setAttribute(e,new r.Float32BufferAttribute([...o[e].array,...a[e].array],o[e].itemSize))}),s.setIndex([...n.index.array,...i.index.array.map(e=>e+l)]),s.translate(.5,.5,0),t=Tn[e]=s}return t}(e);["position","normal","uv"].forEach(e=>{this.attributes[e]=t.attributes[e].clone()}),this.setIndex(t.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,n,r,i){Dn(this,"aTroikaGlyphBounds",e,4),Dn(this,"aTroikaGlyphIndex",t,1),Dn(this,"aTroikaGlyphColor",i,3),this._blockBounds=n,this._chunkedBounds=r,this.instanceCount=t.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:i,min:o,max:a,sin:s,cos:l}=Math,c=r/2,u=2*r,h=Math.abs(t),d=e[0]/h,p=e[2]/h,f=i((d+c)/u)!==i((p+c)/u)?-h:o(s(d)*h,s(p)*h),m=i((d-c)/u)!==i((p-c)/u)?h:a(s(d)*h,s(p)*h),v=i((d+r)/u)!==i((p+r)/u)?2*h:a(h-l(d)*h,h-l(p)*h);n.min.set(f,e[1],t<0?-v:0),n.max.set(m,e[3],t<0?0:v)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute("aTroikaGlyphIndex").count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}this.instanceCount=t}}function Dn(e,t,n,i){const o=e.getAttribute(t);n?o&&o.array.length===n.length?(o.array.set(n),o.needsUpdate=!0):(e.setAttribute(t,new r.InstancedBufferAttribute(n,i)),delete e._maxInstanceCount,e.dispose()):o&&e.deleteAttribute(t)}const Ln=new r.MeshBasicMaterial({color:16777215,side:r.DoubleSide,transparent:!0}),Pn=new r.Matrix4,Rn=new r.Vector3,In=new r.Vector3,On=[],Fn=new r.Vector3;function Bn(e){return Array.isArray(e)?e[0]:e}let Nn=()=>{const e=new r.Mesh(new r.PlaneGeometry(1,1),Ln);return Nn=()=>e,e},jn=()=>{const e=new r.Mesh(new r.PlaneGeometry(1,1,32,1),Ln);return jn=()=>e,e};const zn={type:"syncstart"},Vn={type:"synccomplete"},Un=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],Hn=Un.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class Gn extends r.Mesh{constructor(){super(new Mn,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation="+x+y",this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(zn),wn({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(e=>e&&e())})),this.dispatchEvent(Vn),e&&e()})))}onBeforeRender(e,t,n,i,o,a){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o),o._hadOwnSide=o.hasOwnProperty("side"),this.geometry.setSide(o._actualSide=o.side),o.side=r.FrontSide}onAfterRender(e,t,n,r,i,o){i._hadOwnSide?i.side=i._actualSide:delete i.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let e=this._derivedMaterial;const t=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=Ln.clone());if(e&&e.baseMaterial===t||(e=this._derivedMaterial=function(e){const t=Qt(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new r.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new r.Vector4(0,0,0,0)},uTroikaClipRect:{value:new r.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new r.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new r.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new r.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(Vt,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let t=e._outlineMtl;return t||(t=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),t.isTextOutlineMaterial=!0,t.depthWrite=!1,t.map=null,e.addEventListener("dispose",(function n(){e.removeEventListener("dispose",n),t.dispose()}))),[t,e]}return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Bn(this.material).getDepthMaterial()}get customDistanceMaterial(){return Bn(this.material).getDistanceMaterial()}_prepareForRender(e){const t=e.isTextOutlineMaterial,n=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:e,blockBounds:r}=i;n.uTroikaSDFTexture.value=e,n.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),n.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,n.uTroikaSDFExponent.value=i.sdfExponent,n.uTroikaTotalBounds.value.fromArray(r),n.uTroikaUseGlyphColors.value=!t&&!!i.glyphColors;let o,a,s,l=0,c=0,u=0,h=0,d=0;if(t){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:n,outlineBlur:r,outlineOpacity:i}=this;l=this._parsePercent(e)||0,c=Math.max(0,this._parsePercent(r)||0),o=i,h=this._parsePercent(t)||0,d=this._parsePercent(n)||0}else u=Math.max(0,this._parsePercent(this.strokeWidth)||0),u&&(s=this.strokeColor,n.uTroikaStrokeColor.value.set(null==s?8421504:s),a=this.strokeOpacity,null==a&&(a=1)),o=this.fillOpacity;n.uTroikaDistanceOffset.value=l,n.uTroikaPositionOffset.value.set(h,d),n.uTroikaBlurRadius.value=c,n.uTroikaStrokeWidth.value=u,n.uTroikaStrokeOpacity.value=a,n.uTroikaFillOpacity.value=null==o?1:o,n.uTroikaCurveRadius.value=this.curveRadius||0;let p=this.clipRect;if(p&&Array.isArray(p)&&4===p.length)n.uTroikaClipRect.value.fromArray(p);else{const e=100*(this.fontSize||.1);n.uTroikaClipRect.value.set(r[0]-e,r[1]-e,r[2]+e,r[3]+e)}this.geometry.applyClipRect(n.uTroikaClipRect.value)}n.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=t?this.outlineColor||0:this.color;if(null==o)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new r.Color;o===t._input&&"object"!=typeof o||t.set(t._input=o)}let a=this.orientation||"+x+y";if(a!==e._orientation){let t=n.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let r="+x+y"!==a&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(r){let[,e,n,i,o]=r;Rn.set(0,0,0)[n]="-"===e?1:-1,In.set(0,0,0)[o]="-"===i?-1:1,Pn.lookAt(Fn,Rn.cross(In),In),t.setFromMatrix4(Pn)}else t.identity();e._orientation=a}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new r.Vector2){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new r.Vector2){return Rn.copy(e),this.localPositionToTextCoords(this.worldToLocal(Rn),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const i=n.blockBounds,o=r?jn():Nn(),a=o.geometry,{position:s,uv:l}=a.attributes;for(let e=0;e<l.count;e++){let t=i[0]+l.getX(e)*(i[2]-i[0]);const n=i[1]+l.getY(e)*(i[3]-i[1]);let o=0;r&&(o=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),s.setXYZ(e,t,n,o)}a.boundingSphere=this.geometry.boundingSphere,a.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,On.length=0,o.raycast(e,On);for(let e=0;e<On.length;e++)On[e].object=this,t.push(On[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,Hn.forEach(t=>{this[t]=e[t]}),this}clone(){return(new this.constructor).copy(this)}}Un.forEach(e=>{const t="_private_"+e;Object.defineProperty(Gn.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})});new WeakMap;new WeakMap;var qn=class{static lerpSingle(e,t,n){return e+(t-e)*n}static sineBetween(e,t,n){return((t-e)*Math.sin(n)+t+e)/2}static clamp(e,t,n){return Math.min(Math.max(e,t),n)}static getRandom(e,t){return Math.random()*(t-e)+e}},Wn=n(154);class Yn{constructor(e){this.loaded=!1,this.pages=e}setParams(e){this.scrollState=0,this.zDepth=-14;let t=e.position.z-this.zDepth,n=e.fov*Math.PI/180;this.aspect=window.innerWidth/window.innerHeight,this.planeHeightAtDistance=2*Math.tan(n/2)*t,this.planeWidthAtDistance=this.planeHeightAtDistance*this.aspect,this.repeatModifer=window.innerWidth>768?30:5,this.repeatAmount=this.planeWidthAtDistance/this.repeatModifer}returnFontPerLocale(e){switch(e){case"ja_JP":return"/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/fonts/Noto-Sans-JP/NotoSansJP-Light.woff";case"ko_KR":return"/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/fonts/Noto-Sans-KR/NotoSansKR-Light.woff";default:return"/etc.clientlibs/rrmc/clientlibs/clientlib-components/resources/fonts/riviera-nights/RivieraNights-Light/RivieraNights-Light.woff"}}init(e,t,n){this.setParams(n);let i=this;const o=this.returnFontPerLocale(Object(Wn.getActiveLocale)());this.myText=new Gn;const a=document.getElementById("SOEcanvasRoot"),s=new r.Color(a.dataset.textcolor),l=new r.Color(a.dataset.backgroundcolour);return this.myText.text=a.dataset.text,this.myText.font=o,this.myText.fontSize=qn.clamp(window.innerWidth/960,1.2,2),this.myText.textScale=1,this.myText.lineHeight=1.152,this.myText.letterSpacing=.072,this.myText.maxWidth=.875*this.planeWidthAtDistance,this.myText.color={r:0,g:0,b:0},this.myText.bgColor={r:l.r,g:l.g,b:l.b},this.myText.rawColor=a.dataset.textcolor,this.myText.textAlign="center",this.myText.strokeColor=0,this.myText.strokeWidth=0,this.myText.material=Qt(new r.MeshStandardMaterial({roughness:.5,metalness:.5,side:r.DoubleSide,color:15461355}),{timeUniform:"elapsed",uniforms:{screenHeight:{type:"f",value:window.innerHeight},screenMargin:{type:"f",value:.264*window.innerHeight},fadeStrength:{type:"f",value:1.15},textColour:{type:"v3",value:new r.Vector3(s.r,s.g,s.b)},bgColor:{type:"v3",value:new r.Vector3(l.r,l.g,l.b)}},fragmentDefs:"\n         uniform float screenHeight;\n         uniform float screenMargin;\n         uniform float fadeStrength;\n         uniform vec3 textColour;\n         uniform vec3 bgColor;\n        ",fragmentMainOutro:"\n            float colourMod = 1.0;\n          if(gl_FragCoord.y<screenMargin) {\n          \n            float valueModifier = colourMod*(pow(gl_FragCoord.y/screenMargin, fadeStrength));\n            //gl_FragColor = vec4(textColour.x*valueModifier, textColour.y*valueModifier, textColour.z*valueModifier, textColour.z*valueModifier);\n            //gl_FragColor = vec4(textColour.x*colourMod, textColour.y*colourMod, textColour.z*colourMod, valueModifier);\n          //gl_FragColor = vec4(textColour.x, textColour.y, textColour.z, valueModifier);\n            gl_FragColor = mix(vec4(textColour.x, textColour.y, textColour.z, 1.0), vec4(bgColor.x, bgColor.y, bgColor.z, 1.0), 1.0-valueModifier);\n            \n          } else if(gl_FragCoord.y>(screenHeight-screenMargin)) {\n          \n            float valueModifier = colourMod*(pow((1.0-((gl_FragCoord.y-(screenHeight-screenMargin))/screenMargin)), fadeStrength));\n            //gl_FragColor = vec4(textColour.x*valueModifier, textColour.y*valueModifier, textColour.z*valueModifier, textColour.z*valueModifier);\n            //gl_FragColor = vec4(textColour.x*colourMod, textColour.y*colourMod, textColour.z*colourMod, valueModifier);\n          //gl_FragColor = vec4(textColour.x, textColour.y, textColour.z, valueModifier);\n            gl_FragColor = mix(vec4(textColour.x, textColour.y, textColour.z, 1.0), vec4(bgColor.x, bgColor.y, bgColor.z, 1.0), 1.0-valueModifier);\n            \n          } else {\n            //gl_FragColor = vec4(textColour.x*colourMod, textColour.y*colourMod, textColour.z*colourMod, colourMod);\n            gl_FragColor = vec4(textColour.x, textColour.y, textColour.z, colourMod);\n          }\n        "}),this.myText.material.color=new r.Color(0),this.myText.textIndent=0,this.myText.anchorX="center",this.myText.anchorY="top",this.myText.fillOpacity=1,this.myText.strokeOpacity=1,this.myText.outlineWidth=0,this.myText.outlineOffsetX=0,this.myText.outlineOffsetY=0,this.myText.outlineOpacity=1,this.myText.selectable=!1,this.myText.debugSDF=!1,this.myText.position.set(0,-this.planeHeightAtDistance/2,-14),this.myText.material.transparent=!1,this.myText.material.blending=r.CustomBlending,this.myText.sync(()=>{i.meshHeight=Math.abs(this.myText.textRenderInfo.blockBounds[1]);const t=i.meshHeight/i.pages;i.meshHeight+=t,i.meshHeight+=2*t,i.myText.outlineBlur=.01065,i.loaded=!0,e.add(this.myText)}),this.myText}killGUI(){}update(e,t){this.loaded&&(this.scrollState=qn.lerpSingle(this.myText.position.y,this.meshHeight*t-this.planeHeightAtDistance/2,.1),this.myText.position.set(0,this.scrollState,-14))}}ye.workaroundEnabled=!0,r.ColorManagement.legacyMode=!1;let Xn,Qn=0,Kn=0,Jn=!1;async function Zn(){const e=document.getElementById("SOEcanvasRoot"),t=e.dataset.backgroundcolour,n=3*window.innerHeight;e.style.height="300vh",e.style.background="#000000";const i=new r.Scene;i.background=new r.Color(t);const o=new r.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3);o.position.set(0,0,40),o.setFocalLength(105);const a=new r.WebGLRenderer({powerPreference:"high-performance",antialias:!1,stencil:!1});a.outputEncoding=r.sRGBEncoding;const s=a.domElement;s.style.position="sticky",s.style.top=0,e.appendChild(s);const l=new r.TextureLoader,[h]=await Promise.all([new Promise(e=>l.load("/content/dam/rrmc/marketUK/common/3d-assets/dancing_hall_1k.jpg/jcr:content/renditions/original",e))]);i.environment=h,i.environment.mapping=r.EquirectangularReflectionMapping;const d=new Ve;i.add(d.directionalLight(i,"#d25b5b",100,new r.Vector3(2.2,6.5,2.5),new r.Vector3(-1,-3,-6))),i.add(d.directionalLight(i,"#73ce73",100,new r.Vector3(0,6.5,2.5),new r.Vector3(0,-3,-6))),i.add(d.directionalLight(i,"#7f7fd2",100,new r.Vector3(-2.2,6.5,2.5),new r.Vector3(1,-3,-6)));const p=new zt;i.add(await p.init(null));const f=new Yn(3);Xn=f.init(i,null,o,!0);const v=new Pe({blendFunction:j,saturation:.36,hue:0}),g=new Le(m),y=new De({brightness:-.057,contrast:.14,blendFunction:j}),_=new xe(o,g,y,v),b=new class{constructor(e=null,{depthBuffer:t=!0,stencilBuffer:n=!1,multisampling:r=0,frameBufferType:i}={}){this.renderer=null,this.inputBuffer=this.createBuffer(t,n,i,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new pe,this.depthTexture=null,this.passes=[],this.timer=new class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(e){"undefined"!=typeof document&&void 0!==document.hidden&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=e)}get delta(){return.001*this._delta}get fixedDelta(){return.001*this._fixedDelta}set fixedDelta(e){this._fixedDelta=1e3*e}get elapsed(){return.001*this._elapsed}update(e){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(void 0!==e?e:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}handleEvent(e){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},this.autoRenderToScreen=!0,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){const t=this.inputBuffer,n=this.multisampling;n>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){if(this.renderer=e,null!==e){const t=e.getSize(new r.Vector2),n=e.getContext().getContextAttributes().alpha,i=this.inputBuffer.texture.type;i===r.UnsignedByteType&&"srgb"===c(e)&&(u(this.inputBuffer.texture,"srgb"),u(this.outputBuffer.texture,"srgb"),this.inputBuffer.dispose(),this.outputBuffer.dispose()),e.autoClear=!1,this.setSize(t.width,t.height);for(const t of this.passes)t.initialize(e,n,i)}}replaceRenderer(e,t=!0){const n=this.renderer,r=n.domElement.parentNode;return this.setRenderer(e),t&&null!==r&&(r.removeChild(n.domElement),r.appendChild(e.domElement)),n}createDepthTexture(){const e=this.depthTexture=new r.DepthTexture;return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=r.DepthStencilFormat,e.type=r.UnsignedInt248Type):e.type=r.UnsignedIntType,e}deleteDepthTexture(){if(null!==this.depthTexture){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,n,i){const o=this.renderer,a=null===o?new r.Vector2:o.getDrawingBufferSize(new r.Vector2),s={minFilter:r.LinearFilter,magFilter:r.LinearFilter,stencilBuffer:t,depthBuffer:e,type:n},l=new r.WebGLRenderTarget(a.width,a.height,s);return i>0&&(l.ignoreDepthForMultisampleCopy=!1,l.samples=i),n===r.UnsignedByteType&&"srgb"===c(o)&&u(l.texture,"srgb"),l.texture.name="EffectComposer.Buffer",l.texture.generateMipmaps=!1,l}setMainScene(e){for(const t of this.passes)t.mainScene=e}setMainCamera(e){for(const t of this.passes)t.mainCamera=e}addPass(e,t){const n=this.passes,i=this.renderer,o=i.getDrawingBufferSize(new r.Vector2),a=i.getContext().getContextAttributes().alpha,s=this.inputBuffer.texture.type;if(e.setRenderer(i),e.setSize(o.width,o.height),e.initialize(i,a,s),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),void 0!==t?n.splice(t,0,e):n.push(e),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),e.needsDepthTexture||null!==this.depthTexture)if(null===this.depthTexture){const t=this.createDepthTexture();for(e of n)e.setDepthTexture(t)}else e.setDepthTexture(this.depthTexture)}removePass(e){const t=this.passes,n=t.indexOf(e);if(-1!==n&&t.splice(n,1).length>0){if(null!==this.depthTexture){const n=(e,t)=>e||t.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){const e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){const t=this.renderer,n=this.copyPass;let r,i,o,a=this.inputBuffer,s=this.outputBuffer,l=!1;void 0===e&&(this.timer.update(),e=this.timer.delta);for(const c of this.passes)c.enabled&&(c.render(t,a,s,e,l),c.needsSwap&&(l&&(n.renderToScreen=c.renderToScreen,r=t.getContext(),i=t.state.buffers.stencil,i.setFunc(r.NOTEQUAL,1,4294967295),n.render(t,a,s,e,l),i.setFunc(r.EQUAL,1,4294967295)),o=a,a=s,s=o),c instanceof Se?l=!0:c instanceof fe&&(l=!1))}setSize(e,t,n){const i=this.renderer,o=i.getSize(new r.Vector2);void 0!==e&&void 0!==t||(e=o.width,t=o.height),o.width===e&&o.height===t||i.setSize(e,t,n);const a=i.getDrawingBufferSize(new r.Vector2);this.inputBuffer.setSize(a.width,a.height),this.outputBuffer.setSize(a.width,a.height);for(const e of this.passes)e.setSize(a.width,a.height)}reset(){const e=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=e}dispose(){for(const e of this.passes)e.dispose();this.passes=[],null!==this.inputBuffer&&this.inputBuffer.dispose(),null!==this.outputBuffer&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}}(a);function w(){var t;Qn=(t=e,{top:t.getBoundingClientRect().top}).top,Qn>-n&&Qn<window.innerHeight?(Jn=!0,Kn=Math.abs(Math.min(0,Qn/n))):Jn=!1,p&&p.reset(Jn)}function x(){const e=Math.min(document.documentElement.clientWidth||0,window.innerWidth||0),t=Math.min(document.documentElement.clientHeight||0,window.innerHeight||0);o.aspect=e/t,o.updateProjectionMatrix(),o.setFocalLength(105),a.setSize(e,t),a.setPixelRatio(1),b.setSize(e,t)}b.addPass(new _e(i,o)),b.addPass(_),b.render(),function e(){requestAnimationFrame(e),Jn&&(p&&p.update(Qn,Kn),f.update(Qn,Kn),b.render())}(),w(),window.addEventListener("scroll",()=>{w()},{passive:!0}),window.addEventListener("resize",(function(){x(),f.killGUI(),i.remove(Xn),Xn=f.init(i,null,o)})),x()}document.addEventListenerRR("DOMContentLoaded",()=>{document.getElementById("SOEcanvasRoot")&&Zn()})}]);
